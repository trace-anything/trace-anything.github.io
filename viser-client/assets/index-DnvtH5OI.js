function WV(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const a=Object.getOwnPropertyDescriptor(i,r);a&&Object.defineProperty(t,r,a.get?a:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();var Nm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function tie(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var r=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return t[i]}})}),n}var qV={exports:{}},sT={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nie=Symbol.for("react.transitional.element"),iie=Symbol.for("react.fragment");function XV(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var r in e)r!=="key"&&(n[r]=e[r])}else n=e;return e=n.ref,{$$typeof:nie,type:t,key:i,ref:e!==void 0?e:null,props:n}}sT.Fragment=iie;sT.jsx=XV;sT.jsxs=XV;qV.exports=sT;var C=qV.exports;const rie=mc(C),aie=WV({__proto__:null,default:rie},[C]);var KV={exports:{}},oT={},YV={exports:{}},JV={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,F){var q=U.length;U.push(F);e:for(;0<q;){var X=q-1>>>1,z=U[X];if(0<r(z,F))U[X]=F,U[q]=z,q=X;else break e}}function n(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var F=U[0],q=U.pop();if(q!==F){U[0]=q;e:for(var X=0,z=U.length,oe=z>>>1;X<oe;){var fe=2*(X+1)-1,K=U[fe],Me=fe+1,_e=U[Me];if(0>r(K,q))Me<z&&0>r(_e,K)?(U[X]=_e,U[Me]=q,X=Me):(U[X]=K,U[fe]=q,X=fe);else if(Me<z&&0>r(_e,q))U[X]=_e,U[Me]=q,X=Me;else break e}}return F}function r(U,F){var q=U.sortIndex-F.sortIndex;return q!==0?q:U.id-F.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,f=null,h=3,d=!1,b=!1,y=!1,v=!1,m=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function E(U){for(var F=n(c);F!==null;){if(F.callback===null)i(c);else if(F.startTime<=U)i(c),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(c)}}function A(U){if(y=!1,E(U),!b)if(n(l)!==null)b=!0,w||(w=!0,B());else{var F=n(c);F!==null&&V(A,F.startTime-U)}}var w=!1,T=-1,k=5,N=-1;function D(){return v?!0:!(t.unstable_now()-N<k)}function P(){if(v=!1,w){var U=t.unstable_now();N=U;var F=!0;try{e:{b=!1,y&&(y=!1,x(T),T=-1),d=!0;var q=h;try{t:{for(E(U),f=n(l);f!==null&&!(f.expirationTime>U&&D());){var X=f.callback;if(typeof X=="function"){f.callback=null,h=f.priorityLevel;var z=X(f.expirationTime<=U);if(U=t.unstable_now(),typeof z=="function"){f.callback=z,E(U),F=!0;break t}f===n(l)&&i(l),E(U)}else i(l);f=n(l)}if(f!==null)F=!0;else{var oe=n(c);oe!==null&&V(A,oe.startTime-U),F=!1}}break e}finally{f=null,h=q,d=!1}F=void 0}}finally{F?B():w=!1}}}var B;if(typeof _=="function")B=function(){_(P)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,H=G.port2;G.port1.onmessage=P,B=function(){H.postMessage(null)}}else B=function(){m(P,0)};function V(U,F){T=m(function(){U(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(U){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var q=h;h=F;try{return U()}finally{h=q}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(U,F){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var q=h;h=U;try{return F()}finally{h=q}},t.unstable_scheduleCallback=function(U,F,q){var X=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?X+q:X):q=X,U){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=q+z,U={id:u++,callback:F,priorityLevel:U,startTime:q,expirationTime:z,sortIndex:-1},q>X?(U.sortIndex=q,e(c,U),n(l)===null&&U===n(c)&&(y?(x(T),T=-1):y=!0,V(A,q-X))):(U.sortIndex=z,e(l,U),b||d||(b=!0,w||(w=!0,B()))),U},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(U){var F=h;return function(){var q=h;h=F;try{return U.apply(this,arguments)}finally{h=q}}}})(JV);YV.exports=JV;var sie=YV.exports,$V={exports:{}},ri={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EI=Symbol.for("react.transitional.element"),oie=Symbol.for("react.portal"),lie=Symbol.for("react.fragment"),cie=Symbol.for("react.strict_mode"),uie=Symbol.for("react.profiler"),fie=Symbol.for("react.consumer"),hie=Symbol.for("react.context"),die=Symbol.for("react.forward_ref"),pie=Symbol.for("react.suspense"),mie=Symbol.for("react.memo"),ZV=Symbol.for("react.lazy"),e4=Symbol.iterator;function gie(t){return t===null||typeof t!="object"?null:(t=e4&&t[e4]||t["@@iterator"],typeof t=="function"?t:null)}var QV={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},eG=Object.assign,tG={};function py(t,e,n){this.props=t,this.context=e,this.refs=tG,this.updater=n||QV}py.prototype.isReactComponent={};py.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};py.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function nG(){}nG.prototype=py.prototype;function MI(t,e,n){this.props=t,this.context=e,this.refs=tG,this.updater=n||QV}var AI=MI.prototype=new nG;AI.constructor=MI;eG(AI,py.prototype);AI.isPureReactComponent=!0;var t4=Array.isArray,Br={H:null,A:null,T:null,S:null,V:null},iG=Object.prototype.hasOwnProperty;function TI(t,e,n,i,r,a){return n=a.ref,{$$typeof:EI,type:t,key:e,ref:n!==void 0?n:null,props:a}}function bie(t,e){return TI(t.type,e,void 0,void 0,void 0,t.props)}function CI(t){return typeof t=="object"&&t!==null&&t.$$typeof===EI}function yie(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var n4=/\/+/g;function xR(t,e){return typeof t=="object"&&t!==null&&t.key!=null?yie(""+t.key):e.toString(36)}function i4(){}function vie(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(i4,i4):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function kb(t,e,n,i,r){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"bigint":case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case EI:case oie:s=!0;break;case ZV:return s=t._init,kb(s(t._payload),e,n,i,r)}}if(s)return r=r(t),s=i===""?"."+xR(t,0):i,t4(r)?(n="",s!=null&&(n=s.replace(n4,"$&/")+"/"),kb(r,e,n,"",function(c){return c})):r!=null&&(CI(r)&&(r=bie(r,n+(r.key==null||t&&t.key===r.key?"":(""+r.key).replace(n4,"$&/")+"/")+s)),e.push(r)),1;s=0;var o=i===""?".":i+":";if(t4(t))for(var l=0;l<t.length;l++)i=t[l],a=o+xR(i,l),s+=kb(i,e,n,a,r);else if(l=gie(t),typeof l=="function")for(t=l.call(t),l=0;!(i=t.next()).done;)i=i.value,a=o+xR(i,l++),s+=kb(i,e,n,a,r);else if(a==="object"){if(typeof t.then=="function")return kb(vie(t),e,n,i,r);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return s}function yS(t,e,n){if(t==null)return t;var i=[],r=0;return kb(t,i,"","",function(a){return e.call(n,a,r++)}),i}function xie(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var r4=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function _ie(){}ri.Children={map:yS,forEach:function(t,e,n){yS(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return yS(t,function(){e++}),e},toArray:function(t){return yS(t,function(e){return e})||[]},only:function(t){if(!CI(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ri.Component=py;ri.Fragment=lie;ri.Profiler=uie;ri.PureComponent=MI;ri.StrictMode=cie;ri.Suspense=pie;ri.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Br;ri.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Br.H.useMemoCache(t)}};ri.cache=function(t){return function(){return t.apply(null,arguments)}};ri.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=eG({},t.props),r=t.key,a=void 0;if(e!=null)for(s in e.ref!==void 0&&(a=void 0),e.key!==void 0&&(r=""+e.key),e)!iG.call(e,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&e.ref===void 0||(i[s]=e[s]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];i.children=o}return TI(t.type,r,void 0,void 0,a,i)};ri.createContext=function(t){return t={$$typeof:hie,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:fie,_context:t},t};ri.createElement=function(t,e,n){var i,r={},a=null;if(e!=null)for(i in e.key!==void 0&&(a=""+e.key),e)iG.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(r[i]=e[i]);var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];r.children=o}if(t&&t.defaultProps)for(i in s=t.defaultProps,s)r[i]===void 0&&(r[i]=s[i]);return TI(t,a,void 0,void 0,null,r)};ri.createRef=function(){return{current:null}};ri.forwardRef=function(t){return{$$typeof:die,render:t}};ri.isValidElement=CI;ri.lazy=function(t){return{$$typeof:ZV,_payload:{_status:-1,_result:t},_init:xie}};ri.memo=function(t,e){return{$$typeof:mie,type:t,compare:e===void 0?null:e}};ri.startTransition=function(t){var e=Br.T,n={};Br.T=n;try{var i=t(),r=Br.S;r!==null&&r(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(_ie,r4)}catch(a){r4(a)}finally{Br.T=e}};ri.unstable_useCacheRefresh=function(){return Br.H.useCacheRefresh()};ri.use=function(t){return Br.H.use(t)};ri.useActionState=function(t,e,n){return Br.H.useActionState(t,e,n)};ri.useCallback=function(t,e){return Br.H.useCallback(t,e)};ri.useContext=function(t){return Br.H.useContext(t)};ri.useDebugValue=function(){};ri.useDeferredValue=function(t,e){return Br.H.useDeferredValue(t,e)};ri.useEffect=function(t,e,n){var i=Br.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(t,e)};ri.useId=function(){return Br.H.useId()};ri.useImperativeHandle=function(t,e,n){return Br.H.useImperativeHandle(t,e,n)};ri.useInsertionEffect=function(t,e){return Br.H.useInsertionEffect(t,e)};ri.useLayoutEffect=function(t,e){return Br.H.useLayoutEffect(t,e)};ri.useMemo=function(t,e){return Br.H.useMemo(t,e)};ri.useOptimistic=function(t,e){return Br.H.useOptimistic(t,e)};ri.useReducer=function(t,e,n){return Br.H.useReducer(t,e,n)};ri.useRef=function(t){return Br.H.useRef(t)};ri.useState=function(t){return Br.H.useState(t)};ri.useSyncExternalStore=function(t,e,n){return Br.H.useSyncExternalStore(t,e,n)};ri.useTransition=function(){return Br.H.useTransition()};ri.version="19.1.1";$V.exports=ri;var I=$V.exports;const ke=mc(I),Sie=WV({__proto__:null,default:ke},[I]);var rG={exports:{}},po={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wie=I;function aG(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Uh(){}var co={d:{f:Uh,r:function(){throw Error(aG(522))},D:Uh,C:Uh,L:Uh,m:Uh,X:Uh,S:Uh,M:Uh},p:0,findDOMNode:null},Eie=Symbol.for("react.portal");function Mie(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Eie,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var Ex=wie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function lT(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}po.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=co;po.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(aG(299));return Mie(t,e,null,n)};po.flushSync=function(t){var e=Ex.T,n=co.p;try{if(Ex.T=null,co.p=2,t)return t()}finally{Ex.T=e,co.p=n,co.d.f()}};po.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,co.d.C(t,e))};po.prefetchDNS=function(t){typeof t=="string"&&co.d.D(t)};po.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=lT(n,e.crossOrigin),r=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?co.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:a}):n==="script"&&co.d.X(t,{crossOrigin:i,integrity:r,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};po.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=lT(e.as,e.crossOrigin);co.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&co.d.M(t)};po.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=lT(n,e.crossOrigin);co.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};po.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=lT(e.as,e.crossOrigin);co.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else co.d.m(t)};po.requestFormReset=function(t){co.d.r(t)};po.unstable_batchedUpdates=function(t,e){return t(e)};po.useFormState=function(t,e,n){return Ex.H.useFormState(t,e,n)};po.useFormStatus=function(){return Ex.H.useHostTransitionStatus()};po.version="19.1.1";function sG(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sG)}catch(t){console.error(t)}}sG(),rG.exports=po;var q1=rG.exports;const lx=mc(q1);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ia=sie,oG=I,Aie=q1;function Rt(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function lG(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function X1(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function cG(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function a4(t){if(X1(t)!==t)throw Error(Rt(188))}function Tie(t){var e=t.alternate;if(!e){if(e=X1(t),e===null)throw Error(Rt(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var a=r.alternate;if(a===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return a4(r),t;if(a===i)return a4(r),e;a=a.sibling}throw Error(Rt(188))}if(n.return!==i.return)n=r,i=a;else{for(var s=!1,o=r.child;o;){if(o===n){s=!0,n=r,i=a;break}if(o===i){s=!0,i=r,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,i=r;break}if(o===i){s=!0,i=a,n=r;break}o=o.sibling}if(!s)throw Error(Rt(189))}}if(n.alternate!==i)throw Error(Rt(190))}if(n.tag!==3)throw Error(Rt(188));return n.stateNode.current===n?t:e}function uG(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=uG(t),e!==null)return e;t=t.sibling}return null}var Lr=Object.assign,Cie=Symbol.for("react.element"),vS=Symbol.for("react.transitional.element"),cx=Symbol.for("react.portal"),zb=Symbol.for("react.fragment"),fG=Symbol.for("react.strict_mode"),G8=Symbol.for("react.profiler"),Rie=Symbol.for("react.provider"),hG=Symbol.for("react.consumer"),Ff=Symbol.for("react.context"),RI=Symbol.for("react.forward_ref"),W8=Symbol.for("react.suspense"),q8=Symbol.for("react.suspense_list"),kI=Symbol.for("react.memo"),ed=Symbol.for("react.lazy"),X8=Symbol.for("react.activity"),kie=Symbol.for("react.memo_cache_sentinel"),s4=Symbol.iterator;function gv(t){return t===null||typeof t!="object"?null:(t=s4&&t[s4]||t["@@iterator"],typeof t=="function"?t:null)}var Die=Symbol.for("react.client.reference");function K8(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Die?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case zb:return"Fragment";case G8:return"Profiler";case fG:return"StrictMode";case W8:return"Suspense";case q8:return"SuspenseList";case X8:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case cx:return"Portal";case Ff:return(t.displayName||"Context")+".Provider";case hG:return(t._context.displayName||"Context")+".Consumer";case RI:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case kI:return e=t.displayName||null,e!==null?e:K8(t.type)||"Memo";case ed:e=t._payload,t=t._init;try{return K8(t(e))}catch{}}return null}var ux=Array.isArray,Nn=oG.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Wi=Aie.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mm={pending:!1,data:null,method:null,action:null},Y8=[],jb=-1;function ef(t){return{current:t}}function Ya(t){0>jb||(t.current=Y8[jb],Y8[jb]=null,jb--)}function Hr(t,e){jb++,Y8[jb]=t.current,t.current=e}var ju=ef(null),r1=ef(null),xd=ef(null),tM=ef(null);function nM(t,e){switch(Hr(xd,e),Hr(r1,t),Hr(ju,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?fF(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=fF(e),t=RW(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Ya(ju),Hr(ju,t)}function T0(){Ya(ju),Ya(r1),Ya(xd)}function J8(t){t.memoizedState!==null&&Hr(tM,t);var e=ju.current,n=RW(e,t.type);e!==n&&(Hr(r1,t),Hr(ju,n))}function iM(t){r1.current===t&&(Ya(ju),Ya(r1)),tM.current===t&&(Ya(tM),p1._currentValue=mm)}var $8=Object.prototype.hasOwnProperty,DI=Ia.unstable_scheduleCallback,_R=Ia.unstable_cancelCallback,Nie=Ia.unstable_shouldYield,Iie=Ia.unstable_requestPaint,Bu=Ia.unstable_now,Oie=Ia.unstable_getCurrentPriorityLevel,dG=Ia.unstable_ImmediatePriority,pG=Ia.unstable_UserBlockingPriority,rM=Ia.unstable_NormalPriority,Lie=Ia.unstable_LowPriority,mG=Ia.unstable_IdlePriority,Pie=Ia.log,Uie=Ia.unstable_setDisableYieldValue,K1=null,cl=null;function dd(t){if(typeof Pie=="function"&&Uie(t),cl&&typeof cl.setStrictMode=="function")try{cl.setStrictMode(K1,t)}catch{}}var ul=Math.clz32?Math.clz32:jie,Fie=Math.log,zie=Math.LN2;function jie(t){return t>>>=0,t===0?32:31-(Fie(t)/zie|0)|0}var xS=256,_S=4194304;function jp(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function cT(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var r=0,a=t.suspendedLanes,s=t.pingedLanes;t=t.warmLanes;var o=i&134217727;return o!==0?(i=o&~a,i!==0?r=jp(i):(s&=o,s!==0?r=jp(s):n||(n=o&~t,n!==0&&(r=jp(n))))):(o=i&~a,o!==0?r=jp(o):s!==0?r=jp(s):n||(n=i&~t,n!==0&&(r=jp(n)))),r===0?0:e!==0&&e!==r&&!(e&a)&&(a=r&-r,n=e&-e,a>=n||a===32&&(n&4194048)!==0)?e:r}function Y1(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Bie(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gG(){var t=xS;return xS<<=1,!(xS&4194048)&&(xS=256),t}function bG(){var t=_S;return _S<<=1,!(_S&62914560)&&(_S=4194304),t}function SR(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function J1(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Hie(t,e,n,i,r,a){var s=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,l=t.expirationTimes,c=t.hiddenUpdates;for(n=s&~n;0<n;){var u=31-ul(n),f=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(h!==null)for(c[u]=null,u=0;u<h.length;u++){var d=h[u];d!==null&&(d.lane&=-536870913)}n&=~f}i!==0&&yG(t,i,0),a!==0&&r===0&&t.tag!==0&&(t.suspendedLanes|=a&~(s&~e))}function yG(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-ul(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&4194090}function vG(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-ul(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}function NI(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function II(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function xG(){var t=Wi.p;return t!==0?t:(t=window.event,t===void 0?32:zW(t.type))}function Vie(t,e){var n=Wi.p;try{return Wi.p=t,e()}finally{Wi.p=n}}var jd=Math.random().toString(36).slice(2),Us="__reactFiber$"+jd,Do="__reactProps$"+jd,my="__reactContainer$"+jd,Z8="__reactEvents$"+jd,Gie="__reactListeners$"+jd,Wie="__reactHandles$"+jd,o4="__reactResources$"+jd,$1="__reactMarker$"+jd;function OI(t){delete t[Us],delete t[Do],delete t[Z8],delete t[Gie],delete t[Wie]}function Bb(t){var e=t[Us];if(e)return e;for(var n=t.parentNode;n;){if(e=n[my]||n[Us]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=pF(t);t!==null;){if(n=t[Us])return n;t=pF(t)}return e}t=n,n=t.parentNode}return null}function gy(t){if(t=t[Us]||t[my]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function fx(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(Rt(33))}function n0(t){var e=t[o4];return e||(e=t[o4]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function qa(t){t[$1]=!0}var _G=new Set,SG={};function Jm(t,e){C0(t,e),C0(t+"Capture",e)}function C0(t,e){for(SG[t]=e,t=0;t<e.length;t++)_G.add(e[t])}var qie=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),l4={},c4={};function Xie(t){return $8.call(c4,t)?!0:$8.call(l4,t)?!1:qie.test(t)?c4[t]=!0:(l4[t]=!0,!1)}function wE(t,e,n){if(Xie(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function SS(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Sf(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}var wR,u4;function Db(t){if(wR===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);wR=e&&e[1]||"",u4=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wR+t+u4}var ER=!1;function MR(t,e){if(!t||ER)return"";ER=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(d){var h=d}Reflect.construct(t,[],f)}else{try{f.call()}catch(d){h=d}t.call(f.prototype)}}else{try{throw Error()}catch(d){h=d}(f=t())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(d){if(d&&h&&typeof d.stack=="string")return[d.stack,h.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=i.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var l=s.split(`
`),c=o.split(`
`);for(r=i=0;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(i===l.length||r===c.length)for(i=l.length-1,r=c.length-1;1<=i&&0<=r&&l[i]!==c[r];)r--;for(;1<=i&&0<=r;i--,r--)if(l[i]!==c[r]){if(i!==1||r!==1)do if(i--,r--,0>r||l[i]!==c[r]){var u=`
`+l[i].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=i&&0<=r);break}}}finally{ER=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Db(n):""}function Kie(t){switch(t.tag){case 26:case 27:case 5:return Db(t.type);case 16:return Db("Lazy");case 13:return Db("Suspense");case 19:return Db("SuspenseList");case 0:case 15:return MR(t.type,!1);case 11:return MR(t.type.render,!1);case 1:return MR(t.type,!0);case 31:return Db("Activity");default:return""}}function f4(t){try{var e="";do e+=Kie(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Xl(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wG(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Yie(t){var e=wG(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(s){i=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(s){i=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function aM(t){t._valueTracker||(t._valueTracker=Yie(t))}function EG(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=wG(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function sM(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Jie=/[\n"\\]/g;function $l(t){return t.replace(Jie,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Q8(t,e,n,i,r,a,s,o){t.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.type=s:t.removeAttribute("type"),e!=null?s==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Xl(e)):t.value!==""+Xl(e)&&(t.value=""+Xl(e)):s!=="submit"&&s!=="reset"||t.removeAttribute("value"),e!=null?eD(t,s,Xl(e)):n!=null?eD(t,s,Xl(n)):i!=null&&t.removeAttribute("value"),r==null&&a!=null&&(t.defaultChecked=!!a),r!=null&&(t.checked=r&&typeof r!="function"&&typeof r!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+Xl(o):t.removeAttribute("name")}function MG(t,e,n,i,r,a,s,o){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||e!=null))return;n=n!=null?""+Xl(n):"",e=e!=null?""+Xl(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=o?t.checked:!!i,t.defaultChecked=!!i,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.name=s)}function eD(t,e,n){e==="number"&&sM(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function i0(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Xl(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function AG(t,e,n){if(e!=null&&(e=""+Xl(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Xl(n):""}function TG(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(Rt(92));if(ux(i)){if(1<i.length)throw Error(Rt(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=Xl(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i)}function R0(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var $ie=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function h4(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||$ie.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function CG(t,e,n){if(e!=null&&typeof e!="object")throw Error(Rt(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var r in e)i=e[r],e.hasOwnProperty(r)&&n[r]!==i&&h4(t,r,i)}else for(var a in e)e.hasOwnProperty(a)&&h4(t,a,e[a])}function LI(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zie=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qie=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function EE(t){return Qie.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var tD=null;function PI(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hb=null,r0=null;function d4(t){var e=gy(t);if(e&&(t=e.stateNode)){var n=t[Do]||null;e:switch(t=e.stateNode,e.type){case"input":if(Q8(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+$l(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=i[Do]||null;if(!r)throw Error(Rt(90));Q8(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&EG(i)}break e;case"textarea":AG(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&i0(t,!!n.multiple,e,!1)}}}var AR=!1;function RG(t,e,n){if(AR)return t(e,n);AR=!0;try{var i=t(e);return i}finally{if(AR=!1,(Hb!==null||r0!==null)&&(vT(),Hb&&(e=Hb,t=r0,r0=Hb=null,d4(e),t)))for(e=0;e<t.length;e++)d4(t[e])}}function a1(t,e){var n=t.stateNode;if(n===null)return null;var i=n[Do]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Rt(231,e,typeof n));return n}var th=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nD=!1;if(th)try{var bv={};Object.defineProperty(bv,"passive",{get:function(){nD=!0}}),window.addEventListener("test",bv,bv),window.removeEventListener("test",bv,bv)}catch{nD=!1}var pd=null,UI=null,ME=null;function kG(){if(ME)return ME;var t,e=UI,n=e.length,i,r="value"in pd?pd.value:pd.textContent,a=r.length;for(t=0;t<n&&e[t]===r[t];t++);var s=n-t;for(i=1;i<=s&&e[n-i]===r[a-i];i++);return ME=r.slice(t,1<i?1-i:void 0)}function AE(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function wS(){return!0}function p4(){return!1}function Io(t){function e(n,i,r,a,s){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?wS:p4,this.isPropagationStopped=p4,this}return Lr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wS)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wS)},persist:function(){},isPersistent:wS}),e}var $m={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uT=Io($m),Z1=Lr({},$m,{view:0,detail:0}),ere=Io(Z1),TR,CR,yv,fT=Lr({},Z1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:FI,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==yv&&(yv&&t.type==="mousemove"?(TR=t.screenX-yv.screenX,CR=t.screenY-yv.screenY):CR=TR=0,yv=t),TR)},movementY:function(t){return"movementY"in t?t.movementY:CR}}),m4=Io(fT),tre=Lr({},fT,{dataTransfer:0}),nre=Io(tre),ire=Lr({},Z1,{relatedTarget:0}),RR=Io(ire),rre=Lr({},$m,{animationName:0,elapsedTime:0,pseudoElement:0}),are=Io(rre),sre=Lr({},$m,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ore=Io(sre),lre=Lr({},$m,{data:0}),g4=Io(lre),cre={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ure={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fre={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hre(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=fre[t])?!!e[t]:!1}function FI(){return hre}var dre=Lr({},Z1,{key:function(t){if(t.key){var e=cre[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=AE(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ure[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:FI,charCode:function(t){return t.type==="keypress"?AE(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?AE(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pre=Io(dre),mre=Lr({},fT,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),b4=Io(mre),gre=Lr({},Z1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:FI}),bre=Io(gre),yre=Lr({},$m,{propertyName:0,elapsedTime:0,pseudoElement:0}),vre=Io(yre),xre=Lr({},fT,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_re=Io(xre),Sre=Lr({},$m,{newState:0,oldState:0}),wre=Io(Sre),Ere=[9,13,27,32],zI=th&&"CompositionEvent"in window,Mx=null;th&&"documentMode"in document&&(Mx=document.documentMode);var Mre=th&&"TextEvent"in window&&!Mx,DG=th&&(!zI||Mx&&8<Mx&&11>=Mx),y4=" ",v4=!1;function NG(t,e){switch(t){case"keyup":return Ere.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function IG(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vb=!1;function Are(t,e){switch(t){case"compositionend":return IG(e);case"keypress":return e.which!==32?null:(v4=!0,y4);case"textInput":return t=e.data,t===y4&&v4?null:t;default:return null}}function Tre(t,e){if(Vb)return t==="compositionend"||!zI&&NG(t,e)?(t=kG(),ME=UI=pd=null,Vb=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return DG&&e.locale!=="ko"?null:e.data;default:return null}}var Cre={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function x4(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Cre[t.type]:e==="textarea"}function OG(t,e,n,i){Hb?r0?r0.push(i):r0=[i]:Hb=i,e=EM(e,"onChange"),0<e.length&&(n=new uT("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Ax=null,s1=null;function Rre(t){AW(t,0)}function hT(t){var e=fx(t);if(EG(e))return t}function _4(t,e){if(t==="change")return e}var LG=!1;if(th){var kR;if(th){var DR="oninput"in document;if(!DR){var S4=document.createElement("div");S4.setAttribute("oninput","return;"),DR=typeof S4.oninput=="function"}kR=DR}else kR=!1;LG=kR&&(!document.documentMode||9<document.documentMode)}function w4(){Ax&&(Ax.detachEvent("onpropertychange",PG),s1=Ax=null)}function PG(t){if(t.propertyName==="value"&&hT(s1)){var e=[];OG(e,s1,t,PI(t)),RG(Rre,e)}}function kre(t,e,n){t==="focusin"?(w4(),Ax=e,s1=n,Ax.attachEvent("onpropertychange",PG)):t==="focusout"&&w4()}function Dre(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hT(s1)}function Nre(t,e){if(t==="click")return hT(e)}function Ire(t,e){if(t==="input"||t==="change")return hT(e)}function Ore(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gl=typeof Object.is=="function"?Object.is:Ore;function o1(t,e){if(gl(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!$8.call(e,r)||!gl(t[r],e[r]))return!1}return!0}function E4(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function M4(t,e){var n=E4(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=E4(n)}}function UG(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?UG(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function FG(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=sM(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=sM(t.document)}return e}function jI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var Lre=th&&"documentMode"in document&&11>=document.documentMode,Gb=null,iD=null,Tx=null,rD=!1;function A4(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;rD||Gb==null||Gb!==sM(i)||(i=Gb,"selectionStart"in i&&jI(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Tx&&o1(Tx,i)||(Tx=i,i=EM(iD,"onSelect"),0<i.length&&(e=new uT("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Gb)))}function yp(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Wb={animationend:yp("Animation","AnimationEnd"),animationiteration:yp("Animation","AnimationIteration"),animationstart:yp("Animation","AnimationStart"),transitionrun:yp("Transition","TransitionRun"),transitionstart:yp("Transition","TransitionStart"),transitioncancel:yp("Transition","TransitionCancel"),transitionend:yp("Transition","TransitionEnd")},NR={},zG={};th&&(zG=document.createElement("div").style,"AnimationEvent"in window||(delete Wb.animationend.animation,delete Wb.animationiteration.animation,delete Wb.animationstart.animation),"TransitionEvent"in window||delete Wb.transitionend.transition);function Zm(t){if(NR[t])return NR[t];if(!Wb[t])return t;var e=Wb[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in zG)return NR[t]=e[n];return t}var jG=Zm("animationend"),BG=Zm("animationiteration"),HG=Zm("animationstart"),Pre=Zm("transitionrun"),Ure=Zm("transitionstart"),Fre=Zm("transitioncancel"),VG=Zm("transitionend"),GG=new Map,aD="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");aD.push("scrollEnd");function cu(t,e){GG.set(t,e),Jm(e,[t])}var T4=new WeakMap;function Zl(t,e){if(typeof t=="object"&&t!==null){var n=T4.get(t);return n!==void 0?n:(e={value:t,source:e,stack:f4(e)},T4.set(t,e),e)}return{value:t,source:e,stack:f4(e)}}var Vl=[],qb=0,BI=0;function dT(){for(var t=qb,e=BI=qb=0;e<t;){var n=Vl[e];Vl[e++]=null;var i=Vl[e];Vl[e++]=null;var r=Vl[e];Vl[e++]=null;var a=Vl[e];if(Vl[e++]=null,i!==null&&r!==null){var s=i.pending;s===null?r.next=r:(r.next=s.next,s.next=r),i.pending=r}a!==0&&WG(n,r,a)}}function pT(t,e,n,i){Vl[qb++]=t,Vl[qb++]=e,Vl[qb++]=n,Vl[qb++]=i,BI|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function HI(t,e,n,i){return pT(t,e,n,i),oM(t)}function by(t,e){return pT(t,null,null,e),oM(t)}function WG(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var r=!1,a=t.return;a!==null;)a.childLanes|=n,i=a.alternate,i!==null&&(i.childLanes|=n),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(r=!0)),t=a,a=a.return;return t.tag===3?(a=t.stateNode,r&&e!==null&&(r=31-ul(n),t=a.hiddenUpdates,i=t[r],i===null?t[r]=[e]:i.push(e),e.lane=n|536870912),a):null}function oM(t){if(50<Ux)throw Ux=0,AD=null,Error(Rt(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Xb={};function zre(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sl(t,e,n,i){return new zre(t,e,n,i)}function VI(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Kf(t,e){var n=t.alternate;return n===null?(n=sl(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function qG(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function TE(t,e,n,i,r,a){var s=0;if(i=t,typeof t=="function")VI(t)&&(s=1);else if(typeof t=="string")s=Bae(t,n,ju.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case X8:return t=sl(31,n,e,r),t.elementType=X8,t.lanes=a,t;case zb:return gm(n.children,r,a,e);case fG:s=8,r|=24;break;case G8:return t=sl(12,n,e,r|2),t.elementType=G8,t.lanes=a,t;case W8:return t=sl(13,n,e,r),t.elementType=W8,t.lanes=a,t;case q8:return t=sl(19,n,e,r),t.elementType=q8,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Rie:case Ff:s=10;break e;case hG:s=9;break e;case RI:s=11;break e;case kI:s=14;break e;case ed:s=16,i=null;break e}s=29,n=Error(Rt(130,t===null?"null":typeof t,"")),i=null}return e=sl(s,n,e,r),e.elementType=t,e.type=i,e.lanes=a,e}function gm(t,e,n,i){return t=sl(7,t,i,e),t.lanes=n,t}function IR(t,e,n){return t=sl(6,t,null,e),t.lanes=n,t}function OR(t,e,n){return e=sl(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Kb=[],Yb=0,lM=null,cM=0,Kl=[],Yl=0,bm=null,zf=1,jf="";function Bp(t,e){Kb[Yb++]=cM,Kb[Yb++]=lM,lM=t,cM=e}function XG(t,e,n){Kl[Yl++]=zf,Kl[Yl++]=jf,Kl[Yl++]=bm,bm=t;var i=zf;t=jf;var r=32-ul(i)-1;i&=~(1<<r),n+=1;var a=32-ul(e)+r;if(30<a){var s=r-r%5;a=(i&(1<<s)-1).toString(32),i>>=s,r-=s,zf=1<<32-ul(e)+r|n<<r|i,jf=a+t}else zf=1<<a|n<<r|i,jf=t}function GI(t){t.return!==null&&(Bp(t,1),XG(t,1,0))}function WI(t){for(;t===lM;)lM=Kb[--Yb],Kb[Yb]=null,cM=Kb[--Yb],Kb[Yb]=null;for(;t===bm;)bm=Kl[--Yl],Kl[Yl]=null,jf=Kl[--Yl],Kl[Yl]=null,zf=Kl[--Yl],Kl[Yl]=null}var so=null,aa=null,Hi=!1,ym=null,Nu=!1,sD=Error(Rt(519));function Im(t){var e=Error(Rt(418,""));throw l1(Zl(e,t)),sD}function C4(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[Us]=t,e[Do]=i,n){case"dialog":di("cancel",e),di("close",e);break;case"iframe":case"object":case"embed":di("load",e);break;case"video":case"audio":for(n=0;n<f1.length;n++)di(f1[n],e);break;case"source":di("error",e);break;case"img":case"image":case"link":di("error",e),di("load",e);break;case"details":di("toggle",e);break;case"input":di("invalid",e),MG(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),aM(e);break;case"select":di("invalid",e);break;case"textarea":di("invalid",e),TG(e,i.value,i.defaultValue,i.children),aM(e)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||CW(e.textContent,n)?(i.popover!=null&&(di("beforetoggle",e),di("toggle",e)),i.onScroll!=null&&di("scroll",e),i.onScrollEnd!=null&&di("scrollend",e),i.onClick!=null&&(e.onclick=ST),e=!0):e=!1,e||Im(t)}function R4(t){for(so=t.return;so;)switch(so.tag){case 5:case 13:Nu=!1;return;case 27:case 3:Nu=!0;return;default:so=so.return}}function vv(t){if(t!==so)return!1;if(!Hi)return R4(t),Hi=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||ND(t.type,t.memoizedProps)),n=!n),n&&aa&&Im(t),R4(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Rt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){aa=nu(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}aa=null}}else e===27?(e=aa,Bd(t.type)?(t=LD,LD=null,aa=t):aa=e):aa=so?nu(t.stateNode.nextSibling):null;return!0}function Q1(){aa=so=null,Hi=!1}function k4(){var t=ym;return t!==null&&(Mo===null?Mo=t:Mo.push.apply(Mo,t),ym=null),t}function l1(t){ym===null?ym=[t]:ym.push(t)}var oD=ef(null),Qm=null,Bf=null;function sd(t,e,n){Hr(oD,e._currentValue),e._currentValue=n}function Yf(t){t._currentValue=oD.current,Ya(oD)}function lD(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function cD(t,e,n,i){var r=t.child;for(r!==null&&(r.return=t);r!==null;){var a=r.dependencies;if(a!==null){var s=r.child;a=a.firstContext;e:for(;a!==null;){var o=a;a=r;for(var l=0;l<e.length;l++)if(o.context===e[l]){a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),lD(a.return,n,t),i||(s=null);break e}a=o.next}}else if(r.tag===18){if(s=r.return,s===null)throw Error(Rt(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),lD(s,n,t),s=null}else s=r.child;if(s!==null)s.return=r;else for(s=r;s!==null;){if(s===t){s=null;break}if(r=s.sibling,r!==null){r.return=s.return,s=r;break}s=s.return}r=s}}function e_(t,e,n,i){t=null;for(var r=e,a=!1;r!==null;){if(!a){if(r.flags&524288)a=!0;else if(r.flags&262144)break}if(r.tag===10){var s=r.alternate;if(s===null)throw Error(Rt(387));if(s=s.memoizedProps,s!==null){var o=r.type;gl(r.pendingProps.value,s.value)||(t!==null?t.push(o):t=[o])}}else if(r===tM.current){if(s=r.alternate,s===null)throw Error(Rt(387));s.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(t!==null?t.push(p1):t=[p1])}r=r.return}t!==null&&cD(e,t,n,i),e.flags|=262144}function uM(t){for(t=t.firstContext;t!==null;){if(!gl(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Om(t){Qm=t,Bf=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Fs(t){return KG(Qm,t)}function ES(t,e){return Qm===null&&Om(t),KG(t,e)}function KG(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Bf===null){if(t===null)throw Error(Rt(308));Bf=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Bf=Bf.next=e;return n}var jre=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},Bre=Ia.unstable_scheduleCallback,Hre=Ia.unstable_NormalPriority,Da={$$typeof:Ff,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qI(){return{controller:new jre,data:new Map,refCount:0}}function t_(t){t.refCount--,t.refCount===0&&Bre(Hre,function(){t.controller.abort()})}var Cx=null,uD=0,k0=0,a0=null;function Vre(t,e){if(Cx===null){var n=Cx=[];uD=0,k0=mO(),a0={status:"pending",value:void 0,then:function(i){n.push(i)}}}return uD++,e.then(D4,D4),e}function D4(){if(--uD===0&&Cx!==null){a0!==null&&(a0.status="fulfilled");var t=Cx;Cx=null,k0=0,a0=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function Gre(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var r=0;r<n.length;r++)(0,n[r])(e)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var N4=Nn.S;Nn.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&Vre(t,e),N4!==null&&N4(t,e)};var vm=ef(null);function XI(){var t=vm.current;return t!==null?t:Ar.pooledCache}function CE(t,e){e===null?Hr(vm,vm.current):Hr(vm,e.pool)}function YG(){var t=XI();return t===null?null:{parent:Da._currentValue,pool:t}}var n_=Error(Rt(460)),JG=Error(Rt(474)),mT=Error(Rt(542)),fD={then:function(){}};function I4(t){return t=t.status,t==="fulfilled"||t==="rejected"}function MS(){}function $G(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(MS,MS),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,L4(t),t;default:if(typeof e.status=="string")e.then(MS,MS);else{if(t=Ar,t!==null&&100<t.shellSuspendCounter)throw Error(Rt(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var r=e;r.status="fulfilled",r.value=i}},function(i){if(e.status==="pending"){var r=e;r.status="rejected",r.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,L4(t),t}throw Rx=e,n_}}var Rx=null;function O4(){if(Rx===null)throw Error(Rt(459));var t=Rx;return Rx=null,t}function L4(t){if(t===n_||t===mT)throw Error(Rt(483))}var td=!1;function KI(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hD(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function _d(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Sd(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,or&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,e=oM(t),WG(t,null,n),e}return pT(t,i,e,n),oM(t)}function kx(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,vG(t,n)}}function LR(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?r=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?r=a=e:a=a.next=e}else r=a=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var dD=!1;function Dx(){if(dD){var t=a0;if(t!==null)throw t}}function Nx(t,e,n,i){dD=!1;var r=t.updateQueue;td=!1;var a=r.firstBaseUpdate,s=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(a!==null){var f=r.baseState;s=0,u=c=l=null,o=a;do{var h=o.lane&-536870913,d=h!==o.lane;if(d?(ki&h)===h:(i&h)===h){h!==0&&h===k0&&(dD=!0),u!==null&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var b=t,y=o;h=e;var v=n;switch(y.tag){case 1:if(b=y.payload,typeof b=="function"){f=b.call(v,f,h);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=y.payload,h=typeof b=="function"?b.call(v,f,h):b,h==null)break e;f=Lr({},f,h);break e;case 2:td=!0}}h=o.callback,h!==null&&(t.flags|=64,d&&(t.flags|=8192),d=r.callbacks,d===null?r.callbacks=[h]:d.push(h))}else d={lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=d,l=f):u=u.next=d,s|=h;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;d=o,o=d.next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}while(!0);u===null&&(l=f),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,a===null&&(r.shared.lanes=0),Nd|=s,t.lanes=s,t.memoizedState=f}}function ZG(t,e){if(typeof t!="function")throw Error(Rt(191,t));t.call(e)}function QG(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)ZG(n[t],e)}var D0=ef(null),fM=ef(0);function P4(t,e){t=rh,Hr(fM,t),Hr(D0,e),rh=t|e.baseLanes}function pD(){Hr(fM,rh),Hr(D0,D0.current)}function YI(){rh=fM.current,Ya(D0),Ya(fM)}var kd=0,ci=null,hr=null,wa=null,hM=!1,s0=!1,Lm=!1,dM=0,c1=0,o0=null,Wre=0;function fa(){throw Error(Rt(321))}function JI(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!gl(t[n],e[n]))return!1;return!0}function $I(t,e,n,i,r,a){return kd=a,ci=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Nn.H=t===null||t.memoizedState===null?k7:D7,Lm=!1,a=n(i,r),Lm=!1,s0&&(a=t7(e,n,i,r)),e7(t),a}function e7(t){Nn.H=pM;var e=hr!==null&&hr.next!==null;if(kd=0,wa=hr=ci=null,hM=!1,c1=0,o0=null,e)throw Error(Rt(300));t===null||Xa||(t=t.dependencies,t!==null&&uM(t)&&(Xa=!0))}function t7(t,e,n,i){ci=t;var r=0;do{if(s0&&(o0=null),c1=0,s0=!1,25<=r)throw Error(Rt(301));if(r+=1,wa=hr=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}Nn.H=Zre,a=e(n,i)}while(s0);return a}function qre(){var t=Nn.H,e=t.useState()[0];return e=typeof e.then=="function"?i_(e):e,t=t.useState()[0],(hr!==null?hr.memoizedState:null)!==t&&(ci.flags|=1024),e}function ZI(){var t=dM!==0;return dM=0,t}function QI(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function eO(t){if(hM){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}hM=!1}kd=0,wa=hr=ci=null,s0=!1,c1=dM=0,o0=null}function wo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wa===null?ci.memoizedState=wa=t:wa=wa.next=t,wa}function Ma(){if(hr===null){var t=ci.alternate;t=t!==null?t.memoizedState:null}else t=hr.next;var e=wa===null?ci.memoizedState:wa.next;if(e!==null)wa=e,hr=t;else{if(t===null)throw ci.alternate===null?Error(Rt(467)):Error(Rt(310));hr=t,t={memoizedState:hr.memoizedState,baseState:hr.baseState,baseQueue:hr.baseQueue,queue:hr.queue,next:null},wa===null?ci.memoizedState=wa=t:wa=wa.next=t}return wa}function tO(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function i_(t){var e=c1;return c1+=1,o0===null&&(o0=[]),t=$G(o0,t,e),e=ci,(wa===null?e.memoizedState:wa.next)===null&&(e=e.alternate,Nn.H=e===null||e.memoizedState===null?k7:D7),t}function gT(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return i_(t);if(t.$$typeof===Ff)return Fs(t)}throw Error(Rt(438,String(t)))}function nO(t){var e=null,n=ci.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=ci.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(r){return r.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=tO(),ci.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=kie;return e.index++,n}function nh(t,e){return typeof e=="function"?e(t):e}function RE(t){var e=Ma();return iO(e,hr,t)}function iO(t,e,n){var i=t.queue;if(i===null)throw Error(Rt(311));i.lastRenderedReducer=n;var r=t.baseQueue,a=i.pending;if(a!==null){if(r!==null){var s=r.next;r.next=a.next,a.next=s}e.baseQueue=r=a,i.pending=null}if(a=t.baseState,r===null)t.memoizedState=a;else{e=r.next;var o=s=null,l=null,c=e,u=!1;do{var f=c.lane&-536870913;if(f!==c.lane?(ki&f)===f:(kd&f)===f){var h=c.revertLane;if(h===0)l!==null&&(l=l.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),f===k0&&(u=!0);else if((kd&h)===h){c=c.next,h===k0&&(u=!0);continue}else f={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=f,s=a):l=l.next=f,ci.lanes|=h,Nd|=h;f=c.action,Lm&&n(a,f),a=c.hasEagerState?c.eagerState:n(a,f)}else h={lane:f,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=h,s=a):l=l.next=h,ci.lanes|=f,Nd|=f;c=c.next}while(c!==null&&c!==e);if(l===null?s=a:l.next=o,!gl(a,t.memoizedState)&&(Xa=!0,u&&(n=a0,n!==null)))throw n;t.memoizedState=a,t.baseState=s,t.baseQueue=l,i.lastRenderedState=a}return r===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function PR(t){var e=Ma(),n=e.queue;if(n===null)throw Error(Rt(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,a=e.memoizedState;if(r!==null){n.pending=null;var s=r=r.next;do a=t(a,s.action),s=s.next;while(s!==r);gl(a,e.memoizedState)||(Xa=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,i]}function n7(t,e,n){var i=ci,r=Ma(),a=Hi;if(a){if(n===void 0)throw Error(Rt(407));n=n()}else n=e();var s=!gl((hr||r).memoizedState,n);s&&(r.memoizedState=n,Xa=!0),r=r.queue;var o=a7.bind(null,i,r,t);if(r_(2048,8,o,[t]),r.getSnapshot!==e||s||wa!==null&&wa.memoizedState.tag&1){if(i.flags|=2048,N0(9,bT(),r7.bind(null,i,r,n,e),null),Ar===null)throw Error(Rt(349));a||kd&124||i7(i,e,n)}return n}function i7(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ci.updateQueue,e===null?(e=tO(),ci.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function r7(t,e,n,i){e.value=n,e.getSnapshot=i,s7(e)&&o7(t)}function a7(t,e,n){return n(function(){s7(e)&&o7(t)})}function s7(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!gl(t,n)}catch{return!0}}function o7(t){var e=by(t,2);e!==null&&hl(e,t,2)}function mD(t){var e=wo();if(typeof t=="function"){var n=t;if(t=n(),Lm){dd(!0);try{n()}finally{dd(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nh,lastRenderedState:t},e}function l7(t,e,n,i){return t.baseState=n,iO(t,hr,typeof i=="function"?i:nh)}function Xre(t,e,n,i,r){if(yT(t))throw Error(Rt(485));if(t=e.action,t!==null){var a={payload:r,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){a.listeners.push(s)}};Nn.T!==null?n(!0):a.isTransition=!1,i(a),n=e.pending,n===null?(a.next=e.pending=a,c7(e,a)):(a.next=n.next,e.pending=n.next=a)}}function c7(t,e){var n=e.action,i=e.payload,r=t.state;if(e.isTransition){var a=Nn.T,s={};Nn.T=s;try{var o=n(r,i),l=Nn.S;l!==null&&l(s,o),U4(t,e,o)}catch(c){gD(t,e,c)}finally{Nn.T=a}}else try{a=n(r,i),U4(t,e,a)}catch(c){gD(t,e,c)}}function U4(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){F4(t,e,i)},function(i){return gD(t,e,i)}):F4(t,e,n)}function F4(t,e,n){e.status="fulfilled",e.value=n,u7(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,c7(t,n)))}function gD(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,u7(e),e=e.next;while(e!==i)}t.action=null}function u7(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function f7(t,e){return e}function z4(t,e){if(Hi){var n=Ar.formState;if(n!==null){e:{var i=ci;if(Hi){if(aa){t:{for(var r=aa,a=Nu;r.nodeType!==8;){if(!a){r=null;break t}if(r=nu(r.nextSibling),r===null){r=null;break t}}a=r.data,r=a==="F!"||a==="F"?r:null}if(r){aa=nu(r.nextSibling),i=r.data==="F!";break e}}Im(i)}i=!1}i&&(e=n[0])}}return n=wo(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f7,lastRenderedState:e},n.queue=i,n=T7.bind(null,ci,i),i.dispatch=n,i=mD(!1),a=oO.bind(null,ci,!1,i.queue),i=wo(),r={state:e,dispatch:null,action:t,pending:null},i.queue=r,n=Xre.bind(null,ci,r,a,n),r.dispatch=n,i.memoizedState=t,[e,n,!1]}function j4(t){var e=Ma();return h7(e,hr,t)}function h7(t,e,n){if(e=iO(t,e,f7)[0],t=RE(nh)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=i_(e)}catch(s){throw s===n_?mT:s}else i=e;e=Ma();var r=e.queue,a=r.dispatch;return n!==e.memoizedState&&(ci.flags|=2048,N0(9,bT(),Kre.bind(null,r,n),null)),[i,a,t]}function Kre(t,e){t.action=e}function B4(t){var e=Ma(),n=hr;if(n!==null)return h7(e,n,t);Ma(),e=e.memoizedState,n=Ma();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function N0(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=ci.updateQueue,e===null&&(e=tO(),ci.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function bT(){return{destroy:void 0,resource:void 0}}function d7(){return Ma().memoizedState}function kE(t,e,n,i){var r=wo();i=i===void 0?null:i,ci.flags|=t,r.memoizedState=N0(1|e,bT(),n,i)}function r_(t,e,n,i){var r=Ma();i=i===void 0?null:i;var a=r.memoizedState.inst;hr!==null&&i!==null&&JI(i,hr.memoizedState.deps)?r.memoizedState=N0(e,a,n,i):(ci.flags|=t,r.memoizedState=N0(1|e,a,n,i))}function H4(t,e){kE(8390656,8,t,e)}function p7(t,e){r_(2048,8,t,e)}function m7(t,e){return r_(4,2,t,e)}function g7(t,e){return r_(4,4,t,e)}function b7(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function y7(t,e,n){n=n!=null?n.concat([t]):null,r_(4,4,b7.bind(null,e,t),n)}function rO(){}function v7(t,e){var n=Ma();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&JI(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function x7(t,e){var n=Ma();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&JI(e,i[1]))return i[0];if(i=t(),Lm){dd(!0);try{t()}finally{dd(!1)}}return n.memoizedState=[i,e],i}function aO(t,e,n){return n===void 0||kd&1073741824?t.memoizedState=e:(t.memoizedState=n,t=uW(),ci.lanes|=t,Nd|=t,n)}function _7(t,e,n,i){return gl(n,e)?n:D0.current!==null?(t=aO(t,n,i),gl(t,e)||(Xa=!0),t):kd&42?(t=uW(),ci.lanes|=t,Nd|=t,e):(Xa=!0,t.memoizedState=n)}function S7(t,e,n,i,r){var a=Wi.p;Wi.p=a!==0&&8>a?a:8;var s=Nn.T,o={};Nn.T=o,oO(t,!1,e,n);try{var l=r(),c=Nn.S;if(c!==null&&c(o,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=Gre(l,i);Ix(t,e,u,fl(t))}else Ix(t,e,i,fl(t))}catch(f){Ix(t,e,{then:function(){},status:"rejected",reason:f},fl())}finally{Wi.p=a,Nn.T=s}}function Yre(){}function bD(t,e,n,i){if(t.tag!==5)throw Error(Rt(476));var r=w7(t).queue;S7(t,r,e,mm,n===null?Yre:function(){return E7(t),n(i)})}function w7(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:mm,baseState:mm,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nh,lastRenderedState:mm},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nh,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function E7(t){var e=w7(t).next.queue;Ix(t,e,{},fl())}function sO(){return Fs(p1)}function M7(){return Ma().memoizedState}function A7(){return Ma().memoizedState}function Jre(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=fl();t=_d(n);var i=Sd(e,t,n);i!==null&&(hl(i,e,n),kx(i,e,n)),e={cache:qI()},t.payload=e;return}e=e.return}}function $re(t,e,n){var i=fl();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},yT(t)?C7(e,n):(n=HI(t,e,n,i),n!==null&&(hl(n,t,i),R7(n,e,i)))}function T7(t,e,n){var i=fl();Ix(t,e,n,i)}function Ix(t,e,n,i){var r={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(yT(t))C7(e,r);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,n);if(r.hasEagerState=!0,r.eagerState=o,gl(o,s))return pT(t,e,r,0),Ar===null&&dT(),!1}catch{}finally{}if(n=HI(t,e,r,i),n!==null)return hl(n,t,i),R7(n,e,i),!0}return!1}function oO(t,e,n,i){if(i={lane:2,revertLane:mO(),action:i,hasEagerState:!1,eagerState:null,next:null},yT(t)){if(e)throw Error(Rt(479))}else e=HI(t,n,i,2),e!==null&&hl(e,t,2)}function yT(t){var e=t.alternate;return t===ci||e!==null&&e===ci}function C7(t,e){s0=hM=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function R7(t,e,n){if(n&4194048){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,vG(t,n)}}var pM={readContext:Fs,use:gT,useCallback:fa,useContext:fa,useEffect:fa,useImperativeHandle:fa,useLayoutEffect:fa,useInsertionEffect:fa,useMemo:fa,useReducer:fa,useRef:fa,useState:fa,useDebugValue:fa,useDeferredValue:fa,useTransition:fa,useSyncExternalStore:fa,useId:fa,useHostTransitionStatus:fa,useFormState:fa,useActionState:fa,useOptimistic:fa,useMemoCache:fa,useCacheRefresh:fa},k7={readContext:Fs,use:gT,useCallback:function(t,e){return wo().memoizedState=[t,e===void 0?null:e],t},useContext:Fs,useEffect:H4,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,kE(4194308,4,b7.bind(null,e,t),n)},useLayoutEffect:function(t,e){return kE(4194308,4,t,e)},useInsertionEffect:function(t,e){kE(4,2,t,e)},useMemo:function(t,e){var n=wo();e=e===void 0?null:e;var i=t();if(Lm){dd(!0);try{t()}finally{dd(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=wo();if(n!==void 0){var r=n(e);if(Lm){dd(!0);try{n(e)}finally{dd(!1)}}}else r=e;return i.memoizedState=i.baseState=r,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},i.queue=t,t=t.dispatch=$re.bind(null,ci,t),[i.memoizedState,t]},useRef:function(t){var e=wo();return t={current:t},e.memoizedState=t},useState:function(t){t=mD(t);var e=t.queue,n=T7.bind(null,ci,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:rO,useDeferredValue:function(t,e){var n=wo();return aO(n,t,e)},useTransition:function(){var t=mD(!1);return t=S7.bind(null,ci,t.queue,!0,!1),wo().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=ci,r=wo();if(Hi){if(n===void 0)throw Error(Rt(407));n=n()}else{if(n=e(),Ar===null)throw Error(Rt(349));ki&124||i7(i,e,n)}r.memoizedState=n;var a={value:n,getSnapshot:e};return r.queue=a,H4(a7.bind(null,i,a,t),[t]),i.flags|=2048,N0(9,bT(),r7.bind(null,i,a,n,e),null),n},useId:function(){var t=wo(),e=Ar.identifierPrefix;if(Hi){var n=jf,i=zf;n=(i&~(1<<32-ul(i)-1)).toString(32)+n,e=""+e+"R"+n,n=dM++,0<n&&(e+="H"+n.toString(32)),e+=""}else n=Wre++,e=""+e+"r"+n.toString(32)+"";return t.memoizedState=e},useHostTransitionStatus:sO,useFormState:z4,useActionState:z4,useOptimistic:function(t){var e=wo();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=oO.bind(null,ci,!0,n),n.dispatch=e,[t,e]},useMemoCache:nO,useCacheRefresh:function(){return wo().memoizedState=Jre.bind(null,ci)}},D7={readContext:Fs,use:gT,useCallback:v7,useContext:Fs,useEffect:p7,useImperativeHandle:y7,useInsertionEffect:m7,useLayoutEffect:g7,useMemo:x7,useReducer:RE,useRef:d7,useState:function(){return RE(nh)},useDebugValue:rO,useDeferredValue:function(t,e){var n=Ma();return _7(n,hr.memoizedState,t,e)},useTransition:function(){var t=RE(nh)[0],e=Ma().memoizedState;return[typeof t=="boolean"?t:i_(t),e]},useSyncExternalStore:n7,useId:M7,useHostTransitionStatus:sO,useFormState:j4,useActionState:j4,useOptimistic:function(t,e){var n=Ma();return l7(n,hr,t,e)},useMemoCache:nO,useCacheRefresh:A7},Zre={readContext:Fs,use:gT,useCallback:v7,useContext:Fs,useEffect:p7,useImperativeHandle:y7,useInsertionEffect:m7,useLayoutEffect:g7,useMemo:x7,useReducer:PR,useRef:d7,useState:function(){return PR(nh)},useDebugValue:rO,useDeferredValue:function(t,e){var n=Ma();return hr===null?aO(n,t,e):_7(n,hr.memoizedState,t,e)},useTransition:function(){var t=PR(nh)[0],e=Ma().memoizedState;return[typeof t=="boolean"?t:i_(t),e]},useSyncExternalStore:n7,useId:M7,useHostTransitionStatus:sO,useFormState:B4,useActionState:B4,useOptimistic:function(t,e){var n=Ma();return hr!==null?l7(n,hr,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:nO,useCacheRefresh:A7},l0=null,u1=0;function AS(t){var e=u1;return u1+=1,l0===null&&(l0=[]),$G(l0,t,e)}function xv(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function TS(t,e){throw e.$$typeof===Cie?Error(Rt(525)):(t=Object.prototype.toString.call(e),Error(Rt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function V4(t){var e=t._init;return e(t._payload)}function N7(t){function e(m,x){if(t){var _=m.deletions;_===null?(m.deletions=[x],m.flags|=16):_.push(x)}}function n(m,x){if(!t)return null;for(;x!==null;)e(m,x),x=x.sibling;return null}function i(m){for(var x=new Map;m!==null;)m.key!==null?x.set(m.key,m):x.set(m.index,m),m=m.sibling;return x}function r(m,x){return m=Kf(m,x),m.index=0,m.sibling=null,m}function a(m,x,_){return m.index=_,t?(_=m.alternate,_!==null?(_=_.index,_<x?(m.flags|=67108866,x):_):(m.flags|=67108866,x)):(m.flags|=1048576,x)}function s(m){return t&&m.alternate===null&&(m.flags|=67108866),m}function o(m,x,_,E){return x===null||x.tag!==6?(x=IR(_,m.mode,E),x.return=m,x):(x=r(x,_),x.return=m,x)}function l(m,x,_,E){var A=_.type;return A===zb?u(m,x,_.props.children,E,_.key):x!==null&&(x.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===ed&&V4(A)===x.type)?(x=r(x,_.props),xv(x,_),x.return=m,x):(x=TE(_.type,_.key,_.props,null,m.mode,E),xv(x,_),x.return=m,x)}function c(m,x,_,E){return x===null||x.tag!==4||x.stateNode.containerInfo!==_.containerInfo||x.stateNode.implementation!==_.implementation?(x=OR(_,m.mode,E),x.return=m,x):(x=r(x,_.children||[]),x.return=m,x)}function u(m,x,_,E,A){return x===null||x.tag!==7?(x=gm(_,m.mode,E,A),x.return=m,x):(x=r(x,_),x.return=m,x)}function f(m,x,_){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=IR(""+x,m.mode,_),x.return=m,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case vS:return _=TE(x.type,x.key,x.props,null,m.mode,_),xv(_,x),_.return=m,_;case cx:return x=OR(x,m.mode,_),x.return=m,x;case ed:var E=x._init;return x=E(x._payload),f(m,x,_)}if(ux(x)||gv(x))return x=gm(x,m.mode,_,null),x.return=m,x;if(typeof x.then=="function")return f(m,AS(x),_);if(x.$$typeof===Ff)return f(m,ES(m,x),_);TS(m,x)}return null}function h(m,x,_,E){var A=x!==null?x.key:null;if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return A!==null?null:o(m,x,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case vS:return _.key===A?l(m,x,_,E):null;case cx:return _.key===A?c(m,x,_,E):null;case ed:return A=_._init,_=A(_._payload),h(m,x,_,E)}if(ux(_)||gv(_))return A!==null?null:u(m,x,_,E,null);if(typeof _.then=="function")return h(m,x,AS(_),E);if(_.$$typeof===Ff)return h(m,x,ES(m,_),E);TS(m,_)}return null}function d(m,x,_,E,A){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return m=m.get(_)||null,o(x,m,""+E,A);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case vS:return m=m.get(E.key===null?_:E.key)||null,l(x,m,E,A);case cx:return m=m.get(E.key===null?_:E.key)||null,c(x,m,E,A);case ed:var w=E._init;return E=w(E._payload),d(m,x,_,E,A)}if(ux(E)||gv(E))return m=m.get(_)||null,u(x,m,E,A,null);if(typeof E.then=="function")return d(m,x,_,AS(E),A);if(E.$$typeof===Ff)return d(m,x,_,ES(x,E),A);TS(x,E)}return null}function b(m,x,_,E){for(var A=null,w=null,T=x,k=x=0,N=null;T!==null&&k<_.length;k++){T.index>k?(N=T,T=null):N=T.sibling;var D=h(m,T,_[k],E);if(D===null){T===null&&(T=N);break}t&&T&&D.alternate===null&&e(m,T),x=a(D,x,k),w===null?A=D:w.sibling=D,w=D,T=N}if(k===_.length)return n(m,T),Hi&&Bp(m,k),A;if(T===null){for(;k<_.length;k++)T=f(m,_[k],E),T!==null&&(x=a(T,x,k),w===null?A=T:w.sibling=T,w=T);return Hi&&Bp(m,k),A}for(T=i(T);k<_.length;k++)N=d(T,m,k,_[k],E),N!==null&&(t&&N.alternate!==null&&T.delete(N.key===null?k:N.key),x=a(N,x,k),w===null?A=N:w.sibling=N,w=N);return t&&T.forEach(function(P){return e(m,P)}),Hi&&Bp(m,k),A}function y(m,x,_,E){if(_==null)throw Error(Rt(151));for(var A=null,w=null,T=x,k=x=0,N=null,D=_.next();T!==null&&!D.done;k++,D=_.next()){T.index>k?(N=T,T=null):N=T.sibling;var P=h(m,T,D.value,E);if(P===null){T===null&&(T=N);break}t&&T&&P.alternate===null&&e(m,T),x=a(P,x,k),w===null?A=P:w.sibling=P,w=P,T=N}if(D.done)return n(m,T),Hi&&Bp(m,k),A;if(T===null){for(;!D.done;k++,D=_.next())D=f(m,D.value,E),D!==null&&(x=a(D,x,k),w===null?A=D:w.sibling=D,w=D);return Hi&&Bp(m,k),A}for(T=i(T);!D.done;k++,D=_.next())D=d(T,m,k,D.value,E),D!==null&&(t&&D.alternate!==null&&T.delete(D.key===null?k:D.key),x=a(D,x,k),w===null?A=D:w.sibling=D,w=D);return t&&T.forEach(function(B){return e(m,B)}),Hi&&Bp(m,k),A}function v(m,x,_,E){if(typeof _=="object"&&_!==null&&_.type===zb&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case vS:e:{for(var A=_.key;x!==null;){if(x.key===A){if(A=_.type,A===zb){if(x.tag===7){n(m,x.sibling),E=r(x,_.props.children),E.return=m,m=E;break e}}else if(x.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===ed&&V4(A)===x.type){n(m,x.sibling),E=r(x,_.props),xv(E,_),E.return=m,m=E;break e}n(m,x);break}else e(m,x);x=x.sibling}_.type===zb?(E=gm(_.props.children,m.mode,E,_.key),E.return=m,m=E):(E=TE(_.type,_.key,_.props,null,m.mode,E),xv(E,_),E.return=m,m=E)}return s(m);case cx:e:{for(A=_.key;x!==null;){if(x.key===A)if(x.tag===4&&x.stateNode.containerInfo===_.containerInfo&&x.stateNode.implementation===_.implementation){n(m,x.sibling),E=r(x,_.children||[]),E.return=m,m=E;break e}else{n(m,x);break}else e(m,x);x=x.sibling}E=OR(_,m.mode,E),E.return=m,m=E}return s(m);case ed:return A=_._init,_=A(_._payload),v(m,x,_,E)}if(ux(_))return b(m,x,_,E);if(gv(_)){if(A=gv(_),typeof A!="function")throw Error(Rt(150));return _=A.call(_),y(m,x,_,E)}if(typeof _.then=="function")return v(m,x,AS(_),E);if(_.$$typeof===Ff)return v(m,x,ES(m,_),E);TS(m,_)}return typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint"?(_=""+_,x!==null&&x.tag===6?(n(m,x.sibling),E=r(x,_),E.return=m,m=E):(n(m,x),E=IR(_,m.mode,E),E.return=m,m=E),s(m)):n(m,x)}return function(m,x,_,E){try{u1=0;var A=v(m,x,_,E);return l0=null,A}catch(T){if(T===n_||T===mT)throw T;var w=sl(29,T,null,m.mode);return w.lanes=E,w.return=m,w}finally{}}}var I0=N7(!0),I7=N7(!1),lc=ef(null),Hu=null;function od(t){var e=t.alternate;Hr(Na,Na.current&1),Hr(lc,t),Hu===null&&(e===null||D0.current!==null||e.memoizedState!==null)&&(Hu=t)}function O7(t){if(t.tag===22){if(Hr(Na,Na.current),Hr(lc,t),Hu===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(Hu=t)}}else ld()}function ld(){Hr(Na,Na.current),Hr(lc,lc.current)}function Hf(t){Ya(lc),Hu===t&&(Hu=null),Ya(Na)}var Na=ef(0);function mM(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||OD(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function UR(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Lr({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var yD={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=fl(),r=_d(i);r.payload=e,n!=null&&(r.callback=n),e=Sd(t,r,i),e!==null&&(hl(e,t,i),kx(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=fl(),r=_d(i);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=Sd(t,r,i),e!==null&&(hl(e,t,i),kx(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=fl(),i=_d(n);i.tag=2,e!=null&&(i.callback=e),e=Sd(t,i,n),e!==null&&(hl(e,t,n),kx(e,t,n))}};function G4(t,e,n,i,r,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,a,s):e.prototype&&e.prototype.isPureReactComponent?!o1(n,i)||!o1(r,a):!0}function W4(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&yD.enqueueReplaceState(e,e.state,null)}function Pm(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=Lr({},n));for(var r in t)n[r]===void 0&&(n[r]=t[r])}return n}var gM=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function L7(t){gM(t)}function P7(t){console.error(t)}function U7(t){gM(t)}function bM(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function q4(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function vD(t,e,n){return n=_d(n),n.tag=3,n.payload={element:null},n.callback=function(){bM(t,e)},n}function F7(t){return t=_d(t),t.tag=3,t}function z7(t,e,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var a=i.value;t.payload=function(){return r(a)},t.callback=function(){q4(e,n,i)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){q4(e,n,i),typeof r!="function"&&(wd===null?wd=new Set([this]):wd.add(this));var o=i.stack;this.componentDidCatch(i.value,{componentStack:o!==null?o:""})})}function Qre(t,e,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&e_(e,n,r,!0),n=lc.current,n!==null){switch(n.tag){case 13:return Hu===null?TD():n.alternate===null&&sa===0&&(sa=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===fD?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),KR(t,i,r)),!1;case 22:return n.flags|=65536,i===fD?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),KR(t,i,r)),!1}throw Error(Rt(435,n.tag))}return KR(t,i,r),TD(),!1}if(Hi)return e=lc.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=r,i!==sD&&(t=Error(Rt(422),{cause:i}),l1(Zl(t,n)))):(i!==sD&&(e=Error(Rt(423),{cause:i}),l1(Zl(e,n))),t=t.current.alternate,t.flags|=65536,r&=-r,t.lanes|=r,i=Zl(i,n),r=vD(t.stateNode,i,r),LR(t,r),sa!==4&&(sa=2)),!1;var a=Error(Rt(520),{cause:i});if(a=Zl(a,n),Px===null?Px=[a]:Px.push(a),sa!==4&&(sa=2),e===null)return!0;i=Zl(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=r&-r,n.lanes|=t,t=vD(n.stateNode,i,t),LR(n,t),!1;case 1:if(e=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(wd===null||!wd.has(a))))return n.flags|=65536,r&=-r,n.lanes|=r,r=F7(r),z7(r,t,n,i),LR(n,r),!1}n=n.return}while(n!==null);return!1}var j7=Error(Rt(461)),Xa=!1;function ls(t,e,n,i){e.child=t===null?I7(e,null,n,i):I0(e,t.child,n,i)}function X4(t,e,n,i,r){n=n.render;var a=e.ref;if("ref"in i){var s={};for(var o in i)o!=="ref"&&(s[o]=i[o])}else s=i;return Om(e),i=$I(t,e,n,s,a,r),o=ZI(),t!==null&&!Xa?(QI(t,e,r),ih(t,e,r)):(Hi&&o&&GI(e),e.flags|=1,ls(t,e,i,r),e.child)}function K4(t,e,n,i,r){if(t===null){var a=n.type;return typeof a=="function"&&!VI(a)&&a.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=a,B7(t,e,a,i,r)):(t=TE(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!lO(t,r)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:o1,n(s,i)&&t.ref===e.ref)return ih(t,e,r)}return e.flags|=1,t=Kf(a,i),t.ref=e.ref,t.return=e,e.child=t}function B7(t,e,n,i,r){if(t!==null){var a=t.memoizedProps;if(o1(a,i)&&t.ref===e.ref)if(Xa=!1,e.pendingProps=i=a,lO(t,r))t.flags&131072&&(Xa=!0);else return e.lanes=t.lanes,ih(t,e,r)}return xD(t,e,n,i,r)}function H7(t,e,n){var i=e.pendingProps,r=i.children,a=t!==null?t.memoizedState:null;if(i.mode==="hidden"){if(e.flags&128){if(i=a!==null?a.baseLanes|n:n,t!==null){for(r=e.child=t.child,a=0;r!==null;)a=a|r.lanes|r.childLanes,r=r.sibling;e.childLanes=a&~i}else e.childLanes=0,e.child=null;return Y4(t,e,i,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&CE(e,a!==null?a.cachePool:null),a!==null?P4(e,a):pD(),O7(e);else return e.lanes=e.childLanes=536870912,Y4(t,e,a!==null?a.baseLanes|n:n,n)}else a!==null?(CE(e,a.cachePool),P4(e,a),ld(),e.memoizedState=null):(t!==null&&CE(e,null),pD(),ld());return ls(t,e,r,n),e.child}function Y4(t,e,n,i){var r=XI();return r=r===null?null:{parent:Da._currentValue,pool:r},e.memoizedState={baseLanes:n,cachePool:r},t!==null&&CE(e,null),pD(),O7(e),t!==null&&e_(t,e,i,!0),null}function DE(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(Rt(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function xD(t,e,n,i,r){return Om(e),n=$I(t,e,n,i,void 0,r),i=ZI(),t!==null&&!Xa?(QI(t,e,r),ih(t,e,r)):(Hi&&i&&GI(e),e.flags|=1,ls(t,e,n,r),e.child)}function J4(t,e,n,i,r,a){return Om(e),e.updateQueue=null,n=t7(e,i,n,r),e7(t),i=ZI(),t!==null&&!Xa?(QI(t,e,a),ih(t,e,a)):(Hi&&i&&GI(e),e.flags|=1,ls(t,e,n,a),e.child)}function $4(t,e,n,i,r){if(Om(e),e.stateNode===null){var a=Xb,s=n.contextType;typeof s=="object"&&s!==null&&(a=Fs(s)),a=new n(i,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=yD,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=i,a.state=e.memoizedState,a.refs={},KI(e),s=n.contextType,a.context=typeof s=="object"&&s!==null?Fs(s):Xb,a.state=e.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(UR(e,n,s,i),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&yD.enqueueReplaceState(a,a.state,null),Nx(e,i,a,r),Dx(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){a=e.stateNode;var o=e.memoizedProps,l=Pm(n,o);a.props=l;var c=a.context,u=n.contextType;s=Xb,typeof u=="object"&&u!==null&&(s=Fs(u));var f=n.getDerivedStateFromProps;u=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,u||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o||c!==s)&&W4(e,a,i,s),td=!1;var h=e.memoizedState;a.state=h,Nx(e,i,a,r),Dx(),c=e.memoizedState,o||h!==c||td?(typeof f=="function"&&(UR(e,n,f,i),c=e.memoizedState),(l=td||G4(e,n,l,i,h,c,s))?(u||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),a.props=i,a.state=c,a.context=s,i=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,hD(t,e),s=e.memoizedProps,u=Pm(n,s),a.props=u,f=e.pendingProps,h=a.context,c=n.contextType,l=Xb,typeof c=="object"&&c!==null&&(l=Fs(c)),o=n.getDerivedStateFromProps,(c=typeof o=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||h!==l)&&W4(e,a,i,l),td=!1,h=e.memoizedState,a.state=h,Nx(e,i,a,r),Dx();var d=e.memoizedState;s!==f||h!==d||td||t!==null&&t.dependencies!==null&&uM(t.dependencies)?(typeof o=="function"&&(UR(e,n,o,i),d=e.memoizedState),(u=td||G4(e,n,u,i,h,d,l)||t!==null&&t.dependencies!==null&&uM(t.dependencies))?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,d,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,d,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=d),a.props=i,a.state=d,a.context=l,i=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),i=!1)}return a=i,DE(t,e),i=(e.flags&128)!==0,a||i?(a=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&i?(e.child=I0(e,t.child,null,r),e.child=I0(e,null,n,r)):ls(t,e,n,r),e.memoizedState=a.state,t=e.child):t=ih(t,e,r),t}function Z4(t,e,n,i){return Q1(),e.flags|=256,ls(t,e,n,i),e.child}var FR={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zR(t){return{baseLanes:t,cachePool:YG()}}function jR(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=tc),t}function V7(t,e,n){var i=e.pendingProps,r=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(Na.current&2)!==0),s&&(r=!0,e.flags&=-129),s=(e.flags&32)!==0,e.flags&=-33,t===null){if(Hi){if(r?od(e):ld(),Hi){var o=aa,l;if(l=o){e:{for(l=o,o=Nu;l.nodeType!==8;){if(!o){o=null;break e}if(l=nu(l.nextSibling),l===null){o=null;break e}}o=l}o!==null?(e.memoizedState={dehydrated:o,treeContext:bm!==null?{id:zf,overflow:jf}:null,retryLane:536870912,hydrationErrors:null},l=sl(18,null,null,0),l.stateNode=o,l.return=e,e.child=l,so=e,aa=null,l=!0):l=!1}l||Im(e)}if(o=e.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return OD(o)?e.lanes=32:e.lanes=536870912,null;Hf(e)}return o=i.children,i=i.fallback,r?(ld(),r=e.mode,o=yM({mode:"hidden",children:o},r),i=gm(i,r,n,null),o.return=e,i.return=e,o.sibling=i,e.child=o,r=e.child,r.memoizedState=zR(n),r.childLanes=jR(t,s,n),e.memoizedState=FR,i):(od(e),_D(e,o))}if(l=t.memoizedState,l!==null&&(o=l.dehydrated,o!==null)){if(a)e.flags&256?(od(e),e.flags&=-257,e=BR(t,e,n)):e.memoizedState!==null?(ld(),e.child=t.child,e.flags|=128,e=null):(ld(),r=i.fallback,o=e.mode,i=yM({mode:"visible",children:i.children},o),r=gm(r,o,n,null),r.flags|=2,i.return=e,r.return=e,i.sibling=r,e.child=i,I0(e,t.child,null,n),i=e.child,i.memoizedState=zR(n),i.childLanes=jR(t,s,n),e.memoizedState=FR,e=r);else if(od(e),OD(o)){if(s=o.nextSibling&&o.nextSibling.dataset,s)var c=s.dgst;s=c,i=Error(Rt(419)),i.stack="",i.digest=s,l1({value:i,source:null,stack:null}),e=BR(t,e,n)}else if(Xa||e_(t,e,n,!1),s=(n&t.childLanes)!==0,Xa||s){if(s=Ar,s!==null&&(i=n&-n,i=i&42?1:NI(i),i=i&(s.suspendedLanes|n)?0:i,i!==0&&i!==l.retryLane))throw l.retryLane=i,by(t,i),hl(s,t,i),j7;o.data==="$?"||TD(),e=BR(t,e,n)}else o.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=l.treeContext,aa=nu(o.nextSibling),so=e,Hi=!0,ym=null,Nu=!1,t!==null&&(Kl[Yl++]=zf,Kl[Yl++]=jf,Kl[Yl++]=bm,zf=t.id,jf=t.overflow,bm=e),e=_D(e,i.children),e.flags|=4096);return e}return r?(ld(),r=i.fallback,o=e.mode,l=t.child,c=l.sibling,i=Kf(l,{mode:"hidden",children:i.children}),i.subtreeFlags=l.subtreeFlags&65011712,c!==null?r=Kf(c,r):(r=gm(r,o,n,null),r.flags|=2),r.return=e,i.return=e,i.sibling=r,e.child=i,i=r,r=e.child,o=t.child.memoizedState,o===null?o=zR(n):(l=o.cachePool,l!==null?(c=Da._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=YG(),o={baseLanes:o.baseLanes|n,cachePool:l}),r.memoizedState=o,r.childLanes=jR(t,s,n),e.memoizedState=FR,i):(od(e),n=t.child,t=n.sibling,n=Kf(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=n,e.memoizedState=null,n)}function _D(t,e){return e=yM({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function yM(t,e){return t=sl(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function BR(t,e,n){return I0(e,t.child,null,n),t=_D(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Q4(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),lD(t.return,e,n)}function HR(t,e,n,i,r){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r)}function G7(t,e,n){var i=e.pendingProps,r=i.revealOrder,a=i.tail;if(ls(t,e,i.children,n),i=Na.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Q4(t,n,e);else if(t.tag===19)Q4(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}switch(Hr(Na,i),r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&mM(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),HR(e,!1,r,n,a);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&mM(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}HR(e,!0,n,null,a);break;case"together":HR(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ih(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Nd|=e.lanes,!(n&e.childLanes))if(t!==null){if(e_(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(Rt(153));if(e.child!==null){for(t=e.child,n=Kf(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Kf(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function lO(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&uM(t)))}function eae(t,e,n){switch(e.tag){case 3:nM(e,e.stateNode.containerInfo),sd(e,Da,t.memoizedState.cache),Q1();break;case 27:case 5:J8(e);break;case 4:nM(e,e.stateNode.containerInfo);break;case 10:sd(e,e.type,e.memoizedProps.value);break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(od(e),e.flags|=128,null):n&e.child.childLanes?V7(t,e,n):(od(e),t=ih(t,e,n),t!==null?t.sibling:null);od(e);break;case 19:var r=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(e_(t,e,n,!1),i=(n&e.childLanes)!==0),r){if(i)return G7(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Hr(Na,Na.current),i)break;return null;case 22:case 23:return e.lanes=0,H7(t,e,n);case 24:sd(e,Da,t.memoizedState.cache)}return ih(t,e,n)}function W7(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Xa=!0;else{if(!lO(t,n)&&!(e.flags&128))return Xa=!1,eae(t,e,n);Xa=!!(t.flags&131072)}else Xa=!1,Hi&&e.flags&1048576&&XG(e,cM,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var i=e.elementType,r=i._init;if(i=r(i._payload),e.type=i,typeof i=="function")VI(i)?(t=Pm(i,t),e.tag=1,e=$4(null,e,i,t,n)):(e.tag=0,e=xD(null,e,i,t,n));else{if(i!=null){if(r=i.$$typeof,r===RI){e.tag=11,e=X4(null,e,i,t,n);break e}else if(r===kI){e.tag=14,e=K4(null,e,i,t,n);break e}}throw e=K8(i)||i,Error(Rt(306,e,""))}}return e;case 0:return xD(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,r=Pm(i,e.pendingProps),$4(t,e,i,r,n);case 3:e:{if(nM(e,e.stateNode.containerInfo),t===null)throw Error(Rt(387));i=e.pendingProps;var a=e.memoizedState;r=a.element,hD(t,e),Nx(e,i,null,n);var s=e.memoizedState;if(i=s.cache,sd(e,Da,i),i!==a.cache&&cD(e,[Da],n,!0),Dx(),i=s.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:s.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=Z4(t,e,i,n);break e}else if(i!==r){r=Zl(Error(Rt(424)),e),l1(r),e=Z4(t,e,i,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(aa=nu(t.firstChild),so=e,Hi=!0,ym=null,Nu=!0,n=I7(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Q1(),i===r){e=ih(t,e,n);break e}ls(t,e,i,n)}e=e.child}return e;case 26:return DE(t,e),t===null?(n=gF(e.type,null,e.pendingProps,null))?e.memoizedState=n:Hi||(n=e.type,t=e.pendingProps,i=MM(xd.current).createElement(n),i[Us]=e,i[Do]=t,ps(i,n,t),qa(i),e.stateNode=i):e.memoizedState=gF(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return J8(e),t===null&&Hi&&(i=e.stateNode=DW(e.type,e.pendingProps,xd.current),so=e,Nu=!0,r=aa,Bd(e.type)?(LD=r,aa=nu(i.firstChild)):aa=r),ls(t,e,e.pendingProps.children,n),DE(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Hi&&((r=i=aa)&&(i=Cae(i,e.type,e.pendingProps,Nu),i!==null?(e.stateNode=i,so=e,aa=nu(i.firstChild),Nu=!1,r=!0):r=!1),r||Im(e)),J8(e),r=e.type,a=e.pendingProps,s=t!==null?t.memoizedProps:null,i=a.children,ND(r,a)?i=null:s!==null&&ND(r,s)&&(e.flags|=32),e.memoizedState!==null&&(r=$I(t,e,qre,null,null,n),p1._currentValue=r),DE(t,e),ls(t,e,i,n),e.child;case 6:return t===null&&Hi&&((t=n=aa)&&(n=Rae(n,e.pendingProps,Nu),n!==null?(e.stateNode=n,so=e,aa=null,t=!0):t=!1),t||Im(e)),null;case 13:return V7(t,e,n);case 4:return nM(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=I0(e,null,i,n):ls(t,e,i,n),e.child;case 11:return X4(t,e,e.type,e.pendingProps,n);case 7:return ls(t,e,e.pendingProps,n),e.child;case 8:return ls(t,e,e.pendingProps.children,n),e.child;case 12:return ls(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,sd(e,e.type,i.value),ls(t,e,i.children,n),e.child;case 9:return r=e.type._context,i=e.pendingProps.children,Om(e),r=Fs(r),i=i(r),e.flags|=1,ls(t,e,i,n),e.child;case 14:return K4(t,e,e.type,e.pendingProps,n);case 15:return B7(t,e,e.type,e.pendingProps,n);case 19:return G7(t,e,n);case 31:return i=e.pendingProps,n=e.mode,i={mode:i.mode,children:i.children},t===null?(n=yM(i,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=Kf(t.child,i),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return H7(t,e,n);case 24:return Om(e),i=Fs(Da),t===null?(r=XI(),r===null&&(r=Ar,a=qI(),r.pooledCache=a,a.refCount++,a!==null&&(r.pooledCacheLanes|=n),r=a),e.memoizedState={parent:i,cache:r},KI(e),sd(e,Da,r)):(t.lanes&n&&(hD(t,e),Nx(e,null,null,n),Dx()),r=t.memoizedState,a=e.memoizedState,r.parent!==i?(r={parent:i,cache:i},e.memoizedState=r,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=r),sd(e,Da,i)):(i=a.cache,sd(e,Da,i),i!==r.cache&&cD(e,[Da],n,!0))),ls(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(Rt(156,e.tag))}function wf(t){t.flags|=4}function eF(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!OW(e)){if(e=lc.current,e!==null&&((ki&4194048)===ki?Hu!==null:(ki&62914560)!==ki&&!(ki&536870912)||e!==Hu))throw Rx=fD,JG;t.flags|=8192}}function CS(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?bG():536870912,t.lanes|=e,O0|=e)}function _v(t,e){if(!Hi)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Wr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function tae(t,e,n){var i=e.pendingProps;switch(WI(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wr(e),null;case 1:return Wr(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Yf(Da),T0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(vv(e)?wf(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,k4())),Wr(e),null;case 26:return n=e.memoizedState,t===null?(wf(e),n!==null?(Wr(e),eF(e,n)):(Wr(e),e.flags&=-16777217)):n?n!==t.memoizedState?(wf(e),Wr(e),eF(e,n)):(Wr(e),e.flags&=-16777217):(t.memoizedProps!==i&&wf(e),Wr(e),e.flags&=-16777217),null;case 27:iM(e),n=xd.current;var r=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==i&&wf(e);else{if(!i){if(e.stateNode===null)throw Error(Rt(166));return Wr(e),null}t=ju.current,vv(e)?C4(e):(t=DW(r,i,n),e.stateNode=t,wf(e))}return Wr(e),null;case 5:if(iM(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&wf(e);else{if(!i){if(e.stateNode===null)throw Error(Rt(166));return Wr(e),null}if(t=ju.current,vv(e))C4(e);else{switch(r=MM(xd.current),t){case 1:t=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=r.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof i.is=="string"?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?t.multiple=!0:i.size&&(t.size=i.size);break;default:t=typeof i.is=="string"?r.createElement(n,{is:i.is}):r.createElement(n)}}t[Us]=e,t[Do]=i;e:for(r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}e.stateNode=t;e:switch(ps(t,n,i),n){case"button":case"input":case"select":case"textarea":t=!!i.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&wf(e)}}return Wr(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&wf(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Rt(166));if(t=xd.current,vv(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,r=so,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}t[Us]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||CW(t.nodeValue,n)),t||Im(e)}else t=MM(t).createTextNode(i),t[Us]=e,e.stateNode=t}return Wr(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(r=vv(e),i!==null&&i.dehydrated!==null){if(t===null){if(!r)throw Error(Rt(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(Rt(317));r[Us]=e}else Q1(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Wr(e),r=!1}else r=k4(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),r=!0;if(!r)return e.flags&256?(Hf(e),e):(Hf(e),null)}if(Hf(e),e.flags&128)return e.lanes=n,e;if(n=i!==null,t=t!==null&&t.memoizedState!==null,n){i=e.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool);var a=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==r&&(i.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),CS(e,e.updateQueue),Wr(e),null;case 4:return T0(),t===null&&gO(e.stateNode.containerInfo),Wr(e),null;case 10:return Yf(e.type),Wr(e),null;case 19:if(Ya(Na),r=e.memoizedState,r===null)return Wr(e),null;if(i=(e.flags&128)!==0,a=r.rendering,a===null)if(i)_v(r,!1);else{if(sa!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=mM(t),a!==null){for(e.flags|=128,_v(r,!1),t=a.updateQueue,e.updateQueue=t,CS(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)qG(n,t),n=n.sibling;return Hr(Na,Na.current&1|2),e.child}t=t.sibling}r.tail!==null&&Bu()>xM&&(e.flags|=128,i=!0,_v(r,!1),e.lanes=4194304)}else{if(!i)if(t=mM(a),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,CS(e,t),_v(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!Hi)return Wr(e),null}else 2*Bu()-r.renderingStartTime>xM&&n!==536870912&&(e.flags|=128,i=!0,_v(r,!1),e.lanes=4194304);r.isBackwards?(a.sibling=e.child,e.child=a):(t=r.last,t!==null?t.sibling=a:e.child=a,r.last=a)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Bu(),e.sibling=null,t=Na.current,Hr(Na,i?t&1|2:t&1),e):(Wr(e),null);case 22:case 23:return Hf(e),YI(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(Wr(e),e.subtreeFlags&6&&(e.flags|=8192)):Wr(e),n=e.updateQueue,n!==null&&CS(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&Ya(vm),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Yf(Da),Wr(e),null;case 25:return null;case 30:return null}throw Error(Rt(156,e.tag))}function nae(t,e){switch(WI(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Yf(Da),T0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return iM(e),null;case 13:if(Hf(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Rt(340));Q1()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ya(Na),null;case 4:return T0(),null;case 10:return Yf(e.type),null;case 22:case 23:return Hf(e),YI(),t!==null&&Ya(vm),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Yf(Da),null;case 25:return null;default:return null}}function q7(t,e){switch(WI(e),e.tag){case 3:Yf(Da),T0();break;case 26:case 27:case 5:iM(e);break;case 4:T0();break;case 13:Hf(e);break;case 19:Ya(Na);break;case 10:Yf(e.type);break;case 22:case 23:Hf(e),YI(),t!==null&&Ya(vm);break;case 24:Yf(Da)}}function a_(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&t)===t){i=void 0;var a=n.create,s=n.inst;i=a(),s.destroy=i}n=n.next}while(n!==r)}}catch(o){br(e,e.return,o)}}function Dd(t,e,n){try{var i=e.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var a=r.next;i=a;do{if((i.tag&t)===t){var s=i.inst,o=s.destroy;if(o!==void 0){s.destroy=void 0,r=e;var l=n,c=o;try{c()}catch(u){br(r,l,u)}}}i=i.next}while(i!==a)}}catch(u){br(e,e.return,u)}}function X7(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{QG(e,n)}catch(i){br(t,t.return,i)}}}function K7(t,e,n){n.props=Pm(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){br(t,e,i)}}function Ox(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(r){br(t,e,r)}}function Pu(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){br(t,e,r)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){br(t,e,r)}else n.current=null}function Y7(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){br(t,t.return,r)}}function VR(t,e,n){try{var i=t.stateNode;wae(i,t.type,n,e),i[Do]=e}catch(r){br(t,t.return,r)}}function J7(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Bd(t.type)||t.tag===4}function GR(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||J7(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Bd(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function SD(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ST));else if(i!==4&&(i===27&&Bd(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(SD(t,e,n),t=t.sibling;t!==null;)SD(t,e,n),t=t.sibling}function vM(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&Bd(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(vM(t,e,n),t=t.sibling;t!==null;)vM(t,e,n),t=t.sibling}function $7(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,r=e.attributes;r.length;)e.removeAttributeNode(r[0]);ps(e,i,n),e[Us]=t,e[Do]=n}catch(a){br(t,t.return,a)}}var Lf=!1,da=!1,WR=!1,tF=typeof WeakSet=="function"?WeakSet:Set,Ga=null;function iae(t,e){if(t=t.containerInfo,kD=RM,t=FG(t),jI(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,c=0,u=0,f=t,h=null;t:for(;;){for(var d;f!==n||r!==0&&f.nodeType!==3||(o=s+r),f!==a||i!==0&&f.nodeType!==3||(l=s+i),f.nodeType===3&&(s+=f.nodeValue.length),(d=f.firstChild)!==null;)h=f,f=d;for(;;){if(f===t)break t;if(h===n&&++c===r&&(o=s),h===a&&++u===i&&(l=s),(d=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=d}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(DD={focusedElem:t,selectionRange:n},RM=!1,Ga=e;Ga!==null;)if(e=Ga,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,Ga=t;else for(;Ga!==null;){switch(e=Ga,a=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,n=e,r=a.memoizedProps,a=a.memoizedState,i=n.stateNode;try{var b=Pm(n.type,r,n.elementType===n.type);t=i.getSnapshotBeforeUpdate(b,a),i.__reactInternalSnapshotBeforeUpdate=t}catch(y){br(n,n.return,y)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)ID(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ID(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(Rt(163))}if(t=e.sibling,t!==null){t.return=e.return,Ga=t;break}Ga=e.return}}function Z7(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Fh(t,n),i&4&&a_(5,n);break;case 1:if(Fh(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(s){br(n,n.return,s)}else{var r=Pm(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(r,e,t.__reactInternalSnapshotBeforeUpdate)}catch(s){br(n,n.return,s)}}i&64&&X7(n),i&512&&Ox(n,n.return);break;case 3:if(Fh(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{QG(t,e)}catch(s){br(n,n.return,s)}}break;case 27:e===null&&i&4&&$7(n);case 26:case 5:Fh(t,n),e===null&&i&4&&Y7(n),i&512&&Ox(n,n.return);break;case 12:Fh(t,n);break;case 13:Fh(t,n),i&4&&tW(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=hae.bind(null,n),kae(t,n))));break;case 22:if(i=n.memoizedState!==null||Lf,!i){e=e!==null&&e.memoizedState!==null||da,r=Lf;var a=da;Lf=i,(da=e)&&!a?Zh(t,n,(n.subtreeFlags&8772)!==0):Fh(t,n),Lf=r,da=a}break;case 30:break;default:Fh(t,n)}}function Q7(t){var e=t.alternate;e!==null&&(t.alternate=null,Q7(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&OI(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var zr=null,Eo=!1;function Ef(t,e,n){for(n=n.child;n!==null;)eW(t,e,n),n=n.sibling}function eW(t,e,n){if(cl&&typeof cl.onCommitFiberUnmount=="function")try{cl.onCommitFiberUnmount(K1,n)}catch{}switch(n.tag){case 26:da||Pu(n,e),Ef(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:da||Pu(n,e);var i=zr,r=Eo;Bd(n.type)&&(zr=n.stateNode,Eo=!1),Ef(t,e,n),Fx(n.stateNode),zr=i,Eo=r;break;case 5:da||Pu(n,e);case 6:if(i=zr,r=Eo,zr=null,Ef(t,e,n),zr=i,Eo=r,zr!==null)if(Eo)try{(zr.nodeType===9?zr.body:zr.nodeName==="HTML"?zr.ownerDocument.body:zr).removeChild(n.stateNode)}catch(a){br(n,e,a)}else try{zr.removeChild(n.stateNode)}catch(a){br(n,e,a)}break;case 18:zr!==null&&(Eo?(t=zr,dF(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),b1(t)):dF(zr,n.stateNode));break;case 4:i=zr,r=Eo,zr=n.stateNode.containerInfo,Eo=!0,Ef(t,e,n),zr=i,Eo=r;break;case 0:case 11:case 14:case 15:da||Dd(2,n,e),da||Dd(4,n,e),Ef(t,e,n);break;case 1:da||(Pu(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&K7(n,e,i)),Ef(t,e,n);break;case 21:Ef(t,e,n);break;case 22:da=(i=da)||n.memoizedState!==null,Ef(t,e,n),da=i;break;default:Ef(t,e,n)}}function tW(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{b1(t)}catch(n){br(e,e.return,n)}}function rae(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new tF),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new tF),e;default:throw Error(Rt(435,t.tag))}}function qR(t,e){var n=rae(t);e.forEach(function(i){var r=dae.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}function $o(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 27:if(Bd(o.type)){zr=o.stateNode,Eo=!1;break e}break;case 5:zr=o.stateNode,Eo=!1;break e;case 3:case 4:zr=o.stateNode.containerInfo,Eo=!0;break e}o=o.return}if(zr===null)throw Error(Rt(160));eW(a,s,r),zr=null,Eo=!1,a=r.alternate,a!==null&&(a.return=null),r.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)nW(e,t),e=e.sibling}var zc=null;function nW(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:$o(e,t),Zo(t),i&4&&(Dd(3,t,t.return),a_(3,t),Dd(5,t,t.return));break;case 1:$o(e,t),Zo(t),i&512&&(da||n===null||Pu(n,n.return)),i&64&&Lf&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=zc;if($o(e,t),Zo(t),i&512&&(da||n===null||Pu(n,n.return)),i&4){var a=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,r=r.ownerDocument||r;t:switch(i){case"title":a=r.getElementsByTagName("title")[0],(!a||a[$1]||a[Us]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=r.createElement(i),r.head.insertBefore(a,r.querySelector("head > title"))),ps(a,i,n),a[Us]=t,qa(a),i=a;break e;case"link":var s=yF("link","href",r).get(i+(n.href||""));if(s){for(var o=0;o<s.length;o++)if(a=s[o],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(o,1);break t}}a=r.createElement(i),ps(a,i,n),r.head.appendChild(a);break;case"meta":if(s=yF("meta","content",r).get(i+(n.content||""))){for(o=0;o<s.length;o++)if(a=s[o],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(o,1);break t}}a=r.createElement(i),ps(a,i,n),r.head.appendChild(a);break;default:throw Error(Rt(468,i))}a[Us]=t,qa(a),i=a}t.stateNode=i}else vF(r,t.type,t.stateNode);else t.stateNode=bF(r,i,t.memoizedProps);else a!==i?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,i===null?vF(r,t.type,t.stateNode):bF(r,i,t.memoizedProps)):i===null&&t.stateNode!==null&&VR(t,t.memoizedProps,n.memoizedProps)}break;case 27:$o(e,t),Zo(t),i&512&&(da||n===null||Pu(n,n.return)),n!==null&&i&4&&VR(t,t.memoizedProps,n.memoizedProps);break;case 5:if($o(e,t),Zo(t),i&512&&(da||n===null||Pu(n,n.return)),t.flags&32){r=t.stateNode;try{R0(r,"")}catch(d){br(t,t.return,d)}}i&4&&t.stateNode!=null&&(r=t.memoizedProps,VR(t,r,n!==null?n.memoizedProps:r)),i&1024&&(WR=!0);break;case 6:if($o(e,t),Zo(t),i&4){if(t.stateNode===null)throw Error(Rt(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(d){br(t,t.return,d)}}break;case 3:if(OE=null,r=zc,zc=AM(e.containerInfo),$o(e,t),zc=r,Zo(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{b1(e.containerInfo)}catch(d){br(t,t.return,d)}WR&&(WR=!1,iW(t));break;case 4:i=zc,zc=AM(t.stateNode.containerInfo),$o(e,t),Zo(t),zc=i;break;case 12:$o(e,t),Zo(t);break;case 13:$o(e,t),Zo(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(dO=Bu()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,qR(t,i)));break;case 22:r=t.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,c=Lf,u=da;if(Lf=c||r,da=u||l,$o(e,t),da=u,Lf=c,Zo(t),i&8192)e:for(e=t.stateNode,e._visibility=r?e._visibility&-2:e._visibility|1,r&&(n===null||l||Lf||da||Hp(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){l=n=e;try{if(a=l.stateNode,r)s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{o=l.stateNode;var f=l.memoizedProps.style,h=f!=null&&f.hasOwnProperty("display")?f.display:null;o.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(d){br(l,l.return,d)}}}else if(e.tag===6){if(n===null){l=e;try{l.stateNode.nodeValue=r?"":l.memoizedProps}catch(d){br(l,l.return,d)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,qR(t,n))));break;case 19:$o(e,t),Zo(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,qR(t,i)));break;case 30:break;case 21:break;default:$o(e,t),Zo(t)}}function Zo(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if(J7(i)){n=i;break}i=i.return}if(n==null)throw Error(Rt(160));switch(n.tag){case 27:var r=n.stateNode,a=GR(t);vM(t,a,r);break;case 5:var s=n.stateNode;n.flags&32&&(R0(s,""),n.flags&=-33);var o=GR(t);vM(t,o,s);break;case 3:case 4:var l=n.stateNode.containerInfo,c=GR(t);SD(t,c,l);break;default:throw Error(Rt(161))}}catch(u){br(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function iW(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;iW(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Fh(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Z7(t,e.alternate,e),e=e.sibling}function Hp(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Dd(4,e,e.return),Hp(e);break;case 1:Pu(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&K7(e,e.return,n),Hp(e);break;case 27:Fx(e.stateNode);case 26:case 5:Pu(e,e.return),Hp(e);break;case 22:e.memoizedState===null&&Hp(e);break;case 30:Hp(e);break;default:Hp(e)}t=t.sibling}}function Zh(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,r=t,a=e,s=a.flags;switch(a.tag){case 0:case 11:case 15:Zh(r,a,n),a_(4,a);break;case 1:if(Zh(r,a,n),i=a,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(c){br(i,i.return,c)}if(i=a,r=i.updateQueue,r!==null){var o=i.stateNode;try{var l=r.shared.hiddenCallbacks;if(l!==null)for(r.shared.hiddenCallbacks=null,r=0;r<l.length;r++)ZG(l[r],o)}catch(c){br(i,i.return,c)}}n&&s&64&&X7(a),Ox(a,a.return);break;case 27:$7(a);case 26:case 5:Zh(r,a,n),n&&i===null&&s&4&&Y7(a),Ox(a,a.return);break;case 12:Zh(r,a,n);break;case 13:Zh(r,a,n),n&&s&4&&tW(r,a);break;case 22:a.memoizedState===null&&Zh(r,a,n),Ox(a,a.return);break;case 30:break;default:Zh(r,a,n)}e=e.sibling}}function cO(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&t_(n))}function uO(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&t_(t))}function _u(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)rW(t,e,n,i),e=e.sibling}function rW(t,e,n,i){var r=e.flags;switch(e.tag){case 0:case 11:case 15:_u(t,e,n,i),r&2048&&a_(9,e);break;case 1:_u(t,e,n,i);break;case 3:_u(t,e,n,i),r&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&t_(t)));break;case 12:if(r&2048){_u(t,e,n,i),t=e.stateNode;try{var a=e.memoizedProps,s=a.id,o=a.onPostCommit;typeof o=="function"&&o(s,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(l){br(e,e.return,l)}}else _u(t,e,n,i);break;case 13:_u(t,e,n,i);break;case 23:break;case 22:a=e.stateNode,s=e.alternate,e.memoizedState!==null?a._visibility&2?_u(t,e,n,i):Lx(t,e):a._visibility&2?_u(t,e,n,i):(a._visibility|=2,Nb(t,e,n,i,(e.subtreeFlags&10256)!==0)),r&2048&&cO(s,e);break;case 24:_u(t,e,n,i),r&2048&&uO(e.alternate,e);break;default:_u(t,e,n,i)}}function Nb(t,e,n,i,r){for(r=r&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var a=t,s=e,o=n,l=i,c=s.flags;switch(s.tag){case 0:case 11:case 15:Nb(a,s,o,l,r),a_(8,s);break;case 23:break;case 22:var u=s.stateNode;s.memoizedState!==null?u._visibility&2?Nb(a,s,o,l,r):Lx(a,s):(u._visibility|=2,Nb(a,s,o,l,r)),r&&c&2048&&cO(s.alternate,s);break;case 24:Nb(a,s,o,l,r),r&&c&2048&&uO(s.alternate,s);break;default:Nb(a,s,o,l,r)}e=e.sibling}}function Lx(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,r=i.flags;switch(i.tag){case 22:Lx(n,i),r&2048&&cO(i.alternate,i);break;case 24:Lx(n,i),r&2048&&uO(i.alternate,i);break;default:Lx(n,i)}e=e.sibling}}var hx=8192;function Ug(t){if(t.subtreeFlags&hx)for(t=t.child;t!==null;)aW(t),t=t.sibling}function aW(t){switch(t.tag){case 26:Ug(t),t.flags&hx&&t.memoizedState!==null&&Vae(zc,t.memoizedState,t.memoizedProps);break;case 5:Ug(t);break;case 3:case 4:var e=zc;zc=AM(t.stateNode.containerInfo),Ug(t),zc=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=hx,hx=16777216,Ug(t),hx=e):Ug(t));break;default:Ug(t)}}function sW(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Sv(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Ga=i,lW(i,t)}sW(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)oW(t),t=t.sibling}function oW(t){switch(t.tag){case 0:case 11:case 15:Sv(t),t.flags&2048&&Dd(9,t,t.return);break;case 3:Sv(t);break;case 12:Sv(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,NE(t)):Sv(t);break;default:Sv(t)}}function NE(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Ga=i,lW(i,t)}sW(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Dd(8,e,e.return),NE(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,NE(e));break;default:NE(e)}t=t.sibling}}function lW(t,e){for(;Ga!==null;){var n=Ga;switch(n.tag){case 0:case 11:case 15:Dd(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:t_(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Ga=i;else e:for(n=t;Ga!==null;){i=Ga;var r=i.sibling,a=i.return;if(Q7(i),i===n){Ga=null;break e}if(r!==null){r.return=a,Ga=r;break e}Ga=a}}}var aae={getCacheForType:function(t){var e=Fs(Da),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},sae=typeof WeakMap=="function"?WeakMap:Map,or=0,Ar=null,pi=null,ki=0,sr=0,rl=null,md=!1,yy=!1,fO=!1,rh=0,sa=0,Nd=0,xm=0,hO=0,tc=0,O0=0,Px=null,Mo=null,wD=!1,dO=0,xM=1/0,_M=null,wd=null,hs=0,Ed=null,L0=null,c0=0,ED=0,MD=null,cW=null,Ux=0,AD=null;function fl(){if(or&2&&ki!==0)return ki&-ki;if(Nn.T!==null){var t=k0;return t!==0?t:mO()}return xG()}function uW(){tc===0&&(tc=!(ki&536870912)||Hi?gG():536870912);var t=lc.current;return t!==null&&(t.flags|=32),tc}function hl(t,e,n){(t===Ar&&(sr===2||sr===9)||t.cancelPendingCommit!==null)&&(P0(t,0),gd(t,ki,tc,!1)),J1(t,n),(!(or&2)||t!==Ar)&&(t===Ar&&(!(or&2)&&(xm|=n),sa===4&&gd(t,ki,tc,!1)),tf(t))}function fW(t,e,n){if(or&6)throw Error(Rt(327));var i=!n&&(e&124)===0&&(e&t.expiredLanes)===0||Y1(t,e),r=i?cae(t,e):XR(t,e,!0),a=i;do{if(r===0){yy&&!i&&gd(t,e,0,!1);break}else{if(n=t.current.alternate,a&&!oae(n)){r=XR(t,e,!1),a=!1;continue}if(r===2){if(a=e,t.errorRecoveryDisabledLanes&a)var s=0;else s=t.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){e=s;e:{var o=t;r=Px;var l=o.current.memoizedState.isDehydrated;if(l&&(P0(o,s).flags|=256),s=XR(o,s,!1),s!==2){if(fO&&!l){o.errorRecoveryDisabledLanes|=a,xm|=a,r=4;break e}a=Mo,Mo=r,a!==null&&(Mo===null?Mo=a:Mo.push.apply(Mo,a))}r=s}if(a=!1,r!==2)continue}}if(r===1){P0(t,0),gd(t,e,0,!0);break}e:{switch(i=t,a=r,a){case 0:case 1:throw Error(Rt(345));case 4:if((e&4194048)!==e)break;case 6:gd(i,e,tc,!md);break e;case 2:Mo=null;break;case 3:case 5:break;default:throw Error(Rt(329))}if((e&62914560)===e&&(r=dO+300-Bu(),10<r)){if(gd(i,e,tc,!md),cT(i,0,!0)!==0)break e;i.timeoutHandle=kW(nF.bind(null,i,n,Mo,_M,wD,e,tc,xm,O0,md,a,2,-0,0),r);break e}nF(i,n,Mo,_M,wD,e,tc,xm,O0,md,a,0,-0,0)}}break}while(!0);tf(t)}function nF(t,e,n,i,r,a,s,o,l,c,u,f,h,d){if(t.timeoutHandle=-1,f=e.subtreeFlags,(f&8192||(f&16785408)===16785408)&&(d1={stylesheets:null,count:0,unsuspend:Hae},aW(e),f=Gae(),f!==null)){t.cancelPendingCommit=f(rF.bind(null,t,e,a,n,i,r,s,o,l,u,1,h,d)),gd(t,a,s,!c);return}rF(t,e,a,n,i,r,s,o,l)}function oae(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],a=r.getSnapshot;r=r.value;try{if(!gl(a(),r))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function gd(t,e,n,i){e&=~hO,e&=~xm,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var r=e;0<r;){var a=31-ul(r),s=1<<a;i[a]=-1,r&=~s}n!==0&&yG(t,n,e)}function vT(){return or&6?!0:(s_(0),!1)}function pO(){if(pi!==null){if(sr===0)var t=pi.return;else t=pi,Bf=Qm=null,eO(t),l0=null,u1=0,t=pi;for(;t!==null;)q7(t.alternate,t),t=t.return;pi=null}}function P0(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,Mae(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),pO(),Ar=t,pi=n=Kf(t.current,null),ki=e,sr=0,rl=null,md=!1,yy=Y1(t,e),fO=!1,O0=tc=hO=xm=Nd=sa=0,Mo=Px=null,wD=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var r=31-ul(i),a=1<<r;e|=t[r],i&=~a}return rh=e,dT(),n}function hW(t,e){ci=null,Nn.H=pM,e===n_||e===mT?(e=O4(),sr=3):e===JG?(e=O4(),sr=4):sr=e===j7?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,rl=e,pi===null&&(sa=1,bM(t,Zl(e,t.current)))}function dW(){var t=Nn.H;return Nn.H=pM,t===null?pM:t}function pW(){var t=Nn.A;return Nn.A=aae,t}function TD(){sa=4,md||(ki&4194048)!==ki&&lc.current!==null||(yy=!0),!(Nd&134217727)&&!(xm&134217727)||Ar===null||gd(Ar,ki,tc,!1)}function XR(t,e,n){var i=or;or|=2;var r=dW(),a=pW();(Ar!==t||ki!==e)&&(_M=null,P0(t,e)),e=!1;var s=sa;e:do try{if(sr!==0&&pi!==null){var o=pi,l=rl;switch(sr){case 8:pO(),s=6;break e;case 3:case 2:case 9:case 6:lc.current===null&&(e=!0);var c=sr;if(sr=0,rl=null,Jb(t,o,l,c),n&&yy){s=0;break e}break;default:c=sr,sr=0,rl=null,Jb(t,o,l,c)}}lae(),s=sa;break}catch(u){hW(t,u)}while(!0);return e&&t.shellSuspendCounter++,Bf=Qm=null,or=i,Nn.H=r,Nn.A=a,pi===null&&(Ar=null,ki=0,dT()),s}function lae(){for(;pi!==null;)mW(pi)}function cae(t,e){var n=or;or|=2;var i=dW(),r=pW();Ar!==t||ki!==e?(_M=null,xM=Bu()+500,P0(t,e)):yy=Y1(t,e);e:do try{if(sr!==0&&pi!==null){e=pi;var a=rl;t:switch(sr){case 1:sr=0,rl=null,Jb(t,e,a,1);break;case 2:case 9:if(I4(a)){sr=0,rl=null,iF(e);break}e=function(){sr!==2&&sr!==9||Ar!==t||(sr=7),tf(t)},a.then(e,e);break e;case 3:sr=7;break e;case 4:sr=5;break e;case 7:I4(a)?(sr=0,rl=null,iF(e)):(sr=0,rl=null,Jb(t,e,a,7));break;case 5:var s=null;switch(pi.tag){case 26:s=pi.memoizedState;case 5:case 27:var o=pi;if(!s||OW(s)){sr=0,rl=null;var l=o.sibling;if(l!==null)pi=l;else{var c=o.return;c!==null?(pi=c,xT(c)):pi=null}break t}}sr=0,rl=null,Jb(t,e,a,5);break;case 6:sr=0,rl=null,Jb(t,e,a,6);break;case 8:pO(),sa=6;break e;default:throw Error(Rt(462))}}uae();break}catch(u){hW(t,u)}while(!0);return Bf=Qm=null,Nn.H=i,Nn.A=r,or=n,pi!==null?0:(Ar=null,ki=0,dT(),sa)}function uae(){for(;pi!==null&&!Nie();)mW(pi)}function mW(t){var e=W7(t.alternate,t,rh);t.memoizedProps=t.pendingProps,e===null?xT(t):pi=e}function iF(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=J4(n,e,e.pendingProps,e.type,void 0,ki);break;case 11:e=J4(n,e,e.pendingProps,e.type.render,e.ref,ki);break;case 5:eO(e);default:q7(n,e),e=pi=qG(e,rh),e=W7(n,e,rh)}t.memoizedProps=t.pendingProps,e===null?xT(t):pi=e}function Jb(t,e,n,i){Bf=Qm=null,eO(e),l0=null,u1=0;var r=e.return;try{if(Qre(t,r,e,n,ki)){sa=1,bM(t,Zl(n,t.current)),pi=null;return}}catch(a){if(r!==null)throw pi=r,a;sa=1,bM(t,Zl(n,t.current)),pi=null;return}e.flags&32768?(Hi||i===1?t=!0:yy||ki&536870912?t=!1:(md=t=!0,(i===2||i===9||i===3||i===6)&&(i=lc.current,i!==null&&i.tag===13&&(i.flags|=16384))),gW(e,t)):xT(e)}function xT(t){var e=t;do{if(e.flags&32768){gW(e,md);return}t=e.return;var n=tae(e.alternate,e,rh);if(n!==null){pi=n;return}if(e=e.sibling,e!==null){pi=e;return}pi=e=t}while(e!==null);sa===0&&(sa=5)}function gW(t,e){do{var n=nae(t.alternate,t);if(n!==null){n.flags&=32767,pi=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){pi=t;return}pi=t=n}while(t!==null);sa=6,pi=null}function rF(t,e,n,i,r,a,s,o,l){t.cancelPendingCommit=null;do _T();while(hs!==0);if(or&6)throw Error(Rt(327));if(e!==null){if(e===t.current)throw Error(Rt(177));if(a=e.lanes|e.childLanes,a|=BI,Hie(t,n,a,s,o,l),t===Ar&&(pi=Ar=null,ki=0),L0=e,Ed=t,c0=n,ED=a,MD=r,cW=i,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,pae(rM,function(){return _W(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=Nn.T,Nn.T=null,r=Wi.p,Wi.p=2,s=or,or|=4;try{iae(t,e,n)}finally{or=s,Wi.p=r,Nn.T=i}}hs=1,bW(),yW(),vW()}}function bW(){if(hs===1){hs=0;var t=Ed,e=L0,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=Nn.T,Nn.T=null;var i=Wi.p;Wi.p=2;var r=or;or|=4;try{nW(e,t);var a=DD,s=FG(t.containerInfo),o=a.focusedElem,l=a.selectionRange;if(s!==o&&o&&o.ownerDocument&&UG(o.ownerDocument.documentElement,o)){if(l!==null&&jI(o)){var c=l.start,u=l.end;if(u===void 0&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var f=o.ownerDocument||document,h=f&&f.defaultView||window;if(h.getSelection){var d=h.getSelection(),b=o.textContent.length,y=Math.min(l.start,b),v=l.end===void 0?y:Math.min(l.end,b);!d.extend&&y>v&&(s=v,v=y,y=s);var m=M4(o,y),x=M4(o,v);if(m&&x&&(d.rangeCount!==1||d.anchorNode!==m.node||d.anchorOffset!==m.offset||d.focusNode!==x.node||d.focusOffset!==x.offset)){var _=f.createRange();_.setStart(m.node,m.offset),d.removeAllRanges(),y>v?(d.addRange(_),d.extend(x.node,x.offset)):(_.setEnd(x.node,x.offset),d.addRange(_))}}}}for(f=[],d=o;d=d.parentNode;)d.nodeType===1&&f.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<f.length;o++){var E=f[o];E.element.scrollLeft=E.left,E.element.scrollTop=E.top}}RM=!!kD,DD=kD=null}finally{or=r,Wi.p=i,Nn.T=n}}t.current=e,hs=2}}function yW(){if(hs===2){hs=0;var t=Ed,e=L0,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=Nn.T,Nn.T=null;var i=Wi.p;Wi.p=2;var r=or;or|=4;try{Z7(t,e.alternate,e)}finally{or=r,Wi.p=i,Nn.T=n}}hs=3}}function vW(){if(hs===4||hs===3){hs=0,Iie();var t=Ed,e=L0,n=c0,i=cW;e.subtreeFlags&10256||e.flags&10256?hs=5:(hs=0,L0=Ed=null,xW(t,t.pendingLanes));var r=t.pendingLanes;if(r===0&&(wd=null),II(n),e=e.stateNode,cl&&typeof cl.onCommitFiberRoot=="function")try{cl.onCommitFiberRoot(K1,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=Nn.T,r=Wi.p,Wi.p=2,Nn.T=null;try{for(var a=t.onRecoverableError,s=0;s<i.length;s++){var o=i[s];a(o.value,{componentStack:o.stack})}}finally{Nn.T=e,Wi.p=r}}c0&3&&_T(),tf(t),r=t.pendingLanes,n&4194090&&r&42?t===AD?Ux++:(Ux=0,AD=t):Ux=0,s_(0)}}function xW(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,t_(e)))}function _T(t){return bW(),yW(),vW(),_W()}function _W(){if(hs!==5)return!1;var t=Ed,e=ED;ED=0;var n=II(c0),i=Nn.T,r=Wi.p;try{Wi.p=32>n?32:n,Nn.T=null,n=MD,MD=null;var a=Ed,s=c0;if(hs=0,L0=Ed=null,c0=0,or&6)throw Error(Rt(331));var o=or;if(or|=4,oW(a.current),rW(a,a.current,s,n),or=o,s_(0,!1),cl&&typeof cl.onPostCommitFiberRoot=="function")try{cl.onPostCommitFiberRoot(K1,a)}catch{}return!0}finally{Wi.p=r,Nn.T=i,xW(t,e)}}function aF(t,e,n){e=Zl(n,e),e=vD(t.stateNode,e,2),t=Sd(t,e,2),t!==null&&(J1(t,2),tf(t))}function br(t,e,n){if(t.tag===3)aF(t,t,n);else for(;e!==null;){if(e.tag===3){aF(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(wd===null||!wd.has(i))){t=Zl(n,t),n=F7(2),i=Sd(e,n,2),i!==null&&(z7(n,i,e,t),J1(i,2),tf(i));break}}e=e.return}}function KR(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new sae;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(fO=!0,r.add(n),t=fae.bind(null,t,e,n),e.then(t,t))}function fae(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,Ar===t&&(ki&n)===n&&(sa===4||sa===3&&(ki&62914560)===ki&&300>Bu()-dO?!(or&2)&&P0(t,0):hO|=n,O0===ki&&(O0=0)),tf(t)}function SW(t,e){e===0&&(e=bG()),t=by(t,e),t!==null&&(J1(t,e),tf(t))}function hae(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),SW(t,n)}function dae(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(Rt(314))}i!==null&&i.delete(e),SW(t,n)}function pae(t,e){return DI(t,e)}var SM=null,Ib=null,CD=!1,wM=!1,YR=!1,_m=0;function tf(t){t!==Ib&&t.next===null&&(Ib===null?SM=Ib=t:Ib=Ib.next=t),wM=!0,CD||(CD=!0,gae())}function s_(t,e){if(!YR&&wM){YR=!0;do for(var n=!1,i=SM;i!==null;){if(t!==0){var r=i.pendingLanes;if(r===0)var a=0;else{var s=i.suspendedLanes,o=i.pingedLanes;a=(1<<31-ul(42|t)+1)-1,a&=r&~(s&~o),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,sF(i,a))}else a=ki,a=cT(i,i===Ar?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(a&3)||Y1(i,a)||(n=!0,sF(i,a));i=i.next}while(n);YR=!1}}function mae(){wW()}function wW(){wM=CD=!1;var t=0;_m!==0&&(Eae()&&(t=_m),_m=0);for(var e=Bu(),n=null,i=SM;i!==null;){var r=i.next,a=EW(i,e);a===0?(i.next=null,n===null?SM=r:n.next=r,r===null&&(Ib=n)):(n=i,(t!==0||a&3)&&(wM=!0)),i=r}s_(t)}function EW(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var s=31-ul(a),o=1<<s,l=r[s];l===-1?(!(o&n)||o&i)&&(r[s]=Bie(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}if(e=Ar,n=ki,n=cT(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&(sr===2||sr===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&_R(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Y1(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&_R(i),II(n)){case 2:case 8:n=pG;break;case 32:n=rM;break;case 268435456:n=mG;break;default:n=rM}return i=MW.bind(null,t),n=DI(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&_R(i),t.callbackPriority=2,t.callbackNode=null,2}function MW(t,e){if(hs!==0&&hs!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(_T()&&t.callbackNode!==n)return null;var i=ki;return i=cT(t,t===Ar?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(fW(t,i,e),EW(t,Bu()),t.callbackNode!=null&&t.callbackNode===n?MW.bind(null,t):null)}function sF(t,e){if(_T())return null;fW(t,e,!0)}function gae(){Aae(function(){or&6?DI(dG,mae):wW()})}function mO(){return _m===0&&(_m=gG()),_m}function oF(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:EE(""+t)}function lF(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function bae(t,e,n,i,r){if(e==="submit"&&n&&n.stateNode===r){var a=oF((r[Do]||null).action),s=i.submitter;s&&(e=(e=s[Do]||null)?oF(e.formAction):s.getAttribute("formAction"),e!==null&&(a=e,s=null));var o=new uT("action","action",null,i,r);t.push({event:o,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(_m!==0){var l=s?lF(r,s):new FormData(r);bD(n,{pending:!0,data:l,method:r.method,action:a},null,l)}}else typeof a=="function"&&(o.preventDefault(),l=s?lF(r,s):new FormData(r),bD(n,{pending:!0,data:l,method:r.method,action:a},a,l))},currentTarget:r}]})}}for(var JR=0;JR<aD.length;JR++){var $R=aD[JR],yae=$R.toLowerCase(),vae=$R[0].toUpperCase()+$R.slice(1);cu(yae,"on"+vae)}cu(jG,"onAnimationEnd");cu(BG,"onAnimationIteration");cu(HG,"onAnimationStart");cu("dblclick","onDoubleClick");cu("focusin","onFocus");cu("focusout","onBlur");cu(Pre,"onTransitionRun");cu(Ure,"onTransitionStart");cu(Fre,"onTransitionCancel");cu(VG,"onTransitionEnd");C0("onMouseEnter",["mouseout","mouseover"]);C0("onMouseLeave",["mouseout","mouseover"]);C0("onPointerEnter",["pointerout","pointerover"]);C0("onPointerLeave",["pointerout","pointerover"]);Jm("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Jm("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Jm("onBeforeInput",["compositionend","keypress","textInput","paste"]);Jm("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Jm("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Jm("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var f1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xae=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(f1));function AW(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var a=void 0;if(e)for(var s=i.length-1;0<=s;s--){var o=i[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&r.isPropagationStopped())break e;a=o,r.currentTarget=c;try{a(r)}catch(u){gM(u)}r.currentTarget=null,a=l}else for(s=0;s<i.length;s++){if(o=i[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&r.isPropagationStopped())break e;a=o,r.currentTarget=c;try{a(r)}catch(u){gM(u)}r.currentTarget=null,a=l}}}}function di(t,e){var n=e[Z8];n===void 0&&(n=e[Z8]=new Set);var i=t+"__bubble";n.has(i)||(TW(e,t,2,!1),n.add(i))}function ZR(t,e,n){var i=0;e&&(i|=4),TW(n,t,i,e)}var RS="_reactListening"+Math.random().toString(36).slice(2);function gO(t){if(!t[RS]){t[RS]=!0,_G.forEach(function(n){n!=="selectionchange"&&(xae.has(n)||ZR(n,!1,t),ZR(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[RS]||(e[RS]=!0,ZR("selectionchange",!1,e))}}function TW(t,e,n,i){switch(zW(e)){case 2:var r=Xae;break;case 8:r=Kae;break;default:r=xO}n=r.bind(null,e,n,t),r=void 0,!nD||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function QR(t,e,n,i,r){var a=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var o=i.stateNode.containerInfo;if(o===r)break;if(s===4)for(s=i.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===r)return;s=s.return}for(;o!==null;){if(s=Bb(o),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){i=a=s;continue e}o=o.parentNode}}i=i.return}RG(function(){var c=a,u=PI(n),f=[];e:{var h=GG.get(t);if(h!==void 0){var d=uT,b=t;switch(t){case"keypress":if(AE(n)===0)break e;case"keydown":case"keyup":d=pre;break;case"focusin":b="focus",d=RR;break;case"focusout":b="blur",d=RR;break;case"beforeblur":case"afterblur":d=RR;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=m4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=nre;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=bre;break;case jG:case BG:case HG:d=are;break;case VG:d=vre;break;case"scroll":case"scrollend":d=ere;break;case"wheel":d=_re;break;case"copy":case"cut":case"paste":d=ore;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=b4;break;case"toggle":case"beforetoggle":d=wre}var y=(e&4)!==0,v=!y&&(t==="scroll"||t==="scrollend"),m=y?h!==null?h+"Capture":null:h;y=[];for(var x=c,_;x!==null;){var E=x;if(_=E.stateNode,E=E.tag,E!==5&&E!==26&&E!==27||_===null||m===null||(E=a1(x,m),E!=null&&y.push(h1(x,E,_))),v)break;x=x.return}0<y.length&&(h=new d(h,b,null,n,u),f.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",h&&n!==tD&&(b=n.relatedTarget||n.fromElement)&&(Bb(b)||b[my]))break e;if((d||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,d?(b=n.relatedTarget||n.toElement,d=c,b=b?Bb(b):null,b!==null&&(v=X1(b),y=b.tag,b!==v||y!==5&&y!==27&&y!==6)&&(b=null)):(d=null,b=c),d!==b)){if(y=m4,E="onMouseLeave",m="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(y=b4,E="onPointerLeave",m="onPointerEnter",x="pointer"),v=d==null?h:fx(d),_=b==null?h:fx(b),h=new y(E,x+"leave",d,n,u),h.target=v,h.relatedTarget=_,E=null,Bb(u)===c&&(y=new y(m,x+"enter",b,n,u),y.target=_,y.relatedTarget=v,E=y),v=E,d&&b)t:{for(y=d,m=b,x=0,_=y;_;_=Fg(_))x++;for(_=0,E=m;E;E=Fg(E))_++;for(;0<x-_;)y=Fg(y),x--;for(;0<_-x;)m=Fg(m),_--;for(;x--;){if(y===m||m!==null&&y===m.alternate)break t;y=Fg(y),m=Fg(m)}y=null}else y=null;d!==null&&cF(f,h,d,y,!1),b!==null&&v!==null&&cF(f,v,b,y,!0)}}e:{if(h=c?fx(c):window,d=h.nodeName&&h.nodeName.toLowerCase(),d==="select"||d==="input"&&h.type==="file")var A=_4;else if(x4(h))if(LG)A=Ire;else{A=Dre;var w=kre}else d=h.nodeName,!d||d.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?c&&LI(c.elementType)&&(A=_4):A=Nre;if(A&&(A=A(t,c))){OG(f,A,n,u);break e}w&&w(t,h,c),t==="focusout"&&c&&h.type==="number"&&c.memoizedProps.value!=null&&eD(h,"number",h.value)}switch(w=c?fx(c):window,t){case"focusin":(x4(w)||w.contentEditable==="true")&&(Gb=w,iD=c,Tx=null);break;case"focusout":Tx=iD=Gb=null;break;case"mousedown":rD=!0;break;case"contextmenu":case"mouseup":case"dragend":rD=!1,A4(f,n,u);break;case"selectionchange":if(Lre)break;case"keydown":case"keyup":A4(f,n,u)}var T;if(zI)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Vb?NG(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(DG&&n.locale!=="ko"&&(Vb||k!=="onCompositionStart"?k==="onCompositionEnd"&&Vb&&(T=kG()):(pd=u,UI="value"in pd?pd.value:pd.textContent,Vb=!0)),w=EM(c,k),0<w.length&&(k=new g4(k,t,null,n,u),f.push({event:k,listeners:w}),T?k.data=T:(T=IG(n),T!==null&&(k.data=T)))),(T=Mre?Are(t,n):Tre(t,n))&&(k=EM(c,"onBeforeInput"),0<k.length&&(w=new g4("onBeforeInput","beforeinput",null,n,u),f.push({event:w,listeners:k}),w.data=T)),bae(f,t,c,n,u)}AW(f,e)})}function h1(t,e,n){return{instance:t,listener:e,currentTarget:n}}function EM(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,a=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||a===null||(r=a1(t,n),r!=null&&i.unshift(h1(t,r,a)),r=a1(t,e),r!=null&&i.push(h1(t,r,a))),t.tag===3)return i;t=t.return}return[]}function Fg(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function cF(t,e,n,i,r){for(var a=e._reactName,s=[];n!==null&&n!==i;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,l!==null&&l===i)break;o!==5&&o!==26&&o!==27||c===null||(l=c,r?(c=a1(n,a),c!=null&&s.unshift(h1(n,c,l))):r||(c=a1(n,a),c!=null&&s.push(h1(n,c,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var _ae=/\r\n?/g,Sae=/\u0000|\uFFFD/g;function uF(t){return(typeof t=="string"?t:""+t).replace(_ae,`
`).replace(Sae,"")}function CW(t,e){return e=uF(e),uF(t)===e}function ST(){}function fr(t,e,n,i,r,a){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||R0(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&R0(t,""+i);break;case"className":SS(t,"class",i);break;case"tabIndex":SS(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":SS(t,n,i);break;case"style":CG(t,i,a);break;case"data":if(e!=="object"){SS(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=EE(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(e!=="input"&&fr(t,e,"name",r.name,r,null),fr(t,e,"formEncType",r.formEncType,r,null),fr(t,e,"formMethod",r.formMethod,r,null),fr(t,e,"formTarget",r.formTarget,r,null)):(fr(t,e,"encType",r.encType,r,null),fr(t,e,"method",r.method,r,null),fr(t,e,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=EE(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=ST);break;case"onScroll":i!=null&&di("scroll",t);break;case"onScrollEnd":i!=null&&di("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(Rt(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(Rt(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=EE(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":di("beforetoggle",t),di("toggle",t),wE(t,"popover",i);break;case"xlinkActuate":Sf(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Sf(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Sf(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Sf(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Sf(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Sf(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Sf(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Sf(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Sf(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":wE(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Zie.get(n)||n,wE(t,n,i))}}function RD(t,e,n,i,r,a){switch(n){case"style":CG(t,i,a);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(Rt(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(Rt(60));t.innerHTML=n}}break;case"children":typeof i=="string"?R0(t,i):(typeof i=="number"||typeof i=="bigint")&&R0(t,""+i);break;case"onScroll":i!=null&&di("scroll",t);break;case"onScrollEnd":i!=null&&di("scrollend",t);break;case"onClick":i!=null&&(t.onclick=ST);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!SG.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),e=n.slice(2,r?n.length-7:void 0),a=t[Do]||null,a=a!=null?a[n]:null,typeof a=="function"&&t.removeEventListener(e,a,r),typeof i=="function")){typeof a!="function"&&a!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,r);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):wE(t,n,i)}}}function ps(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":di("error",t),di("load",t);var i=!1,r=!1,a;for(a in n)if(n.hasOwnProperty(a)){var s=n[a];if(s!=null)switch(a){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(Rt(137,e));default:fr(t,e,a,s,n,null)}}r&&fr(t,e,"srcSet",n.srcSet,n,null),i&&fr(t,e,"src",n.src,n,null);return;case"input":di("invalid",t);var o=a=s=r=null,l=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var u=n[i];if(u!=null)switch(i){case"name":r=u;break;case"type":s=u;break;case"checked":l=u;break;case"defaultChecked":c=u;break;case"value":a=u;break;case"defaultValue":o=u;break;case"children":case"dangerouslySetInnerHTML":if(u!=null)throw Error(Rt(137,e));break;default:fr(t,e,i,u,n,null)}}MG(t,a,o,l,c,s,r,!1),aM(t);return;case"select":di("invalid",t),i=s=a=null;for(r in n)if(n.hasOwnProperty(r)&&(o=n[r],o!=null))switch(r){case"value":a=o;break;case"defaultValue":s=o;break;case"multiple":i=o;default:fr(t,e,r,o,n,null)}e=a,n=s,t.multiple=!!i,e!=null?i0(t,!!i,e,!1):n!=null&&i0(t,!!i,n,!0);return;case"textarea":di("invalid",t),a=r=i=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":i=o;break;case"defaultValue":r=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(Rt(91));break;default:fr(t,e,s,o,n,null)}TG(t,i,r,a),aM(t);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(i=n[l],i!=null))switch(l){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:fr(t,e,l,i,n,null)}return;case"dialog":di("beforetoggle",t),di("toggle",t),di("cancel",t),di("close",t);break;case"iframe":case"object":di("load",t);break;case"video":case"audio":for(i=0;i<f1.length;i++)di(f1[i],t);break;case"image":di("error",t),di("load",t);break;case"details":di("toggle",t);break;case"embed":case"source":case"link":di("error",t),di("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(Rt(137,e));default:fr(t,e,c,i,n,null)}return;default:if(LI(e)){for(u in n)n.hasOwnProperty(u)&&(i=n[u],i!==void 0&&RD(t,e,u,i,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(i=n[o],i!=null&&fr(t,e,o,i,n,null))}function wae(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,a=null,s=null,o=null,l=null,c=null,u=null;for(d in n){var f=n[d];if(n.hasOwnProperty(d)&&f!=null)switch(d){case"checked":break;case"value":break;case"defaultValue":l=f;default:i.hasOwnProperty(d)||fr(t,e,d,null,i,f)}}for(var h in i){var d=i[h];if(f=n[h],i.hasOwnProperty(h)&&(d!=null||f!=null))switch(h){case"type":a=d;break;case"name":r=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":s=d;break;case"defaultValue":o=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(Rt(137,e));break;default:d!==f&&fr(t,e,h,d,i,f)}}Q8(t,s,o,l,c,u,a,r);return;case"select":d=s=o=h=null;for(a in n)if(l=n[a],n.hasOwnProperty(a)&&l!=null)switch(a){case"value":break;case"multiple":d=l;default:i.hasOwnProperty(a)||fr(t,e,a,null,i,l)}for(r in i)if(a=i[r],l=n[r],i.hasOwnProperty(r)&&(a!=null||l!=null))switch(r){case"value":h=a;break;case"defaultValue":o=a;break;case"multiple":s=a;default:a!==l&&fr(t,e,r,a,i,l)}e=o,n=s,i=d,h!=null?i0(t,!!n,h,!1):!!i!=!!n&&(e!=null?i0(t,!!n,e,!0):i0(t,!!n,n?[]:"",!1));return;case"textarea":d=h=null;for(o in n)if(r=n[o],n.hasOwnProperty(o)&&r!=null&&!i.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:fr(t,e,o,null,i,r)}for(s in i)if(r=i[s],a=n[s],i.hasOwnProperty(s)&&(r!=null||a!=null))switch(s){case"value":h=r;break;case"defaultValue":d=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(Rt(91));break;default:r!==a&&fr(t,e,s,r,i,a)}AG(t,h,d);return;case"option":for(var b in n)if(h=n[b],n.hasOwnProperty(b)&&h!=null&&!i.hasOwnProperty(b))switch(b){case"selected":t.selected=!1;break;default:fr(t,e,b,null,i,h)}for(l in i)if(h=i[l],d=n[l],i.hasOwnProperty(l)&&h!==d&&(h!=null||d!=null))switch(l){case"selected":t.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:fr(t,e,l,h,i,d)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var y in n)h=n[y],n.hasOwnProperty(y)&&h!=null&&!i.hasOwnProperty(y)&&fr(t,e,y,null,i,h);for(c in i)if(h=i[c],d=n[c],i.hasOwnProperty(c)&&h!==d&&(h!=null||d!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(Rt(137,e));break;default:fr(t,e,c,h,i,d)}return;default:if(LI(e)){for(var v in n)h=n[v],n.hasOwnProperty(v)&&h!==void 0&&!i.hasOwnProperty(v)&&RD(t,e,v,void 0,i,h);for(u in i)h=i[u],d=n[u],!i.hasOwnProperty(u)||h===d||h===void 0&&d===void 0||RD(t,e,u,h,i,d);return}}for(var m in n)h=n[m],n.hasOwnProperty(m)&&h!=null&&!i.hasOwnProperty(m)&&fr(t,e,m,null,i,h);for(f in i)h=i[f],d=n[f],!i.hasOwnProperty(f)||h===d||h==null&&d==null||fr(t,e,f,h,i,d)}var kD=null,DD=null;function MM(t){return t.nodeType===9?t:t.ownerDocument}function fF(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function RW(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function ND(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var e3=null;function Eae(){var t=window.event;return t&&t.type==="popstate"?t===e3?!1:(e3=t,!0):(e3=null,!1)}var kW=typeof setTimeout=="function"?setTimeout:void 0,Mae=typeof clearTimeout=="function"?clearTimeout:void 0,hF=typeof Promise=="function"?Promise:void 0,Aae=typeof queueMicrotask=="function"?queueMicrotask:typeof hF<"u"?function(t){return hF.resolve(null).then(t).catch(Tae)}:kW;function Tae(t){setTimeout(function(){throw t})}function Bd(t){return t==="head"}function dF(t,e){var n=e,i=0,r=0;do{var a=n.nextSibling;if(t.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(0<i&&8>i){n=i;var s=t.ownerDocument;if(n&1&&Fx(s.documentElement),n&2&&Fx(s.body),n&4)for(n=s.head,Fx(n),s=n.firstChild;s;){var o=s.nextSibling,l=s.nodeName;s[$1]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=o}}if(r===0){t.removeChild(a),b1(e);return}r--}else n==="$"||n==="$?"||n==="$!"?r++:i=n.charCodeAt(0)-48;else i=0;n=a}while(n);b1(e)}function ID(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":ID(n),OI(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function Cae(t,e,n,i){for(;t.nodeType===1;){var r=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[$1])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==r.rel||t.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||t.getAttribute("title")!==(r.title==null?null:r.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(r.src==null?null:r.src)||t.getAttribute("type")!==(r.type==null?null:r.type)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=r.name==null?null:""+r.name;if(r.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=nu(t.nextSibling),t===null)break}return null}function Rae(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=nu(t.nextSibling),t===null))return null;return t}function OD(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function kae(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function nu(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var LD=null;function pF(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function DW(t,e,n){switch(e=MM(n),t){case"html":if(t=e.documentElement,!t)throw Error(Rt(452));return t;case"head":if(t=e.head,!t)throw Error(Rt(453));return t;case"body":if(t=e.body,!t)throw Error(Rt(454));return t;default:throw Error(Rt(451))}}function Fx(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);OI(t)}var cc=new Map,mF=new Set;function AM(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var dh=Wi.d;Wi.d={f:Dae,r:Nae,D:Iae,C:Oae,L:Lae,m:Pae,X:Fae,S:Uae,M:zae};function Dae(){var t=dh.f(),e=vT();return t||e}function Nae(t){var e=gy(t);e!==null&&e.tag===5&&e.type==="form"?E7(e):dh.r(t)}var vy=typeof document>"u"?null:document;function NW(t,e,n){var i=vy;if(i&&typeof e=="string"&&e){var r=$l(e);r='link[rel="'+t+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),mF.has(r)||(mF.add(r),t={rel:t,crossOrigin:n,href:e},i.querySelector(r)===null&&(e=i.createElement("link"),ps(e,"link",t),qa(e),i.head.appendChild(e)))}}function Iae(t){dh.D(t),NW("dns-prefetch",t,null)}function Oae(t,e){dh.C(t,e),NW("preconnect",t,e)}function Lae(t,e,n){dh.L(t,e,n);var i=vy;if(i&&t&&e){var r='link[rel="preload"][as="'+$l(e)+'"]';e==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+$l(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+$l(n.imageSizes)+'"]')):r+='[href="'+$l(t)+'"]';var a=r;switch(e){case"style":a=U0(t);break;case"script":a=xy(t)}cc.has(a)||(t=Lr({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),cc.set(a,t),i.querySelector(r)!==null||e==="style"&&i.querySelector(o_(a))||e==="script"&&i.querySelector(l_(a))||(e=i.createElement("link"),ps(e,"link",t),qa(e),i.head.appendChild(e)))}}function Pae(t,e){dh.m(t,e);var n=vy;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",r='link[rel="modulepreload"][as="'+$l(i)+'"][href="'+$l(t)+'"]',a=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=xy(t)}if(!cc.has(a)&&(t=Lr({rel:"modulepreload",href:t},e),cc.set(a,t),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(l_(a)))return}i=n.createElement("link"),ps(i,"link",t),qa(i),n.head.appendChild(i)}}}function Uae(t,e,n){dh.S(t,e,n);var i=vy;if(i&&t){var r=n0(i).hoistableStyles,a=U0(t);e=e||"default";var s=r.get(a);if(!s){var o={loading:0,preload:null};if(s=i.querySelector(o_(a)))o.loading=5;else{t=Lr({rel:"stylesheet",href:t,"data-precedence":e},n),(n=cc.get(a))&&bO(t,n);var l=s=i.createElement("link");qa(l),ps(l,"link",t),l._p=new Promise(function(c,u){l.onload=c,l.onerror=u}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,IE(s,e,i)}s={type:"stylesheet",instance:s,count:1,state:o},r.set(a,s)}}}function Fae(t,e){dh.X(t,e);var n=vy;if(n&&t){var i=n0(n).hoistableScripts,r=xy(t),a=i.get(r);a||(a=n.querySelector(l_(r)),a||(t=Lr({src:t,async:!0},e),(e=cc.get(r))&&yO(t,e),a=n.createElement("script"),qa(a),ps(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(r,a))}}function zae(t,e){dh.M(t,e);var n=vy;if(n&&t){var i=n0(n).hoistableScripts,r=xy(t),a=i.get(r);a||(a=n.querySelector(l_(r)),a||(t=Lr({src:t,async:!0,type:"module"},e),(e=cc.get(r))&&yO(t,e),a=n.createElement("script"),qa(a),ps(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(r,a))}}function gF(t,e,n,i){var r=(r=xd.current)?AM(r):null;if(!r)throw Error(Rt(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=U0(n.href),n=n0(r).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=U0(n.href);var a=n0(r).hoistableStyles,s=a.get(t);if(s||(r=r.ownerDocument||r,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,s),(a=r.querySelector(o_(t)))&&!a._p&&(s.instance=a,s.state.loading=5),cc.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},cc.set(t,n),a||jae(r,t,n,s.state))),e&&i===null)throw Error(Rt(528,""));return s}if(e&&i!==null)throw Error(Rt(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=xy(n),n=n0(r).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(Rt(444,t))}}function U0(t){return'href="'+$l(t)+'"'}function o_(t){return'link[rel="stylesheet"]['+t+"]"}function IW(t){return Lr({},t,{"data-precedence":t.precedence,precedence:null})}function jae(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),ps(e,"link",n),qa(e),t.head.appendChild(e))}function xy(t){return'[src="'+$l(t)+'"]'}function l_(t){return"script[async]"+t}function bF(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+$l(n.href)+'"]');if(i)return e.instance=i,qa(i),i;var r=Lr({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),qa(i),ps(i,"style",r),IE(i,n.precedence,t),e.instance=i;case"stylesheet":r=U0(n.href);var a=t.querySelector(o_(r));if(a)return e.state.loading|=4,e.instance=a,qa(a),a;i=IW(n),(r=cc.get(r))&&bO(i,r),a=(t.ownerDocument||t).createElement("link"),qa(a);var s=a;return s._p=new Promise(function(o,l){s.onload=o,s.onerror=l}),ps(a,"link",i),e.state.loading|=4,IE(a,n.precedence,t),e.instance=a;case"script":return a=xy(n.src),(r=t.querySelector(l_(a)))?(e.instance=r,qa(r),r):(i=n,(r=cc.get(a))&&(i=Lr({},n),yO(i,r)),t=t.ownerDocument||t,r=t.createElement("script"),qa(r),ps(r,"link",i),t.head.appendChild(r),e.instance=r);case"void":return null;default:throw Error(Rt(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,IE(i,n.precedence,t));return e.instance}function IE(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,a=r,s=0;s<i.length;s++){var o=i[s];if(o.dataset.precedence===e)a=o;else if(a!==r)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function bO(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function yO(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var OE=null;function yF(t,e,n){if(OE===null){var i=new Map,r=OE=new Map;r.set(n,i)}else r=OE,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),r=0;r<n.length;r++){var a=n[r];if(!(a[$1]||a[Us]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var s=a.getAttribute(e)||"";s=t+s;var o=i.get(s);o?o.push(a):i.set(s,[a])}}return i}function vF(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function Bae(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function OW(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var d1=null;function Hae(){}function Vae(t,e,n){if(d1===null)throw Error(Rt(475));var i=d1;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var r=U0(n.href),a=t.querySelector(o_(r));if(a){t=a._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(i.count++,i=TM.bind(i),t.then(i,i)),e.state.loading|=4,e.instance=a,qa(a);return}a=t.ownerDocument||t,n=IW(n),(r=cc.get(r))&&bO(n,r),a=a.createElement("link"),qa(a);var s=a;s._p=new Promise(function(o,l){s.onload=o,s.onerror=l}),ps(a,"link",n),e.instance=a}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(i.count++,e=TM.bind(i),t.addEventListener("load",e),t.addEventListener("error",e))}}function Gae(){if(d1===null)throw Error(Rt(475));var t=d1;return t.stylesheets&&t.count===0&&PD(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&PD(t,t.stylesheets),t.unsuspend){var i=t.unsuspend;t.unsuspend=null,i()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function TM(){if(this.count--,this.count===0){if(this.stylesheets)PD(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var CM=null;function PD(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,CM=new Map,e.forEach(Wae,t),CM=null,TM.call(t))}function Wae(t,e){if(!(e.state.loading&4)){var n=CM.get(t);if(n)var i=n.get(null);else{n=new Map,CM.set(t,n);for(var r=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<r.length;a++){var s=r[a];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),i=s)}i&&n.set(null,i)}r=e.instance,s=r.getAttribute("data-precedence"),a=n.get(s)||i,a===i&&n.set(null,r),n.set(s,r),this.count++,i=TM.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),a?a.parentNode.insertBefore(r,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(r,t.firstChild)),e.state.loading|=4}}var p1={$$typeof:Ff,Provider:null,Consumer:null,_currentValue:mm,_currentValue2:mm,_threadCount:0};function qae(t,e,n,i,r,a,s,o){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=SR(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=SR(0),this.hiddenUpdates=SR(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function LW(t,e,n,i,r,a,s,o,l,c,u,f){return t=new qae(t,e,n,s,o,l,c,f),e=1,a===!0&&(e|=24),a=sl(3,null,null,e),t.current=a,a.stateNode=t,e=qI(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:i,isDehydrated:n,cache:e},KI(a),t}function PW(t){return t?(t=Xb,t):Xb}function UW(t,e,n,i,r,a){r=PW(r),i.context===null?i.context=r:i.pendingContext=r,i=_d(e),i.payload={element:n},a=a===void 0?null:a,a!==null&&(i.callback=a),n=Sd(t,i,e),n!==null&&(hl(n,t,e),kx(n,t,e))}function xF(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function vO(t,e){xF(t,e),(t=t.alternate)&&xF(t,e)}function FW(t){if(t.tag===13){var e=by(t,67108864);e!==null&&hl(e,t,67108864),vO(t,67108864)}}var RM=!0;function Xae(t,e,n,i){var r=Nn.T;Nn.T=null;var a=Wi.p;try{Wi.p=2,xO(t,e,n,i)}finally{Wi.p=a,Nn.T=r}}function Kae(t,e,n,i){var r=Nn.T;Nn.T=null;var a=Wi.p;try{Wi.p=8,xO(t,e,n,i)}finally{Wi.p=a,Nn.T=r}}function xO(t,e,n,i){if(RM){var r=UD(i);if(r===null)QR(t,e,i,kM,n),_F(t,i);else if(Jae(r,t,e,n,i))i.stopPropagation();else if(_F(t,i),e&4&&-1<Yae.indexOf(t)){for(;r!==null;){var a=gy(r);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var s=jp(a.pendingLanes);if(s!==0){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-ul(s);o.entanglements[1]|=l,s&=~l}tf(a),!(or&6)&&(xM=Bu()+500,s_(0))}}break;case 13:o=by(a,2),o!==null&&hl(o,a,2),vT(),vO(a,2)}if(a=UD(i),a===null&&QR(t,e,i,kM,n),a===r)break;r=a}r!==null&&i.stopPropagation()}else QR(t,e,i,null,n)}}function UD(t){return t=PI(t),_O(t)}var kM=null;function _O(t){if(kM=null,t=Bb(t),t!==null){var e=X1(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=cG(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return kM=t,null}function zW(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Oie()){case dG:return 2;case pG:return 8;case rM:case Lie:return 32;case mG:return 268435456;default:return 32}default:return 32}}var FD=!1,Md=null,Ad=null,Td=null,m1=new Map,g1=new Map,cd=[],Yae="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _F(t,e){switch(t){case"focusin":case"focusout":Md=null;break;case"dragenter":case"dragleave":Ad=null;break;case"mouseover":case"mouseout":Td=null;break;case"pointerover":case"pointerout":m1.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":g1.delete(e.pointerId)}}function wv(t,e,n,i,r,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[r]},e!==null&&(e=gy(e),e!==null&&FW(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function Jae(t,e,n,i,r){switch(e){case"focusin":return Md=wv(Md,t,e,n,i,r),!0;case"dragenter":return Ad=wv(Ad,t,e,n,i,r),!0;case"mouseover":return Td=wv(Td,t,e,n,i,r),!0;case"pointerover":var a=r.pointerId;return m1.set(a,wv(m1.get(a)||null,t,e,n,i,r)),!0;case"gotpointercapture":return a=r.pointerId,g1.set(a,wv(g1.get(a)||null,t,e,n,i,r)),!0}return!1}function jW(t){var e=Bb(t.target);if(e!==null){var n=X1(e);if(n!==null){if(e=n.tag,e===13){if(e=cG(n),e!==null){t.blockedOn=e,Vie(t.priority,function(){if(n.tag===13){var i=fl();i=NI(i);var r=by(n,i);r!==null&&hl(r,n,i),vO(n,i)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function LE(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=UD(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);tD=i,n.target.dispatchEvent(i),tD=null}else return e=gy(n),e!==null&&FW(e),t.blockedOn=n,!1;e.shift()}return!0}function SF(t,e,n){LE(t)&&n.delete(e)}function $ae(){FD=!1,Md!==null&&LE(Md)&&(Md=null),Ad!==null&&LE(Ad)&&(Ad=null),Td!==null&&LE(Td)&&(Td=null),m1.forEach(SF),g1.forEach(SF)}function kS(t,e){t.blockedOn===e&&(t.blockedOn=null,FD||(FD=!0,Ia.unstable_scheduleCallback(Ia.unstable_NormalPriority,$ae)))}var DS=null;function wF(t){DS!==t&&(DS=t,Ia.unstable_scheduleCallback(Ia.unstable_NormalPriority,function(){DS===t&&(DS=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],r=t[e+2];if(typeof i!="function"){if(_O(i||n)===null)continue;break}var a=gy(n);a!==null&&(t.splice(e,3),e-=3,bD(a,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function b1(t){function e(l){return kS(l,t)}Md!==null&&kS(Md,t),Ad!==null&&kS(Ad,t),Td!==null&&kS(Td,t),m1.forEach(e),g1.forEach(e);for(var n=0;n<cd.length;n++){var i=cd[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<cd.length&&(n=cd[0],n.blockedOn===null);)jW(n),n.blockedOn===null&&cd.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],a=n[i+1],s=r[Do]||null;if(typeof a=="function")s||wF(n);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(r=a,s=a[Do]||null)o=s.formAction;else if(_O(r)!==null)continue}else o=s.action;typeof o=="function"?n[i+1]=o:(n.splice(i,3),i-=3),wF(n)}}}function SO(t){this._internalRoot=t}wT.prototype.render=SO.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Rt(409));var n=e.current,i=fl();UW(n,i,t,e,null,null)};wT.prototype.unmount=SO.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;UW(t.current,2,null,t,null,null),vT(),e[my]=null}};function wT(t){this._internalRoot=t}wT.prototype.unstable_scheduleHydration=function(t){if(t){var e=xG();t={blockedOn:null,target:t,priority:e};for(var n=0;n<cd.length&&e!==0&&e<cd[n].priority;n++);cd.splice(n,0,t),n===0&&jW(t)}};var EF=oG.version;if(EF!=="19.1.1")throw Error(Rt(527,EF,"19.1.1"));Wi.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Rt(188)):(t=Object.keys(t).join(","),Error(Rt(268,t)));return t=Tie(e),t=t!==null?uG(t):null,t=t===null?null:t.stateNode,t};var Zae={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Nn,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var NS=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!NS.isDisabled&&NS.supportsFiber)try{K1=NS.inject(Zae),cl=NS}catch{}}oT.createRoot=function(t,e){if(!lG(t))throw Error(Rt(299));var n=!1,i="",r=L7,a=P7,s=U7,o=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(r=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(s=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(o=e.unstable_transitionCallbacks)),e=LW(t,1,!1,null,null,n,i,r,a,s,o,null),t[my]=e.current,gO(t),new SO(e)};oT.hydrateRoot=function(t,e,n){if(!lG(t))throw Error(Rt(299));var i=!1,r="",a=L7,s=P7,o=U7,l=null,c=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(l=n.unstable_transitionCallbacks),n.formState!==void 0&&(c=n.formState)),e=LW(t,1,!0,e,n??null,i,r,a,s,o,l,c),e.context=PW(null),n=e.current,i=fl(),i=NI(i),r=_d(i),r.callback=null,Sd(n,r,i),n=i,e.current.lanes=n,J1(e,n),tf(e),t[my]=e.current,gO(t),new wT(e)};oT.version="19.1.1";function BW(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(BW)}catch(t){console.error(t)}}BW(),KV.exports=oT;var HW=KV.exports;const Qae=mc(HW);var zD=new Map,IS=new WeakMap,MF=0,ese=void 0;function tse(t){return t?(IS.has(t)||(MF+=1,IS.set(t,MF.toString())),IS.get(t)):"0"}function nse(t){return Object.keys(t).sort().filter(e=>t[e]!==void 0).map(e=>`${e}_${e==="root"?tse(t.root):t[e]}`).toString()}function ise(t){const e=nse(t);let n=zD.get(e);if(!n){const i=new Map;let r;const a=new IntersectionObserver(s=>{s.forEach(o=>{var l;const c=o.isIntersecting&&r.some(u=>o.intersectionRatio>=u);t.trackVisibility&&typeof o.isVisible>"u"&&(o.isVisible=c),(l=i.get(o.target))==null||l.forEach(u=>{u(c,o)})})},t);r=a.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),n={id:e,observer:a,elements:i},zD.set(e,n)}return n}function rse(t,e,n={},i=ese){if(typeof window.IntersectionObserver>"u"&&i!==void 0){const l=t.getBoundingClientRect();return e(i,{isIntersecting:i,target:t,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:l,intersectionRect:l,rootBounds:l}),()=>{}}const{id:r,observer:a,elements:s}=ise(n),o=s.get(t)||[];return s.has(t)||s.set(t,o),o.push(e),a.observe(t),function(){o.splice(o.indexOf(e),1),o.length===0&&(s.delete(t),a.unobserve(t)),s.size===0&&(a.disconnect(),zD.delete(r))}}function ase({threshold:t,delay:e,trackVisibility:n,rootMargin:i,root:r,triggerOnce:a,skip:s,initialInView:o,fallbackInView:l,onChange:c}={}){var u;const[f,h]=I.useState(null),d=I.useRef(c),[b,y]=I.useState({inView:!!o,entry:void 0});d.current=c,I.useEffect(()=>{if(s||!f)return;let _;return _=rse(f,(E,A)=>{y({inView:E,entry:A}),d.current&&d.current(E,A),A.isIntersecting&&a&&_&&(_(),_=void 0)},{root:r,rootMargin:i,threshold:t,trackVisibility:n,delay:e},l),()=>{_&&_()}},[Array.isArray(t)?t.toString():t,f,r,i,a,s,n,l,e]);const v=(u=b.entry)==null?void 0:u.target,m=I.useRef(void 0);!f&&v&&!a&&!s&&m.current!==v&&(m.current=v,y({inView:!!o,entry:void 0}));const x=[h,b.inView,b.entry];return x.ref=x[0],x.inView=x[1],x.entry=x[2],x}function nc(t,e,n){return e===void 0&&n===void 0?t:e!==void 0&&n===void 0?Math.max(t,e):Math.min(e===void 0&&n!==void 0?t:Math.max(t,e),n)}function VW(t="mantine-"){return`${t}${Math.random().toString(36).slice(2,11)}`}function Yp(t){const e=I.useRef(t);return I.useEffect(()=>{e.current=t}),I.useMemo(()=>(...n)=>e.current?.(...n),[])}function ET(t,e){const{delay:n,flushOnUnmount:i,leading:r}=typeof e=="number"?{delay:e,flushOnUnmount:!1,leading:!1}:e,a=Yp(t),s=I.useRef(0),o=I.useMemo(()=>{const l=Object.assign((...c)=>{window.clearTimeout(s.current);const u=l._isFirstCall;l._isFirstCall=!1;function f(){window.clearTimeout(s.current),s.current=0,l._isFirstCall=!0}if(r&&u){a(...c);const b=()=>{f()},y=()=>{s.current!==0&&(f(),a(...c))},v=()=>{f()};l.flush=y,l.cancel=v,s.current=window.setTimeout(b,n);return}if(r&&!u){const b=()=>{s.current!==0&&(f(),a(...c))},y=()=>{f()};l.flush=b,l.cancel=y;const v=()=>{f()};s.current=window.setTimeout(v,n);return}const h=()=>{s.current!==0&&(f(),a(...c))},d=()=>{f()};l.flush=h,l.cancel=d,s.current=window.setTimeout(h,n)},{flush:()=>{},cancel:()=>{},_isFirstCall:!0});return l},[a,n,r]);return I.useEffect(()=>()=>{i?o.flush():o.cancel()},[o,i]),o}const sse=["mousedown","touchstart"];function ose(t,e,n){const i=I.useRef(null),r=e||sse;return I.useEffect(()=>{const a=s=>{const{target:o}=s??{};if(Array.isArray(n)){const l=!document.body.contains(o)&&o.tagName!=="HTML";n.every(u=>!!u&&!s.composedPath().includes(u))&&!l&&t()}else i.current&&!i.current.contains(o)&&t()};return r.forEach(s=>document.addEventListener(s,a)),()=>{r.forEach(s=>document.removeEventListener(s,a))}},[i,t,n]),i}function lse(t={timeout:2e3}){const[e,n]=I.useState(null),[i,r]=I.useState(!1),[a,s]=I.useState(null),o=u=>{window.clearTimeout(a),s(window.setTimeout(()=>r(!1),t.timeout)),r(u)};return{copy:u=>{"clipboard"in navigator?navigator.clipboard.writeText(u).then(()=>o(!0)).catch(f=>n(f)):n(new Error("useClipboard: navigator.clipboard is not supported"))},reset:()=>{r(!1),n(null),window.clearTimeout(a)},error:e,copied:i}}function cse(t,e){try{return t.addEventListener("change",e),()=>t.removeEventListener("change",e)}catch{return t.addListener(e),()=>t.removeListener(e)}}function use(t,e){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(t).matches:!1}function wO(t,e,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[i,r]=I.useState(n?e:use(t));return I.useEffect(()=>{try{const a=window.matchMedia(t);return r(a.matches),cse(a,s=>r(s.matches))}catch{return}},[t]),i||!1}function fse(t,e){return wO("(prefers-color-scheme: dark)",t==="dark",e)?"dark":"light"}const _y=typeof document<"u"?I.useLayoutEffect:I.useEffect;function oc(t,e){const n=I.useRef(!1);I.useEffect(()=>()=>{n.current=!1},[]),I.useEffect(()=>{if(n.current)return t();n.current=!0},e)}function GW({opened:t,shouldReturnFocus:e=!0}){const n=I.useRef(null),i=()=>{n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&n.current?.focus({preventScroll:!0})};return oc(()=>{let r=-1;const a=s=>{s.key==="Tab"&&window.clearTimeout(r)};return document.addEventListener("keydown",a),t?n.current=document.activeElement:e&&(r=window.setTimeout(i,10)),()=>{window.clearTimeout(r),document.removeEventListener("keydown",a)}},[t,e]),i}const hse=/input|select|textarea|button|object/,WW="a, input, select, textarea, button, object, [tabindex]";function dse(t){return t.style.display==="none"}function pse(t){if(t.getAttribute("aria-hidden")||t.getAttribute("hidden")||t.getAttribute("type")==="hidden")return!1;let n=t;for(;n&&!(n===document.body||n.nodeType===11);){if(dse(n))return!1;n=n.parentNode}return!0}function qW(t){let e=t.getAttribute("tabindex");return e===null&&(e=void 0),parseInt(e,10)}function jD(t){const e=t.nodeName.toLowerCase(),n=!Number.isNaN(qW(t));return(hse.test(e)&&!t.disabled||t instanceof HTMLAnchorElement&&t.href||n)&&pse(t)}function XW(t){const e=qW(t);return(Number.isNaN(e)||e>=0)&&jD(t)}function mse(t){return Array.from(t.querySelectorAll(WW)).filter(XW)}function gse(t,e){const n=mse(t);if(!n.length){e.preventDefault();return}const i=n[e.shiftKey?0:n.length-1],r=t.getRootNode();let a=i===r.activeElement||t===r.activeElement;const s=r.activeElement;if(s.tagName==="INPUT"&&s.getAttribute("type")==="radio"&&(a=n.filter(u=>u.getAttribute("type")==="radio"&&u.getAttribute("name")===s.getAttribute("name")).includes(i)),!a)return;e.preventDefault();const l=n[e.shiftKey?n.length-1:0];l&&l.focus()}function bse(t=!0){const e=I.useRef(null),n=r=>{let a=r.querySelector("[data-autofocus]");if(!a){const s=Array.from(r.querySelectorAll(WW));a=s.find(XW)||s.find(jD)||null,!a&&jD(r)&&(a=r)}a&&a.focus({preventScroll:!0})},i=I.useCallback(r=>{t&&r!==null&&e.current!==r&&(r?(setTimeout(()=>{r.getRootNode()&&n(r)}),e.current=r):e.current=null)},[t]);return I.useEffect(()=>{if(!t)return;e.current&&setTimeout(()=>n(e.current));const r=a=>{a.key==="Tab"&&e.current&&gse(e.current,a)};return document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)},[t]),i}const yse=t=>(t+1)%1e6;function vse(){const[,t]=I.useReducer(yse,0);return t}const xse=ke.useId||(()=>{});function _se(){const t=xse();return t?`mantine-${t.replace(/:/g,"")}`:""}function nf(t){const e=_se(),[n,i]=I.useState(e);return _y(()=>{i(VW())},[]),typeof t=="string"?t:typeof window>"u"?e:n}function Sse(t,e,n){I.useEffect(()=>(window.addEventListener(t,e,n),()=>window.removeEventListener(t,e,n)),[t,e])}function DM(t,e){if(typeof t=="function")return t(e);typeof t=="object"&&t!==null&&"current"in t&&(t.current=e)}function KW(...t){const e=new Map;return n=>{if(t.forEach(i=>{const r=DM(i,n);r&&e.set(i,r)}),e.size>0)return()=>{t.forEach(i=>{const r=e.get(i);r&&typeof r=="function"?r():DM(i,null)}),e.clear()}}}function Ss(...t){return I.useCallback(KW(...t),t)}function YW(t){return{x:nc(t.x,0,1),y:nc(t.y,0,1)}}function EO(t,e,n="ltr"){const i=I.useRef(!1),r=I.useRef(!1),a=I.useRef(0),[s,o]=I.useState(!1),l=I.useRef(null);return I.useEffect(()=>{i.current=!0},[]),{ref:I.useCallback(u=>{if(l.current&&(l.current(),l.current=null),!u)return;const f=({x:E,y:A})=>{cancelAnimationFrame(a.current),a.current=requestAnimationFrame(()=>{if(i.current&&u){u.style.userSelect="none";const w=u.getBoundingClientRect();if(w.width&&w.height){const T=nc((E-w.left)/w.width,0,1);t({x:n==="ltr"?T:1-T,y:nc((A-w.top)/w.height,0,1)})}}})},h=()=>{document.addEventListener("mousemove",m),document.addEventListener("mouseup",y),document.addEventListener("touchmove",_,{passive:!1}),document.addEventListener("touchend",y)},d=()=>{document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",y),document.removeEventListener("touchmove",_),document.removeEventListener("touchend",y)},b=()=>{!r.current&&i.current&&(r.current=!0,typeof e?.onScrubStart=="function"&&e.onScrubStart(),o(!0),h())},y=()=>{r.current&&i.current&&(r.current=!1,o(!1),d(),setTimeout(()=>{typeof e?.onScrubEnd=="function"&&e.onScrubEnd()},0))},v=E=>{b(),E.preventDefault(),m(E)},m=E=>f({x:E.clientX,y:E.clientY}),x=E=>{E.cancelable&&E.preventDefault(),b(),_(E)},_=E=>{E.cancelable&&E.preventDefault(),f({x:E.changedTouches[0].clientX,y:E.changedTouches[0].clientY})};u.addEventListener("mousedown",v),u.addEventListener("touchstart",x,{passive:!1}),l.current=()=>{u.removeEventListener("mousedown",v),u.removeEventListener("touchstart",x)}},[n,t]),active:s}}function bl({value:t,defaultValue:e,finalValue:n,onChange:i=()=>{}}){const[r,a]=I.useState(e!==void 0?e:n),s=(o,...l)=>{a(o),i?.(o,...l)};return t!==void 0?[t,i,!0]:[r,s,!1]}function MT(t,e){return wO("(prefers-reduced-motion: reduce)",t,e)}const wse={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function Ese(t){const e=I.useRef(0),n=I.useRef(null),[i,r]=I.useState(wse),a=I.useMemo(()=>typeof window<"u"?new ResizeObserver(s=>{const o=s[0];o&&(cancelAnimationFrame(e.current),e.current=requestAnimationFrame(()=>{if(n.current){const l=o.borderBoxSize?.[0]||o.contentBoxSize?.[0];if(l){const c=l.inlineSize,u=l.blockSize;r({width:c,height:u,x:o.contentRect.x,y:o.contentRect.y,top:o.contentRect.top,left:o.contentRect.left,bottom:o.contentRect.bottom,right:o.contentRect.right})}else r(o.contentRect)}}))}):null,[]);return I.useEffect(()=>(n.current&&a?.observe(n.current,t),()=>{a?.disconnect(),e.current&&cancelAnimationFrame(e.current)}),[n.current]),[n,i]}function JW(t){const[e,{width:n,height:i}]=Ese(t);return{ref:e,width:n,height:i}}function uc(t=!1,e={}){const[n,i]=I.useState(t),r=I.useCallback(()=>{i(o=>o||(e.onOpen?.(),!0))},[e.onOpen]),a=I.useCallback(()=>{i(o=>o&&(e.onClose?.(),!1))},[e.onClose]),s=I.useCallback(()=>{n?a():r()},[a,r,n]);return[n,{open:r,close:a,toggle:s}]}function Mse(t){const e=I.useRef(void 0);return I.useEffect(()=>{e.current=t},[t]),e.current}function Ase(){const[t,e]=I.useState(!1);_y(()=>{e(typeof window<"u"&&!Tse()&&"EyeDropper"in window)},[]);const n=I.useCallback((i={})=>t?new window.EyeDropper().open(i):Promise.resolve(void 0),[t]);return{supported:t,open:n}}function Tse(){return navigator.userAgent.includes("OPR")}function Cse(t){let e=t,n=!1;const i=new Set;return{getState(){return e},updateState(r){e=typeof r=="function"?r(e):r},setState(r){this.updateState(r),i.forEach(a=>a(e))},initialize(r){n||(e=r,n=!0)},subscribe(r){return i.add(r),()=>i.delete(r)}}}function Rse(t){return I.useSyncExternalStore(t.subscribe,()=>t.getState(),()=>t.getState())}function kse(t,e,n){const i=[],r=[],a={};for(const s of t){const o=s.position||e;a[o]=a[o]||0,a[o]+=1,a[o]<=n?r.push(s):i.push(s)}return{notifications:r,queue:i}}const Dse=()=>Cse({notifications:[],queue:[],defaultPosition:"bottom-right",limit:5}),eg=Dse(),Nse=(t=eg)=>Rse(t);function Sy(t,e){const n=t.getState(),i=e([...n.notifications,...n.queue]),r=kse(i,n.defaultPosition,n.limit);t.setState({notifications:r.notifications,queue:r.queue,limit:n.limit,defaultPosition:n.defaultPosition})}function Ise(t,e=eg){const n=t.id||VW();return Sy(e,i=>t.id&&i.some(r=>r.id===t.id)?i:[...i,{...t,id:n}]),n}function $W(t,e=eg){return Sy(e,n=>n.filter(i=>i.id===t?(i.onClose?.(i),!1):!0)),t}function Ose(t,e=eg){return Sy(e,n=>n.map(i=>i.id===t.id?{...i,...t}:i)),t.id}function Lse(t=eg){Sy(t,()=>[])}function Pse(t=eg){Sy(t,e=>e.slice(0,t.getState().limit))}const ms={show:Ise,hide:$W,update:Ose,clean:Lse,cleanQueue:Pse,updateState:Sy};function vs(){return vs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},vs.apply(null,arguments)}function MO(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function BD(t,e){return BD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},BD(t,e)}function ZW(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,BD(t,e)}var QW={exports:{}},Use="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Fse=Use,zse=Fse;function eq(){}function tq(){}tq.resetWarningCache=eq;var jse=function(){function t(i,r,a,s,o,l){if(l!==zse){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:tq,resetWarningCache:eq};return n.PropTypes=n,n};QW.exports=jse();var nq=QW.exports;const AF={disabled:!1},NM=ke.createContext(null);var Bse=function(e){return e.scrollTop},dx="unmounted",Vp="exited",Gp="entering",Ob="entered",HD="exiting",ph=function(t){ZW(e,t);function e(i,r){var a;a=t.call(this,i,r)||this;var s=r,o=s&&!s.isMounting?i.enter:i.appear,l;return a.appearStatus=null,i.in?o?(l=Vp,a.appearStatus=Gp):l=Ob:i.unmountOnExit||i.mountOnEnter?l=dx:l=Vp,a.state={status:l},a.nextCallback=null,a}e.getDerivedStateFromProps=function(r,a){var s=r.in;return s&&a.status===dx?{status:Vp}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(r){var a=null;if(r!==this.props){var s=this.state.status;this.props.in?s!==Gp&&s!==Ob&&(a=Gp):(s===Gp||s===Ob)&&(a=HD)}this.updateStatus(!1,a)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var r=this.props.timeout,a,s,o;return a=s=o=r,r!=null&&typeof r!="number"&&(a=r.exit,s=r.enter,o=r.appear!==void 0?r.appear:s),{exit:a,enter:s,appear:o}},n.updateStatus=function(r,a){if(r===void 0&&(r=!1),a!==null)if(this.cancelNextCallback(),a===Gp){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:lx.findDOMNode(this);s&&Bse(s)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Vp&&this.setState({status:dx})},n.performEnter=function(r){var a=this,s=this.props.enter,o=this.context?this.context.isMounting:r,l=this.props.nodeRef?[o]:[lx.findDOMNode(this),o],c=l[0],u=l[1],f=this.getTimeouts(),h=o?f.appear:f.enter;if(!r&&!s||AF.disabled){this.safeSetState({status:Ob},function(){a.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:Gp},function(){a.props.onEntering(c,u),a.onTransitionEnd(h,function(){a.safeSetState({status:Ob},function(){a.props.onEntered(c,u)})})})},n.performExit=function(){var r=this,a=this.props.exit,s=this.getTimeouts(),o=this.props.nodeRef?void 0:lx.findDOMNode(this);if(!a||AF.disabled){this.safeSetState({status:Vp},function(){r.props.onExited(o)});return}this.props.onExit(o),this.safeSetState({status:HD},function(){r.props.onExiting(o),r.onTransitionEnd(s.exit,function(){r.safeSetState({status:Vp},function(){r.props.onExited(o)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(r,a){a=this.setNextCallback(a),this.setState(r,a)},n.setNextCallback=function(r){var a=this,s=!0;return this.nextCallback=function(o){s&&(s=!1,a.nextCallback=null,r(o))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(r,a){this.setNextCallback(a);var s=this.props.nodeRef?this.props.nodeRef.current:lx.findDOMNode(this),o=r==null&&!this.props.addEndListener;if(!s||o){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}r!=null&&setTimeout(this.nextCallback,r)},n.render=function(){var r=this.state.status;if(r===dx)return null;var a=this.props,s=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var o=MO(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ke.createElement(NM.Provider,{value:null},typeof s=="function"?s(r,o):ke.cloneElement(ke.Children.only(s),o))},e}(ke.Component);ph.contextType=NM;ph.propTypes={};function zg(){}ph.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:zg,onEntering:zg,onEntered:zg,onExit:zg,onExiting:zg,onExited:zg};ph.UNMOUNTED=dx;ph.EXITED=Vp;ph.ENTERING=Gp;ph.ENTERED=Ob;ph.EXITING=HD;function Hse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AO(t,e){var n=function(a){return e&&I.isValidElement(a)?e(a):a},i=Object.create(null);return t&&I.Children.map(t,function(r){return r}).forEach(function(r){i[r.key]=n(r)}),i}function Vse(t,e){t=t||{},e=e||{};function n(u){return u in e?e[u]:t[u]}var i=Object.create(null),r=[];for(var a in t)a in e?r.length&&(i[a]=r,r=[]):r.push(a);var s,o={};for(var l in e){if(i[l])for(s=0;s<i[l].length;s++){var c=i[l][s];o[i[l][s]]=n(c)}o[l]=n(l)}for(s=0;s<r.length;s++)o[r[s]]=n(r[s]);return o}function em(t,e,n){return n[e]!=null?n[e]:t.props[e]}function Gse(t,e){return AO(t.children,function(n){return I.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:em(n,"appear",t),enter:em(n,"enter",t),exit:em(n,"exit",t)})})}function Wse(t,e,n){var i=AO(t.children),r=Vse(e,i);return Object.keys(r).forEach(function(a){var s=r[a];if(I.isValidElement(s)){var o=a in e,l=a in i,c=e[a],u=I.isValidElement(c)&&!c.props.in;l&&(!o||u)?r[a]=I.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:em(s,"exit",t),enter:em(s,"enter",t)}):!l&&o&&!u?r[a]=I.cloneElement(s,{in:!1}):l&&o&&I.isValidElement(c)&&(r[a]=I.cloneElement(s,{onExited:n.bind(null,s),in:c.props.in,exit:em(s,"exit",t),enter:em(s,"enter",t)}))}}),r}var qse=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},Xse={component:"div",childFactory:function(e){return e}},nd=function(t){ZW(e,t);function e(i,r){var a;a=t.call(this,i,r)||this;var s=a.handleExited.bind(Hse(a));return a.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},a}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(r,a){var s=a.children,o=a.handleExited,l=a.firstRender;return{children:l?Gse(r,o):Wse(r,s,o),firstRender:!1}},n.handleExited=function(r,a){var s=AO(this.props.children);r.key in s||(r.props.onExited&&r.props.onExited(a),this.mounted&&this.setState(function(o){var l=vs({},o.children);return delete l[r.key],{children:l}}))},n.render=function(){var r=this.props,a=r.component,s=r.childFactory,o=MO(r,["component","childFactory"]),l=this.state.contextValue,c=qse(this.state.children).map(s);return delete o.appear,delete o.enter,delete o.exit,a===null?ke.createElement(NM.Provider,{value:l},c):ke.createElement(NM.Provider,{value:l},ke.createElement(a,o,c))},e}(ke.Component);nd.propTypes={};nd.defaultProps=Xse;var Iu=function(){return Iu=Object.assign||function(e){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Iu.apply(this,arguments)};function iq(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function Kse(t,e,n){if(n||arguments.length===2)for(var i=0,r=e.length,a;i<r;i++)(a||!(i in e))&&(a||(a=Array.prototype.slice.call(e,0,i)),a[i]=e[i]);return t.concat(a||Array.prototype.slice.call(e))}var PE="right-scroll-bar-position",UE="width-before-scroll-bar",Yse="with-scroll-bars-hidden",Jse="--removed-body-scroll-bar-size";function t3(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function $se(t,e){var n=I.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(i){var r=n.value;r!==i&&(n.value=i,n.callback(i,r))}}}})[0];return n.callback=e,n.facade}var Zse=typeof window<"u"?I.useLayoutEffect:I.useEffect,TF=new WeakMap;function Qse(t,e){var n=$se(null,function(i){return t.forEach(function(r){return t3(r,i)})});return Zse(function(){var i=TF.get(n);if(i){var r=new Set(i),a=new Set(t),s=n.current;r.forEach(function(o){a.has(o)||t3(o,null)}),a.forEach(function(o){r.has(o)||t3(o,s)})}TF.set(n,t)},[t]),n}function eoe(t){return t}function toe(t,e){e===void 0&&(e=eoe);var n=[],i=!1,r={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var s=e(a,i);return n.push(s),function(){n=n.filter(function(o){return o!==s})}},assignSyncMedium:function(a){for(i=!0;n.length;){var s=n;n=[],s.forEach(a)}n={push:function(o){return a(o)},filter:function(){return n}}},assignMedium:function(a){i=!0;var s=[];if(n.length){var o=n;n=[],o.forEach(a),s=n}var l=function(){var u=s;s=[],u.forEach(a)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){s.push(u),c()},filter:function(u){return s=s.filter(u),n}}}};return r}function noe(t){t===void 0&&(t={});var e=toe(null);return e.options=Iu({async:!0,ssr:!1},t),e}var rq=function(t){var e=t.sideCar,n=iq(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return I.createElement(i,Iu({},n))};rq.isSideCarExport=!0;function ioe(t,e){return t.useMedium(e),rq}var aq=noe(),n3=function(){},AT=I.forwardRef(function(t,e){var n=I.useRef(null),i=I.useState({onScrollCapture:n3,onWheelCapture:n3,onTouchMoveCapture:n3}),r=i[0],a=i[1],s=t.forwardProps,o=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,f=t.shards,h=t.sideCar,d=t.noRelative,b=t.noIsolation,y=t.inert,v=t.allowPinchZoom,m=t.as,x=m===void 0?"div":m,_=t.gapMode,E=iq(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=h,w=Qse([n,e]),T=Iu(Iu({},E),r);return I.createElement(I.Fragment,null,u&&I.createElement(A,{sideCar:aq,removeScrollBar:c,shards:f,noRelative:d,noIsolation:b,inert:y,setCallbacks:a,allowPinchZoom:!!v,lockRef:n,gapMode:_}),s?I.cloneElement(I.Children.only(o),Iu(Iu({},T),{ref:w})):I.createElement(x,Iu({},T,{className:l,ref:w}),o))});AT.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};AT.classNames={fullWidth:UE,zeroRight:PE};var roe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function aoe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=roe();return e&&t.setAttribute("nonce",e),t}function soe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function ooe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var loe=function(){var t=0,e=null;return{add:function(n){t==0&&(e=aoe())&&(soe(e,n),ooe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},coe=function(){var t=loe();return function(e,n){I.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},sq=function(){var t=coe(),e=function(n){var i=n.styles,r=n.dynamic;return t(i,r),null};return e},uoe={left:0,top:0,right:0,gap:0},i3=function(t){return parseInt(t||"",10)||0},foe=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],i=e[t==="padding"?"paddingTop":"marginTop"],r=e[t==="padding"?"paddingRight":"marginRight"];return[i3(n),i3(i),i3(r)]},hoe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return uoe;var e=foe(t),n=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-n+e[2]-e[0])}},doe=sq(),u0="data-scroll-locked",poe=function(t,e,n,i){var r=t.left,a=t.top,s=t.right,o=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Yse,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(o,"px ").concat(i,`;
  }
  body[`).concat(u0,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),n==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(i,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(PE,` {
    right: `).concat(o,"px ").concat(i,`;
  }
  
  .`).concat(UE,` {
    margin-right: `).concat(o,"px ").concat(i,`;
  }
  
  .`).concat(PE," .").concat(PE,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(UE," .").concat(UE,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(u0,`] {
    `).concat(Jse,": ").concat(o,`px;
  }
`)},CF=function(){var t=parseInt(document.body.getAttribute(u0)||"0",10);return isFinite(t)?t:0},moe=function(){I.useEffect(function(){return document.body.setAttribute(u0,(CF()+1).toString()),function(){var t=CF()-1;t<=0?document.body.removeAttribute(u0):document.body.setAttribute(u0,t.toString())}},[])},goe=function(t){var e=t.noRelative,n=t.noImportant,i=t.gapMode,r=i===void 0?"margin":i;moe();var a=I.useMemo(function(){return hoe(r)},[r]);return I.createElement(doe,{styles:poe(a,!e,r,n?"":"!important")})},VD=!1;if(typeof window<"u")try{var OS=Object.defineProperty({},"passive",{get:function(){return VD=!0,!0}});window.addEventListener("test",OS,OS),window.removeEventListener("test",OS,OS)}catch{VD=!1}var jg=VD?{passive:!1}:!1,boe=function(t){return t.tagName==="TEXTAREA"},oq=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!boe(t)&&n[e]==="visible")},yoe=function(t){return oq(t,"overflowY")},voe=function(t){return oq(t,"overflowX")},RF=function(t,e){var n=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var r=lq(t,i);if(r){var a=cq(t,i),s=a[1],o=a[2];if(s>o)return!0}i=i.parentNode}while(i&&i!==n.body);return!1},xoe=function(t){var e=t.scrollTop,n=t.scrollHeight,i=t.clientHeight;return[e,n,i]},_oe=function(t){var e=t.scrollLeft,n=t.scrollWidth,i=t.clientWidth;return[e,n,i]},lq=function(t,e){return t==="v"?yoe(e):voe(e)},cq=function(t,e){return t==="v"?xoe(e):_oe(e)},Soe=function(t,e){return t==="h"&&e==="rtl"?-1:1},woe=function(t,e,n,i,r){var a=Soe(t,window.getComputedStyle(e).direction),s=a*i,o=n.target,l=e.contains(o),c=!1,u=s>0,f=0,h=0;do{if(!o)break;var d=cq(t,o),b=d[0],y=d[1],v=d[2],m=y-v-a*b;(b||m)&&lq(t,o)&&(f+=m,h+=b);var x=o.parentNode;o=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!l&&o!==document.body||l&&(e.contains(o)||e===o));return(u&&Math.abs(f)<1||!u&&Math.abs(h)<1)&&(c=!0),c},LS=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},kF=function(t){return[t.deltaX,t.deltaY]},DF=function(t){return t&&"current"in t?t.current:t},Eoe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Moe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Aoe=0,Bg=[];function Toe(t){var e=I.useRef([]),n=I.useRef([0,0]),i=I.useRef(),r=I.useState(Aoe++)[0],a=I.useState(sq)[0],s=I.useRef(t);I.useEffect(function(){s.current=t},[t]),I.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(r));var y=Kse([t.lockRef.current],(t.shards||[]).map(DF),!0).filter(Boolean);return y.forEach(function(v){return v.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),y.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(r))})}}},[t.inert,t.lockRef.current,t.shards]);var o=I.useCallback(function(y,v){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!s.current.allowPinchZoom;var m=LS(y),x=n.current,_="deltaX"in y?y.deltaX:x[0]-m[0],E="deltaY"in y?y.deltaY:x[1]-m[1],A,w=y.target,T=Math.abs(_)>Math.abs(E)?"h":"v";if("touches"in y&&T==="h"&&w.type==="range")return!1;var k=RF(T,w);if(!k)return!0;if(k?A=T:(A=T==="v"?"h":"v",k=RF(T,w)),!k)return!1;if(!i.current&&"changedTouches"in y&&(_||E)&&(i.current=A),!A)return!0;var N=i.current||A;return woe(N,v,y,N==="h"?_:E)},[]),l=I.useCallback(function(y){var v=y;if(!(!Bg.length||Bg[Bg.length-1]!==a)){var m="deltaY"in v?kF(v):LS(v),x=e.current.filter(function(A){return A.name===v.type&&(A.target===v.target||v.target===A.shadowParent)&&Eoe(A.delta,m)})[0];if(x&&x.should){v.cancelable&&v.preventDefault();return}if(!x){var _=(s.current.shards||[]).map(DF).filter(Boolean).filter(function(A){return A.contains(v.target)}),E=_.length>0?o(v,_[0]):!s.current.noIsolation;E&&v.cancelable&&v.preventDefault()}}},[]),c=I.useCallback(function(y,v,m,x){var _={name:y,delta:v,target:m,should:x,shadowParent:Coe(m)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(E){return E!==_})},1)},[]),u=I.useCallback(function(y){n.current=LS(y),i.current=void 0},[]),f=I.useCallback(function(y){c(y.type,kF(y),y.target,o(y,t.lockRef.current))},[]),h=I.useCallback(function(y){c(y.type,LS(y),y.target,o(y,t.lockRef.current))},[]);I.useEffect(function(){return Bg.push(a),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,jg),document.addEventListener("touchmove",l,jg),document.addEventListener("touchstart",u,jg),function(){Bg=Bg.filter(function(y){return y!==a}),document.removeEventListener("wheel",l,jg),document.removeEventListener("touchmove",l,jg),document.removeEventListener("touchstart",u,jg)}},[]);var d=t.removeScrollBar,b=t.inert;return I.createElement(I.Fragment,null,b?I.createElement(a,{styles:Moe(r)}):null,d?I.createElement(goe,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Coe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Roe=ioe(aq,Toe);var IM=I.forwardRef(function(t,e){return I.createElement(AT,Iu({},t,{ref:e,sideCar:Roe}))});IM.classNames=AT.classNames;function Vu(t){return Object.keys(t)}function r3(t){return t&&typeof t=="object"&&!Array.isArray(t)}function TO(t,e){const n={...t},i=e;return r3(t)&&r3(e)&&Object.keys(e).forEach(r=>{r3(i[r])&&r in t?n[r]=TO(n[r],i[r]):n[r]=i[r]}),n}function koe(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}function Doe(t){return typeof t!="string"||!t.includes("var(--mantine-scale)")?t:t.match(/^calc\((.*?)\)$/)?.[1].split("*")[0].trim()}function Noe(t){const e=Doe(t);return typeof e=="number"?e:typeof e=="string"?e.includes("calc")||e.includes("var")?e:e.includes("px")?Number(e.replace("px","")):e.includes("rem")?Number(e.replace("rem",""))*16:e.includes("em")?Number(e.replace("em",""))*16:Number(e):NaN}function NF(t){return t==="0rem"?"0rem":`calc(${t} * var(--mantine-scale))`}function uq(t,{shouldScale:e=!1}={}){function n(i){if(i===0||i==="0")return`0${t}`;if(typeof i=="number"){const r=`${i/16}${t}`;return e?NF(r):r}if(typeof i=="string"){if(i===""||i.startsWith("calc(")||i.startsWith("clamp(")||i.includes("rgba("))return i;if(i.includes(","))return i.split(",").map(a=>n(a)).join(",");if(i.includes(" "))return i.split(" ").map(a=>n(a)).join(" ");const r=i.replace("px","");if(!Number.isNaN(Number(r))){const a=`${Number(r)/16}${t}`;return e?NF(a):a}}return i}return n}const gt=uq("rem",{shouldScale:!0}),GD=uq("em");function TT(t){return Object.keys(t).reduce((e,n)=>(t[n]!==void 0&&(e[n]=t[n]),e),{})}function fq(t){if(typeof t=="number")return!0;if(typeof t=="string"){if(t.startsWith("calc(")||t.startsWith("var(")||t.includes(" ")&&t.trim()!=="")return!0;const e=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return t.trim().split(/\s+/).every(i=>e.test(i))}return!1}function tg(t){return Array.isArray(t)||t===null?!1:typeof t=="object"?t.type!==I.Fragment:!1}function uu(t){const e=I.createContext(null);return[({children:r,value:a})=>C.jsx(e.Provider,{value:a,children:r}),()=>{const r=I.useContext(e);if(r===null)throw new Error(t);return r}]}function c_(t=null){const e=I.createContext(t);return[({children:r,value:a})=>C.jsx(e.Provider,{value:a,children:r}),()=>I.useContext(e)]}function IF(t,e){return n=>{if(typeof n!="string"||n.trim().length===0)throw new Error(e);return`${t}-${n}`}}function WD(t,e){let n=t;for(;(n=n.parentElement)&&!n.matches(e););return n}function Ioe(t,e,n){for(let i=t-1;i>=0;i-=1)if(!e[i].disabled)return i;if(n){for(let i=e.length-1;i>-1;i-=1)if(!e[i].disabled)return i}return t}function Ooe(t,e,n){for(let i=t+1;i<e.length;i+=1)if(!e[i].disabled)return i;if(n){for(let i=0;i<e.length;i+=1)if(!e[i].disabled)return i}return t}function Loe(t,e,n){return WD(t,n)===WD(e,n)}function Poe({parentSelector:t,siblingSelector:e,onKeyDown:n,loop:i=!0,activateOnFocus:r=!1,dir:a="rtl",orientation:s}){return o=>{n?.(o);const l=Array.from(WD(o.currentTarget,t)?.querySelectorAll(e)||[]).filter(b=>Loe(o.currentTarget,b,t)),c=l.findIndex(b=>o.currentTarget===b),u=Ooe(c,l,i),f=Ioe(c,l,i),h=a==="rtl"?f:u,d=a==="rtl"?u:f;switch(o.key){case"ArrowRight":{s==="horizontal"&&(o.stopPropagation(),o.preventDefault(),l[h].focus(),r&&l[h].click());break}case"ArrowLeft":{s==="horizontal"&&(o.stopPropagation(),o.preventDefault(),l[d].focus(),r&&l[d].click());break}case"ArrowUp":{s==="vertical"&&(o.stopPropagation(),o.preventDefault(),l[f].focus(),r&&l[f].click());break}case"ArrowDown":{s==="vertical"&&(o.stopPropagation(),o.preventDefault(),l[u].focus(),r&&l[u].click());break}case"Home":{o.stopPropagation(),o.preventDefault(),!l[0].disabled&&l[0].focus();break}case"End":{o.stopPropagation(),o.preventDefault();const b=l.length-1;!l[b].disabled&&l[b].focus();break}}}}const Uoe={app:100,modal:200,popover:300,overlay:400,max:9999};function rf(t){return Uoe[t]}const OM=()=>{};function Foe(t,e={active:!0}){return typeof t!="function"||!e.active?e.onKeyDown||OM:n=>{n.key==="Escape"&&(t(n),e.onTrigger?.())}}function ii(t,e="size",n=!0){if(t!==void 0)return fq(t)?n?gt(t):t:`var(--${e}-${t})`}function Id(t){return ii(t,"mantine-spacing")}function $r(t){return t===void 0?"var(--mantine-radius-default)":ii(t,"mantine-radius")}function gs(t){return ii(t,"mantine-font-size")}function hq(t){return ii(t,"mantine-line-height",!1)}function CO(t){if(t)return ii(t,"mantine-shadow",!1)}var zoe={};function joe(){return typeof process<"u"&&zoe?"production":"development"}function OF(t,e){return e.length===0?t:e.reduce((n,i)=>Math.abs(i-t)<Math.abs(n-t)?i:n)}function CT(t){const e=ke.version;return typeof ke.version!="string"||e.startsWith("18.")?t?.ref:t?.props?.ref}function dq(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=dq(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function $a(){for(var t,e,n=0,i="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=dq(t))&&(i&&(i+=" "),i+=e);return i}const Boe={};function Hoe(t){const e={};return t.forEach(n=>{Object.entries(n).forEach(([i,r])=>{e[i]?e[i]=$a(e[i],r):e[i]=r})}),e}function RT({theme:t,classNames:e,props:n,stylesCtx:i}){const a=(Array.isArray(e)?e:[e]).map(s=>typeof s=="function"?s(t,n,i):s||Boe);return Hoe(a)}function LM({theme:t,styles:e,props:n,stylesCtx:i}){return(Array.isArray(e)?e:[e]).reduce((a,s)=>typeof s=="function"?{...a,...s(t,n,i)}:{...a,...s},{})}const RO=I.createContext(null);function Hd(){const t=I.useContext(RO);if(!t)throw new Error("[@mantine/core] MantineProvider was not found in tree");return t}function Voe(){return Hd().cssVariablesResolver}function Goe(){return Hd().classNamesPrefix}function kT(){return Hd().getStyleNonce}function Woe(){return Hd().withStaticClasses}function qoe(){return Hd().headless}function Xoe(){return Hd().stylesTransform?.sx}function Koe(){return Hd().stylesTransform?.styles}function DT(){return Hd().env||"default"}function Yoe(t){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(t)}function Joe(t){let e=t.replace("#","");if(e.length===3){const s=e.split("");e=[s[0],s[0],s[1],s[1],s[2],s[2]].join("")}if(e.length===8){const s=parseInt(e.slice(6,8),16)/255;return{r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16),a:s}}const n=parseInt(e,16),i=n>>16&255,r=n>>8&255,a=n&255;return{r:i,g:r,b:a,a:1}}function $oe(t){const[e,n,i,r]=t.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:e,g:n,b:i,a:r===void 0?1:r}}function Zoe(t){const e=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,n=t.match(e);if(!n)return{r:0,g:0,b:0,a:1};const i=parseInt(n[1],10),r=parseInt(n[2],10)/100,a=parseInt(n[3],10)/100,s=n[5]?parseFloat(n[5]):void 0,o=(1-Math.abs(2*a-1))*r,l=i/60,c=o*(1-Math.abs(l%2-1)),u=a-o/2;let f,h,d;return l>=0&&l<1?(f=o,h=c,d=0):l>=1&&l<2?(f=c,h=o,d=0):l>=2&&l<3?(f=0,h=o,d=c):l>=3&&l<4?(f=0,h=c,d=o):l>=4&&l<5?(f=c,h=0,d=o):(f=o,h=0,d=c),{r:Math.round((f+u)*255),g:Math.round((h+u)*255),b:Math.round((d+u)*255),a:s||1}}function kO(t){return Yoe(t)?Joe(t):t.startsWith("rgb")?$oe(t):t.startsWith("hsl")?Zoe(t):{r:0,g:0,b:0,a:1}}function PS(t,e){if(t.startsWith("var("))return`color-mix(in srgb, ${t}, black ${e*100}%)`;const{r:n,g:i,b:r,a}=kO(t),s=1-e,o=l=>Math.round(l*s);return`rgba(${o(n)}, ${o(i)}, ${o(r)}, ${a})`}function y1(t,e){return typeof t.primaryShade=="number"?t.primaryShade:e==="dark"?t.primaryShade.dark:t.primaryShade.light}function a3(t){return t<=.03928?t/12.92:((t+.055)/1.055)**2.4}function Qoe(t){const e=t.match(/oklch\((.*?)%\s/);return e?parseFloat(e[1]):null}function ele(t){if(t.startsWith("oklch("))return(Qoe(t)||0)/100;const{r:e,g:n,b:i}=kO(t),r=e/255,a=n/255,s=i/255,o=a3(r),l=a3(a),c=a3(s);return .2126*o+.7152*l+.0722*c}function Ev(t,e=.179){return t.startsWith("var(")?!1:ele(t)>e}function ah({color:t,theme:e,colorScheme:n}){if(typeof t!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof t}`);if(t==="bright")return{color:t,value:n==="dark"?e.white:e.black,shade:void 0,isThemeColor:!1,isLight:Ev(n==="dark"?e.white:e.black,e.luminanceThreshold),variable:"--mantine-color-bright"};if(t==="dimmed")return{color:t,value:n==="dark"?e.colors.dark[2]:e.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:Ev(n==="dark"?e.colors.dark[2]:e.colors.gray[6],e.luminanceThreshold),variable:"--mantine-color-dimmed"};if(t==="white"||t==="black")return{color:t,value:t==="white"?e.white:e.black,shade:void 0,isThemeColor:!1,isLight:Ev(t==="white"?e.white:e.black,e.luminanceThreshold),variable:`--mantine-color-${t}`};const[i,r]=t.split("."),a=r?Number(r):void 0,s=i in e.colors;if(s){const o=a!==void 0?e.colors[i][a]:e.colors[i][y1(e,n||"light")];return{color:i,value:o,shade:a,isThemeColor:s,isLight:Ev(o,e.luminanceThreshold),variable:r?`--mantine-color-${i}-${a}`:`--mantine-color-${i}-filled`}}return{color:t,value:t,isThemeColor:s,isLight:Ev(t,e.luminanceThreshold),shade:a,variable:void 0}}function Jr(t,e){const n=ah({color:t||e.primaryColor,theme:e});return n.variable?`var(${n.variable})`:t}function qD(t,e){const n={from:t?.from||e.defaultGradient.from,to:t?.to||e.defaultGradient.to,deg:t?.deg??e.defaultGradient.deg??0},i=Jr(n.from,e),r=Jr(n.to,e);return`linear-gradient(${n.deg}deg, ${i} 0%, ${r} 100%)`}function Gl(t,e){if(typeof t!="string"||e>1||e<0)return"rgba(0, 0, 0, 1)";if(t.startsWith("var(")){const a=(1-e)*100;return`color-mix(in srgb, ${t}, transparent ${a}%)`}if(t.startsWith("oklch"))return t.includes("/")?t.replace(/\/\s*[\d.]+\s*\)/,`/ ${e})`):t.replace(")",` / ${e})`);const{r:n,g:i,b:r}=kO(t);return`rgba(${n}, ${i}, ${r}, ${e})`}const Hg=Gl,tle=({color:t,theme:e,variant:n,gradient:i,autoContrast:r})=>{const a=ah({color:t,theme:e}),s=typeof r=="boolean"?r:e.autoContrast;if(n==="none")return{background:"transparent",hover:"transparent",color:"inherit",border:"none"};if(n==="filled"){const o=s&&a.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return a.isThemeColor?a.shade===void 0?{background:`var(--mantine-color-${t}-filled)`,hover:`var(--mantine-color-${t}-filled-hover)`,color:o,border:`${gt(1)} solid transparent`}:{background:`var(--mantine-color-${a.color}-${a.shade})`,hover:`var(--mantine-color-${a.color}-${a.shade===9?8:a.shade+1})`,color:o,border:`${gt(1)} solid transparent`}:{background:t,hover:PS(t,.1),color:o,border:`${gt(1)} solid transparent`}}if(n==="light"){if(a.isThemeColor){if(a.shade===void 0)return{background:`var(--mantine-color-${t}-light)`,hover:`var(--mantine-color-${t}-light-hover)`,color:`var(--mantine-color-${t}-light-color)`,border:`${gt(1)} solid transparent`};const o=e.colors[a.color][a.shade];return{background:Gl(o,.1),hover:Gl(o,.12),color:`var(--mantine-color-${a.color}-${Math.min(a.shade,6)})`,border:`${gt(1)} solid transparent`}}return{background:Gl(t,.1),hover:Gl(t,.12),color:t,border:`${gt(1)} solid transparent`}}if(n==="outline")return a.isThemeColor?a.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${t}-outline-hover)`,color:`var(--mantine-color-${t}-outline)`,border:`${gt(1)} solid var(--mantine-color-${t}-outline)`}:{background:"transparent",hover:Gl(e.colors[a.color][a.shade],.05),color:`var(--mantine-color-${a.color}-${a.shade})`,border:`${gt(1)} solid var(--mantine-color-${a.color}-${a.shade})`}:{background:"transparent",hover:Gl(t,.05),color:t,border:`${gt(1)} solid ${t}`};if(n==="subtle"){if(a.isThemeColor){if(a.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${t}-light-hover)`,color:`var(--mantine-color-${t}-light-color)`,border:`${gt(1)} solid transparent`};const o=e.colors[a.color][a.shade];return{background:"transparent",hover:Gl(o,.12),color:`var(--mantine-color-${a.color}-${Math.min(a.shade,6)})`,border:`${gt(1)} solid transparent`}}return{background:"transparent",hover:Gl(t,.12),color:t,border:`${gt(1)} solid transparent`}}return n==="transparent"?a.isThemeColor?a.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${t}-light-color)`,border:`${gt(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${a.color}-${Math.min(a.shade,6)})`,border:`${gt(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:t,border:`${gt(1)} solid transparent`}:n==="white"?a.isThemeColor?a.shade===void 0?{background:"var(--mantine-color-white)",hover:PS(e.white,.01),color:`var(--mantine-color-${t}-filled)`,border:`${gt(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:PS(e.white,.01),color:`var(--mantine-color-${a.color}-${a.shade})`,border:`${gt(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:PS(e.white,.01),color:t,border:`${gt(1)} solid transparent`}:n==="gradient"?{background:qD(i,e),hover:qD(i,e),color:"var(--mantine-color-white)",border:"none"}:n==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${gt(1)} solid var(--mantine-color-default-border)`}:{}},nle={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},LF="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",NT={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:nle,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:tle,autoContrast:!1,luminanceThreshold:.3,fontFamily:LF,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:LF,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:gt(34),lineHeight:"1.3"},h2:{fontSize:gt(26),lineHeight:"1.35"},h3:{fontSize:gt(22),lineHeight:"1.4"},h4:{fontSize:gt(18),lineHeight:"1.45"},h5:{fontSize:gt(16),lineHeight:"1.5"},h6:{fontSize:gt(14),lineHeight:"1.5"}}},fontSizes:{xs:gt(12),sm:gt(14),md:gt(16),lg:gt(18),xl:gt(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:gt(2),sm:gt(4),md:gt(8),lg:gt(16),xl:gt(32)},spacing:{xs:gt(10),sm:gt(12),md:gt(16),lg:gt(20),xl:gt(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${gt(1)} ${gt(3)} rgba(0, 0, 0, 0.05), 0 ${gt(1)} ${gt(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${gt(1)} ${gt(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${gt(10)} ${gt(15)} ${gt(-5)}, rgba(0, 0, 0, 0.04) 0 ${gt(7)} ${gt(7)} ${gt(-5)}`,md:`0 ${gt(1)} ${gt(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${gt(20)} ${gt(25)} ${gt(-5)}, rgba(0, 0, 0, 0.04) 0 ${gt(10)} ${gt(10)} ${gt(-5)}`,lg:`0 ${gt(1)} ${gt(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${gt(28)} ${gt(23)} ${gt(-7)}, rgba(0, 0, 0, 0.04) 0 ${gt(12)} ${gt(12)} ${gt(-7)}`,xl:`0 ${gt(1)} ${gt(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${gt(36)} ${gt(28)} ${gt(-7)}, rgba(0, 0, 0, 0.04) 0 ${gt(17)} ${gt(17)} ${gt(-7)}`},other:{},components:{}};function PF(t){return t==="auto"||t==="dark"||t==="light"}function ile({key:t="mantine-color-scheme-value"}={}){let e;return{get:n=>{if(typeof window>"u")return n;try{const i=window.localStorage.getItem(t);return PF(i)?i:n}catch{return n}},set:n=>{try{window.localStorage.setItem(t,n)}catch(i){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",i)}},subscribe:n=>{e=i=>{i.storageArea===window.localStorage&&i.key===t&&PF(i.newValue)&&n(i.newValue)},window.addEventListener("storage",e)},unsubscribe:()=>{window.removeEventListener("storage",e)},clear:()=>{window.localStorage.removeItem(t)}}}const rle="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color",UF="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function s3(t){return t<0||t>9?!1:parseInt(t.toString(),10)===t}function FF(t){if(!(t.primaryColor in t.colors))throw new Error(rle);if(typeof t.primaryShade=="object"&&(!s3(t.primaryShade.dark)||!s3(t.primaryShade.light)))throw new Error(UF);if(typeof t.primaryShade=="number"&&!s3(t.primaryShade))throw new Error(UF)}function pq(t,e){if(!e)return FF(t),t;const n=TO(t,e);return e.fontFamily&&!e.headings?.fontFamily&&(n.headings.fontFamily=e.fontFamily),FF(n),n}const DO=I.createContext(null),ale=()=>I.useContext(DO)||NT;function ma(){const t=I.useContext(DO);if(!t)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return t}function mq({theme:t,children:e,inherit:n=!0}){const i=ale(),r=I.useMemo(()=>pq(n?i:NT,t),[t,i,n]);return C.jsx(DO.Provider,{value:r,children:e})}mq.displayName="@mantine/core/MantineThemeProvider";function sle(){const t=ma(),e=kT(),n=Vu(t.breakpoints).reduce((i,r)=>{const a=t.breakpoints[r].includes("px"),s=Noe(t.breakpoints[r]),o=a?`${s-.1}px`:GD(s-.1),l=a?`${s}px`:GD(s);return`${i}@media (max-width: ${o}) {.mantine-visible-from-${r} {display: none !important;}}@media (min-width: ${l}) {.mantine-hidden-from-${r} {display: none !important;}}`},"");return C.jsx("style",{"data-mantine-styles":"classes",nonce:e?.(),dangerouslySetInnerHTML:{__html:n}})}function o3(t){return Object.entries(t).map(([e,n])=>`${e}: ${n};`).join("")}function Mv(t,e){return(Array.isArray(t)?t:[t]).reduce((i,r)=>`${r}{${i}}`,e)}function ole(t,e){const n=o3(t.variables),i=n?Mv(e,n):"",r=o3(t.dark),a=o3(t.light),s=r?Mv(e===":host"?`${e}([data-mantine-color-scheme="dark"])`:`${e}[data-mantine-color-scheme="dark"]`,r):"",o=a?Mv(e===":host"?`${e}([data-mantine-color-scheme="light"])`:`${e}[data-mantine-color-scheme="light"]`,a):"";return`${i}

${s}

${o}`}function u_({color:t,theme:e,autoContrast:n}){return(typeof n=="boolean"?n:e.autoContrast)&&ah({color:t||e.primaryColor,theme:e}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function zF(t,e){return u_({color:t.colors[t.primaryColor][y1(t,e)],theme:t,autoContrast:null})}function US({theme:t,color:e,colorScheme:n,name:i=e,withColorValues:r=!0}){if(!t.colors[e])return{};if(n==="light"){const o=y1(t,"light"),l={[`--mantine-color-${i}-text`]:`var(--mantine-color-${i}-filled)`,[`--mantine-color-${i}-filled`]:`var(--mantine-color-${i}-${o})`,[`--mantine-color-${i}-filled-hover`]:`var(--mantine-color-${i}-${o===9?8:o+1})`,[`--mantine-color-${i}-light`]:Hg(t.colors[e][o],.1),[`--mantine-color-${i}-light-hover`]:Hg(t.colors[e][o],.12),[`--mantine-color-${i}-light-color`]:`var(--mantine-color-${i}-${o})`,[`--mantine-color-${i}-outline`]:`var(--mantine-color-${i}-${o})`,[`--mantine-color-${i}-outline-hover`]:Hg(t.colors[e][o],.05)};return r?{[`--mantine-color-${i}-0`]:t.colors[e][0],[`--mantine-color-${i}-1`]:t.colors[e][1],[`--mantine-color-${i}-2`]:t.colors[e][2],[`--mantine-color-${i}-3`]:t.colors[e][3],[`--mantine-color-${i}-4`]:t.colors[e][4],[`--mantine-color-${i}-5`]:t.colors[e][5],[`--mantine-color-${i}-6`]:t.colors[e][6],[`--mantine-color-${i}-7`]:t.colors[e][7],[`--mantine-color-${i}-8`]:t.colors[e][8],[`--mantine-color-${i}-9`]:t.colors[e][9],...l}:l}const a=y1(t,"dark"),s={[`--mantine-color-${i}-text`]:`var(--mantine-color-${i}-4)`,[`--mantine-color-${i}-filled`]:`var(--mantine-color-${i}-${a})`,[`--mantine-color-${i}-filled-hover`]:`var(--mantine-color-${i}-${a===9?8:a+1})`,[`--mantine-color-${i}-light`]:Hg(t.colors[e][Math.max(0,a-2)],.15),[`--mantine-color-${i}-light-hover`]:Hg(t.colors[e][Math.max(0,a-2)],.2),[`--mantine-color-${i}-light-color`]:`var(--mantine-color-${i}-${Math.max(a-5,0)})`,[`--mantine-color-${i}-outline`]:`var(--mantine-color-${i}-${Math.max(a-4,0)})`,[`--mantine-color-${i}-outline-hover`]:Hg(t.colors[e][Math.max(a-4,0)],.05)};return r?{[`--mantine-color-${i}-0`]:t.colors[e][0],[`--mantine-color-${i}-1`]:t.colors[e][1],[`--mantine-color-${i}-2`]:t.colors[e][2],[`--mantine-color-${i}-3`]:t.colors[e][3],[`--mantine-color-${i}-4`]:t.colors[e][4],[`--mantine-color-${i}-5`]:t.colors[e][5],[`--mantine-color-${i}-6`]:t.colors[e][6],[`--mantine-color-${i}-7`]:t.colors[e][7],[`--mantine-color-${i}-8`]:t.colors[e][8],[`--mantine-color-${i}-9`]:t.colors[e][9],...s}:s}function lle(t){return!!t&&typeof t=="object"&&"mantine-virtual-color"in t}function Vg(t,e,n){Vu(e).forEach(i=>Object.assign(t,{[`--mantine-${n}-${i}`]:e[i]}))}const gq=t=>{const e=y1(t,"light"),n=t.defaultRadius in t.radius?t.radius[t.defaultRadius]:gt(t.defaultRadius),i={variables:{"--mantine-z-index-app":"100","--mantine-z-index-modal":"200","--mantine-z-index-popover":"300","--mantine-z-index-overlay":"400","--mantine-z-index-max":"9999","--mantine-scale":t.scale.toString(),"--mantine-cursor-type":t.cursorType,"--mantine-webkit-font-smoothing":t.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":t.fontSmoothing?"grayscale":"unset","--mantine-color-white":t.white,"--mantine-color-black":t.black,"--mantine-line-height":t.lineHeights.md,"--mantine-font-family":t.fontFamily,"--mantine-font-family-monospace":t.fontFamilyMonospace,"--mantine-font-family-headings":t.headings.fontFamily,"--mantine-heading-font-weight":t.headings.fontWeight,"--mantine-heading-text-wrap":t.headings.textWrap,"--mantine-radius-default":n,"--mantine-primary-color-filled":`var(--mantine-color-${t.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${t.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${t.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${t.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${t.primaryColor}-light-color)`},light:{"--mantine-color-scheme":"light","--mantine-primary-color-contrast":zF(t,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":t.black,"--mantine-color-body":t.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${t.primaryColor}-${e})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)","--mantine-color-disabled":"var(--mantine-color-gray-2)","--mantine-color-disabled-color":"var(--mantine-color-gray-5)","--mantine-color-disabled-border":"var(--mantine-color-gray-3)"},dark:{"--mantine-color-scheme":"dark","--mantine-primary-color-contrast":zF(t,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${t.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)","--mantine-color-disabled":"var(--mantine-color-dark-6)","--mantine-color-disabled-color":"var(--mantine-color-dark-3)","--mantine-color-disabled-border":"var(--mantine-color-dark-4)"}};Vg(i.variables,t.breakpoints,"breakpoint"),Vg(i.variables,t.spacing,"spacing"),Vg(i.variables,t.fontSizes,"font-size"),Vg(i.variables,t.lineHeights,"line-height"),Vg(i.variables,t.shadows,"shadow"),Vg(i.variables,t.radius,"radius"),t.colors[t.primaryColor].forEach((a,s)=>{i.variables[`--mantine-primary-color-${s}`]=`var(--mantine-color-${t.primaryColor}-${s})`}),Vu(t.colors).forEach(a=>{const s=t.colors[a];if(lle(s)){Object.assign(i.light,US({theme:t,name:s.name,color:s.light,colorScheme:"light",withColorValues:!0})),Object.assign(i.dark,US({theme:t,name:s.name,color:s.dark,colorScheme:"dark",withColorValues:!0}));return}s.forEach((o,l)=>{i.variables[`--mantine-color-${a}-${l}`]=o}),Object.assign(i.light,US({theme:t,color:a,colorScheme:"light",withColorValues:!1})),Object.assign(i.dark,US({theme:t,color:a,colorScheme:"dark",withColorValues:!1}))});const r=t.headings.sizes;return Vu(r).forEach(a=>{i.variables[`--mantine-${a}-font-size`]=r[a].fontSize,i.variables[`--mantine-${a}-line-height`]=r[a].lineHeight,i.variables[`--mantine-${a}-font-weight`]=r[a].fontWeight||t.headings.fontWeight}),i};function cle({theme:t,generator:e}){const n=gq(t),i=e?.(t);return i?TO(n,i):n}const l3=gq(NT);function ule(t){const e={variables:{},light:{},dark:{}};return Vu(t.variables).forEach(n=>{l3.variables[n]!==t.variables[n]&&(e.variables[n]=t.variables[n])}),Vu(t.light).forEach(n=>{l3.light[n]!==t.light[n]&&(e.light[n]=t.light[n])}),Vu(t.dark).forEach(n=>{l3.dark[n]!==t.dark[n]&&(e.dark[n]=t.dark[n])}),e}function fle(t){return`
  ${t}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${t}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function bq({cssVariablesSelector:t,deduplicateCssVariables:e}){const n=ma(),i=kT(),r=Voe(),a=cle({theme:n,generator:r}),s=t===":root"&&e,o=s?ule(a):a,l=ole(o,t);return l?C.jsx("style",{"data-mantine-styles":!0,nonce:i?.(),dangerouslySetInnerHTML:{__html:`${l}${s?"":fle(t)}`}}):null}bq.displayName="@mantine/CssVariables";function Gg(t,e){const n=typeof window<"u"&&"matchMedia"in window&&window.matchMedia("(prefers-color-scheme: dark)")?.matches,i=t!=="auto"?t:n?"dark":"light";e()?.setAttribute("data-mantine-color-scheme",i)}function hle({manager:t,defaultColorScheme:e,getRootElement:n,forceColorScheme:i}){const r=I.useRef(null),[a,s]=I.useState(()=>t.get(e)),o=i||a,l=I.useCallback(u=>{i||(Gg(u,n),s(u),t.set(u))},[t.set,o,i]),c=I.useCallback(()=>{s(e),Gg(e,n),t.clear()},[t.clear,e]);return I.useEffect(()=>(t.subscribe(l),t.unsubscribe),[t.subscribe,t.unsubscribe]),_y(()=>{Gg(t.get(e),n)},[]),I.useEffect(()=>{if(i)return Gg(i,n),()=>{};i===void 0&&Gg(a,n),typeof window<"u"&&"matchMedia"in window&&(r.current=window.matchMedia("(prefers-color-scheme: dark)"));const u=f=>{a==="auto"&&Gg(f.matches?"dark":"light",n)};return r.current?.addEventListener("change",u),()=>r.current?.removeEventListener("change",u)},[a,i]),{colorScheme:o,setColorScheme:l,clearColorScheme:c}}function dle({respectReducedMotion:t,getRootElement:e}){_y(()=>{t&&e()?.setAttribute("data-respect-reduced-motion","true")},[t])}function yq({theme:t,children:e,getStyleNonce:n,withStaticClasses:i=!0,withGlobalClasses:r=!0,deduplicateCssVariables:a=!0,withCssVariables:s=!0,cssVariablesSelector:o=":root",classNamesPrefix:l="mantine",colorSchemeManager:c=ile(),defaultColorScheme:u="light",getRootElement:f=()=>document.documentElement,cssVariablesResolver:h,forceColorScheme:d,stylesTransform:b,env:y}){const{colorScheme:v,setColorScheme:m,clearColorScheme:x}=hle({defaultColorScheme:u,forceColorScheme:d,manager:c,getRootElement:f});return dle({respectReducedMotion:t?.respectReducedMotion||!1,getRootElement:f}),C.jsx(RO.Provider,{value:{colorScheme:v,setColorScheme:m,clearColorScheme:x,getRootElement:f,classNamesPrefix:l,getStyleNonce:n,cssVariablesResolver:h,cssVariablesSelector:o,withStaticClasses:i,stylesTransform:b,env:y},children:C.jsxs(mq,{theme:t,children:[s&&C.jsx(bq,{cssVariablesSelector:o,deduplicateCssVariables:a}),r&&C.jsx(sle,{}),e]})})}yq.displayName="@mantine/core/MantineProvider";function wy({classNames:t,styles:e,props:n,stylesCtx:i}){const r=ma();return{resolvedClassNames:RT({theme:r,classNames:t,props:n,stylesCtx:i||void 0}),resolvedStyles:LM({theme:r,styles:e,props:n,stylesCtx:i||void 0})}}const ple={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function mle({theme:t,options:e,unstyled:n}){return $a(e?.focusable&&!n&&(t.focusClassName||ple[t.focusRing]),e?.active&&!n&&t.activeClassName)}function gle({selector:t,stylesCtx:e,options:n,props:i,theme:r}){return RT({theme:r,classNames:n?.classNames,props:n?.props||i,stylesCtx:e})[t]}function jF({selector:t,stylesCtx:e,theme:n,classNames:i,props:r}){return RT({theme:n,classNames:i,props:r,stylesCtx:e})[t]}function ble({rootSelector:t,selector:e,className:n}){return t===e?n:void 0}function yle({selector:t,classes:e,unstyled:n}){return n?void 0:e[t]}function vle({themeName:t,classNamesPrefix:e,selector:n,withStaticClass:i}){return i===!1?[]:t.map(r=>`${e}-${r}-${n}`)}function xle({themeName:t,theme:e,selector:n,props:i,stylesCtx:r}){return t.map(a=>RT({theme:e,classNames:e.components[a]?.classNames,props:i,stylesCtx:r})?.[n])}function _le({options:t,classes:e,selector:n,unstyled:i}){return t?.variant&&!i?e[`${n}--${t.variant}`]:void 0}function Sle({theme:t,options:e,themeName:n,selector:i,classNamesPrefix:r,classNames:a,classes:s,unstyled:o,className:l,rootSelector:c,props:u,stylesCtx:f,withStaticClasses:h,headless:d,transformedStyles:b}){return $a(mle({theme:t,options:e,unstyled:o||d}),xle({theme:t,themeName:n,selector:i,props:u,stylesCtx:f}),_le({options:e,classes:s,selector:i,unstyled:o}),jF({selector:i,stylesCtx:f,theme:t,classNames:a,props:u}),jF({selector:i,stylesCtx:f,theme:t,classNames:b,props:u}),gle({selector:i,stylesCtx:f,options:e,props:u,theme:t}),ble({rootSelector:c,selector:i,className:l}),yle({selector:i,classes:s,unstyled:o||d}),h&&!d&&vle({themeName:n,classNamesPrefix:r,selector:i,withStaticClass:e?.withStaticClass}),e?.className)}function wle({theme:t,themeName:e,props:n,stylesCtx:i,selector:r}){return e.map(a=>LM({theme:t,styles:t.components[a]?.styles,props:n,stylesCtx:i})[r]).reduce((a,s)=>({...a,...s}),{})}function XD({style:t,theme:e}){return Array.isArray(t)?[...t].reduce((n,i)=>({...n,...XD({style:i,theme:e})}),{}):typeof t=="function"?t(e):t??{}}function Ele(t){return t.reduce((e,n)=>(n&&Object.keys(n).forEach(i=>{e[i]={...e[i],...TT(n[i])}}),e),{})}function Mle({vars:t,varsResolver:e,theme:n,props:i,stylesCtx:r,selector:a,themeName:s,headless:o}){return Ele([o?{}:e?.(n,i,r),...s.map(l=>n.components?.[l]?.vars?.(n,i,r)),t?.(n,i,r)])?.[a]}function Ale({theme:t,themeName:e,selector:n,options:i,props:r,stylesCtx:a,rootSelector:s,styles:o,style:l,vars:c,varsResolver:u,headless:f,withStylesTransform:h}){return{...!h&&wle({theme:t,themeName:e,props:r,stylesCtx:a,selector:n}),...!h&&LM({theme:t,styles:o,props:r,stylesCtx:a})[n],...!h&&LM({theme:t,styles:i?.styles,props:i?.props||r,stylesCtx:a})[n],...Mle({theme:t,props:r,stylesCtx:a,vars:c,varsResolver:u,selector:n,themeName:e,headless:f}),...s===n?XD({style:l,theme:t}):null,...XD({style:i?.style,theme:t})}}function Tle({props:t,stylesCtx:e,themeName:n}){const i=ma(),r=Koe()?.();return{getTransformedStyles:s=>r?[...s.map(l=>r(l,{props:t,theme:i,ctx:e})),...n.map(l=>r(i.components[l]?.styles,{props:t,theme:i,ctx:e}))].filter(Boolean):[],withStylesTransform:!!r}}function xn({name:t,classes:e,props:n,stylesCtx:i,className:r,style:a,rootSelector:s="root",unstyled:o,classNames:l,styles:c,vars:u,varsResolver:f,attributes:h}){const d=ma(),b=Goe(),y=Woe(),v=qoe(),m=(Array.isArray(t)?t:[t]).filter(E=>E),{withStylesTransform:x,getTransformedStyles:_}=Tle({props:n,stylesCtx:i,themeName:m});return(E,A)=>({className:Sle({theme:d,options:A,themeName:m,selector:E,classNamesPrefix:b,classNames:l,classes:e,unstyled:o,className:r,rootSelector:s,props:n,stylesCtx:i,withStaticClasses:y,headless:v,transformedStyles:_([A?.styles,c])}),style:Ale({theme:d,themeName:m,selector:E,options:A,props:n,stylesCtx:i,rootSelector:s,styles:c,style:a,vars:u,varsResolver:f,headless:v,withStylesTransform:x}),...h?.[E]})}function IT(t,e){return typeof t=="boolean"?t:e.autoContrast}function BF(t){const e=document.createElement("style");return e.setAttribute("data-mantine-styles","inline"),e.innerHTML="*, *::before, *::after {transition: none !important;}",e.setAttribute("data-mantine-disable-transition","true"),t&&e.setAttribute("nonce",t),document.head.appendChild(e),()=>document.querySelectorAll("[data-mantine-disable-transition]").forEach(i=>i.remove())}function ng({keepTransitions:t}={}){const e=I.useRef(OM),n=I.useRef(-1),i=I.useContext(RO),r=kT(),a=I.useRef(r?.());if(!i)throw new Error("[@mantine/core] MantineProvider was not found in tree");const s=f=>{i.setColorScheme(f),e.current=t?()=>{}:BF(a.current),window.clearTimeout(n.current),n.current=window.setTimeout(()=>{e.current?.()},10)},o=()=>{i.clearColorScheme(),e.current=t?()=>{}:BF(a.current),window.clearTimeout(n.current),n.current=window.setTimeout(()=>{e.current?.()},10)},l=fse("light",{getInitialValueInEffect:!1}),c=i.colorScheme==="auto"?l:i.colorScheme,u=I.useCallback(()=>s(c==="light"?"dark":"light"),[s,c]);return I.useEffect(()=>()=>{e.current?.(),window.clearTimeout(n.current)},[]),{colorScheme:i.colorScheme,setColorScheme:s,clearColorScheme:o,toggleColorScheme:u}}function Nt(t,e,n){const i=ma(),r=i.components[t]?.defaultProps,a=typeof r=="function"?r(i):r;return{...e,...a,...TT(n)}}function c3(t){return Vu(t).reduce((e,n)=>t[n]!==void 0?`${e}${koe(n)}:${t[n]};`:e,"").trim()}function Cle({selector:t,styles:e,media:n,container:i}){const r=e?c3(e):"",a=Array.isArray(n)?n.map(o=>`@media${o.query}{${t}{${c3(o.styles)}}}`):[],s=Array.isArray(i)?i.map(o=>`@container ${o.query}{${t}{${c3(o.styles)}}}`):[];return`${r?`${t}{${r}}`:""}${a.join("")}${s.join("")}`.trim()}function vq(t){const e=kT();return C.jsx("style",{"data-mantine-styles":"inline",nonce:e?.(),dangerouslySetInnerHTML:{__html:Cle(t)}})}function f_(t){const{m:e,mx:n,my:i,mt:r,mb:a,ml:s,mr:o,me:l,ms:c,p:u,px:f,py:h,pt:d,pb:b,pl:y,pr:v,pe:m,ps:x,bd:_,bdrs:E,bg:A,c:w,opacity:T,ff:k,fz:N,fw:D,lts:P,ta:B,lh:G,fs:H,tt:V,td:U,w:F,miw:q,maw:X,h:z,mih:oe,mah:fe,bgsz:K,bgp:Me,bgr:_e,bga:pe,pos:xe,top:Oe,left:Ge,bottom:Ye,right:ct,inset:Tt,display:he,flex:Ve,hiddenFrom:Be,visibleFrom:ot,lightHidden:Ae,darkHidden:Ue,sx:Ne,...We}=t;return{styleProps:TT({m:e,mx:n,my:i,mt:r,mb:a,ml:s,mr:o,me:l,ms:c,p:u,px:f,py:h,pt:d,pb:b,pl:y,pr:v,pe:m,ps:x,bd:_,bg:A,c:w,opacity:T,ff:k,fz:N,fw:D,lts:P,ta:B,lh:G,fs:H,tt:V,td:U,w:F,miw:q,maw:X,h:z,mih:oe,mah:fe,bgsz:K,bgp:Me,bgr:_e,bga:pe,pos:xe,top:Oe,left:Ge,bottom:Ye,right:ct,inset:Tt,display:he,flex:Ve,bdrs:E,hiddenFrom:Be,visibleFrom:ot,lightHidden:Ae,darkHidden:Ue,sx:Ne}),rest:We}}const Rle={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bdrs:{type:"radius",property:"borderRadius"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function NO(t,e){const n=ah({color:t,theme:e});return n.color==="dimmed"?"var(--mantine-color-dimmed)":n.color==="bright"?"var(--mantine-color-bright)":n.variable?`var(${n.variable})`:n.color}function kle(t,e){const n=ah({color:t,theme:e});return n.isThemeColor&&n.shade===void 0?`var(--mantine-color-${n.color}-text)`:NO(t,e)}function Dle(t,e){if(typeof t=="number")return gt(t);if(typeof t=="string"){const[n,i,...r]=t.split(" ").filter(s=>s.trim()!=="");let a=`${gt(n)}`;return i&&(a+=` ${i}`),r.length>0&&(a+=` ${NO(r.join(" "),e)}`),a.trim()}return t}const HF={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function Nle(t){return typeof t=="string"&&t in HF?HF[t]:t}const Ile=["h1","h2","h3","h4","h5","h6"];function Ole(t,e){return typeof t=="string"&&t in e.fontSizes?`var(--mantine-font-size-${t})`:typeof t=="string"&&Ile.includes(t)?`var(--mantine-${t}-font-size)`:typeof t=="number"||typeof t=="string"?gt(t):t}function Lle(t){return t}const Ple=["h1","h2","h3","h4","h5","h6"];function Ule(t,e){return typeof t=="string"&&t in e.lineHeights?`var(--mantine-line-height-${t})`:typeof t=="string"&&Ple.includes(t)?`var(--mantine-${t}-line-height)`:t}function Fle(t,e){return typeof t=="string"&&t in e.radius?`var(--mantine-radius-${t})`:typeof t=="number"||typeof t=="string"?gt(t):t}function zle(t){return typeof t=="number"?gt(t):t}function jle(t,e){if(typeof t=="number")return gt(t);if(typeof t=="string"){const n=t.replace("-","");if(!(n in e.spacing))return gt(t);const i=`--mantine-spacing-${n}`;return t.startsWith("-")?`calc(var(${i}) * -1)`:`var(${i})`}return t}const u3={color:NO,textColor:kle,fontSize:Ole,spacing:jle,radius:Fle,identity:Lle,size:zle,lineHeight:Ule,fontFamily:Nle,border:Dle};function VF(t){return t.replace("(min-width: ","").replace("em)","")}function Ble({media:t,...e}){const i=Object.keys(t).sort((r,a)=>Number(VF(r))-Number(VF(a))).map(r=>({query:r,styles:t[r]}));return{...e,media:i}}function Hle(t){if(typeof t!="object"||t===null)return!1;const e=Object.keys(t);return!(e.length===1&&e[0]==="base")}function Vle(t){return typeof t=="object"&&t!==null?"base"in t?t.base:void 0:t}function Gle(t){return typeof t=="object"&&t!==null?Vu(t).filter(e=>e!=="base"):[]}function Wle(t,e){return typeof t=="object"&&t!==null&&e in t?t[e]:t}function xq({styleProps:t,data:e,theme:n}){return Ble(Vu(t).reduce((i,r)=>{if(r==="hiddenFrom"||r==="visibleFrom"||r==="sx")return i;const a=e[r],s=Array.isArray(a.property)?a.property:[a.property],o=Vle(t[r]);if(!Hle(t[r]))return s.forEach(c=>{i.inlineStyles[c]=u3[a.type](o,n)}),i;i.hasResponsiveStyles=!0;const l=Gle(t[r]);return s.forEach(c=>{o!=null&&(i.styles[c]=u3[a.type](o,n)),l.forEach(u=>{const f=`(min-width: ${n.breakpoints[u]})`;i.media[f]={...i.media[f],[c]:u3[a.type](Wle(t[r],u),n)}})}),i},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function _q(){return`__m__-${I.useId().replace(/:/g,"")}`}function IO(t,e){return Array.isArray(t)?[...t].reduce((n,i)=>({...n,...IO(i,e)}),{}):typeof t=="function"?t(e):t??{}}function Sq(t){return t.startsWith("data-")?t:`data-${t}`}function qle(t){return Object.keys(t).reduce((e,n)=>{const i=t[n];return i===void 0||i===""||i===!1||i===null||(e[Sq(n)]=t[n]),e},{})}function wq(t){return t?typeof t=="string"?{[Sq(t)]:!0}:Array.isArray(t)?[...t].reduce((e,n)=>({...e,...wq(n)}),{}):qle(t):null}function KD(t,e){return Array.isArray(t)?[...t].reduce((n,i)=>({...n,...KD(i,e)}),{}):typeof t=="function"?t(e):t??{}}function Xle({theme:t,style:e,vars:n,styleProps:i}){const r=KD(e,t),a=KD(n,t);return{...r,...a,...i}}const Eq=I.forwardRef(({component:t,style:e,__vars:n,className:i,variant:r,mod:a,size:s,hiddenFrom:o,visibleFrom:l,lightHidden:c,darkHidden:u,renderRoot:f,__size:h,...d},b)=>{const y=ma(),v=t||"div",{styleProps:m,rest:x}=f_(d),E=Xoe()?.()?.(m.sx),A=_q(),w=xq({styleProps:m,theme:y,data:Rle}),T={ref:b,style:Xle({theme:y,style:e,vars:n,styleProps:w.inlineStyles}),className:$a(i,E,{[A]:w.hasResponsiveStyles,"mantine-light-hidden":c,"mantine-dark-hidden":u,[`mantine-hidden-from-${o}`]:o,[`mantine-visible-from-${l}`]:l}),"data-variant":r,"data-size":fq(s)?void 0:s||void 0,size:h,...wq(a),...x};return C.jsxs(C.Fragment,{children:[w.hasResponsiveStyles&&C.jsx(vq,{selector:`.${A}`,styles:w.styles,media:w.media}),typeof f=="function"?f(T):C.jsx(v,{...T})]})});Eq.displayName="@mantine/core/Box";const et=Eq;function Mq(t){return t}function Qt(t){const e=I.forwardRef(t);return e.extend=Mq,e.withProps=n=>{const i=I.forwardRef((r,a)=>C.jsx(e,{...n,...r,ref:a}));return i.extend=e.extend,i.displayName=`WithProps(${e.displayName})`,i},e}function xl(t){const e=I.forwardRef(t);return e.withProps=n=>{const i=I.forwardRef((r,a)=>C.jsx(e,{...n,...r,ref:a}));return i.extend=e.extend,i.displayName=`WithProps(${e.displayName})`,i},e.extend=Mq,e}const Kle=I.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function Ey(){return I.useContext(Kle)}function Yle(t){if(!t||typeof t=="string")return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function f3(t){return t?.current?t.current.scrollHeight:"auto"}const Av=typeof window<"u"&&window.requestAnimationFrame,GF=0,Jle=t=>({height:0,overflow:"hidden",...t?{}:{display:"none"}});function $le({transitionDuration:t,transitionTimingFunction:e="ease",onTransitionEnd:n=()=>{},opened:i,keepMounted:r=!1}){const a=I.useRef(null),s=Jle(r),[o,l]=I.useState(i?{}:s),c=b=>{q1.flushSync(()=>l(b))},u=b=>{c(y=>({...y,...b}))};function f(b){const y=t||Yle(b);return{transition:`height ${y}ms ${e}, opacity ${y}ms ${e}`}}oc(()=>{typeof Av=="function"&&Av(i?()=>{u({willChange:"height",display:"block",overflow:"hidden"}),Av(()=>{const b=f3(a);u({...f(b),height:b})})}:()=>{const b=f3(a);u({...f(b),willChange:"height",height:b}),Av(()=>u({height:GF,overflow:"hidden"}))})},[i]);const h=b=>{if(!(b.target!==a.current||b.propertyName!=="height"))if(i){const y=f3(a);y===o.height?c({}):u({height:y}),n()}else o.height===GF&&(c(s),n())};function d({style:b={},refKey:y="ref",...v}={}){const m=v[y],x={"aria-hidden":!i,...v,[y]:KW(a,m),onTransitionEnd:h,style:{boxSizing:"border-box",...b,...o}};return ke.version.startsWith("18")?i||(x.inert=""):x.inert=!i,x}return d}const Zle={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},sh=Qt((t,e)=>{const{children:n,in:i,transitionDuration:r,transitionTimingFunction:a,style:s,onTransitionEnd:o,animateOpacity:l,keepMounted:c,...u}=Nt("Collapse",Zle,t),f=ma(),h=MT(),b=(f.respectReducedMotion?h:!1)?0:r,y=$le({opened:i,transitionDuration:b,transitionTimingFunction:a,onTransitionEnd:o,keepMounted:c});return b===0?i?C.jsx(et,{...u,children:n}):null:C.jsx(et,{...y({style:{opacity:i||!l?1:0,transition:l?`opacity ${b}ms ${a}`:"none",...IO(s,f)},ref:e,...u}),children:n})});sh.displayName="@mantine/core/Collapse";function OT(){return typeof window<"u"}function My(t){return Aq(t)?(t.nodeName||"").toLowerCase():"#document"}function Ro(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function af(t){var e;return(e=(Aq(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Aq(t){return OT()?t instanceof Node||t instanceof Ro(t).Node:!1}function Dr(t){return OT()?t instanceof Element||t instanceof Ro(t).Element:!1}function yl(t){return OT()?t instanceof HTMLElement||t instanceof Ro(t).HTMLElement:!1}function YD(t){return!OT()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ro(t).ShadowRoot}const Qle=new Set(["inline","contents"]);function h_(t){const{overflow:e,overflowX:n,overflowY:i,display:r}=fc(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!Qle.has(r)}const ece=new Set(["table","td","th"]);function tce(t){return ece.has(My(t))}const nce=[":popover-open",":modal"];function LT(t){return nce.some(e=>{try{return t.matches(e)}catch{return!1}})}const ice=["transform","translate","scale","rotate","perspective"],rce=["transform","translate","scale","rotate","perspective","filter"],ace=["paint","layout","strict","content"];function OO(t){const e=PT(),n=Dr(t)?fc(t):t;return ice.some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||rce.some(i=>(n.willChange||"").includes(i))||ace.some(i=>(n.contain||"").includes(i))}function sce(t){let e=oh(t);for(;yl(e)&&!Od(e);){if(OO(e))return e;if(LT(e))return null;e=oh(e)}return null}function PT(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const oce=new Set(["html","body","#document"]);function Od(t){return oce.has(My(t))}function fc(t){return Ro(t).getComputedStyle(t)}function UT(t){return Dr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function oh(t){if(My(t)==="html")return t;const e=t.assignedSlot||t.parentNode||YD(t)&&t.host||af(t);return YD(e)?e.host:e}function Tq(t){const e=oh(t);return Od(e)?t.ownerDocument?t.ownerDocument.body:t.body:yl(e)&&h_(e)?e:Tq(e)}function Jf(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=Tq(t),a=r===((i=t.ownerDocument)==null?void 0:i.body),s=Ro(r);if(a){const o=JD(s);return e.concat(s,s.visualViewport||[],h_(r)?r:[],o&&n?Jf(o):[])}return e.concat(r,Jf(r,[],n))}function JD(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function WF(t){let e=t.activeElement;for(;((n=e)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;e=e.shadowRoot.activeElement}return e}function v1(t,e){if(!t||!e)return!1;const n=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&YD(n)){let i=e;for(;i;){if(t===i)return!0;i=i.parentNode||i.host}}return!1}function Cq(){const t=navigator.userAgentData;return t!=null&&t.platform?t.platform:navigator.platform}function Rq(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:i}=e;return n+"/"+i}).join(" "):navigator.userAgent}function lce(t){return fce()?!1:!qF()&&t.width===0&&t.height===0||qF()&&t.width===1&&t.height===1&&t.pressure===0&&t.detail===0&&t.pointerType==="mouse"||t.width<1&&t.height<1&&t.pressure===0&&t.detail===0&&t.pointerType==="touch"}function cce(){return/apple/i.test(navigator.vendor)}function qF(){const t=/android/i;return t.test(Cq())||t.test(Rq())}function uce(){return Cq().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function fce(){return Rq().includes("jsdom/")}function $D(t,e){const n=["mouse","pen"];return n.push("",void 0),n.includes(t)}function hce(t){return"nativeEvent"in t}function dce(t){return t.matches("html,body")}function tm(t){return t?.ownerDocument||document}function h3(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const n=t;return n.target!=null&&e.contains(n.target)}function Lb(t){return"composedPath"in t?t.composedPath()[0]:t.target}const pce="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function mce(t){return yl(t)&&t.matches(pce)}const gce=["top","right","bottom","left"],au=Math.min,Ls=Math.max,PM=Math.round,FS=Math.floor,Gu=t=>({x:t,y:t}),bce={left:"right",right:"left",bottom:"top",top:"bottom"},yce={start:"end",end:"start"};function ZD(t,e,n){return Ls(t,au(e,n))}function Ju(t,e){return typeof t=="function"?t(e):t}function su(t){return t.split("-")[0]}function Ay(t){return t.split("-")[1]}function LO(t){return t==="x"?"y":"x"}function PO(t){return t==="y"?"height":"width"}const vce=new Set(["top","bottom"]);function $c(t){return vce.has(su(t))?"y":"x"}function UO(t){return LO($c(t))}function xce(t,e,n){n===void 0&&(n=!1);const i=Ay(t),r=UO(t),a=PO(r);let s=r==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(s=UM(s)),[s,UM(s)]}function _ce(t){const e=UM(t);return[QD(t),e,QD(e)]}function QD(t){return t.replace(/start|end/g,e=>yce[e])}const XF=["left","right"],KF=["right","left"],Sce=["top","bottom"],wce=["bottom","top"];function Ece(t,e,n){switch(t){case"top":case"bottom":return n?e?KF:XF:e?XF:KF;case"left":case"right":return e?Sce:wce;default:return[]}}function Mce(t,e,n,i){const r=Ay(t);let a=Ece(su(t),n==="start",i);return r&&(a=a.map(s=>s+"-"+r),e&&(a=a.concat(a.map(QD)))),a}function UM(t){return t.replace(/left|right|bottom|top/g,e=>bce[e])}function Ace(t){return{top:0,right:0,bottom:0,left:0,...t}}function FO(t){return typeof t!="number"?Ace(t):{top:t,right:t,bottom:t,left:t}}function F0(t){const{x:e,y:n,width:i,height:r}=t;return{width:i,height:r,top:n,left:e,right:e+i,bottom:n+r,x:e,y:n}}function YF(t,e,n){let{reference:i,floating:r}=t;const a=$c(e),s=UO(e),o=PO(s),l=su(e),c=a==="y",u=i.x+i.width/2-r.width/2,f=i.y+i.height/2-r.height/2,h=i[o]/2-r[o]/2;let d;switch(l){case"top":d={x:u,y:i.y-r.height};break;case"bottom":d={x:u,y:i.y+i.height};break;case"right":d={x:i.x+i.width,y:f};break;case"left":d={x:i.x-r.width,y:f};break;default:d={x:i.x,y:i.y}}switch(Ay(e)){case"start":d[s]-=h*(n&&c?-1:1);break;case"end":d[s]+=h*(n&&c?-1:1);break}return d}const Tce=async(t,e,n)=>{const{placement:i="bottom",strategy:r="absolute",middleware:a=[],platform:s}=n,o=a.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:r}),{x:u,y:f}=YF(c,i,l),h=i,d={},b=0;for(let y=0;y<o.length;y++){const{name:v,fn:m}=o[y],{x,y:_,data:E,reset:A}=await m({x:u,y:f,initialPlacement:i,placement:h,strategy:r,middlewareData:d,rects:c,platform:s,elements:{reference:t,floating:e}});u=x??u,f=_??f,d={...d,[v]:{...d[v],...E}},A&&b<=50&&(b++,typeof A=="object"&&(A.placement&&(h=A.placement),A.rects&&(c=A.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:r}):A.rects),{x:u,y:f}=YF(c,h,l)),y=-1)}return{x:u,y:f,placement:h,strategy:r,middlewareData:d}};async function x1(t,e){var n;e===void 0&&(e={});const{x:i,y:r,platform:a,rects:s,elements:o,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:h=!1,padding:d=0}=Ju(e,t),b=FO(d),v=o[h?f==="floating"?"reference":"floating":f],m=F0(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(v)))==null||n?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(o.floating)),boundary:c,rootBoundary:u,strategy:l})),x=f==="floating"?{x:i,y:r,width:s.floating.width,height:s.floating.height}:s.reference,_=await(a.getOffsetParent==null?void 0:a.getOffsetParent(o.floating)),E=await(a.isElement==null?void 0:a.isElement(_))?await(a.getScale==null?void 0:a.getScale(_))||{x:1,y:1}:{x:1,y:1},A=F0(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:x,offsetParent:_,strategy:l}):x);return{top:(m.top-A.top+b.top)/E.y,bottom:(A.bottom-m.bottom+b.bottom)/E.y,left:(m.left-A.left+b.left)/E.x,right:(A.right-m.right+b.right)/E.x}}const Cce=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:i,placement:r,rects:a,platform:s,elements:o,middlewareData:l}=e,{element:c,padding:u=0}=Ju(t,e)||{};if(c==null)return{};const f=FO(u),h={x:n,y:i},d=UO(r),b=PO(d),y=await s.getDimensions(c),v=d==="y",m=v?"top":"left",x=v?"bottom":"right",_=v?"clientHeight":"clientWidth",E=a.reference[b]+a.reference[d]-h[d]-a.floating[b],A=h[d]-a.reference[d],w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let T=w?w[_]:0;(!T||!await(s.isElement==null?void 0:s.isElement(w)))&&(T=o.floating[_]||a.floating[b]);const k=E/2-A/2,N=T/2-y[b]/2-1,D=au(f[m],N),P=au(f[x],N),B=D,G=T-y[b]-P,H=T/2-y[b]/2+k,V=ZD(B,H,G),U=!l.arrow&&Ay(r)!=null&&H!==V&&a.reference[b]/2-(H<B?D:P)-y[b]/2<0,F=U?H<B?H-B:H-G:0;return{[d]:h[d]+F,data:{[d]:V,centerOffset:H-V-F,...U&&{alignmentOffset:F}},reset:U}}}),Rce=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:r,middlewareData:a,rects:s,initialPlacement:o,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:y=!0,...v}=Ju(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const m=su(r),x=$c(o),_=su(o)===o,E=await(l.isRTL==null?void 0:l.isRTL(c.floating)),A=h||(_||!y?[UM(o)]:_ce(o)),w=b!=="none";!h&&w&&A.push(...Mce(o,y,b,E));const T=[o,...A],k=await x1(e,v),N=[];let D=((i=a.flip)==null?void 0:i.overflows)||[];if(u&&N.push(k[m]),f){const H=xce(r,s,E);N.push(k[H[0]],k[H[1]])}if(D=[...D,{placement:r,overflows:N}],!N.every(H=>H<=0)){var P,B;const H=(((P=a.flip)==null?void 0:P.index)||0)+1,V=T[H];if(V&&(!(f==="alignment"?x!==$c(V):!1)||D.every(q=>$c(q.placement)===x?q.overflows[0]>0:!0)))return{data:{index:H,overflows:D},reset:{placement:V}};let U=(B=D.filter(F=>F.overflows[0]<=0).sort((F,q)=>F.overflows[1]-q.overflows[1])[0])==null?void 0:B.placement;if(!U)switch(d){case"bestFit":{var G;const F=(G=D.filter(q=>{if(w){const X=$c(q.placement);return X===x||X==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(X=>X>0).reduce((X,z)=>X+z,0)]).sort((q,X)=>q[1]-X[1])[0])==null?void 0:G[0];F&&(U=F);break}case"initialPlacement":U=o;break}if(r!==U)return{reset:{placement:U}}}return{}}}};function JF(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function $F(t){return gce.some(e=>t[e]>=0)}const kce=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:i="referenceHidden",...r}=Ju(t,e);switch(i){case"referenceHidden":{const a=await x1(e,{...r,elementContext:"reference"}),s=JF(a,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:$F(s)}}}case"escaped":{const a=await x1(e,{...r,altBoundary:!0}),s=JF(a,n.floating);return{data:{escapedOffsets:s,escaped:$F(s)}}}default:return{}}}}};function kq(t){const e=au(...t.map(a=>a.left)),n=au(...t.map(a=>a.top)),i=Ls(...t.map(a=>a.right)),r=Ls(...t.map(a=>a.bottom));return{x:e,y:n,width:i-e,height:r-n}}function Dce(t){const e=t.slice().sort((r,a)=>r.y-a.y),n=[];let i=null;for(let r=0;r<e.length;r++){const a=e[r];!i||a.y-i.y>i.height/2?n.push([a]):n[n.length-1].push(a),i=a}return n.map(r=>F0(kq(r)))}const Nce=function(t){return t===void 0&&(t={}),{name:"inline",options:t,async fn(e){const{placement:n,elements:i,rects:r,platform:a,strategy:s}=e,{padding:o=2,x:l,y:c}=Ju(t,e),u=Array.from(await(a.getClientRects==null?void 0:a.getClientRects(i.reference))||[]),f=Dce(u),h=F0(kq(u)),d=FO(o);function b(){if(f.length===2&&f[0].left>f[1].right&&l!=null&&c!=null)return f.find(v=>l>v.left-d.left&&l<v.right+d.right&&c>v.top-d.top&&c<v.bottom+d.bottom)||h;if(f.length>=2){if($c(n)==="y"){const D=f[0],P=f[f.length-1],B=su(n)==="top",G=D.top,H=P.bottom,V=B?D.left:P.left,U=B?D.right:P.right,F=U-V,q=H-G;return{top:G,bottom:H,left:V,right:U,width:F,height:q,x:V,y:G}}const v=su(n)==="left",m=Ls(...f.map(D=>D.right)),x=au(...f.map(D=>D.left)),_=f.filter(D=>v?D.left===x:D.right===m),E=_[0].top,A=_[_.length-1].bottom,w=x,T=m,k=T-w,N=A-E;return{top:E,bottom:A,left:w,right:T,width:k,height:N,x:w,y:E}}return h}const y=await a.getElementRects({reference:{getBoundingClientRect:b},floating:i.floating,strategy:s});return r.reference.x!==y.reference.x||r.reference.y!==y.reference.y||r.reference.width!==y.reference.width||r.reference.height!==y.reference.height?{reset:{rects:y}}:{}}}},Dq=new Set(["left","top"]);async function Ice(t,e){const{placement:n,platform:i,elements:r}=t,a=await(i.isRTL==null?void 0:i.isRTL(r.floating)),s=su(n),o=Ay(n),l=$c(n)==="y",c=Dq.has(s)?-1:1,u=a&&l?-1:1,f=Ju(e,t);let{mainAxis:h,crossAxis:d,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof b=="number"&&(d=o==="end"?b*-1:b),l?{x:d*u,y:h*c}:{x:h*c,y:d*u}}const Oce=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:r,y:a,placement:s,middlewareData:o}=e,l=await Ice(e,t);return s===((n=o.offset)==null?void 0:n.placement)&&(i=o.arrow)!=null&&i.alignmentOffset?{}:{x:r+l.x,y:a+l.y,data:{...l,placement:s}}}}},Lce=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:r}=e,{mainAxis:a=!0,crossAxis:s=!1,limiter:o={fn:v=>{let{x:m,y:x}=v;return{x:m,y:x}}},...l}=Ju(t,e),c={x:n,y:i},u=await x1(e,l),f=$c(su(r)),h=LO(f);let d=c[h],b=c[f];if(a){const v=h==="y"?"top":"left",m=h==="y"?"bottom":"right",x=d+u[v],_=d-u[m];d=ZD(x,d,_)}if(s){const v=f==="y"?"top":"left",m=f==="y"?"bottom":"right",x=b+u[v],_=b-u[m];b=ZD(x,b,_)}const y=o.fn({...e,[h]:d,[f]:b});return{...y,data:{x:y.x-n,y:y.y-i,enabled:{[h]:a,[f]:s}}}}}},Pce=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:i,placement:r,rects:a,middlewareData:s}=e,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=Ju(t,e),u={x:n,y:i},f=$c(r),h=LO(f);let d=u[h],b=u[f];const y=Ju(o,e),v=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const _=h==="y"?"height":"width",E=a.reference[h]-a.floating[_]+v.mainAxis,A=a.reference[h]+a.reference[_]-v.mainAxis;d<E?d=E:d>A&&(d=A)}if(c){var m,x;const _=h==="y"?"width":"height",E=Dq.has(su(r)),A=a.reference[f]-a.floating[_]+(E&&((m=s.offset)==null?void 0:m[f])||0)+(E?0:v.crossAxis),w=a.reference[f]+a.reference[_]+(E?0:((x=s.offset)==null?void 0:x[f])||0)-(E?v.crossAxis:0);b<A?b=A:b>w&&(b=w)}return{[h]:d,[f]:b}}}},Uce=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,i;const{placement:r,rects:a,platform:s,elements:o}=e,{apply:l=()=>{},...c}=Ju(t,e),u=await x1(e,c),f=su(r),h=Ay(r),d=$c(r)==="y",{width:b,height:y}=a.floating;let v,m;f==="top"||f==="bottom"?(v=f,m=h===(await(s.isRTL==null?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(m=f,v=h==="end"?"top":"bottom");const x=y-u.top-u.bottom,_=b-u.left-u.right,E=au(y-u[v],x),A=au(b-u[m],_),w=!e.middlewareData.shift;let T=E,k=A;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(k=_),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(T=x),w&&!h){const D=Ls(u.left,0),P=Ls(u.right,0),B=Ls(u.top,0),G=Ls(u.bottom,0);d?k=b-2*(D!==0||P!==0?D+P:Ls(u.left,u.right)):T=y-2*(B!==0||G!==0?B+G:Ls(u.top,u.bottom))}await l({...e,availableWidth:k,availableHeight:T});const N=await s.getDimensions(o.floating);return b!==N.width||y!==N.height?{reset:{rects:!0}}:{}}}};function Nq(t){const e=fc(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=yl(t),a=r?t.offsetWidth:n,s=r?t.offsetHeight:i,o=PM(n)!==a||PM(i)!==s;return o&&(n=a,i=s),{width:n,height:i,$:o}}function zO(t){return Dr(t)?t:t.contextElement}function f0(t){const e=zO(t);if(!yl(e))return Gu(1);const n=e.getBoundingClientRect(),{width:i,height:r,$:a}=Nq(e);let s=(a?PM(n.width):n.width)/i,o=(a?PM(n.height):n.height)/r;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const Fce=Gu(0);function Iq(t){const e=Ro(t);return!PT()||!e.visualViewport?Fce:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function zce(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ro(t)?!1:e}function Um(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),a=zO(t);let s=Gu(1);e&&(i?Dr(i)&&(s=f0(i)):s=f0(t));const o=zce(a,n,i)?Iq(a):Gu(0);let l=(r.left+o.x)/s.x,c=(r.top+o.y)/s.y,u=r.width/s.x,f=r.height/s.y;if(a){const h=Ro(a),d=i&&Dr(i)?Ro(i):i;let b=h,y=JD(b);for(;y&&i&&d!==b;){const v=f0(y),m=y.getBoundingClientRect(),x=fc(y),_=m.left+(y.clientLeft+parseFloat(x.paddingLeft))*v.x,E=m.top+(y.clientTop+parseFloat(x.paddingTop))*v.y;l*=v.x,c*=v.y,u*=v.x,f*=v.y,l+=_,c+=E,b=Ro(y),y=JD(b)}}return F0({width:u,height:f,x:l,y:c})}function FT(t,e){const n=UT(t).scrollLeft;return e?e.left+n:Um(af(t)).left+n}function Oq(t,e){const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-FT(t,n),r=n.top+e.scrollTop;return{x:i,y:r}}function jce(t){let{elements:e,rect:n,offsetParent:i,strategy:r}=t;const a=r==="fixed",s=af(i),o=e?LT(e.floating):!1;if(i===s||o&&a)return n;let l={scrollLeft:0,scrollTop:0},c=Gu(1);const u=Gu(0),f=yl(i);if((f||!f&&!a)&&((My(i)!=="body"||h_(s))&&(l=UT(i)),yl(i))){const d=Um(i);c=f0(i),u.x=d.x+i.clientLeft,u.y=d.y+i.clientTop}const h=s&&!f&&!a?Oq(s,l):Gu(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}}function Bce(t){return Array.from(t.getClientRects())}function Hce(t){const e=af(t),n=UT(t),i=t.ownerDocument.body,r=Ls(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),a=Ls(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let s=-n.scrollLeft+FT(t);const o=-n.scrollTop;return fc(i).direction==="rtl"&&(s+=Ls(e.clientWidth,i.clientWidth)-r),{width:r,height:a,x:s,y:o}}const ZF=25;function Vce(t,e){const n=Ro(t),i=af(t),r=n.visualViewport;let a=i.clientWidth,s=i.clientHeight,o=0,l=0;if(r){a=r.width,s=r.height;const u=PT();(!u||u&&e==="fixed")&&(o=r.offsetLeft,l=r.offsetTop)}const c=FT(i);if(c<=0){const u=i.ownerDocument,f=u.body,h=getComputedStyle(f),d=u.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,b=Math.abs(i.clientWidth-f.clientWidth-d);b<=ZF&&(a-=b)}else c<=ZF&&(a+=c);return{width:a,height:s,x:o,y:l}}const Gce=new Set(["absolute","fixed"]);function Wce(t,e){const n=Um(t,!0,e==="fixed"),i=n.top+t.clientTop,r=n.left+t.clientLeft,a=yl(t)?f0(t):Gu(1),s=t.clientWidth*a.x,o=t.clientHeight*a.y,l=r*a.x,c=i*a.y;return{width:s,height:o,x:l,y:c}}function QF(t,e,n){let i;if(e==="viewport")i=Vce(t,n);else if(e==="document")i=Hce(af(t));else if(Dr(e))i=Wce(e,n);else{const r=Iq(t);i={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return F0(i)}function Lq(t,e){const n=oh(t);return n===e||!Dr(n)||Od(n)?!1:fc(n).position==="fixed"||Lq(n,e)}function qce(t,e){const n=e.get(t);if(n)return n;let i=Jf(t,[],!1).filter(o=>Dr(o)&&My(o)!=="body"),r=null;const a=fc(t).position==="fixed";let s=a?oh(t):t;for(;Dr(s)&&!Od(s);){const o=fc(s),l=OO(s);!l&&o.position==="fixed"&&(r=null),(a?!l&&!r:!l&&o.position==="static"&&!!r&&Gce.has(r.position)||h_(s)&&!l&&Lq(t,s))?i=i.filter(u=>u!==s):r=o,s=oh(s)}return e.set(t,i),i}function Xce(t){let{element:e,boundary:n,rootBoundary:i,strategy:r}=t;const s=[...n==="clippingAncestors"?LT(e)?[]:qce(e,this._c):[].concat(n),i],o=s[0],l=s.reduce((c,u)=>{const f=QF(e,u,r);return c.top=Ls(f.top,c.top),c.right=au(f.right,c.right),c.bottom=au(f.bottom,c.bottom),c.left=Ls(f.left,c.left),c},QF(e,o,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Kce(t){const{width:e,height:n}=Nq(t);return{width:e,height:n}}function Yce(t,e,n){const i=yl(e),r=af(e),a=n==="fixed",s=Um(t,!0,a,e);let o={scrollLeft:0,scrollTop:0};const l=Gu(0);function c(){l.x=FT(r)}if(i||!i&&!a)if((My(e)!=="body"||h_(r))&&(o=UT(e)),i){const d=Um(e,!0,a,e);l.x=d.x+e.clientLeft,l.y=d.y+e.clientTop}else r&&c();a&&!i&&r&&c();const u=r&&!i&&!a?Oq(r,o):Gu(0),f=s.left+o.scrollLeft-l.x-u.x,h=s.top+o.scrollTop-l.y-u.y;return{x:f,y:h,width:s.width,height:s.height}}function d3(t){return fc(t).position==="static"}function ez(t,e){if(!yl(t)||fc(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return af(t)===n&&(n=n.ownerDocument.body),n}function Pq(t,e){const n=Ro(t);if(LT(t))return n;if(!yl(t)){let r=oh(t);for(;r&&!Od(r);){if(Dr(r)&&!d3(r))return r;r=oh(r)}return n}let i=ez(t,e);for(;i&&tce(i)&&d3(i);)i=ez(i,e);return i&&Od(i)&&d3(i)&&!OO(i)?n:i||sce(t)||n}const Jce=async function(t){const e=this.getOffsetParent||Pq,n=this.getDimensions,i=await n(t.floating);return{reference:Yce(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function $ce(t){return fc(t).direction==="rtl"}const Zce={convertOffsetParentRelativeRectToViewportRelativeRect:jce,getDocumentElement:af,getClippingRect:Xce,getOffsetParent:Pq,getElementRects:Jce,getClientRects:Bce,getDimensions:Kce,getScale:f0,isElement:Dr,isRTL:$ce};function Uq(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Qce(t,e){let n=null,i;const r=af(t);function a(){var o;clearTimeout(i),(o=n)==null||o.disconnect(),n=null}function s(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),a();const c=t.getBoundingClientRect(),{left:u,top:f,width:h,height:d}=c;if(o||e(),!h||!d)return;const b=FS(f),y=FS(r.clientWidth-(u+h)),v=FS(r.clientHeight-(f+d)),m=FS(u),_={rootMargin:-b+"px "+-y+"px "+-v+"px "+-m+"px",threshold:Ls(0,au(1,l))||1};let E=!0;function A(w){const T=w[0].intersectionRatio;if(T!==l){if(!E)return s();T?s(!1,T):i=setTimeout(()=>{s(!1,1e-7)},1e3)}T===1&&!Uq(c,t.getBoundingClientRect())&&s(),E=!1}try{n=new IntersectionObserver(A,{..._,root:r.ownerDocument})}catch{n=new IntersectionObserver(A,_)}n.observe(t)}return s(!0),a}function Fq(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,c=zO(t),u=r||a?[...c?Jf(c):[],...Jf(e)]:[];u.forEach(m=>{r&&m.addEventListener("scroll",n,{passive:!0}),a&&m.addEventListener("resize",n)});const f=c&&o?Qce(c,n):null;let h=-1,d=null;s&&(d=new ResizeObserver(m=>{let[x]=m;x&&x.target===c&&d&&(d.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var _;(_=d)==null||_.observe(e)})),n()}),c&&!l&&d.observe(c),d.observe(e));let b,y=l?Um(t):null;l&&v();function v(){const m=Um(t);y&&!Uq(y,m)&&n(),y=m,b=requestAnimationFrame(v)}return n(),()=>{var m;u.forEach(x=>{r&&x.removeEventListener("scroll",n),a&&x.removeEventListener("resize",n)}),f?.(),(m=d)==null||m.disconnect(),d=null,l&&cancelAnimationFrame(b)}}const eue=Oce,tue=Lce,nue=Rce,iue=Uce,rue=kce,tz=Cce,aue=Nce,sue=Pce,oue=(t,e,n)=>{const i=new Map,r={platform:Zce,...n},a={...r.platform,_c:i};return Tce(t,e,{...r,platform:a})};var lue=typeof document<"u",cue=function(){},FE=lue?I.useLayoutEffect:cue;function FM(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,i,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(i=n;i--!==0;)if(!FM(t[i],e[i]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(e,r[i]))return!1;for(i=n;i--!==0;){const a=r[i];if(!(a==="_owner"&&t.$$typeof)&&!FM(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function zq(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function nz(t,e){const n=zq(t);return Math.round(e*n)/n}function p3(t){const e=I.useRef(t);return FE(()=>{e.current=t}),e}function uue(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:i=[],platform:r,elements:{reference:a,floating:s}={},transform:o=!0,whileElementsMounted:l,open:c}=t,[u,f]=I.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,d]=I.useState(i);FM(h,i)||d(i);const[b,y]=I.useState(null),[v,m]=I.useState(null),x=I.useCallback(q=>{q!==w.current&&(w.current=q,y(q))},[]),_=I.useCallback(q=>{q!==T.current&&(T.current=q,m(q))},[]),E=a||b,A=s||v,w=I.useRef(null),T=I.useRef(null),k=I.useRef(u),N=l!=null,D=p3(l),P=p3(r),B=p3(c),G=I.useCallback(()=>{if(!w.current||!T.current)return;const q={placement:e,strategy:n,middleware:h};P.current&&(q.platform=P.current),oue(w.current,T.current,q).then(X=>{const z={...X,isPositioned:B.current!==!1};H.current&&!FM(k.current,z)&&(k.current=z,q1.flushSync(()=>{f(z)}))})},[h,e,n,P,B]);FE(()=>{c===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(q=>({...q,isPositioned:!1})))},[c]);const H=I.useRef(!1);FE(()=>(H.current=!0,()=>{H.current=!1}),[]),FE(()=>{if(E&&(w.current=E),A&&(T.current=A),E&&A){if(D.current)return D.current(E,A,G);G()}},[E,A,G,D,N]);const V=I.useMemo(()=>({reference:w,floating:T,setReference:x,setFloating:_}),[x,_]),U=I.useMemo(()=>({reference:E,floating:A}),[E,A]),F=I.useMemo(()=>{const q={position:n,left:0,top:0};if(!U.floating)return q;const X=nz(U.floating,u.x),z=nz(U.floating,u.y);return o?{...q,transform:"translate("+X+"px, "+z+"px)",...zq(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:X,top:z}},[n,o,U.floating,u.x,u.y]);return I.useMemo(()=>({...u,update:G,refs:V,elements:U,floatingStyles:F}),[u,G,V,U,F])}const fue=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:i,padding:r}=typeof t=="function"?t(n):t;return i&&e(i)?i.current!=null?tz({element:i.current,padding:r}).fn(n):{}:i?tz({element:i,padding:r}).fn(n):{}}}},jq=(t,e)=>({...eue(t),options:[t,e]}),jO=(t,e)=>({...tue(t),options:[t,e]}),iz=(t,e)=>({...sue(t),options:[t,e]}),zM=(t,e)=>({...nue(t),options:[t,e]}),hue=(t,e)=>({...iue(t),options:[t,e]}),due=(t,e)=>({...rue(t),options:[t,e]}),zx=(t,e)=>({...aue(t),options:[t,e]}),Bq=(t,e)=>({...fue(t),options:[t,e]});function Hq(t){return I.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})},t)}const Vq={...Sie},pue=Vq.useInsertionEffect,mue=pue||(t=>t());function Pf(t){const e=I.useRef(()=>{});return mue(()=>{e.current=t}),I.useCallback(function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e.current==null?void 0:e.current(...i)},[])}var Wu=typeof document<"u"?I.useLayoutEffect:I.useEffect;let rz=!1,gue=0;const az=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+gue++;function bue(){const[t,e]=I.useState(()=>rz?az():void 0);return Wu(()=>{t==null&&e(az())},[]),I.useEffect(()=>{rz=!0},[]),t}const yue=Vq.useId,Gq=yue||bue;function vue(){const t=new Map;return{emit(e,n){var i;(i=t.get(e))==null||i.forEach(r=>r(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var i;t.set(e,((i=t.get(e))==null?void 0:i.filter(r=>r!==n))||[])}}}const xue=I.createContext(null),_ue=I.createContext(null),BO=()=>{var t;return((t=I.useContext(xue))==null?void 0:t.id)||null},HO=()=>I.useContext(_ue);function VO(t){return"data-floating-ui-"+t}function m3(t){const e=I.useRef(t);return Wu(()=>{e.current=t}),e}const sz=VO("safe-polygon");function zE(t,e,n){return n&&!$D(n)?0:typeof t=="number"?t:t?.[e]}function Sue(t,e){e===void 0&&(e={});const{open:n,onOpenChange:i,dataRef:r,events:a,elements:s}=t,{enabled:o=!0,delay:l=0,handleClose:c=null,mouseOnly:u=!1,restMs:f=0,move:h=!0}=e,d=HO(),b=BO(),y=m3(c),v=m3(l),m=m3(n),x=I.useRef(),_=I.useRef(-1),E=I.useRef(),A=I.useRef(-1),w=I.useRef(!0),T=I.useRef(!1),k=I.useRef(()=>{}),N=I.useRef(!1),D=I.useCallback(()=>{var F;const q=(F=r.current.openEvent)==null?void 0:F.type;return q?.includes("mouse")&&q!=="mousedown"},[r]);I.useEffect(()=>{if(!o)return;function F(q){let{open:X}=q;X||(clearTimeout(_.current),clearTimeout(A.current),w.current=!0,N.current=!1)}return a.on("openchange",F),()=>{a.off("openchange",F)}},[o,a]),I.useEffect(()=>{if(!o||!y.current||!n)return;function F(X){D()&&i(!1,X,"hover")}const q=tm(s.floating).documentElement;return q.addEventListener("mouseleave",F),()=>{q.removeEventListener("mouseleave",F)}},[s.floating,n,i,o,y,D]);const P=I.useCallback(function(F,q,X){q===void 0&&(q=!0),X===void 0&&(X="hover");const z=zE(v.current,"close",x.current);z&&!E.current?(clearTimeout(_.current),_.current=window.setTimeout(()=>i(!1,F,X),z)):q&&(clearTimeout(_.current),i(!1,F,X))},[v,i]),B=Pf(()=>{k.current(),E.current=void 0}),G=Pf(()=>{if(T.current){const F=tm(s.floating).body;F.style.pointerEvents="",F.removeAttribute(sz),T.current=!1}}),H=Pf(()=>r.current.openEvent?["click","mousedown"].includes(r.current.openEvent.type):!1);I.useEffect(()=>{if(!o)return;function F(oe){if(clearTimeout(_.current),w.current=!1,u&&!$D(x.current)||f>0&&!zE(v.current,"open"))return;const fe=zE(v.current,"open",x.current);fe?_.current=window.setTimeout(()=>{m.current||i(!0,oe,"hover")},fe):n||i(!0,oe,"hover")}function q(oe){if(H())return;k.current();const fe=tm(s.floating);if(clearTimeout(A.current),N.current=!1,y.current&&r.current.floatingContext){n||clearTimeout(_.current),E.current=y.current({...r.current.floatingContext,tree:d,x:oe.clientX,y:oe.clientY,onClose(){G(),B(),H()||P(oe,!0,"safe-polygon")}});const Me=E.current;fe.addEventListener("mousemove",Me),k.current=()=>{fe.removeEventListener("mousemove",Me)};return}(x.current==="touch"?!v1(s.floating,oe.relatedTarget):!0)&&P(oe)}function X(oe){H()||r.current.floatingContext&&(y.current==null||y.current({...r.current.floatingContext,tree:d,x:oe.clientX,y:oe.clientY,onClose(){G(),B(),H()||P(oe)}})(oe))}if(Dr(s.domReference)){var z;const oe=s.domReference;return n&&oe.addEventListener("mouseleave",X),(z=s.floating)==null||z.addEventListener("mouseleave",X),h&&oe.addEventListener("mousemove",F,{once:!0}),oe.addEventListener("mouseenter",F),oe.addEventListener("mouseleave",q),()=>{var fe;n&&oe.removeEventListener("mouseleave",X),(fe=s.floating)==null||fe.removeEventListener("mouseleave",X),h&&oe.removeEventListener("mousemove",F),oe.removeEventListener("mouseenter",F),oe.removeEventListener("mouseleave",q)}}},[s,o,t,u,f,h,P,B,G,i,n,m,d,v,y,r,H]),Wu(()=>{var F;if(o&&n&&(F=y.current)!=null&&F.__options.blockPointerEvents&&D()){T.current=!0;const X=s.floating;if(Dr(s.domReference)&&X){var q;const z=tm(s.floating).body;z.setAttribute(sz,"");const oe=s.domReference,fe=d==null||(q=d.nodesRef.current.find(K=>K.id===b))==null||(q=q.context)==null?void 0:q.elements.floating;return fe&&(fe.style.pointerEvents=""),z.style.pointerEvents="none",oe.style.pointerEvents="auto",X.style.pointerEvents="auto",()=>{z.style.pointerEvents="",oe.style.pointerEvents="",X.style.pointerEvents=""}}}},[o,n,b,s,d,y,D]),Wu(()=>{n||(x.current=void 0,N.current=!1,B(),G())},[n,B,G]),I.useEffect(()=>()=>{B(),clearTimeout(_.current),clearTimeout(A.current),G()},[o,s.domReference,B,G]);const V=I.useMemo(()=>{function F(q){x.current=q.pointerType}return{onPointerDown:F,onPointerEnter:F,onMouseMove(q){const{nativeEvent:X}=q;function z(){!w.current&&!m.current&&i(!0,X,"hover")}u&&!$D(x.current)||n||f===0||N.current&&q.movementX**2+q.movementY**2<2||(clearTimeout(A.current),x.current==="touch"?z():(N.current=!0,A.current=window.setTimeout(z,f)))}}},[u,i,n,m,f]),U=I.useMemo(()=>({onMouseEnter(){clearTimeout(_.current)},onMouseLeave(F){H()||P(F.nativeEvent,!1)}}),[P,H]);return I.useMemo(()=>o?{reference:V,floating:U}:{},[o,V,U])}const eN=()=>{},Wq=I.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:eN,setState:eN,isInstantPhase:!1}),wue=()=>I.useContext(Wq);function Eue(t){const{children:e,delay:n,timeoutMs:i=0}=t,[r,a]=I.useReducer((l,c)=>({...l,...c}),{delay:n,timeoutMs:i,initialDelay:n,currentId:null,isInstantPhase:!1}),s=I.useRef(null),o=I.useCallback(l=>{a({currentId:l})},[]);return Wu(()=>{r.currentId?s.current===null?s.current=r.currentId:r.isInstantPhase||a({isInstantPhase:!0}):(r.isInstantPhase&&a({isInstantPhase:!1}),s.current=null)},[r.currentId,r.isInstantPhase]),I.createElement(Wq.Provider,{value:I.useMemo(()=>({...r,setState:a,setCurrentId:o}),[r,o])},e)}function Mue(t,e){e===void 0&&(e={});const{open:n,onOpenChange:i,floatingId:r}=t,{id:a,enabled:s=!0}=e,o=a??r,l=wue(),{currentId:c,setCurrentId:u,initialDelay:f,setState:h,timeoutMs:d}=l;return Wu(()=>{s&&c&&(h({delay:{open:1,close:zE(f,"close")}}),c!==o&&i(!1))},[s,o,i,h,c,f]),Wu(()=>{function b(){i(!1),h({delay:f,currentId:null})}if(s&&c&&!n&&c===o){if(d){const y=window.setTimeout(b,d);return()=>{clearTimeout(y)}}b()}},[s,n,h,c,o,i,f,d]),Wu(()=>{s&&(u===eN||!n||u(o))},[s,n,u,o]),l}function g3(t,e){let n=t.filter(r=>{var a;return r.parentId===e&&((a=r.context)==null?void 0:a.open)}),i=n;for(;i.length;)i=t.filter(r=>{var a;return(a=i)==null?void 0:a.some(s=>{var o;return r.parentId===s.id&&((o=r.context)==null?void 0:o.open)})}),n=n.concat(i);return n}const Aue="data-floating-ui-focusable",Tue={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Cue={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},oz=t=>{var e,n;return{escapeKey:typeof t=="boolean"?t:(e=t?.escapeKey)!=null?e:!1,outsidePress:typeof t=="boolean"?t:(n=t?.outsidePress)!=null?n:!0}};function Rue(t,e){e===void 0&&(e={});const{open:n,onOpenChange:i,elements:r,dataRef:a}=t,{enabled:s=!0,escapeKey:o=!0,outsidePress:l=!0,outsidePressEvent:c="pointerdown",referencePress:u=!1,referencePressEvent:f="pointerdown",ancestorScroll:h=!1,bubbles:d,capture:b}=e,y=HO(),v=Pf(typeof l=="function"?l:()=>!1),m=typeof l=="function"?v:l,x=I.useRef(!1),_=I.useRef(!1),{escapeKey:E,outsidePress:A}=oz(d),{escapeKey:w,outsidePress:T}=oz(b),k=I.useRef(!1),N=Pf(V=>{var U;if(!n||!s||!o||V.key!=="Escape"||k.current)return;const F=(U=a.current.floatingContext)==null?void 0:U.nodeId,q=y?g3(y.nodesRef.current,F):[];if(!E&&(V.stopPropagation(),q.length>0)){let X=!0;if(q.forEach(z=>{var oe;if((oe=z.context)!=null&&oe.open&&!z.context.dataRef.current.__escapeKeyBubbles){X=!1;return}}),!X)return}i(!1,hce(V)?V.nativeEvent:V,"escape-key")}),D=Pf(V=>{var U;const F=()=>{var q;N(V),(q=Lb(V))==null||q.removeEventListener("keydown",F)};(U=Lb(V))==null||U.addEventListener("keydown",F)}),P=Pf(V=>{var U;const F=x.current;x.current=!1;const q=_.current;if(_.current=!1,c==="click"&&q||F||typeof m=="function"&&!m(V))return;const X=Lb(V),z="["+VO("inert")+"]",oe=tm(r.floating).querySelectorAll(z);let fe=Dr(X)?X:null;for(;fe&&!Od(fe);){const pe=oh(fe);if(Od(pe)||!Dr(pe))break;fe=pe}if(oe.length&&Dr(X)&&!dce(X)&&!v1(X,r.floating)&&Array.from(oe).every(pe=>!v1(fe,pe)))return;if(yl(X)&&H){const pe=X.clientWidth>0&&X.scrollWidth>X.clientWidth,xe=X.clientHeight>0&&X.scrollHeight>X.clientHeight;let Oe=xe&&V.offsetX>X.clientWidth;if(xe&&fc(X).direction==="rtl"&&(Oe=V.offsetX<=X.offsetWidth-X.clientWidth),Oe||pe&&V.offsetY>X.clientHeight)return}const K=(U=a.current.floatingContext)==null?void 0:U.nodeId,Me=y&&g3(y.nodesRef.current,K).some(pe=>{var xe;return h3(V,(xe=pe.context)==null?void 0:xe.elements.floating)});if(h3(V,r.floating)||h3(V,r.domReference)||Me)return;const _e=y?g3(y.nodesRef.current,K):[];if(_e.length>0){let pe=!0;if(_e.forEach(xe=>{var Oe;if((Oe=xe.context)!=null&&Oe.open&&!xe.context.dataRef.current.__outsidePressBubbles){pe=!1;return}}),!pe)return}i(!1,V,"outside-press")}),B=Pf(V=>{var U;const F=()=>{var q;P(V),(q=Lb(V))==null||q.removeEventListener(c,F)};(U=Lb(V))==null||U.addEventListener(c,F)});I.useEffect(()=>{if(!n||!s)return;a.current.__escapeKeyBubbles=E,a.current.__outsidePressBubbles=A;let V=-1;function U(oe){i(!1,oe,"ancestor-scroll")}function F(){window.clearTimeout(V),k.current=!0}function q(){V=window.setTimeout(()=>{k.current=!1},PT()?5:0)}const X=tm(r.floating);o&&(X.addEventListener("keydown",w?D:N,w),X.addEventListener("compositionstart",F),X.addEventListener("compositionend",q)),m&&X.addEventListener(c,T?B:P,T);let z=[];return h&&(Dr(r.domReference)&&(z=Jf(r.domReference)),Dr(r.floating)&&(z=z.concat(Jf(r.floating))),!Dr(r.reference)&&r.reference&&r.reference.contextElement&&(z=z.concat(Jf(r.reference.contextElement)))),z=z.filter(oe=>{var fe;return oe!==((fe=X.defaultView)==null?void 0:fe.visualViewport)}),z.forEach(oe=>{oe.addEventListener("scroll",U,{passive:!0})}),()=>{o&&(X.removeEventListener("keydown",w?D:N,w),X.removeEventListener("compositionstart",F),X.removeEventListener("compositionend",q)),m&&X.removeEventListener(c,T?B:P,T),z.forEach(oe=>{oe.removeEventListener("scroll",U)}),window.clearTimeout(V)}},[a,r,o,m,c,n,i,h,s,E,A,N,w,D,P,T,B]),I.useEffect(()=>{x.current=!1},[m,c]);const G=I.useMemo(()=>({onKeyDown:N,[Tue[f]]:V=>{u&&i(!1,V.nativeEvent,"reference-press")}}),[N,i,u,f]),H=I.useMemo(()=>({onKeyDown:N,onMouseDown(){_.current=!0},onMouseUp(){_.current=!0},[Cue[c]]:()=>{x.current=!0}}),[N,c]);return I.useMemo(()=>s?{reference:G,floating:H}:{},[s,G,H])}function kue(t){const{open:e=!1,onOpenChange:n,elements:i}=t,r=Gq(),a=I.useRef({}),[s]=I.useState(()=>vue()),o=BO()!=null,[l,c]=I.useState(i.reference),u=Pf((d,b,y)=>{a.current.openEvent=d?b:void 0,s.emit("openchange",{open:d,event:b,reason:y,nested:o}),n?.(d,b,y)}),f=I.useMemo(()=>({setPositionReference:c}),[]),h=I.useMemo(()=>({reference:l||i.reference||null,floating:i.floating||null,domReference:i.reference}),[l,i.reference,i.floating]);return I.useMemo(()=>({dataRef:a,open:e,onOpenChange:u,elements:h,events:s,floatingId:r,refs:f}),[e,u,h,s,r,f])}function GO(t){t===void 0&&(t={});const{nodeId:e}=t,n=kue({...t,elements:{reference:null,floating:null,...t.elements}}),i=t.rootContext||n,r=i.elements,[a,s]=I.useState(null),[o,l]=I.useState(null),u=r?.domReference||a,f=I.useRef(null),h=HO();Wu(()=>{u&&(f.current=u)},[u]);const d=uue({...t,elements:{...r,...o&&{reference:o}}}),b=I.useCallback(_=>{const E=Dr(_)?{getBoundingClientRect:()=>_.getBoundingClientRect(),contextElement:_}:_;l(E),d.refs.setReference(E)},[d.refs]),y=I.useCallback(_=>{(Dr(_)||_===null)&&(f.current=_,s(_)),(Dr(d.refs.reference.current)||d.refs.reference.current===null||_!==null&&!Dr(_))&&d.refs.setReference(_)},[d.refs]),v=I.useMemo(()=>({...d.refs,setReference:y,setPositionReference:b,domReference:f}),[d.refs,y,b]),m=I.useMemo(()=>({...d.elements,domReference:u}),[d.elements,u]),x=I.useMemo(()=>({...d,...i,refs:v,elements:m,nodeId:e}),[d,v,m,e,i]);return Wu(()=>{i.dataRef.current.floatingContext=x;const _=h?.nodesRef.current.find(E=>E.id===e);_&&(_.context=x)}),I.useMemo(()=>({...d,context:x,refs:v,elements:m}),[d,v,m,x])}function Due(t,e){e===void 0&&(e={});const{open:n,onOpenChange:i,events:r,dataRef:a,elements:s}=t,{enabled:o=!0,visibleOnly:l=!0}=e,c=I.useRef(!1),u=I.useRef(),f=I.useRef(!0);I.useEffect(()=>{if(!o)return;const d=Ro(s.domReference);function b(){!n&&yl(s.domReference)&&s.domReference===WF(tm(s.domReference))&&(c.current=!0)}function y(){f.current=!0}return d.addEventListener("blur",b),d.addEventListener("keydown",y,!0),()=>{d.removeEventListener("blur",b),d.removeEventListener("keydown",y,!0)}},[s.domReference,n,o]),I.useEffect(()=>{if(!o)return;function d(b){let{reason:y}=b;(y==="reference-press"||y==="escape-key")&&(c.current=!0)}return r.on("openchange",d),()=>{r.off("openchange",d)}},[r,o]),I.useEffect(()=>()=>{clearTimeout(u.current)},[]);const h=I.useMemo(()=>({onPointerDown(d){lce(d.nativeEvent)||(f.current=!1)},onMouseLeave(){c.current=!1},onFocus(d){if(c.current)return;const b=Lb(d.nativeEvent);if(l&&Dr(b))try{if(cce()&&uce())throw Error();if(!b.matches(":focus-visible"))return}catch{if(!f.current&&!mce(b))return}i(!0,d.nativeEvent,"focus")},onBlur(d){c.current=!1;const b=d.relatedTarget,y=d.nativeEvent,v=Dr(b)&&b.hasAttribute(VO("focus-guard"))&&b.getAttribute("data-type")==="outside";u.current=window.setTimeout(()=>{var m;const x=WF(s.domReference?s.domReference.ownerDocument:document);!b&&x===s.domReference||v1((m=a.current.floatingContext)==null?void 0:m.refs.floating.current,x)||v1(s.domReference,x)||v||i(!1,y,"focus")})}}),[a,s.domReference,i,l]);return I.useMemo(()=>o?{reference:h}:{},[o,h])}const lz="active",cz="selected";function b3(t,e,n){const i=new Map,r=n==="item";let a=t;if(r&&t){const{[lz]:s,[cz]:o,...l}=t;a=l}return{...n==="floating"&&{tabIndex:-1,[Aue]:""},...a,...e.map(s=>{const o=s?s[n]:null;return typeof o=="function"?t?o(t):null:o}).concat(t).reduce((s,o)=>(o&&Object.entries(o).forEach(l=>{let[c,u]=l;if(!(r&&[lz,cz].includes(c)))if(c.indexOf("on")===0){if(i.has(c)||i.set(c,[]),typeof u=="function"){var f;(f=i.get(c))==null||f.push(u),s[c]=function(){for(var h,d=arguments.length,b=new Array(d),y=0;y<d;y++)b[y]=arguments[y];return(h=i.get(c))==null?void 0:h.map(v=>v(...b)).find(v=>v!==void 0)}}}else s[c]=u}),s),{})}}function Nue(t){t===void 0&&(t=[]);const e=t.map(o=>o?.reference),n=t.map(o=>o?.floating),i=t.map(o=>o?.item),r=I.useCallback(o=>b3(o,t,"reference"),e),a=I.useCallback(o=>b3(o,t,"floating"),n),s=I.useCallback(o=>b3(o,t,"item"),i);return I.useMemo(()=>({getReferenceProps:r,getFloatingProps:a,getItemProps:s}),[r,a,s])}const Iue=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function Oue(t,e){var n;e===void 0&&(e={});const{open:i,floatingId:r}=t,{enabled:a=!0,role:s="dialog"}=e,o=(n=Iue.get(s))!=null?n:s,l=Gq(),u=BO()!=null,f=I.useMemo(()=>o==="tooltip"||s==="label"?{["aria-"+(s==="label"?"labelledby":"describedby")]:i?r:void 0}:{"aria-expanded":i?"true":"false","aria-haspopup":o==="alertdialog"?"dialog":o,"aria-controls":i?r:void 0,...o==="listbox"&&{role:"combobox"},...o==="menu"&&{id:l},...o==="menu"&&u&&{role:"menuitem"},...s==="select"&&{"aria-autocomplete":"none"},...s==="combobox"&&{"aria-autocomplete":"list"}},[o,r,u,i,l,s]),h=I.useMemo(()=>{const b={id:r,...o&&{role:o}};return o==="tooltip"||s==="label"?b:{...b,...o==="menu"&&{"aria-labelledby":l}}},[o,r,l,s]),d=I.useCallback(b=>{let{active:y,selected:v}=b;const m={role:"option",...y&&{id:r+"-option"}};switch(s){case"select":return{...m,"aria-selected":y&&v};case"combobox":return{...m,...y&&{"aria-selected":!0}}}return{}},[r,s]);return I.useMemo(()=>a?{reference:f,floating:h,item:d}:{},[a,f,h,d])}const[Lue,gc]=uu("ScrollArea.Root component was not found in tree");function z0(t,e){const n=Yp(e);_y(()=>{let i=0;if(t){const r=new ResizeObserver(()=>{cancelAnimationFrame(i),i=window.requestAnimationFrame(n)});return r.observe(t),()=>{window.cancelAnimationFrame(i),r.unobserve(t)}}},[t,n])}const Pue=I.forwardRef((t,e)=>{const{style:n,...i}=t,r=gc(),[a,s]=I.useState(0),[o,l]=I.useState(0),c=!!(a&&o);return z0(r.scrollbarX,()=>{const u=r.scrollbarX?.offsetHeight||0;r.onCornerHeightChange(u),l(u)}),z0(r.scrollbarY,()=>{const u=r.scrollbarY?.offsetWidth||0;r.onCornerWidthChange(u),s(u)}),c?C.jsx("div",{...i,ref:e,style:{...n,width:a,height:o}}):null}),Uue=I.forwardRef((t,e)=>{const n=gc(),i=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&i?C.jsx(Pue,{...t,ref:e}):null}),Fue={scrollHideDelay:1e3,type:"hover"},qq=I.forwardRef((t,e)=>{const{type:n,scrollHideDelay:i,scrollbars:r,getStyles:a,...s}=Nt("ScrollAreaRoot",Fue,t),[o,l]=I.useState(null),[c,u]=I.useState(null),[f,h]=I.useState(null),[d,b]=I.useState(null),[y,v]=I.useState(null),[m,x]=I.useState(0),[_,E]=I.useState(0),[A,w]=I.useState(!1),[T,k]=I.useState(!1),N=Ss(e,D=>l(D));return C.jsx(Lue,{value:{type:n,scrollHideDelay:i,scrollArea:o,viewport:c,onViewportChange:u,content:f,onContentChange:h,scrollbarX:d,onScrollbarXChange:b,scrollbarXEnabled:A,onScrollbarXEnabledChange:w,scrollbarY:y,onScrollbarYChange:v,scrollbarYEnabled:T,onScrollbarYEnabledChange:k,onCornerWidthChange:x,onCornerHeightChange:E,getStyles:a},children:C.jsx(et,{...s,ref:N,__vars:{"--sa-corner-width":r!=="xy"?"0px":`${m}px`,"--sa-corner-height":r!=="xy"?"0px":`${_}px`}})})});qq.displayName="@mantine/core/ScrollAreaRoot";function Xq(t,e){const n=t/e;return Number.isNaN(n)?0:n}function zT(t){const e=Xq(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=(t.scrollbar.size-n)*e;return Math.max(i,18)}function Kq(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const i=(e[1]-e[0])/(t[1]-t[0]);return e[0]+i*(n-t[0])}}function zue(t,[e,n]){return Math.min(n,Math.max(e,t))}function uz(t,e,n="ltr"){const i=zT(e),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-r,s=e.content-e.viewport,o=a-i,l=n==="ltr"?[0,s]:[s*-1,0],c=zue(t,l);return Kq([0,s],[0,o])(c)}function jue(t,e,n,i="ltr"){const r=zT(n),a=r/2,s=e||a,o=r-s,l=n.scrollbar.paddingStart+s,c=n.scrollbar.size-n.scrollbar.paddingEnd-o,u=n.content-n.viewport,f=i==="ltr"?[0,u]:[u*-1,0];return Kq([l,c],f)(t)}function Yq(t,e){return t>0&&t<e}function jM(t){return t?parseInt(t,10):0}function Sm(t,e,{checkForDefaultPrevented:n=!0}={}){return i=>{t?.(i),(n===!1||!i.defaultPrevented)&&e?.(i)}}const[Bue,Jq]=uu("ScrollAreaScrollbar was not found in tree"),$q=I.forwardRef((t,e)=>{const{sizes:n,hasThumb:i,onThumbChange:r,onThumbPointerUp:a,onThumbPointerDown:s,onThumbPositionChange:o,onDragScroll:l,onWheelScroll:c,onResize:u,...f}=t,h=gc(),[d,b]=I.useState(null),y=Ss(e,k=>b(k)),v=I.useRef(null),m=I.useRef(""),{viewport:x}=h,_=n.content-n.viewport,E=Yp(c),A=Yp(o),w=ET(u,10),T=k=>{if(v.current){const N=k.clientX-v.current.left,D=k.clientY-v.current.top;l({x:N,y:D})}};return I.useEffect(()=>{const k=N=>{const D=N.target;d?.contains(D)&&E(N,_)};return document.addEventListener("wheel",k,{passive:!1}),()=>document.removeEventListener("wheel",k,{passive:!1})},[x,d,_,E]),I.useEffect(A,[n,A]),z0(d,w),z0(h.content,w),C.jsx(Bue,{value:{scrollbar:d,hasThumb:i,onThumbChange:Yp(r),onThumbPointerUp:Yp(a),onThumbPositionChange:A,onThumbPointerDown:Yp(s)},children:C.jsx("div",{...f,ref:y,"data-mantine-scrollbar":!0,style:{position:"absolute",...f.style},onPointerDown:Sm(t.onPointerDown,k=>{k.preventDefault(),k.button===0&&(k.target.setPointerCapture(k.pointerId),v.current=d.getBoundingClientRect(),m.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",T(k))}),onPointerMove:Sm(t.onPointerMove,T),onPointerUp:Sm(t.onPointerUp,k=>{const N=k.target;N.hasPointerCapture(k.pointerId)&&(k.preventDefault(),N.releasePointerCapture(k.pointerId))}),onLostPointerCapture:()=>{document.body.style.webkitUserSelect=m.current,v.current=null}})})}),Zq=I.forwardRef((t,e)=>{const{sizes:n,onSizesChange:i,style:r,...a}=t,s=gc(),[o,l]=I.useState(),c=I.useRef(null),u=Ss(e,c,s.onScrollbarXChange);return I.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),C.jsx($q,{"data-orientation":"horizontal",...a,ref:u,sizes:n,style:{...r,"--sa-thumb-width":`${zT(n)}px`},onThumbPointerDown:f=>t.onThumbPointerDown(f.x),onDragScroll:f=>t.onDragScroll(f.x),onWheelScroll:(f,h)=>{if(s.viewport){const d=s.viewport.scrollLeft+f.deltaX;t.onWheelScroll(d),Yq(d,h)&&f.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&i({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:jM(o.paddingLeft),paddingEnd:jM(o.paddingRight)}})}})});Zq.displayName="@mantine/core/ScrollAreaScrollbarX";const Qq=I.forwardRef((t,e)=>{const{sizes:n,onSizesChange:i,style:r,...a}=t,s=gc(),[o,l]=I.useState(),c=I.useRef(null),u=Ss(e,c,s.onScrollbarYChange);return I.useEffect(()=>{c.current&&l(window.getComputedStyle(c.current))},[]),C.jsx($q,{...a,"data-orientation":"vertical",ref:u,sizes:n,style:{"--sa-thumb-height":`${zT(n)}px`,...r},onThumbPointerDown:f=>t.onThumbPointerDown(f.y),onDragScroll:f=>t.onDragScroll(f.y),onWheelScroll:(f,h)=>{if(s.viewport){const d=s.viewport.scrollTop+f.deltaY;t.onWheelScroll(d),Yq(d,h)&&f.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&i({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:jM(o.paddingTop),paddingEnd:jM(o.paddingBottom)}})}})});Qq.displayName="@mantine/core/ScrollAreaScrollbarY";const jT=I.forwardRef((t,e)=>{const{orientation:n="vertical",...i}=t,{dir:r}=Ey(),a=gc(),s=I.useRef(null),o=I.useRef(0),[l,c]=I.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Xq(l.viewport,l.content),f={...i,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:d=>{s.current=d},onThumbPointerUp:()=>{o.current=0},onThumbPointerDown:d=>{o.current=d}},h=(d,b)=>jue(d,o.current,l,b);return n==="horizontal"?C.jsx(Zq,{...f,ref:e,onThumbPositionChange:()=>{if(a.viewport&&s.current){const d=a.viewport.scrollLeft,b=uz(d,l,r);s.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:d=>{a.viewport&&(a.viewport.scrollLeft=d)},onDragScroll:d=>{a.viewport&&(a.viewport.scrollLeft=h(d,r))}}):n==="vertical"?C.jsx(Qq,{...f,ref:e,onThumbPositionChange:()=>{if(a.viewport&&s.current){const d=a.viewport.scrollTop,b=uz(d,l);l.scrollbar.size===0?s.current.style.setProperty("--thumb-opacity","0"):s.current.style.setProperty("--thumb-opacity","1"),s.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:d=>{a.viewport&&(a.viewport.scrollTop=d)},onDragScroll:d=>{a.viewport&&(a.viewport.scrollTop=h(d))}}):null});jT.displayName="@mantine/core/ScrollAreaScrollbarVisible";const WO=I.forwardRef((t,e)=>{const n=gc(),{forceMount:i,...r}=t,[a,s]=I.useState(!1),o=t.orientation==="horizontal",l=ET(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;s(o?c:u)}},10);return z0(n.viewport,l),z0(n.content,l),i||a?C.jsx(jT,{"data-state":a?"visible":"hidden",...r,ref:e}):null});WO.displayName="@mantine/core/ScrollAreaScrollbarAuto";const eX=I.forwardRef((t,e)=>{const{forceMount:n,...i}=t,r=gc(),[a,s]=I.useState(!1);return I.useEffect(()=>{const{scrollArea:o}=r;let l=0;if(o){const c=()=>{window.clearTimeout(l),s(!0)},u=()=>{l=window.setTimeout(()=>s(!1),r.scrollHideDelay)};return o.addEventListener("pointerenter",c),o.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),o.removeEventListener("pointerenter",c),o.removeEventListener("pointerleave",u)}}},[r.scrollArea,r.scrollHideDelay]),n||a?C.jsx(WO,{"data-state":a?"visible":"hidden",...i,ref:e}):null});eX.displayName="@mantine/core/ScrollAreaScrollbarHover";const Hue=I.forwardRef((t,e)=>{const{forceMount:n,...i}=t,r=gc(),a=t.orientation==="horizontal",[s,o]=I.useState("hidden"),l=ET(()=>o("idle"),100);return I.useEffect(()=>{if(s==="idle"){const c=window.setTimeout(()=>o("hidden"),r.scrollHideDelay);return()=>window.clearTimeout(c)}},[s,r.scrollHideDelay]),I.useEffect(()=>{const{viewport:c}=r,u=a?"scrollLeft":"scrollTop";if(c){let f=c[u];const h=()=>{const d=c[u];f!==d&&(o("scrolling"),l()),f=d};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[r.viewport,a,l]),n||s!=="hidden"?C.jsx(jT,{"data-state":s==="hidden"?"hidden":"visible",...i,ref:e,onPointerEnter:Sm(t.onPointerEnter,()=>o("interacting")),onPointerLeave:Sm(t.onPointerLeave,()=>o("idle"))}):null}),tN=I.forwardRef((t,e)=>{const{forceMount:n,...i}=t,r=gc(),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:s}=r,o=t.orientation==="horizontal";return I.useEffect(()=>(o?a(!0):s(!0),()=>{o?a(!1):s(!1)}),[o,a,s]),r.type==="hover"?C.jsx(eX,{...i,ref:e,forceMount:n}):r.type==="scroll"?C.jsx(Hue,{...i,ref:e,forceMount:n}):r.type==="auto"?C.jsx(WO,{...i,ref:e,forceMount:n}):r.type==="always"?C.jsx(jT,{...i,ref:e}):null});tN.displayName="@mantine/core/ScrollAreaScrollbar";function Vue(t,e=()=>{}){let n={left:t.scrollLeft,top:t.scrollTop},i=0;return function r(){const a={left:t.scrollLeft,top:t.scrollTop},s=n.left!==a.left,o=n.top!==a.top;(s||o)&&e(),n=a,i=window.requestAnimationFrame(r)}(),()=>window.cancelAnimationFrame(i)}const tX=I.forwardRef((t,e)=>{const{style:n,...i}=t,r=gc(),a=Jq(),{onThumbPositionChange:s}=a,o=Ss(e,u=>a.onThumbChange(u)),l=I.useRef(void 0),c=ET(()=>{l.current&&(l.current(),l.current=void 0)},100);return I.useEffect(()=>{const{viewport:u}=r;if(u){const f=()=>{if(c(),!l.current){const h=Vue(u,s);l.current=h,s()}};return s(),u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[r.viewport,c,s]),C.jsx("div",{"data-state":a.hasThumb?"visible":"hidden",...i,ref:o,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...n},onPointerDownCapture:Sm(t.onPointerDownCapture,u=>{const h=u.target.getBoundingClientRect(),d=u.clientX-h.left,b=u.clientY-h.top;a.onThumbPointerDown({x:d,y:b})}),onPointerUp:Sm(t.onPointerUp,a.onThumbPointerUp)})});tX.displayName="@mantine/core/ScrollAreaThumb";const nN=I.forwardRef((t,e)=>{const{forceMount:n,...i}=t,r=Jq();return n||r.hasThumb?C.jsx(tX,{ref:e,...i}):null});nN.displayName="@mantine/core/ScrollAreaThumb";const nX=I.forwardRef(({children:t,style:e,...n},i)=>{const r=gc(),a=Ss(i,r.onViewportChange);return C.jsx(et,{...n,ref:a,style:{overflowX:r.scrollbarXEnabled?"scroll":"hidden",overflowY:r.scrollbarYEnabled?"scroll":"hidden",...e},children:C.jsx("div",{...r.getStyles("content"),ref:r.onContentChange,children:t})})});nX.displayName="@mantine/core/ScrollAreaViewport";var qO={root:"m_d57069b5",content:"m_b1336c6",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const iX={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},Gue=(t,{scrollbarSize:e,overscrollBehavior:n})=>({root:{"--scrollarea-scrollbar-size":gt(e),"--scrollarea-over-scroll-behavior":n}}),bc=Qt((t,e)=>{const n=Nt("ScrollArea",iX,t),{classNames:i,className:r,style:a,styles:s,unstyled:o,scrollbarSize:l,vars:c,type:u,scrollHideDelay:f,viewportProps:h,viewportRef:d,onScrollPositionChange:b,children:y,offsetScrollbars:v,scrollbars:m,onBottomReached:x,onTopReached:_,overscrollBehavior:E,attributes:A,...w}=n,[T,k]=I.useState(!1),[N,D]=I.useState(!1),[P,B]=I.useState(!1),G=xn({name:"ScrollArea",props:n,classes:qO,className:r,style:a,classNames:i,styles:s,unstyled:o,attributes:A,vars:c,varsResolver:Gue}),H=I.useRef(null),V=Hq([d,H]);return I.useEffect(()=>{if(!H.current||v!=="present")return;const U=H.current,F=new ResizeObserver(()=>{const{scrollHeight:q,clientHeight:X,scrollWidth:z,clientWidth:oe}=U;D(q>X),B(z>oe)});return F.observe(U),()=>F.disconnect()},[H,v]),C.jsxs(qq,{getStyles:G,type:u==="never"?"always":u,scrollHideDelay:f,ref:e,scrollbars:m,...G("root"),...w,children:[C.jsx(nX,{...h,...G("viewport",{style:h?.style}),ref:V,"data-offset-scrollbars":v===!0?"xy":v||void 0,"data-scrollbars":m||void 0,"data-horizontal-hidden":v==="present"&&!P?"true":void 0,"data-vertical-hidden":v==="present"&&!N?"true":void 0,onScroll:U=>{h?.onScroll?.(U),b?.({x:U.currentTarget.scrollLeft,y:U.currentTarget.scrollTop});const{scrollTop:F,scrollHeight:q,clientHeight:X}=U.currentTarget;F-(q-X)>=-.6&&x?.(),F===0&&_?.()},children:y}),(m==="xy"||m==="x")&&C.jsx(tN,{...G("scrollbar"),orientation:"horizontal","data-hidden":u==="never"||v==="present"&&!P?!0:void 0,forceMount:!0,onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1),children:C.jsx(nN,{...G("thumb")})}),(m==="xy"||m==="y")&&C.jsx(tN,{...G("scrollbar"),orientation:"vertical","data-hidden":u==="never"||v==="present"&&!N?!0:void 0,forceMount:!0,onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1),children:C.jsx(nN,{...G("thumb")})}),C.jsx(Uue,{...G("corner"),"data-hovered":T||void 0,"data-hidden":u==="never"||void 0})]})});bc.displayName="@mantine/core/ScrollArea";const XO=Qt((t,e)=>{const{children:n,classNames:i,styles:r,scrollbarSize:a,scrollHideDelay:s,type:o,dir:l,offsetScrollbars:c,viewportRef:u,onScrollPositionChange:f,unstyled:h,variant:d,viewportProps:b,scrollbars:y,style:v,vars:m,onBottomReached:x,onTopReached:_,onOverflowChange:E,...A}=Nt("ScrollAreaAutosize",iX,t),w=I.useRef(null),T=Hq([u,w]),[k,N]=I.useState(!1),D=I.useRef(!1);return I.useEffect(()=>{if(!E)return;const P=w.current;if(!P)return;const B=()=>{const H=P.scrollHeight>P.clientHeight;H!==k&&(D.current?E?.(H):(D.current=!0,H&&E?.(!0)),N(H))};B();const G=new ResizeObserver(B);return G.observe(P),()=>G.disconnect()},[E,k]),C.jsx(et,{...A,ref:e,style:[{display:"flex",overflow:"hidden"},v],children:C.jsx(et,{style:{display:"flex",flexDirection:"column",flex:1,overflow:"hidden",...y==="y"&&{minWidth:0},...y==="x"&&{minHeight:0},...y==="xy"&&{minWidth:0,minHeight:0},...y===!1&&{minWidth:0,minHeight:0}},children:C.jsx(bc,{classNames:i,styles:r,scrollHideDelay:s,scrollbarSize:a,type:o,dir:l,offsetScrollbars:c,viewportRef:T,onScrollPositionChange:f,unstyled:h,variant:d,viewportProps:b,vars:m,scrollbars:y,onBottomReached:x,onTopReached:_,"data-autosize":"true",children:n})})})});bc.classes=qO;XO.displayName="@mantine/core/ScrollAreaAutosize";XO.classes=qO;bc.Autosize=XO;var rX={root:"m_87cf2631"};const Wue={__staticSelector:"UnstyledButton"},$u=xl((t,e)=>{const n=Nt("UnstyledButton",Wue,t),{className:i,component:r="button",__staticSelector:a,unstyled:s,classNames:o,styles:l,style:c,attributes:u,...f}=n,h=xn({name:a,props:n,classes:rX,className:i,style:c,classNames:o,styles:l,unstyled:s,attributes:u});return C.jsx(et,{...h("root",{focusable:!0}),component:r,ref:e,type:r==="button"?"button":void 0,...f})});$u.classes=rX;$u.displayName="@mantine/core/UnstyledButton";var aX={root:"m_515a97f8"};const KO=Qt((t,e)=>{const n=Nt("VisuallyHidden",null,t),{classNames:i,className:r,style:a,styles:s,unstyled:o,vars:l,attributes:c,...u}=n,f=xn({name:"VisuallyHidden",classes:aX,props:n,className:r,style:a,classNames:i,styles:s,unstyled:o,attributes:c});return C.jsx(et,{component:"span",ref:e,...f("root"),...u})});KO.classes=aX;KO.displayName="@mantine/core/VisuallyHidden";var sX={root:"m_1b7284a3"};const que=(t,{radius:e,shadow:n})=>({root:{"--paper-radius":e===void 0?void 0:$r(e),"--paper-shadow":CO(n)}}),xs=xl((t,e)=>{const n=Nt("Paper",null,t),{classNames:i,className:r,style:a,styles:s,unstyled:o,withBorder:l,vars:c,radius:u,shadow:f,variant:h,mod:d,attributes:b,...y}=n,v=xn({name:"Paper",props:n,classes:sX,className:r,style:a,classNames:i,styles:s,unstyled:o,attributes:b,vars:c,varsResolver:que});return C.jsx(et,{ref:e,mod:[{"data-with-border":l},d],...v("root"),variant:h,...y})});xs.classes=sX;xs.displayName="@mantine/core/Paper";function fz(t,e,n,i){return t==="center"||i==="center"?{top:e}:t==="end"?{bottom:n}:t==="start"?{top:n}:{}}function hz(t,e,n,i,r){return t==="center"||i==="center"?{left:e}:t==="end"?{[r==="ltr"?"right":"left"]:n}:t==="start"?{[r==="ltr"?"left":"right"]:n}:{}}const Xue={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function Kue({position:t,arrowSize:e,arrowOffset:n,arrowRadius:i,arrowPosition:r,arrowX:a,arrowY:s,dir:o}){const[l,c="center"]=t.split("-"),u={width:e,height:e,transform:"rotate(45deg)",position:"absolute",[Xue[l]]:i},f=-e/2;return l==="left"?{...u,...fz(c,s,n,r),right:f,borderLeftColor:"transparent",borderBottomColor:"transparent",clipPath:"polygon(100% 0, 0 0, 100% 100%)"}:l==="right"?{...u,...fz(c,s,n,r),left:f,borderRightColor:"transparent",borderTopColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 100%)"}:l==="top"?{...u,...hz(c,a,n,r,o),bottom:f,borderTopColor:"transparent",borderLeftColor:"transparent",clipPath:"polygon(0 100%, 100% 100%, 100% 0)"}:l==="bottom"?{...u,...hz(c,a,n,r,o),top:f,borderBottomColor:"transparent",borderRightColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 0)"}:{}}const BM=I.forwardRef(({position:t,arrowSize:e,arrowOffset:n,arrowRadius:i,arrowPosition:r,visible:a,arrowX:s,arrowY:o,style:l,...c},u)=>{const{dir:f}=Ey();return a?C.jsx("div",{...c,ref:u,style:{...l,...Kue({position:t,arrowSize:e,arrowOffset:n,arrowRadius:i,arrowPosition:r,dir:f,arrowX:s,arrowY:o})}}):null});BM.displayName="@mantine/core/FloatingArrow";function oX(t,e){if(t==="rtl"&&(e.includes("right")||e.includes("left"))){const[n,i]=e.split("-"),r=n==="right"?"left":"right";return i===void 0?r:`${r}-${i}`}return e}var lX={root:"m_9814e45f"};const Yue={zIndex:rf("modal")},Jue=(t,{gradient:e,color:n,backgroundOpacity:i,blur:r,radius:a,zIndex:s})=>({root:{"--overlay-bg":e||(n!==void 0||i!==void 0)&&Gl(n||"#000",i??.6)||void 0,"--overlay-filter":r?`blur(${gt(r)})`:void 0,"--overlay-radius":a===void 0?void 0:$r(a),"--overlay-z-index":s?.toString()}}),BT=xl((t,e)=>{const n=Nt("Overlay",Yue,t),{classNames:i,className:r,style:a,styles:s,unstyled:o,vars:l,fixed:c,center:u,children:f,radius:h,zIndex:d,gradient:b,blur:y,color:v,backgroundOpacity:m,mod:x,attributes:_,...E}=n,A=xn({name:"Overlay",props:n,classes:lX,className:r,style:a,classNames:i,styles:s,unstyled:o,attributes:_,vars:l,varsResolver:Jue});return C.jsx(et,{ref:e,...A("root"),mod:[{center:u,fixed:c},x],...E,children:f})});BT.classes=lX;BT.displayName="@mantine/core/Overlay";function y3(t){const e=document.createElement("div");return e.setAttribute("data-portal","true"),typeof t.className=="string"&&e.classList.add(...t.className.split(" ").filter(Boolean)),typeof t.style=="object"&&Object.assign(e.style,t.style),typeof t.id=="string"&&e.setAttribute("id",t.id),e}function $ue({target:t,reuseTargetNode:e,...n}){if(t)return typeof t=="string"?document.querySelector(t)||y3(n):t;if(e){const i=document.querySelector("[data-mantine-shared-portal-node]");if(i)return i;const r=y3(n);return r.setAttribute("data-mantine-shared-portal-node","true"),document.body.appendChild(r),r}return y3(n)}const Zue={reuseTargetNode:!0},YO=Qt((t,e)=>{const{children:n,target:i,reuseTargetNode:r,...a}=Nt("Portal",Zue,t),[s,o]=I.useState(!1),l=I.useRef(null);return _y(()=>(o(!0),l.current=$ue({target:i,reuseTargetNode:r,...a}),DM(e,l.current),!i&&!r&&l.current&&document.body.appendChild(l.current),()=>{!i&&!r&&l.current&&document.body.removeChild(l.current)}),[i]),!s||!l.current?null:q1.createPortal(C.jsx(C.Fragment,{children:n}),l.current)});YO.displayName="@mantine/core/Portal";const Ld=Qt(({withinPortal:t=!0,children:e,...n},i)=>DT()==="test"||!t?C.jsx(C.Fragment,{children:e}):C.jsx(YO,{ref:i,...n,children:e}));Ld.displayName="@mantine/core/OptionalPortal";const Tv=t=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${t==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),zS={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...Tv("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...Tv("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...Tv("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...Tv("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...Tv("top"),common:{transformOrigin:"top right"}}},dz={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function Que({transition:t,state:e,duration:n,timingFunction:i}){const r={WebkitBackfaceVisibility:"hidden",willChange:"transform, opacity",transitionDuration:`${n}ms`,transitionTimingFunction:i};return typeof t=="string"?t in zS?{transitionProperty:zS[t].transitionProperty,...r,...zS[t].common,...zS[t][dz[e]]}:{}:{transitionProperty:t.transitionProperty,...r,...t.common,...t[dz[e]]}}function efe({duration:t,exitDuration:e,timingFunction:n,mounted:i,onEnter:r,onExit:a,onEntered:s,onExited:o,enterDelay:l,exitDelay:c}){const u=ma(),f=MT(),h=u.respectReducedMotion?f:!1,[d,b]=I.useState(h?0:t),[y,v]=I.useState(i?"entered":"exited"),m=I.useRef(-1),x=I.useRef(-1),_=I.useRef(-1);function E(){window.clearTimeout(m.current),window.clearTimeout(x.current),cancelAnimationFrame(_.current)}const A=T=>{E();const k=T?r:a,N=T?s:o,D=h?0:T?t:e;b(D),D===0?(typeof k=="function"&&k(),typeof N=="function"&&N(),v(T?"entered":"exited")):_.current=requestAnimationFrame(()=>{lx.flushSync(()=>{v(T?"pre-entering":"pre-exiting")}),_.current=requestAnimationFrame(()=>{typeof k=="function"&&k(),v(T?"entering":"exiting"),m.current=window.setTimeout(()=>{typeof N=="function"&&N(),v(T?"entered":"exited")},D)})})},w=T=>{if(E(),typeof(T?l:c)!="number"){A(T);return}x.current=window.setTimeout(()=>{A(T)},T?l:c)};return oc(()=>{w(i)},[i]),I.useEffect(()=>()=>{E()},[]),{transitionDuration:d,transitionStatus:y,transitionTimingFunction:n||"ease"}}function hc({keepMounted:t,transition:e="fade",duration:n=250,exitDuration:i=n,mounted:r,children:a,timingFunction:s="ease",onExit:o,onEntered:l,onEnter:c,onExited:u,enterDelay:f,exitDelay:h}){const d=DT(),{transitionDuration:b,transitionStatus:y,transitionTimingFunction:v}=efe({mounted:r,exitDuration:i,duration:n,timingFunction:s,onExit:o,onEntered:l,onEnter:c,onExited:u,enterDelay:f,exitDelay:h});return b===0||d==="test"?r?C.jsx(C.Fragment,{children:a({})}):t?a({display:"none"}):null:y==="exited"?t?a({display:"none"}):null:C.jsx(C.Fragment,{children:a(Que({transition:e,duration:b,state:y,timingFunction:v}))})}hc.displayName="@mantine/core/Transition";const[tfe,cX]=uu("Popover component was not found in the tree");function HT({children:t,active:e=!0,refProp:n="ref",innerRef:i}){const r=bse(e),a=Ss(r,i);return tg(t)?I.cloneElement(t,{[n]:a}):t}function uX(t){return C.jsx(KO,{tabIndex:-1,"data-autofocus":!0,...t})}HT.displayName="@mantine/core/FocusTrap";uX.displayName="@mantine/core/FocusTrapInitialFocus";HT.InitialFocus=uX;var fX={dropdown:"m_38a85659",arrow:"m_a31dc6c1",overlay:"m_3d7bc908"};const JO=Qt((t,e)=>{const n=Nt("PopoverDropdown",null,t),{className:i,style:r,vars:a,children:s,onKeyDownCapture:o,variant:l,classNames:c,styles:u,...f}=n,h=cX(),d=GW({opened:h.opened,shouldReturnFocus:h.returnFocus}),b=h.withRoles?{"aria-labelledby":h.getTargetId(),id:h.getDropdownId(),role:"dialog",tabIndex:-1}:{},y=Ss(e,h.floating);return h.disabled?null:C.jsx(Ld,{...h.portalProps,withinPortal:h.withinPortal,children:C.jsx(hc,{mounted:h.opened,...h.transitionProps,transition:h.transitionProps?.transition||"fade",duration:h.transitionProps?.duration??150,keepMounted:h.keepMounted,exitDuration:typeof h.transitionProps?.exitDuration=="number"?h.transitionProps.exitDuration:h.transitionProps?.duration,children:v=>C.jsx(HT,{active:h.trapFocus&&h.opened,innerRef:y,children:C.jsxs(et,{...b,...f,variant:l,onKeyDownCapture:Foe(()=>{h.onClose?.(),h.onDismiss?.()},{active:h.closeOnEscape,onTrigger:d,onKeyDown:o}),"data-position":h.placement,"data-fixed":h.floatingStrategy==="fixed"||void 0,...h.getStyles("dropdown",{className:i,props:n,classNames:c,styles:u,style:[{...v,zIndex:h.zIndex,top:h.y??0,left:h.x??0,width:h.width==="target"?void 0:gt(h.width),...h.referenceHidden?{display:"none"}:null},h.resolvedStyles.dropdown,u?.dropdown,r]}),children:[s,C.jsx(BM,{ref:h.arrowRef,arrowX:h.arrowX,arrowY:h.arrowY,visible:h.withArrow,position:h.placement,arrowSize:h.arrowSize,arrowRadius:h.arrowRadius,arrowOffset:h.arrowOffset,arrowPosition:h.arrowPosition,...h.getStyles("arrow",{props:n,classNames:c,styles:u})})]})})})})});JO.classes=fX;JO.displayName="@mantine/core/PopoverDropdown";const nfe={refProp:"ref",popupType:"dialog"},hX=Qt((t,e)=>{const{children:n,refProp:i,popupType:r,...a}=Nt("PopoverTarget",nfe,t);if(!tg(n))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const s=a,o=cX(),l=Ss(o.reference,CT(n),e),c=o.withRoles?{"aria-haspopup":r,"aria-expanded":o.opened,"aria-controls":o.getDropdownId(),id:o.getTargetId()}:{};return I.cloneElement(n,{...s,...c,...o.targetProps,className:$a(o.targetProps.className,s.className,n.props.className),[i]:l,...o.controlled?null:{onClick:()=>{o.onToggle(),n.props.onClick?.()}}})});hX.displayName="@mantine/core/PopoverTarget";function ife(t){if(t===void 0)return{shift:!0,flip:!0};const e={...t};return t.shift===void 0&&(e.shift=!0),t.flip===void 0&&(e.flip=!0),e}function rfe(t,e,n){const i=ife(t.middlewares),r=[jq(t.offset),due()];return t.dropdownVisible&&n!=="test"&&t.preventPositionChangeWhenVisible&&(i.flip=!1,i.shift=!1),i.shift&&r.push(jO(typeof i.shift=="boolean"?{limiter:iz(),padding:5}:{limiter:iz(),padding:5,...i.shift})),i.flip&&r.push(typeof i.flip=="boolean"?zM():zM(i.flip)),i.inline&&r.push(typeof i.inline=="boolean"?zx():zx(i.inline)),r.push(Bq({element:t.arrowRef,padding:t.arrowOffset})),(i.size||t.width==="target")&&r.push(hue({...typeof i.size=="boolean"?{}:i.size,apply({rects:a,availableWidth:s,availableHeight:o,...l}){const u=e().refs.floating.current?.style??{};i.size&&(typeof i.size=="object"&&i.size.apply?i.size.apply({rects:a,availableWidth:s,availableHeight:o,...l}):Object.assign(u,{maxWidth:`${s}px`,maxHeight:`${o}px`})),t.width==="target"&&Object.assign(u,{width:`${a.reference.width}px`})}})),r}function afe(t){const e=DT(),[n,i]=bl({value:t.opened,defaultValue:t.defaultOpened,finalValue:!1,onChange:t.onChange}),r=I.useRef(n),a=()=>{n&&!t.disabled&&i(!1)},s=()=>{t.disabled||i(!n)},o=GO({strategy:t.strategy,placement:t.preventPositionChangeWhenVisible?t.positionRef.current:t.position,middleware:rfe(t,()=>o,e)});return I.useEffect(()=>{if(!(!o.refs.reference.current||!o.refs.floating.current)&&n)return Fq(o.refs.reference.current,o.refs.floating.current,o.update)},[n,o.update]),oc(()=>{t.onPositionChange?.(o.placement),t.positionRef.current=o.placement},[o.placement,t.preventPositionChangeWhenVisible]),oc(()=>{n!==r.current&&(n?t.onOpen?.():t.onClose?.()),r.current=n},[n,t.onClose,t.onOpen]),oc(()=>{let l=-1;return n&&(l=window.setTimeout(()=>t.setDropdownVisible(!0),4)),()=>{window.clearTimeout(l)}},[n,t.position]),{floating:o,controlled:typeof t.opened=="boolean",opened:n,onClose:a,onToggle:s}}const sfe={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,withOverlay:!1,hideDetached:!0,clickOutsideEvents:["mousedown","touchstart"],zIndex:rf("popover"),__staticSelector:"Popover",width:"max-content"},ofe=(t,{radius:e,shadow:n})=>({dropdown:{"--popover-radius":e===void 0?void 0:$r(e),"--popover-shadow":CO(n)}});function ko(t){const e=Nt("Popover",sfe,t),{children:n,position:i,offset:r,onPositionChange:a,positionDependencies:s,opened:o,transitionProps:l,onExitTransitionEnd:c,onEnterTransitionEnd:u,width:f,middlewares:h,withArrow:d,arrowSize:b,arrowOffset:y,arrowRadius:v,arrowPosition:m,unstyled:x,classNames:_,styles:E,closeOnClickOutside:A,withinPortal:w,portalProps:T,closeOnEscape:k,clickOutsideEvents:N,trapFocus:D,onClose:P,onDismiss:B,onOpen:G,onChange:H,zIndex:V,radius:U,shadow:F,id:q,defaultOpened:X,__staticSelector:z,withRoles:oe,disabled:fe,returnFocus:K,variant:Me,keepMounted:_e,vars:pe,floatingStrategy:xe,withOverlay:Oe,overlayProps:Ge,hideDetached:Ye,attributes:ct,preventPositionChangeWhenVisible:Tt,...he}=e,Ve=xn({name:z,props:e,classes:fX,classNames:_,styles:E,unstyled:x,attributes:ct,rootSelector:"dropdown",vars:pe,varsResolver:ofe}),{resolvedStyles:Be}=wy({classNames:_,styles:E,props:e}),[ot,Ae]=I.useState(o??X??!1),Ue=I.useRef(i),Ne=I.useRef(null),[We,Et]=I.useState(null),[vt,re]=I.useState(null),{dir:J}=Ey(),ue=DT(),se=nf(q),be=afe({middlewares:h,width:f,position:oX(J,i),offset:typeof r=="number"?r+(d?b/2:0):r,arrowRef:Ne,arrowOffset:y,onPositionChange:a,positionDependencies:s,opened:o,defaultOpened:X,onChange:H,onOpen:G,onClose:P,onDismiss:B,strategy:xe,dropdownVisible:ot,setDropdownVisible:Ae,positionRef:Ue,disabled:fe,preventPositionChangeWhenVisible:Tt,keepMounted:_e});ose(()=>{A&&(be.onClose(),B?.())},N,[We,vt]);const $=I.useCallback(ze=>{Et(ze),be.floating.refs.setReference(ze)},[be.floating.refs.setReference]),Ke=I.useCallback(ze=>{re(ze),be.floating.refs.setFloating(ze)},[be.floating.refs.setFloating]),tt=I.useCallback(()=>{l?.onExited?.(),c?.(),Ae(!1),Ue.current=i},[l?.onExited,c]),pt=I.useCallback(()=>{l?.onEntered?.(),u?.()},[l?.onEntered,u]);return C.jsxs(tfe,{value:{returnFocus:K,disabled:fe,controlled:be.controlled,reference:$,floating:Ke,x:be.floating.x,y:be.floating.y,arrowX:be.floating?.middlewareData?.arrow?.x,arrowY:be.floating?.middlewareData?.arrow?.y,opened:be.opened,arrowRef:Ne,transitionProps:{...l,onExited:tt,onEntered:pt},width:f,withArrow:d,arrowSize:b,arrowOffset:y,arrowRadius:v,arrowPosition:m,placement:be.floating.placement,trapFocus:D,withinPortal:w,portalProps:T,zIndex:V,radius:U,shadow:F,closeOnEscape:k,onDismiss:B,onClose:be.onClose,onToggle:be.onToggle,getTargetId:()=>`${se}-target`,getDropdownId:()=>`${se}-dropdown`,withRoles:oe,targetProps:he,__staticSelector:z,classNames:_,styles:E,unstyled:x,variant:Me,keepMounted:_e,getStyles:Ve,resolvedStyles:Be,floatingStrategy:xe,referenceHidden:Ye&&ue!=="test"?be.floating.middlewareData.hide?.referenceHidden:!1},children:[n,Oe&&C.jsx(hc,{transition:"fade",mounted:be.opened,duration:l?.duration||250,exitDuration:l?.exitDuration||250,children:ze=>C.jsx(Ld,{withinPortal:w,children:C.jsx(BT,{...Ge,...Ve("overlay",{className:Ge?.className,style:[ze,Ge?.style]})})})})]})}ko.Target=hX;ko.Dropdown=JO;ko.displayName="@mantine/core/Popover";ko.extend=t=>t;var Zc={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const dX=I.forwardRef(({className:t,...e},n)=>C.jsxs(et,{component:"span",className:$a(Zc.barsLoader,t),...e,ref:n,children:[C.jsx("span",{className:Zc.bar}),C.jsx("span",{className:Zc.bar}),C.jsx("span",{className:Zc.bar})]}));dX.displayName="@mantine/core/Bars";const pX=I.forwardRef(({className:t,...e},n)=>C.jsxs(et,{component:"span",className:$a(Zc.dotsLoader,t),...e,ref:n,children:[C.jsx("span",{className:Zc.dot}),C.jsx("span",{className:Zc.dot}),C.jsx("span",{className:Zc.dot})]}));pX.displayName="@mantine/core/Dots";const mX=I.forwardRef(({className:t,...e},n)=>C.jsx(et,{component:"span",className:$a(Zc.ovalLoader,t),...e,ref:n}));mX.displayName="@mantine/core/Oval";const gX={bars:dX,oval:mX,dots:pX},lfe={loaders:gX,type:"oval"},cfe=(t,{size:e,color:n})=>({root:{"--loader-size":ii(e,"loader-size"),"--loader-color":n?Jr(n,t):void 0}}),Vd=Qt((t,e)=>{const n=Nt("Loader",lfe,t),{size:i,color:r,type:a,vars:s,className:o,style:l,classNames:c,styles:u,unstyled:f,loaders:h,variant:d,children:b,attributes:y,...v}=n,m=xn({name:"Loader",props:n,classes:Zc,className:o,style:l,classNames:c,styles:u,unstyled:f,attributes:y,vars:s,varsResolver:cfe});return b?C.jsx(et,{...m("root"),ref:e,...v,children:b}):C.jsx(et,{...m("root"),ref:e,component:h[a],variant:d,size:i,...v})});Vd.defaultLoaders=gX;Vd.classes=Zc;Vd.displayName="@mantine/core/Loader";var Ty={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21",groupSection:"m_437b6484"};const pz={orientation:"horizontal"},ufe=(t,{borderWidth:e})=>({group:{"--ai-border-width":gt(e)}}),$O=Qt((t,e)=>{const n=Nt("ActionIconGroup",pz,t),{className:i,style:r,classNames:a,styles:s,unstyled:o,orientation:l,vars:c,borderWidth:u,variant:f,mod:h,attributes:d,...b}=Nt("ActionIconGroup",pz,t),y=xn({name:"ActionIconGroup",props:n,classes:Ty,className:i,style:r,classNames:a,styles:s,unstyled:o,attributes:d,vars:c,varsResolver:ufe,rootSelector:"group"});return C.jsx(et,{...y("group"),ref:e,variant:f,mod:[{"data-orientation":l},h],role:"group",...b})});$O.classes=Ty;$O.displayName="@mantine/core/ActionIconGroup";const ffe=(t,{radius:e,color:n,gradient:i,variant:r,autoContrast:a,size:s})=>{const o=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:i,variant:r||"filled",autoContrast:a});return{groupSection:{"--section-height":ii(s,"section-height"),"--section-padding-x":ii(s,"section-padding-x"),"--section-fz":gs(s),"--section-radius":e===void 0?void 0:$r(e),"--section-bg":n||r?o.background:void 0,"--section-color":o.color,"--section-bd":n||r?o.border:void 0}}},ZO=Qt((t,e)=>{const n=Nt("ActionIconGroupSection",null,t),{className:i,style:r,classNames:a,styles:s,unstyled:o,vars:l,variant:c,gradient:u,radius:f,autoContrast:h,attributes:d,...b}=n,y=xn({name:"ActionIconGroupSection",props:n,classes:Ty,className:i,style:r,classNames:a,styles:s,unstyled:o,attributes:d,vars:l,varsResolver:ffe,rootSelector:"groupSection"});return C.jsx(et,{...y("groupSection"),ref:e,variant:c,...b})});ZO.classes=Ty;ZO.displayName="@mantine/core/ActionIconGroupSection";const hfe=(t,{size:e,radius:n,variant:i,gradient:r,color:a,autoContrast:s})=>{const o=t.variantColorResolver({color:a||t.primaryColor,theme:t,gradient:r,variant:i||"filled",autoContrast:s});return{root:{"--ai-size":ii(e,"ai-size"),"--ai-radius":n===void 0?void 0:$r(n),"--ai-bg":a||i?o.background:void 0,"--ai-hover":a||i?o.hover:void 0,"--ai-hover-color":a||i?o.hoverColor:void 0,"--ai-color":o.color,"--ai-bd":a||i?o.border:void 0}}},_l=xl((t,e)=>{const n=Nt("ActionIcon",null,t),{className:i,unstyled:r,variant:a,classNames:s,styles:o,style:l,loading:c,loaderProps:u,size:f,color:h,radius:d,__staticSelector:b,gradient:y,vars:v,children:m,disabled:x,"data-disabled":_,autoContrast:E,mod:A,attributes:w,...T}=n,k=xn({name:["ActionIcon",b],props:n,className:i,style:l,classes:Ty,classNames:s,styles:o,unstyled:r,attributes:w,vars:v,varsResolver:hfe});return C.jsxs($u,{...k("root",{active:!x&&!c&&!_}),...T,unstyled:r,variant:a,size:f,disabled:x||c,ref:e,mod:[{loading:c,disabled:x||_},A],children:[typeof c=="boolean"&&C.jsx(hc,{mounted:c,transition:"slide-down",duration:150,children:N=>C.jsx(et,{component:"span",...k("loader",{style:N}),"aria-hidden":!0,children:C.jsx(Vd,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...u})})}),C.jsx(et,{component:"span",mod:{loading:c},...k("icon"),children:m})]})});_l.classes=Ty;_l.displayName="@mantine/core/ActionIcon";_l.Group=$O;_l.GroupSection=ZO;const bX=I.forwardRef(({size:t="var(--cb-icon-size, 70%)",style:e,...n},i)=>C.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:t,height:t},ref:i,...n,children:C.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));bX.displayName="@mantine/core/CloseIcon";var yX={root:"m_86a44da5","root--subtle":"m_220c80f2"};const dfe={variant:"subtle"},pfe=(t,{size:e,radius:n,iconSize:i})=>({root:{"--cb-size":ii(e,"cb-size"),"--cb-radius":n===void 0?void 0:$r(n),"--cb-icon-size":gt(i)}}),d_=xl((t,e)=>{const n=Nt("CloseButton",dfe,t),{iconSize:i,children:r,vars:a,radius:s,className:o,classNames:l,style:c,styles:u,unstyled:f,"data-disabled":h,disabled:d,variant:b,icon:y,mod:v,attributes:m,__staticSelector:x,..._}=n,E=xn({name:x||"CloseButton",props:n,className:o,style:c,classes:yX,classNames:l,styles:u,unstyled:f,attributes:m,vars:a,varsResolver:pfe});return C.jsxs($u,{ref:e,..._,unstyled:f,variant:b,disabled:d,mod:[{disabled:d||h},v],...E("root",{variant:b,active:!d&&!h}),children:[y||C.jsx(bX,{}),r]})});d_.classes=yX;d_.displayName="@mantine/core/CloseButton";function mfe(t){return I.Children.toArray(t).filter(Boolean)}var vX={root:"m_4081bf90"};const gfe={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},bfe=(t,{grow:e,preventGrowOverflow:n,gap:i,align:r,justify:a,wrap:s},{childWidth:o})=>({root:{"--group-child-width":e&&n?o:void 0,"--group-gap":Id(i),"--group-align":r,"--group-justify":a,"--group-wrap":s}}),j0=Qt((t,e)=>{const n=Nt("Group",gfe,t),{classNames:i,className:r,style:a,styles:s,unstyled:o,children:l,gap:c,align:u,justify:f,wrap:h,grow:d,preventGrowOverflow:b,vars:y,variant:v,__size:m,mod:x,attributes:_,...E}=n,A=mfe(l),w=A.length,T=Id(c??"md"),N={childWidth:`calc(${100/w}% - (${T} - ${T} / ${w}))`},D=xn({name:"Group",props:n,stylesCtx:N,className:r,style:a,classes:vX,classNames:i,styles:s,unstyled:o,attributes:_,vars:y,varsResolver:bfe});return C.jsx(et,{...D("root"),ref:e,variant:v,mod:[{grow:d},x],size:m,...E,children:A})});j0.classes=vX;j0.displayName="@mantine/core/Group";const[yfe,mh]=uu("ModalBase component was not found in tree");function vfe({opened:t,transitionDuration:e}){const[n,i]=I.useState(t),r=I.useRef(-1),s=MT()?0:e;return I.useEffect(()=>(t?(i(!0),window.clearTimeout(r.current)):s===0?i(!1):r.current=window.setTimeout(()=>i(!1),s),()=>window.clearTimeout(r.current)),[t,s]),n}function xfe({id:t,transitionProps:e,opened:n,trapFocus:i,closeOnEscape:r,onClose:a,returnFocus:s}){const o=nf(t),[l,c]=I.useState(!1),[u,f]=I.useState(!1),h=typeof e?.duration=="number"?e?.duration:200,d=vfe({opened:n,transitionDuration:h});return Sse("keydown",b=>{b.key==="Escape"&&r&&!b.isComposing&&n&&b.target?.getAttribute("data-mantine-stop-propagation")!=="true"&&a()},{capture:!0}),GW({opened:n,shouldReturnFocus:i&&s}),{_id:o,titleMounted:l,bodyMounted:u,shouldLockScroll:d,setTitleMounted:c,setBodyMounted:f}}const xX=I.forwardRef(({keepMounted:t,opened:e,onClose:n,id:i,transitionProps:r,onExitTransitionEnd:a,onEnterTransitionEnd:s,trapFocus:o,closeOnEscape:l,returnFocus:c,closeOnClickOutside:u,withinPortal:f,portalProps:h,lockScroll:d,children:b,zIndex:y,shadow:v,padding:m,__vars:x,unstyled:_,removeScrollProps:E,...A},w)=>{const{_id:T,titleMounted:k,bodyMounted:N,shouldLockScroll:D,setTitleMounted:P,setBodyMounted:B}=xfe({id:i,transitionProps:r,opened:e,trapFocus:o,closeOnEscape:l,onClose:n,returnFocus:c}),{key:G,...H}=E||{};return C.jsx(Ld,{...h,withinPortal:f,children:C.jsx(yfe,{value:{opened:e,onClose:n,closeOnClickOutside:u,onExitTransitionEnd:a,onEnterTransitionEnd:s,transitionProps:{...r,keepMounted:t},getTitleId:()=>`${T}-title`,getBodyId:()=>`${T}-body`,titleMounted:k,bodyMounted:N,setTitleMounted:P,setBodyMounted:B,trapFocus:o,closeOnEscape:l,zIndex:y,unstyled:_},children:C.jsx(IM,{enabled:D&&d,...H,children:C.jsx(et,{ref:w,...A,__vars:{...x,"--mb-z-index":(y||rf("modal")).toString(),"--mb-shadow":CO(v),"--mb-padding":Id(m)},children:b})},G)})})});xX.displayName="@mantine/core/ModalBase";function _fe(){const t=mh();return I.useEffect(()=>(t.setBodyMounted(!0),()=>t.setBodyMounted(!1)),[]),t.getBodyId()}var B0={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};const _X=I.forwardRef(({className:t,...e},n)=>{const i=_fe(),r=mh();return C.jsx(et,{ref:n,...e,id:i,className:$a({[B0.body]:!r.unstyled},t)})});_X.displayName="@mantine/core/ModalBaseBody";const SX=I.forwardRef(({className:t,onClick:e,...n},i)=>{const r=mh();return C.jsx(d_,{ref:i,...n,onClick:a=>{r.onClose(),e?.(a)},className:$a({[B0.close]:!r.unstyled},t),unstyled:r.unstyled})});SX.displayName="@mantine/core/ModalBaseCloseButton";const wX=I.forwardRef(({transitionProps:t,className:e,innerProps:n,onKeyDown:i,style:r,...a},s)=>{const o=mh();return C.jsx(hc,{mounted:o.opened,transition:"pop",...o.transitionProps,onExited:()=>{o.onExitTransitionEnd?.(),o.transitionProps?.onExited?.()},onEntered:()=>{o.onEnterTransitionEnd?.(),o.transitionProps?.onEntered?.()},...t,children:l=>C.jsx("div",{...n,className:$a({[B0.inner]:!o.unstyled},n.className),children:C.jsx(HT,{active:o.opened&&o.trapFocus,innerRef:s,children:C.jsx(xs,{...a,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":o.bodyMounted?o.getBodyId():void 0,"aria-labelledby":o.titleMounted?o.getTitleId():void 0,style:[r,l],className:$a({[B0.content]:!o.unstyled},e),unstyled:o.unstyled,children:a.children})})})})});wX.displayName="@mantine/core/ModalBaseContent";const EX=I.forwardRef(({className:t,...e},n)=>{const i=mh();return C.jsx(et,{component:"header",ref:n,className:$a({[B0.header]:!i.unstyled},t),...e})});EX.displayName="@mantine/core/ModalBaseHeader";const Sfe={duration:200,timingFunction:"ease",transition:"fade"};function wfe(t){const e=mh();return{...Sfe,...e.transitionProps,...t}}const MX=I.forwardRef(({onClick:t,transitionProps:e,style:n,visible:i,...r},a)=>{const s=mh(),o=wfe(e);return C.jsx(hc,{mounted:i!==void 0?i:s.opened,...o,transition:"fade",children:l=>C.jsx(BT,{ref:a,fixed:!0,style:[n,l],zIndex:s.zIndex,unstyled:s.unstyled,onClick:c=>{t?.(c),s.closeOnClickOutside&&s.onClose()},...r})})});MX.displayName="@mantine/core/ModalBaseOverlay";function Efe(){const t=mh();return I.useEffect(()=>(t.setTitleMounted(!0),()=>t.setTitleMounted(!1)),[]),t.getTitleId()}const AX=I.forwardRef(({className:t,...e},n)=>{const i=Efe(),r=mh();return C.jsx(et,{component:"h2",ref:n,className:$a({[B0.title]:!r.unstyled},t),...e,id:i})});AX.displayName="@mantine/core/ModalBaseTitle";function Mfe({children:t}){return C.jsx(C.Fragment,{children:t})}const[Afe,Tfe]=c_({size:"sm"}),TX=Qt((t,e)=>{const n=Nt("InputClearButton",null,t),{size:i,variant:r,vars:a,classNames:s,styles:o,...l}=n,c=Tfe(),{resolvedClassNames:u,resolvedStyles:f}=wy({classNames:s,styles:o,props:n});return C.jsx(d_,{variant:r||"transparent",ref:e,size:i||c?.size||"sm",classNames:u,styles:f,__staticSelector:"InputClearButton",...l})});TX.displayName="@mantine/core/InputClearButton";const[Cfe,p_]=c_({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var yc={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const Rfe=(t,{size:e})=>({description:{"--input-description-size":e===void 0?void 0:`calc(${gs(e)} - ${gt(2)})`}}),VT=Qt((t,e)=>{const n=Nt("InputDescription",null,t),{classNames:i,className:r,style:a,styles:s,unstyled:o,vars:l,size:c,__staticSelector:u,__inheritStyles:f=!0,attributes:h,variant:d,...b}=Nt("InputDescription",null,n),y=p_(),v=xn({name:["InputWrapper",u],props:n,classes:yc,className:r,style:a,classNames:i,styles:s,unstyled:o,attributes:h,rootSelector:"description",vars:l,varsResolver:Rfe}),m=f&&y?.getStyles||v;return C.jsx(et,{component:"p",ref:e,variant:d,size:c,...m("description",y?.getStyles?{className:r,style:a}:void 0),...b})});VT.classes=yc;VT.displayName="@mantine/core/InputDescription";const kfe=(t,{size:e})=>({error:{"--input-error-size":e===void 0?void 0:`calc(${gs(e)} - ${gt(2)})`}}),GT=Qt((t,e)=>{const n=Nt("InputError",null,t),{classNames:i,className:r,style:a,styles:s,unstyled:o,vars:l,size:c,attributes:u,__staticSelector:f,__inheritStyles:h=!0,variant:d,...b}=n,y=xn({name:["InputWrapper",f],props:n,classes:yc,className:r,style:a,classNames:i,styles:s,unstyled:o,attributes:u,rootSelector:"error",vars:l,varsResolver:kfe}),v=p_(),m=h&&v?.getStyles||y;return C.jsx(et,{component:"p",ref:e,variant:d,size:c,...m("error",v?.getStyles?{className:r,style:a}:void 0),...b})});GT.classes=yc;GT.displayName="@mantine/core/InputError";const mz={labelElement:"label"},Dfe=(t,{size:e})=>({label:{"--input-label-size":gs(e),"--input-asterisk-color":void 0}}),WT=Qt((t,e)=>{const n=Nt("InputLabel",mz,t),{classNames:i,className:r,style:a,styles:s,unstyled:o,vars:l,labelElement:c,size:u,required:f,htmlFor:h,onMouseDown:d,children:b,__staticSelector:y,variant:v,mod:m,attributes:x,..._}=Nt("InputLabel",mz,n),E=xn({name:["InputWrapper",y],props:n,classes:yc,className:r,style:a,classNames:i,styles:s,unstyled:o,attributes:x,rootSelector:"label",vars:l,varsResolver:Dfe}),A=p_(),w=A?.getStyles||E;return C.jsxs(et,{...w("label",A?.getStyles?{className:r,style:a}:void 0),component:c,variant:v,size:u,ref:e,htmlFor:c==="label"?h:void 0,mod:[{required:f},m],onMouseDown:T=>{d?.(T),!T.defaultPrevented&&T.detail>1&&T.preventDefault()},..._,children:[b,f&&C.jsx("span",{...w("required"),"aria-hidden":!0,children:" *"})]})});WT.classes=yc;WT.displayName="@mantine/core/InputLabel";const QO=Qt((t,e)=>{const n=Nt("InputPlaceholder",null,t),{classNames:i,className:r,style:a,styles:s,unstyled:o,vars:l,__staticSelector:c,variant:u,error:f,mod:h,attributes:d,...b}=n,y=xn({name:["InputPlaceholder",c],props:n,classes:yc,className:r,style:a,classNames:i,styles:s,unstyled:o,attributes:d,rootSelector:"placeholder"});return C.jsx(et,{...y("placeholder"),mod:[{error:!!f},h],component:"span",variant:u,ref:e,...b})});QO.classes=yc;QO.displayName="@mantine/core/InputPlaceholder";function Nfe(t,{hasDescription:e,hasError:n}){const i=t.findIndex(l=>l==="input"),r=t.slice(0,i),a=t.slice(i+1),s=e&&r.includes("description")||n&&r.includes("error");return{offsetBottom:e&&a.includes("description")||n&&a.includes("error"),offsetTop:s}}const Ife={labelElement:"label",inputContainer:t=>t,inputWrapperOrder:["label","description","input","error"]},Ofe=(t,{size:e})=>({label:{"--input-label-size":gs(e),"--input-asterisk-color":void 0},error:{"--input-error-size":e===void 0?void 0:`calc(${gs(e)} - ${gt(2)})`},description:{"--input-description-size":e===void 0?void 0:`calc(${gs(e)} - ${gt(2)})`}}),eL=Qt((t,e)=>{const n=Nt("InputWrapper",Ife,t),{classNames:i,className:r,style:a,styles:s,unstyled:o,vars:l,size:c,variant:u,__staticSelector:f,inputContainer:h,inputWrapperOrder:d,label:b,error:y,description:v,labelProps:m,descriptionProps:x,errorProps:_,labelElement:E,children:A,withAsterisk:w,id:T,required:k,__stylesApiProps:N,mod:D,attributes:P,...B}=n,G=xn({name:["InputWrapper",f],props:N||n,classes:yc,className:r,style:a,classNames:i,styles:s,unstyled:o,attributes:P,vars:l,varsResolver:Ofe}),H={size:c,variant:u,__staticSelector:f},V=nf(T),U=typeof w=="boolean"?w:k,F=_?.id||`${V}-error`,q=x?.id||`${V}-description`,X=V,z=!!y&&typeof y!="boolean",oe=!!v,fe=`${z?F:""} ${oe?q:""}`,K=fe.trim().length>0?fe.trim():void 0,Me=m?.id||`${V}-label`,_e=b&&C.jsx(WT,{labelElement:E,id:Me,htmlFor:X,required:U,...H,...m,children:b},"label"),pe=oe&&C.jsx(VT,{...x,...H,size:x?.size||H.size,id:x?.id||q,children:v},"description"),xe=C.jsx(I.Fragment,{children:h(A)},"input"),Oe=z&&I.createElement(GT,{..._,...H,size:_?.size||H.size,key:"error",id:_?.id||F},y),Ge=d.map(Ye=>{switch(Ye){case"label":return _e;case"input":return xe;case"description":return pe;case"error":return Oe;default:return null}});return C.jsx(Cfe,{value:{getStyles:G,describedBy:K,inputId:X,labelId:Me,...Nfe(d,{hasDescription:oe,hasError:z})},children:C.jsx(et,{ref:e,variant:u,size:c,mod:[{error:!!y},D],...G("root"),...B,children:Ge})})});eL.classes=yc;eL.displayName="@mantine/core/InputWrapper";const Lfe={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0,size:"sm"},Pfe=(t,e,n)=>({wrapper:{"--input-margin-top":n.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":n.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":ii(e.size,"input-height"),"--input-fz":gs(e.size),"--input-radius":e.radius===void 0?void 0:$r(e.radius),"--input-left-section-width":e.leftSectionWidth!==void 0?gt(e.leftSectionWidth):void 0,"--input-right-section-width":e.rightSectionWidth!==void 0?gt(e.rightSectionWidth):void 0,"--input-padding-y":e.multiline?ii(e.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":e.leftSectionPointerEvents,"--input-right-section-pointer-events":e.rightSectionPointerEvents}}),la=xl((t,e)=>{const n=Nt("Input",Lfe,t),{classNames:i,className:r,style:a,styles:s,unstyled:o,required:l,__staticSelector:c,__stylesApiProps:u,size:f,wrapperProps:h,error:d,disabled:b,leftSection:y,leftSectionProps:v,leftSectionWidth:m,rightSection:x,rightSectionProps:_,rightSectionWidth:E,rightSectionPointerEvents:A,leftSectionPointerEvents:w,variant:T,vars:k,pointer:N,multiline:D,radius:P,id:B,withAria:G,withErrorStyles:H,mod:V,inputSize:U,attributes:F,__clearSection:q,__clearable:X,__defaultRightSection:z,...oe}=n,{styleProps:fe,rest:K}=f_(oe),Me=p_(),_e={offsetBottom:Me?.offsetBottom,offsetTop:Me?.offsetTop},pe=xn({name:["Input",c],props:u||n,classes:yc,className:r,style:a,classNames:i,styles:s,unstyled:o,attributes:F,stylesCtx:_e,rootSelector:"wrapper",vars:k,varsResolver:Pfe}),xe=G?{required:l,disabled:b,"aria-invalid":!!d,"aria-describedby":Me?.describedBy,id:Me?.inputId||B}:{},Oe=x||X&&q||z;return C.jsx(Afe,{value:{size:f||"sm"},children:C.jsxs(et,{...pe("wrapper"),...fe,...h,mod:[{error:!!d&&H,pointer:N,disabled:b,multiline:D,"data-with-right-section":!!Oe,"data-with-left-section":!!y},V],variant:T,size:f,children:[y&&C.jsx("div",{...v,"data-position":"left",...pe("section",{className:v?.className,style:v?.style}),children:y}),C.jsx(et,{component:"input",...K,...xe,ref:e,required:l,mod:{disabled:b,error:!!d&&H},variant:T,__size:U,...pe("input")}),Oe&&C.jsx("div",{..._,"data-position":"right",...pe("section",{className:_?.className,style:_?.style}),children:Oe})]})})});la.classes=yc;la.Wrapper=eL;la.Label=WT;la.Error=GT;la.Description=VT;la.Placeholder=QO;la.ClearButton=TX;la.displayName="@mantine/core/Input";function CX(t,e,n){const i=Nt(t,e,n),{label:r,description:a,error:s,required:o,classNames:l,styles:c,className:u,unstyled:f,__staticSelector:h,__stylesApiProps:d,errorProps:b,labelProps:y,descriptionProps:v,wrapperProps:m,id:x,size:_,style:E,inputContainer:A,inputWrapperOrder:w,withAsterisk:T,variant:k,vars:N,mod:D,attributes:P,...B}=i,{styleProps:G,rest:H}=f_(B),V={label:r,description:a,error:s,required:o,classNames:l,className:u,__staticSelector:h,__stylesApiProps:d||i,errorProps:b,labelProps:y,descriptionProps:v,unstyled:f,styles:c,size:_,style:E,inputContainer:A,inputWrapperOrder:w,withAsterisk:T,variant:k,id:x,mod:D,attributes:P,...m};return{...H,classNames:l,styles:c,unstyled:f,wrapperProps:{...V,...G},inputProps:{required:o,classNames:l,styles:c,unstyled:f,size:_,__staticSelector:h,__stylesApiProps:d||i,error:s,variant:k,id:x,attributes:P}}}const Ufe={__staticSelector:"InputBase",withAria:!0,size:"sm"},fu=xl((t,e)=>{const{inputProps:n,wrapperProps:i,...r}=CX("InputBase",Ufe,t);return C.jsx(la.Wrapper,{...i,children:C.jsx(la,{...n,...r,ref:e})})});fu.classes={...la.classes,...la.Wrapper.classes};fu.displayName="@mantine/core/InputBase";const Ffe={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"identity",property:"alignItems"},justify:{type:"identity",property:"justifyContent"},wrap:{type:"identity",property:"flexWrap"},direction:{type:"identity",property:"flexDirection"}};var RX={root:"m_8bffd616"};const lh=xl((t,e)=>{const n=Nt("Flex",null,t),{classNames:i,className:r,style:a,styles:s,unstyled:o,vars:l,gap:c,rowGap:u,columnGap:f,align:h,justify:d,wrap:b,direction:y,attributes:v,...m}=n,x=xn({name:"Flex",classes:RX,props:n,className:r,style:a,classNames:i,styles:s,unstyled:o,attributes:v,vars:l}),_=ma(),E=_q(),A=xq({styleProps:{gap:c,rowGap:u,columnGap:f,align:h,justify:d,wrap:b,direction:y},theme:_,data:Ffe});return C.jsxs(C.Fragment,{children:[A.hasResponsiveStyles&&C.jsx(vq,{selector:`.${E}`,styles:A.styles,media:A.media}),C.jsx(et,{ref:e,...x("root",{className:E,style:TT(A.inlineStyles)}),...m})]})});lh.classes=RX;lh.displayName="@mantine/core/Flex";var kX={root:"m_b6d8b162"};function zfe(t){if(t==="start")return"start";if(t==="end"||t)return"end"}const jfe={inherit:!1},Bfe=(t,{variant:e,lineClamp:n,gradient:i,size:r,color:a})=>({root:{"--text-fz":gs(r),"--text-lh":hq(r),"--text-gradient":e==="gradient"?qD(i,t):void 0,"--text-line-clamp":typeof n=="number"?n.toString():void 0,"--text-color":a?Jr(a,t):void 0}}),iu=xl((t,e)=>{const n=Nt("Text",jfe,t),{lineClamp:i,truncate:r,inline:a,inherit:s,gradient:o,span:l,__staticSelector:c,vars:u,className:f,style:h,classNames:d,styles:b,unstyled:y,variant:v,mod:m,size:x,attributes:_,...E}=n,A=xn({name:["Text",c],props:n,classes:kX,className:f,style:h,classNames:d,styles:b,unstyled:y,attributes:_,vars:u,varsResolver:Bfe});return C.jsx(et,{...A("root",{focusable:!0}),ref:e,component:l?"span":"p",variant:v,mod:[{"data-truncate":zfe(r),"data-line-clamp":typeof i=="number","data-inline":a,"data-inherit":s},m],size:x,...E})});iu.classes=kX;iu.displayName="@mantine/core/Text";var DX={root:"m_849cf0da"};const Hfe={underline:"hover"},wm=xl((t,e)=>{const{underline:n,className:i,unstyled:r,mod:a,...s}=Nt("Anchor",Hfe,t);return C.jsx(iu,{component:"a",ref:e,className:$a({[DX.root]:!r},i),...s,mod:[{underline:n},a],__staticSelector:"Anchor",unstyled:r})});wm.classes=DX;wm.displayName="@mantine/core/Anchor";function NX(t){return typeof t=="string"?{value:t,label:t}:"value"in t&&!("label"in t)?{value:t.value,label:t.value,disabled:t.disabled}:typeof t=="number"?{value:t.toString(),label:t.toString()}:"group"in t?{group:t.group,items:t.items.map(e=>NX(e))}:t}function Vfe(t){return t?t.map(e=>NX(e)):[]}function IX(t){return t.reduce((e,n)=>"group"in n?{...e,...IX(n.items)}:(e[n.value]=n,e),{})}var No={dropdown:"m_88b62a41",search:"m_985517d8",options:"m_b2821a6e",option:"m_92253aa5",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2"};const Gfe={error:null},Wfe=(t,{size:e,color:n})=>({chevron:{"--combobox-chevron-size":ii(e,"combobox-chevron-size"),"--combobox-chevron-color":n?Jr(n,t):void 0}}),tL=Qt((t,e)=>{const n=Nt("ComboboxChevron",Gfe,t),{size:i,error:r,style:a,className:s,classNames:o,styles:l,unstyled:c,vars:u,mod:f,...h}=n,d=xn({name:"ComboboxChevron",classes:No,props:n,style:a,className:s,classNames:o,styles:l,unstyled:c,vars:u,varsResolver:Wfe,rootSelector:"chevron"});return C.jsx(et,{component:"svg",...h,...d("chevron"),size:i,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:r},f],ref:e,children:C.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});tL.classes=No;tL.displayName="@mantine/core/ComboboxChevron";const[qfe,vc]=uu("Combobox component was not found in tree"),OX=I.forwardRef(({size:t,onMouseDown:e,onClick:n,onClear:i,...r},a)=>C.jsx(la.ClearButton,{ref:a,tabIndex:-1,"aria-hidden":!0,...r,onMouseDown:s=>{s.preventDefault(),e?.(s)},onClick:s=>{i(),n?.(s)}}));OX.displayName="@mantine/core/ComboboxClearButton";const nL=Qt((t,e)=>{const{classNames:n,styles:i,className:r,style:a,hidden:s,...o}=Nt("ComboboxDropdown",null,t),l=vc();return C.jsx(ko.Dropdown,{...o,ref:e,role:"presentation","data-hidden":s||void 0,...l.getStyles("dropdown",{className:r,style:a,classNames:n,styles:i})})});nL.classes=No;nL.displayName="@mantine/core/ComboboxDropdown";const Xfe={refProp:"ref"},LX=Qt((t,e)=>{const{children:n,refProp:i}=Nt("ComboboxDropdownTarget",Xfe,t);if(vc(),!tg(n))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return C.jsx(ko.Target,{ref:e,refProp:i,children:n})});LX.displayName="@mantine/core/ComboboxDropdownTarget";const iL=Qt((t,e)=>{const{classNames:n,className:i,style:r,styles:a,vars:s,...o}=Nt("ComboboxEmpty",null,t),l=vc();return C.jsx(et,{ref:e,...l.getStyles("empty",{className:i,classNames:n,styles:a,style:r}),...o})});iL.classes=No;iL.displayName="@mantine/core/ComboboxEmpty";function rL({onKeyDown:t,withKeyboardNavigation:e,withAriaAttributes:n,withExpandedAttribute:i,targetType:r,autoComplete:a}){const s=vc(),[o,l]=I.useState(null),c=f=>{if(t?.(f),!s.readOnly&&e){if(f.nativeEvent.isComposing)return;if(f.nativeEvent.code==="ArrowDown"&&(f.preventDefault(),s.store.dropdownOpened?l(s.store.selectNextOption()):(s.store.openDropdown("keyboard"),l(s.store.selectActiveOption()),s.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),f.nativeEvent.code==="ArrowUp"&&(f.preventDefault(),s.store.dropdownOpened?l(s.store.selectPreviousOption()):(s.store.openDropdown("keyboard"),l(s.store.selectActiveOption()),s.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),f.nativeEvent.code==="Enter"||f.nativeEvent.code==="NumpadEnter"){if(f.nativeEvent.keyCode===229)return;const h=s.store.getSelectedOptionIndex();s.store.dropdownOpened&&h!==-1?(f.preventDefault(),s.store.clickSelectedOption()):r==="button"&&(f.preventDefault(),s.store.openDropdown("keyboard"))}f.key==="Escape"&&s.store.closeDropdown("keyboard"),f.nativeEvent.code==="Space"&&r==="button"&&(f.preventDefault(),s.store.toggleDropdown("keyboard"))}};return{...n?{"aria-haspopup":"listbox","aria-expanded":i?!!(s.store.listId&&s.store.dropdownOpened):void 0,"aria-controls":s.store.dropdownOpened&&s.store.listId?s.store.listId:void 0,"aria-activedescendant":s.store.dropdownOpened&&o||void 0,autoComplete:a,"data-expanded":s.store.dropdownOpened||void 0,"data-mantine-stop-propagation":s.store.dropdownOpened||void 0}:{},onKeyDown:c}}const Kfe={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},PX=Qt((t,e)=>{const{children:n,refProp:i,withKeyboardNavigation:r,withAriaAttributes:a,withExpandedAttribute:s,targetType:o,autoComplete:l,...c}=Nt("ComboboxEventsTarget",Kfe,t);if(!tg(n))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const u=vc(),f=rL({targetType:o,withAriaAttributes:a,withKeyboardNavigation:r,withExpandedAttribute:s,onKeyDown:n.props.onKeyDown,autoComplete:l});return I.cloneElement(n,{...f,...c,[i]:Ss(e,u.store.targetRef,CT(n))})});PX.displayName="@mantine/core/ComboboxEventsTarget";const aL=Qt((t,e)=>{const{classNames:n,className:i,style:r,styles:a,vars:s,...o}=Nt("ComboboxFooter",null,t),l=vc();return C.jsx(et,{ref:e,...l.getStyles("footer",{className:i,classNames:n,style:r,styles:a}),...o,onMouseDown:c=>{c.preventDefault()}})});aL.classes=No;aL.displayName="@mantine/core/ComboboxFooter";const sL=Qt((t,e)=>{const{classNames:n,className:i,style:r,styles:a,vars:s,children:o,label:l,id:c,...u}=Nt("ComboboxGroup",null,t),f=vc(),h=nf(c);return C.jsxs(et,{ref:e,role:"group","aria-labelledby":l?h:void 0,...f.getStyles("group",{className:i,classNames:n,style:r,styles:a}),...u,children:[l&&C.jsx("div",{id:h,...f.getStyles("groupLabel",{classNames:n,styles:a}),children:l}),o]})});sL.classes=No;sL.displayName="@mantine/core/ComboboxGroup";const oL=Qt((t,e)=>{const{classNames:n,className:i,style:r,styles:a,vars:s,...o}=Nt("ComboboxHeader",null,t),l=vc();return C.jsx(et,{ref:e,...l.getStyles("header",{className:i,classNames:n,style:r,styles:a}),...o,onMouseDown:c=>{c.preventDefault()}})});oL.classes=No;oL.displayName="@mantine/core/ComboboxHeader";function UX({value:t,valuesDivider:e=",",...n}){return C.jsx("input",{type:"hidden",value:Array.isArray(t)?t.join(e):t||"",...n})}UX.displayName="@mantine/core/ComboboxHiddenInput";const lL=Qt((t,e)=>{const n=Nt("ComboboxOption",null,t),{classNames:i,className:r,style:a,styles:s,vars:o,onClick:l,id:c,active:u,onMouseDown:f,onMouseOver:h,disabled:d,selected:b,mod:y,...v}=n,m=vc(),x=I.useId(),_=c||x;return C.jsx(et,{...m.getStyles("option",{className:r,classNames:i,styles:s,style:a}),...v,ref:e,id:_,mod:["combobox-option",{"combobox-active":u,"combobox-disabled":d,"combobox-selected":b},y],role:"option",onClick:E=>{d?E.preventDefault():(m.onOptionSubmit?.(n.value,n),l?.(E))},onMouseDown:E=>{E.preventDefault(),f?.(E)},onMouseOver:E=>{m.resetSelectionOnOptionHover&&m.store.resetSelectedOption(),h?.(E)}})});lL.classes=No;lL.displayName="@mantine/core/ComboboxOption";const cL=Qt((t,e)=>{const n=Nt("ComboboxOptions",null,t),{classNames:i,className:r,style:a,styles:s,id:o,onMouseDown:l,labelledBy:c,...u}=n,f=vc(),h=nf(o);return I.useEffect(()=>{f.store.setListId(h)},[h]),C.jsx(et,{ref:e,...f.getStyles("options",{className:r,style:a,classNames:i,styles:s}),...u,id:h,role:"listbox","aria-labelledby":c,onMouseDown:d=>{d.preventDefault(),l?.(d)}})});cL.classes=No;cL.displayName="@mantine/core/ComboboxOptions";const Yfe={withAriaAttributes:!0,withKeyboardNavigation:!0},uL=Qt((t,e)=>{const n=Nt("ComboboxSearch",Yfe,t),{classNames:i,styles:r,unstyled:a,vars:s,withAriaAttributes:o,onKeyDown:l,withKeyboardNavigation:c,size:u,...f}=n,h=vc(),d=h.getStyles("search"),b=rL({targetType:"input",withAriaAttributes:o,withKeyboardNavigation:c,withExpandedAttribute:!1,onKeyDown:l,autoComplete:"off"});return C.jsx(la,{ref:Ss(e,h.store.searchRef),classNames:[{input:d.className},i],styles:[{input:d.style},r],size:u||h.size,...b,...f,__staticSelector:"Combobox"})});uL.classes=No;uL.displayName="@mantine/core/ComboboxSearch";const Jfe={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},FX=Qt((t,e)=>{const{children:n,refProp:i,withKeyboardNavigation:r,withAriaAttributes:a,withExpandedAttribute:s,targetType:o,autoComplete:l,...c}=Nt("ComboboxTarget",Jfe,t);if(!tg(n))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const u=vc(),f=rL({targetType:o,withAriaAttributes:a,withKeyboardNavigation:r,withExpandedAttribute:s,onKeyDown:n.props.onKeyDown,autoComplete:l}),h=I.cloneElement(n,{...f,...c});return C.jsx(ko.Target,{ref:Ss(e,u.store.targetRef),children:h})});FX.displayName="@mantine/core/ComboboxTarget";function $fe(t,e,n){for(let i=t-1;i>=0;i-=1)if(!e[i].hasAttribute("data-combobox-disabled"))return i;if(n){for(let i=e.length-1;i>-1;i-=1)if(!e[i].hasAttribute("data-combobox-disabled"))return i}return t}function Zfe(t,e,n){for(let i=t+1;i<e.length;i+=1)if(!e[i].hasAttribute("data-combobox-disabled"))return i;if(n){for(let i=0;i<e.length;i+=1)if(!e[i].hasAttribute("data-combobox-disabled"))return i}return t}function Qfe(t){for(let e=0;e<t.length;e+=1)if(!t[e].hasAttribute("data-combobox-disabled"))return e;return-1}function zX({defaultOpened:t,opened:e,onOpenedChange:n,onDropdownClose:i,onDropdownOpen:r,loop:a=!0,scrollBehavior:s="instant"}={}){const[o,l]=bl({value:e,defaultValue:t,finalValue:!1,onChange:n}),c=I.useRef(null),u=I.useRef(-1),f=I.useRef(null),h=I.useRef(null),d=I.useRef(-1),b=I.useRef(-1),y=I.useRef(-1),v=I.useCallback((U="unknown")=>{o||(l(!0),r?.(U))},[l,r,o]),m=I.useCallback((U="unknown")=>{o&&(l(!1),i?.(U))},[l,i,o]),x=I.useCallback((U="unknown")=>{o?m(U):v(U)},[m,v,o]),_=I.useCallback(()=>{const U=document.querySelector(`#${c.current} [data-combobox-selected]`);U?.removeAttribute("data-combobox-selected"),U?.removeAttribute("aria-selected")},[]),E=I.useCallback(U=>{const q=document.getElementById(c.current)?.querySelectorAll("[data-combobox-option]");if(!q)return null;const X=U>=q.length?0:U<0?q.length-1:U;return u.current=X,q?.[X]&&!q[X].hasAttribute("data-combobox-disabled")?(_(),q[X].setAttribute("data-combobox-selected","true"),q[X].setAttribute("aria-selected","true"),q[X].scrollIntoView({block:"nearest",behavior:s}),q[X].id):null},[s,_]),A=I.useCallback(()=>{const U=document.querySelector(`#${c.current} [data-combobox-active]`);if(U){const F=document.querySelectorAll(`#${c.current} [data-combobox-option]`),q=Array.from(F).findIndex(X=>X===U);return E(q)}return E(0)},[E]),w=I.useCallback(()=>E(Zfe(u.current,document.querySelectorAll(`#${c.current} [data-combobox-option]`),a)),[E,a]),T=I.useCallback(()=>E($fe(u.current,document.querySelectorAll(`#${c.current} [data-combobox-option]`),a)),[E,a]),k=I.useCallback(()=>E(Qfe(document.querySelectorAll(`#${c.current} [data-combobox-option]`))),[E]),N=I.useCallback((U="selected",F)=>{y.current=window.setTimeout(()=>{const q=document.querySelectorAll(`#${c.current} [data-combobox-option]`),X=Array.from(q).findIndex(z=>z.hasAttribute(`data-combobox-${U}`));u.current=X,F?.scrollIntoView&&q[X]?.scrollIntoView({block:"nearest",behavior:s})},0)},[]),D=I.useCallback(()=>{u.current=-1,_()},[_]),P=I.useCallback(()=>{document.querySelectorAll(`#${c.current} [data-combobox-option]`)?.[u.current]?.click()},[]),B=I.useCallback(U=>{c.current=U},[]),G=I.useCallback(()=>{d.current=window.setTimeout(()=>f.current.focus(),0)},[]),H=I.useCallback(()=>{b.current=window.setTimeout(()=>h.current.focus(),0)},[]),V=I.useCallback(()=>u.current,[]);return I.useEffect(()=>()=>{window.clearTimeout(d.current),window.clearTimeout(b.current),window.clearTimeout(y.current)},[]),{dropdownOpened:o,openDropdown:v,closeDropdown:m,toggleDropdown:x,selectedOptionIndex:u.current,getSelectedOptionIndex:V,selectOption:E,selectFirstOption:k,selectActiveOption:A,selectNextOption:w,selectPreviousOption:T,resetSelectedOption:D,updateSelectedOptionIndex:N,listId:c.current,setListId:B,clickSelectedOption:P,searchRef:f,focusSearchInput:G,targetRef:h,focusTarget:H}}const ehe={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0},size:"sm"},the=(t,{size:e,dropdownPadding:n})=>({options:{"--combobox-option-fz":gs(e),"--combobox-option-padding":ii(e,"combobox-option-padding")},dropdown:{"--combobox-padding":n===void 0?void 0:gt(n),"--combobox-option-fz":gs(e),"--combobox-option-padding":ii(e,"combobox-option-padding")}});function dr(t){const e=Nt("Combobox",ehe,t),{classNames:n,styles:i,unstyled:r,children:a,store:s,vars:o,onOptionSubmit:l,onClose:c,size:u,dropdownPadding:f,resetSelectionOnOptionHover:h,__staticSelector:d,readOnly:b,attributes:y,...v}=e,m=zX(),x=s||m,_=xn({name:d||"Combobox",classes:No,props:e,classNames:n,styles:i,unstyled:r,attributes:y,vars:o,varsResolver:the}),E=()=>{c?.(),x.closeDropdown()};return C.jsx(qfe,{value:{getStyles:_,store:x,onOptionSubmit:l,size:u,resetSelectionOnOptionHover:h,readOnly:b},children:C.jsx(ko,{opened:x.dropdownOpened,preventPositionChangeWhenVisible:!0,...v,onChange:A=>!A&&E(),withRoles:!1,unstyled:r,children:a})})}const nhe=t=>t;dr.extend=nhe;dr.classes=No;dr.displayName="@mantine/core/Combobox";dr.Target=FX;dr.Dropdown=nL;dr.Options=cL;dr.Option=lL;dr.Search=uL;dr.Empty=iL;dr.Chevron=tL;dr.Footer=aL;dr.Header=oL;dr.EventsTarget=PX;dr.DropdownTarget=LX;dr.Group=sL;dr.ClearButton=OX;dr.HiddenInput=UX;var jX={root:"m_5f75b09e",body:"m_5f6e695e",labelWrapper:"m_d3ea56bb",label:"m_8ee546b8",description:"m_328f68c0",error:"m_8e8a99cc"};const BX=jX,fL=I.forwardRef(({__staticSelector:t,__stylesApiProps:e,className:n,classNames:i,styles:r,unstyled:a,children:s,label:o,description:l,id:c,disabled:u,error:f,size:h,labelPosition:d="left",bodyElement:b="div",labelElement:y="label",variant:v,style:m,vars:x,mod:_,attributes:E,...A},w)=>{const T=xn({name:t,props:e,className:n,style:m,classes:jX,classNames:i,styles:r,unstyled:a,attributes:E});return C.jsx(et,{...T("root"),ref:w,__vars:{"--label-fz":gs(h),"--label-lh":ii(h,"label-lh")},mod:[{"label-position":d},_],variant:v,size:h,...A,children:C.jsxs(et,{component:b,htmlFor:b==="label"?c:void 0,...T("body"),children:[s,C.jsxs("div",{...T("labelWrapper"),"data-disabled":u||void 0,children:[o&&C.jsx(et,{component:y,htmlFor:y==="label"?c:void 0,...T("label"),"data-disabled":u||void 0,children:o}),l&&C.jsx(la.Description,{size:h,__inheritStyles:!1,...T("description"),children:l}),f&&typeof f!="boolean"&&C.jsx(la.Error,{size:h,__inheritStyles:!1,...T("error"),children:f})]})]})})});fL.displayName="@mantine/core/InlineInput";const HX=I.createContext(null),ihe=HX.Provider,VX=()=>I.useContext(HX),[rhe,ahe]=c_();var GX={card:"m_26775b0a"};const she={withBorder:!0},ohe=(t,{radius:e})=>({card:{"--card-radius":$r(e)}}),hL=Qt((t,e)=>{const n=Nt("CheckboxCard",she,t),{classNames:i,className:r,style:a,styles:s,unstyled:o,vars:l,checked:c,mod:u,withBorder:f,value:h,onClick:d,defaultChecked:b,onChange:y,attributes:v,...m}=n,x=xn({name:"CheckboxCard",classes:GX,props:n,className:r,style:a,classNames:i,styles:s,unstyled:o,attributes:v,vars:l,varsResolver:ohe,rootSelector:"card"}),_=VX(),E=typeof c=="boolean"?c:_?_.value.includes(h||""):void 0,[A,w]=bl({value:E,defaultValue:b,finalValue:!1,onChange:y});return C.jsx(rhe,{value:{checked:A},children:C.jsx($u,{ref:e,mod:[{"with-border":f,checked:A},u],...x("card"),...m,role:"checkbox","aria-checked":A,onClick:T=>{d?.(T),_?.onChange(h||""),w(!A)}})})});hL.displayName="@mantine/core/CheckboxCard";hL.classes=GX;function WX({children:t,role:e}){const n=p_();return n?C.jsx("div",{role:e,"aria-labelledby":n.labelId,"aria-describedby":n.describedBy,children:t}):C.jsx(C.Fragment,{children:t})}const dL=Qt((t,e)=>{const{value:n,defaultValue:i,onChange:r,size:a,wrapperProps:s,children:o,readOnly:l,...c}=Nt("CheckboxGroup",null,t),[u,f]=bl({value:n,defaultValue:i,finalValue:[],onChange:r}),h=d=>{const b=typeof d=="string"?d:d.currentTarget.value;!l&&f(u.includes(b)?u.filter(y=>y!==b):[...u,b])};return C.jsx(ihe,{value:{value:u,onChange:h,size:a},children:C.jsx(la.Wrapper,{size:a,ref:e,...s,...c,labelElement:"div",__staticSelector:"CheckboxGroup",children:C.jsx(WX,{role:"group",children:o})})})});dL.classes=la.Wrapper.classes;dL.displayName="@mantine/core/CheckboxGroup";function qX({size:t,style:e,...n}){const i=t!==void 0?{width:gt(t),height:gt(t),...e}:e;return C.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:i,"aria-hidden":!0,...n,children:C.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function XX({indeterminate:t,...e}){return t?C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6","aria-hidden":!0,...e,children:C.jsx("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})}):C.jsx(qX,{...e})}var KX={indicator:"m_5e5256ee",icon:"m_1b1c543a","indicator--outline":"m_76e20374"};const lhe={icon:XX},che=(t,{radius:e,color:n,size:i,iconColor:r,variant:a,autoContrast:s})=>{const o=ah({color:n||t.primaryColor,theme:t}),l=o.isThemeColor&&o.shade===void 0?`var(--mantine-color-${o.color}-outline)`:o.color;return{indicator:{"--checkbox-size":ii(i,"checkbox-size"),"--checkbox-radius":e===void 0?void 0:$r(e),"--checkbox-color":a==="outline"?l:Jr(n,t),"--checkbox-icon-color":r?Jr(r,t):IT(s,t)?u_({color:n,theme:t,autoContrast:s}):void 0}}},pL=Qt((t,e)=>{const n=Nt("CheckboxIndicator",lhe,t),{classNames:i,className:r,style:a,styles:s,unstyled:o,vars:l,icon:c,indeterminate:u,radius:f,color:h,iconColor:d,autoContrast:b,checked:y,mod:v,variant:m,disabled:x,attributes:_,...E}=n,A=xn({name:"CheckboxIndicator",classes:KX,props:n,className:r,style:a,classNames:i,styles:s,unstyled:o,attributes:_,vars:l,varsResolver:che,rootSelector:"indicator"}),w=ahe(),T=typeof y=="boolean"||typeof u=="boolean"?y||u:w?.checked||!1;return C.jsx(et,{ref:e,...A("indicator",{variant:m}),variant:m,mod:[{checked:T,disabled:x},v],...E,children:C.jsx(c,{indeterminate:u,...A("icon")})})});pL.displayName="@mantine/core/CheckboxIndicator";pL.classes=KX;var YX={root:"m_bf2d988c",inner:"m_26062bec",input:"m_26063560",icon:"m_bf295423","input--outline":"m_215c4542"};const uhe={labelPosition:"right",icon:XX},fhe=(t,{radius:e,color:n,size:i,iconColor:r,variant:a,autoContrast:s})=>{const o=ah({color:n||t.primaryColor,theme:t}),l=o.isThemeColor&&o.shade===void 0?`var(--mantine-color-${o.color}-outline)`:o.color;return{root:{"--checkbox-size":ii(i,"checkbox-size"),"--checkbox-radius":e===void 0?void 0:$r(e),"--checkbox-color":a==="outline"?l:Jr(n,t),"--checkbox-icon-color":r?Jr(r,t):IT(s,t)?u_({color:n,theme:t,autoContrast:s}):void 0}}},ch=Qt((t,e)=>{const n=Nt("Checkbox",uhe,t),{classNames:i,className:r,style:a,styles:s,unstyled:o,vars:l,color:c,label:u,id:f,size:h,radius:d,wrapperProps:b,checked:y,labelPosition:v,description:m,error:x,disabled:_,variant:E,indeterminate:A,icon:w,rootRef:T,iconColor:k,onChange:N,autoContrast:D,mod:P,attributes:B,...G}=n,H=VX(),V=h||H?.size,U=xn({name:"Checkbox",props:n,classes:YX,className:r,style:a,classNames:i,styles:s,unstyled:o,attributes:B,vars:l,varsResolver:fhe}),{styleProps:F,rest:q}=f_(G),X=nf(f),z=H?{checked:H.value.includes(q.value),onChange:K=>{H.onChange(K),N?.(K)}}:{},oe=I.useRef(null),fe=e||oe;return I.useEffect(()=>{fe&&"current"in fe&&fe.current&&(fe.current.indeterminate=A||!1)},[A,fe]),C.jsx(fL,{...U("root"),__staticSelector:"Checkbox",__stylesApiProps:n,id:X,size:V,labelPosition:v,label:u,description:m,error:x,disabled:_,classNames:i,styles:s,unstyled:o,"data-checked":z.checked||y||void 0,variant:E,ref:T,mod:P,...F,...b,children:C.jsxs(et,{...U("inner"),mod:{"data-label-position":v},children:[C.jsx(et,{component:"input",id:X,ref:fe,checked:y,disabled:_,mod:{error:!!x,indeterminate:A},...U("input",{focusable:!0,variant:E}),onChange:N,...q,...z,type:"checkbox"}),C.jsx(w,{indeterminate:A,...U("icon")})]})})});ch.classes={...YX,...BX};ch.displayName="@mantine/core/Checkbox";ch.Group=dL;ch.Indicator=pL;ch.Card=hL;function _1(t){return"group"in t}function JX({options:t,search:e,limit:n}){const i=e.trim().toLowerCase(),r=[];for(let a=0;a<t.length;a+=1){const s=t[a];if(r.length===n)return r;_1(s)&&r.push({group:s.group,items:JX({options:s.items,search:e,limit:n-r.length})}),_1(s)||s.label.toLowerCase().includes(i)&&r.push(s)}return r}function hhe(t){if(t.length===0)return!0;for(const e of t)if(!("group"in e)||e.items.length>0)return!1;return!0}function $X(t,e=new Set){if(Array.isArray(t))for(const n of t)if(_1(n))$X(n.items,e);else{if(typeof n.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof n.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof n.value}`);if(e.has(n.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${n.value}" was provided more than once`);e.add(n.value)}}function dhe(t,e){return Array.isArray(t)?t.includes(e):t===e}function ZX({data:t,withCheckIcon:e,value:n,checkIconPosition:i,unstyled:r,renderOption:a}){if(!_1(t)){const o=dhe(n,t.value),l=e&&o&&C.jsx(qX,{className:No.optionsDropdownCheckIcon}),c=C.jsxs(C.Fragment,{children:[i==="left"&&l,C.jsx("span",{children:t.label}),i==="right"&&l]});return C.jsx(dr.Option,{value:t.value,disabled:t.disabled,className:$a({[No.optionsDropdownOption]:!r}),"data-reverse":i==="right"||void 0,"data-checked":o||void 0,"aria-selected":o,active:o,children:typeof a=="function"?a({option:t,checked:o}):c})}const s=t.items.map(o=>C.jsx(ZX,{data:o,value:n,unstyled:r,withCheckIcon:e,checkIconPosition:i,renderOption:a},o.value));return C.jsx(dr.Group,{label:t.group,children:s})}function phe({data:t,hidden:e,hiddenWhenEmpty:n,filter:i,search:r,limit:a,maxDropdownHeight:s,withScrollArea:o=!0,filterOptions:l=!0,withCheckIcon:c=!1,value:u,checkIconPosition:f,nothingFoundMessage:h,unstyled:d,labelId:b,renderOption:y,scrollAreaProps:v,"aria-label":m}){$X(t);const _=typeof r=="string"?(i||JX)({options:t,search:l?r:"",limit:a??1/0}):t,E=hhe(_),A=_.map(w=>C.jsx(ZX,{data:w,withCheckIcon:c,value:u,checkIconPosition:f,unstyled:d,renderOption:y},_1(w)?w.group:w.value));return C.jsx(dr.Dropdown,{hidden:e||n&&E,"data-composed":!0,children:C.jsxs(dr.Options,{labelledBy:b,"aria-label":m,children:[o?C.jsx(bc.Autosize,{mah:s??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",...v,children:A}):A,E&&h&&C.jsx(dr.Empty,{children:h})]})})}var QX={root:"m_ddec01c0",icon:"m_dde7bd57",cite:"m_dde51a35"};const mhe={iconSize:48},ghe=(t,{color:e,iconSize:n,radius:i})=>{const r=ah({color:e||t.primaryColor,theme:t,colorScheme:"dark"}),a=ah({color:e||t.primaryColor,theme:t,colorScheme:"light"});return{root:{"--bq-bg-light":Gl(a.value,.07),"--bq-bg-dark":Gl(r.value,.06),"--bq-bd":Jr(e,t),"--bq-icon-size":gt(n),"--bq-radius":$r(i)}}},mL=Qt((t,e)=>{const n=Nt("Blockquote",mhe,t),{classNames:i,className:r,style:a,styles:s,unstyled:o,vars:l,children:c,icon:u,iconSize:f,cite:h,attributes:d,...b}=n,y=xn({name:"Blockquote",classes:QX,props:n,className:r,style:a,classNames:i,styles:s,unstyled:o,attributes:d,vars:l,varsResolver:ghe});return C.jsxs(et,{component:"blockquote",ref:e,...y("root"),...b,children:[u&&C.jsx("span",{...y("icon"),children:u}),c,h&&C.jsx("cite",{...y("cite"),children:h})]})});mL.classes=QX;mL.displayName="@mantine/core/Blockquote";var eK={root:"m_fea6bf1a",burger:"m_d4fb9cad"};const bhe=(t,{color:e,size:n,lineSize:i,transitionDuration:r,transitionTimingFunction:a})=>({root:{"--burger-color":e?Jr(e,t):void 0,"--burger-size":ii(n,"burger-size"),"--burger-line-size":i?gt(i):void 0,"--burger-transition-duration":r===void 0?void 0:`${r}ms`,"--burger-transition-timing-function":a}}),gL=Qt((t,e)=>{const n=Nt("Burger",null,t),{classNames:i,className:r,style:a,styles:s,unstyled:o,vars:l,opened:c,children:u,transitionDuration:f,transitionTimingFunction:h,lineSize:d,attributes:b,...y}=n,v=xn({name:"Burger",classes:eK,props:n,className:r,style:a,classNames:i,styles:s,unstyled:o,attributes:b,vars:l,varsResolver:bhe});return C.jsxs($u,{...v("root"),ref:e,...y,children:[C.jsx(et,{mod:["reduce-motion",{opened:c}],...v("burger")}),u]})});gL.classes=eK;gL.displayName="@mantine/core/Burger";var Cy={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844",groupSection:"m_70be2a01"};const gz={orientation:"horizontal"},yhe=(t,{borderWidth:e})=>({group:{"--button-border-width":gt(e)}}),bL=Qt((t,e)=>{const n=Nt("ButtonGroup",gz,t),{className:i,style:r,classNames:a,styles:s,unstyled:o,orientation:l,vars:c,borderWidth:u,variant:f,mod:h,attributes:d,...b}=Nt("ButtonGroup",gz,t),y=xn({name:"ButtonGroup",props:n,classes:Cy,className:i,style:r,classNames:a,styles:s,unstyled:o,attributes:d,vars:c,varsResolver:yhe,rootSelector:"group"});return C.jsx(et,{...y("group"),ref:e,variant:f,mod:[{"data-orientation":l},h],role:"group",...b})});bL.classes=Cy;bL.displayName="@mantine/core/ButtonGroup";const vhe=(t,{radius:e,color:n,gradient:i,variant:r,autoContrast:a,size:s})=>{const o=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:i,variant:r||"filled",autoContrast:a});return{groupSection:{"--section-height":ii(s,"section-height"),"--section-padding-x":ii(s,"section-padding-x"),"--section-fz":s?.includes("compact")?gs(s.replace("compact-","")):gs(s),"--section-radius":e===void 0?void 0:$r(e),"--section-bg":n||r?o.background:void 0,"--section-color":o.color,"--section-bd":n||r?o.border:void 0}}},yL=Qt((t,e)=>{const n=Nt("ButtonGroupSection",null,t),{className:i,style:r,classNames:a,styles:s,unstyled:o,vars:l,variant:c,gradient:u,radius:f,autoContrast:h,attributes:d,...b}=n,y=xn({name:"ButtonGroupSection",props:n,classes:Cy,className:i,style:r,classNames:a,styles:s,unstyled:o,attributes:d,vars:l,varsResolver:vhe,rootSelector:"groupSection"});return C.jsx(et,{...y("groupSection"),ref:e,variant:c,...b})});yL.classes=Cy;yL.displayName="@mantine/core/ButtonGroupSection";const xhe={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${gt(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},_he=(t,{radius:e,color:n,gradient:i,variant:r,size:a,justify:s,autoContrast:o})=>{const l=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:i,variant:r||"filled",autoContrast:o});return{root:{"--button-justify":s,"--button-height":ii(a,"button-height"),"--button-padding-x":ii(a,"button-padding-x"),"--button-fz":a?.includes("compact")?gs(a.replace("compact-","")):gs(a),"--button-radius":e===void 0?void 0:$r(e),"--button-bg":n||r?l.background:void 0,"--button-hover":n||r?l.hover:void 0,"--button-color":l.color,"--button-bd":n||r?l.border:void 0,"--button-hover-color":n||r?l.hoverColor:void 0}}},ds=xl((t,e)=>{const n=Nt("Button",null,t),{style:i,vars:r,className:a,color:s,disabled:o,children:l,leftSection:c,rightSection:u,fullWidth:f,variant:h,radius:d,loading:b,loaderProps:y,gradient:v,classNames:m,styles:x,unstyled:_,"data-disabled":E,autoContrast:A,mod:w,attributes:T,...k}=n,N=xn({name:"Button",props:n,classes:Cy,className:a,style:i,classNames:m,styles:x,unstyled:_,attributes:T,vars:r,varsResolver:_he}),D=!!c,P=!!u;return C.jsxs($u,{ref:e,...N("root",{active:!o&&!b&&!E}),unstyled:_,variant:h,disabled:o||b,mod:[{disabled:o||E,loading:b,block:f,"with-left-section":D,"with-right-section":P},w],...k,children:[typeof b=="boolean"&&C.jsx(hc,{mounted:b,transition:xhe,duration:150,children:B=>C.jsx(et,{component:"span",...N("loader",{style:B}),"aria-hidden":!0,children:C.jsx(Vd,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...y})})}),C.jsxs("span",{...N("inner"),children:[c&&C.jsx(et,{component:"span",...N("section"),mod:{position:"left"},children:c}),C.jsx(et,{component:"span",mod:{loading:b},...N("label"),children:l}),u&&C.jsx(et,{component:"span",...N("section"),mod:{position:"right"},children:u})]})]})});ds.classes=Cy;ds.displayName="@mantine/core/Button";ds.Group=bL;ds.GroupSection=yL;var tK={root:"m_b183c0a2"};const She=(t,{color:e})=>({root:{"--code-bg":e?Jr(e,t):void 0}}),vL=Qt((t,e)=>{const n=Nt("Code",null,t),{classNames:i,className:r,style:a,styles:s,unstyled:o,vars:l,color:c,block:u,variant:f,mod:h,attributes:d,...b}=n,y=xn({name:"Code",props:n,classes:tK,className:r,style:a,classNames:i,styles:s,unstyled:o,attributes:d,vars:l,varsResolver:She});return C.jsx(et,{component:u?"pre":"code",variant:f,ref:e,mod:[{block:u},h],...y("root"),...b,dir:"ltr"})});vL.classes=tK;vL.displayName="@mantine/core/Code";var nK={root:"m_de3d2490",colorOverlay:"m_862f3d1b",shadowOverlay:"m_98ae7f22",alphaOverlay:"m_95709ac0",childrenOverlay:"m_93e74e3"};const bz={withShadow:!0},whe=(t,{radius:e,size:n})=>({root:{"--cs-radius":e===void 0?void 0:$r(e),"--cs-size":gt(n)}}),m_=xl((t,e)=>{const n=Nt("ColorSwatch",bz,t),{classNames:i,className:r,style:a,styles:s,unstyled:o,vars:l,color:c,size:u,radius:f,withShadow:h,children:d,variant:b,attributes:y,...v}=Nt("ColorSwatch",bz,n),m=xn({name:"ColorSwatch",props:n,classes:nK,className:r,style:a,classNames:i,styles:s,unstyled:o,attributes:y,vars:l,varsResolver:whe});return C.jsxs(et,{ref:e,variant:b,size:u,...m("root",{focusable:!0}),...v,children:[C.jsx("span",{...m("alphaOverlay")}),h&&C.jsx("span",{...m("shadowOverlay")}),C.jsx("span",{...m("colorOverlay",{style:{backgroundColor:c}})}),C.jsx("span",{...m("childrenOverlay"),children:d})]})});m_.classes=nK;m_.displayName="@mantine/core/ColorSwatch";const[Ehe,xL]=c_(null),_L=I.forwardRef(({position:t,...e},n)=>C.jsx(et,{ref:n,__vars:{"--thumb-y-offset":`${t.y*100}%`,"--thumb-x-offset":`${t.x*100}%`},...e}));_L.displayName="@mantine/core/ColorPickerThumb";var SL={wrapper:"m_fee9c77",preview:"m_9dddfbac",body:"m_bffecc3e",sliders:"m_3283bb96",thumb:"m_40d572ba",swatch:"m_d8ee6fd8",swatches:"m_5711e686",saturation:"m_202a296e",saturationOverlay:"m_11b3db02",slider:"m_d856d47d",sliderOverlay:"m_8f327113"};const wL=Qt((t,e)=>{const n=Nt("ColorSlider",null,t),{classNames:i,className:r,style:a,styles:s,unstyled:o,vars:l,onChange:c,onChangeEnd:u,maxValue:f,round:h,size:d="md",focusable:b=!0,value:y,overlays:v,thumbColor:m="transparent",onScrubStart:x,onScrubEnd:_,__staticSelector:E="ColorPicker",attributes:A,...w}=n,T=xn({name:E,classes:SL,props:n,className:r,style:a,classNames:i,styles:s,unstyled:o,attributes:A}),N=xL()?.getStyles||T,D=ma(),[P,B]=I.useState({y:0,x:y/f}),G=I.useRef(P),H=X=>h?Math.round(X*f):X*f,{ref:V}=EO(({x:X,y:z})=>{G.current={x:X,y:z},c?.(H(X))},{onScrubEnd:()=>{const{x:X}=G.current;u?.(H(X)),_?.()},onScrubStart:x});oc(()=>{B({y:0,x:y/f})},[y]);const U=(X,z)=>{X.preventDefault();const oe=YW(z);c?.(H(oe.x)),u?.(H(oe.x))},F=X=>{switch(X.key){case"ArrowRight":{U(X,{x:P.x+.05,y:P.y});break}case"ArrowLeft":{U(X,{x:P.x-.05,y:P.y});break}}},q=v.map((X,z)=>I.createElement("div",{...N("sliderOverlay"),style:X,key:z}));return C.jsxs(et,{...w,ref:Ss(V,e),...N("slider"),role:"slider","aria-valuenow":y,"aria-valuemax":f,"aria-valuemin":0,tabIndex:b?0:-1,onKeyDown:F,"data-focus-ring":D.focusRing,__vars:{"--cp-thumb-size":`var(--cp-thumb-size-${d})`},children:[q,C.jsx(_L,{position:P,...N("thumb",{style:{top:gt(1),background:m}})})]})});wL.displayName="@mantine/core/ColorSlider";function ic(t,e=0,n=10**e){return Math.round(n*t)/n}function Mhe({h:t,s:e,l:n,a:i}){const r=e*((n<50?n:100-n)/100);return{h:t,s:r>0?2*r/(n+r)*100:0,v:n+r,a:i}}const Ahe={grad:360/400,turn:360,rad:360/(Math.PI*2)};function The(t,e="deg"){return Number(t)*(Ahe[e]||1)}const Che=/hsla?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i;function yz(t){const e=Che.exec(t);return e?Mhe({h:The(e[1],e[2]),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)}):{h:0,s:0,v:0,a:1}}function iN({r:t,g:e,b:n,a:i}){const r=Math.max(t,e,n),a=r-Math.min(t,e,n),s=a?r===t?(e-n)/a:r===e?2+(n-t)/a:4+(t-e)/a:0;return{h:ic(60*(s<0?s+6:s),3),s:ic(r?a/r*100:0,3),v:ic(r/255*100,3),a:i}}function rN(t){const e=t[0]==="#"?t.slice(1):t;return e.length===3?iN({r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:1}):iN({r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16),a:1})}function Rhe(t){const e=t[0]==="#"?t.slice(1):t,n=s=>ic(parseInt(s,16)/255,3);if(e.length===4){const s=e.slice(0,3),o=n(e[3]+e[3]);return{...rN(s),a:o}}const i=e.slice(0,6),r=n(e.slice(6,8));return{...rN(i),a:r}}const khe=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i;function vz(t){const e=khe.exec(t);return e?iN({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):{h:0,s:0,v:0,a:1}}const iK={hex:/^#?([0-9A-F]{3}){1,2}$/i,hexa:/^#?([0-9A-F]{4}){1,2}$/i,rgb:/^rgb\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/i,rgba:/^rgba\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/i,hsl:/hsl\(\s*(\d+)\s*,\s*(\d+(?:\.\d+)?%)\s*,\s*(\d+(?:\.\d+)?%)\)/i,hsla:/^hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*(\d*(?:\.\d+)?)\)$/i},Dhe={hex:rN,hexa:Rhe,rgb:vz,rgba:vz,hsl:yz,hsla:yz};function px(t){for(const[,e]of Object.entries(iK))if(e.test(t))return!0;return!1}function nm(t){if(typeof t!="string")return{h:0,s:0,v:0,a:1};if(t==="transparent")return{h:0,s:0,v:0,a:0};const e=t.trim();for(const[n,i]of Object.entries(iK))if(i.test(e))return Dhe[n](e);return{h:0,s:0,v:0,a:1}}const rK=I.forwardRef((t,e)=>{const{value:n,onChange:i,onChangeEnd:r,color:a,...s}=Nt("AlphaSlider",null,t);return C.jsx(wL,{...s,ref:e,value:n,onChange:o=>i?.(ic(o,2)),onChangeEnd:o=>r?.(ic(o,2)),maxValue:1,round:!1,"data-alpha":!0,overlays:[{backgroundImage:"linear-gradient(45deg, var(--slider-checkers) 25%, transparent 25%), linear-gradient(-45deg, var(--slider-checkers) 25%, transparent 25%), linear-gradient(45deg, transparent 75%, var(--slider-checkers) 75%), linear-gradient(-45deg, var(--mantine-color-body) 75%, var(--slider-checkers) 75%)",backgroundSize:`${gt(8)} ${gt(8)}`,backgroundPosition:`0 0, 0 ${gt(4)}, ${gt(4)} ${gt(-4)}, ${gt(-4)} 0`},{backgroundImage:`linear-gradient(90deg, transparent, ${a})`},{boxShadow:`rgba(0, 0, 0, .1) 0 0 0 ${gt(1)} inset, rgb(0, 0, 0, .15) 0 0 ${gt(4)} inset`}]})});rK.displayName="@mantine/core/AlphaSlider";function aK({h:t,s:e,v:n,a:i}){const r=t/360*6,a=e/100,s=n/100,o=Math.floor(r),l=s*(1-a),c=s*(1-(r-o)*a),u=s*(1-(1-r+o)*a),f=o%6;return{r:ic([s,c,l,l,u,s][f]*255),g:ic([u,s,s,c,l,l][f]*255),b:ic([l,l,u,s,s,c][f]*255),a:ic(i,2)}}function xz(t,e){const{r:n,g:i,b:r,a}=aK(t);return e?`rgba(${n}, ${i}, ${r}, ${ic(a,2)})`:`rgb(${n}, ${i}, ${r})`}function _z({h:t,s:e,v:n,a:i},r){const a=(200-e)*n/100,s={h:Math.round(t),s:Math.round(a>0&&a<200?e*n/100/(a<=100?a:200-a)*100:0),l:Math.round(a/2)};return r?`hsla(${s.h}, ${s.s}%, ${s.l}%, ${ic(i,2)})`:`hsl(${s.h}, ${s.s}%, ${s.l}%)`}function jE(t){const e=t.toString(16);return e.length<2?`0${e}`:e}function sK(t){const{r:e,g:n,b:i}=aK(t);return`#${jE(e)}${jE(n)}${jE(i)}`}function Nhe(t){const e=Math.round(t.a*255);return`${sK(t)}${jE(e)}`}const v3={hex:sK,hexa:t=>Nhe(t),rgb:t=>xz(t,!1),rgba:t=>xz(t,!0),hsl:t=>_z(t,!1),hsla:t=>_z(t,!0)};function jc(t,e){return e?t in v3?v3[t](e):v3.hex(e):"#000000"}const oK=I.forwardRef((t,e)=>{const{value:n,onChange:i,onChangeEnd:r,color:a,...s}=Nt("HueSlider",{},t);return C.jsx(wL,{...s,ref:e,value:n,onChange:i,onChangeEnd:r,maxValue:360,thumbColor:`hsl(${n}, 100%, 50%)`,round:!0,"data-hue":!0,overlays:[{backgroundImage:"linear-gradient(to right,hsl(0,100%,50%),hsl(60,100%,50%),hsl(120,100%,50%),hsl(170,100%,50%),hsl(240,100%,50%),hsl(300,100%,50%),hsl(360,100%,50%))"},{boxShadow:`rgba(0, 0, 0, .1) 0 0 0 ${gt(1)} inset, rgb(0, 0, 0, .15) 0 0 ${gt(4)} inset`}]})});oK.displayName="@mantine/core/HueSlider";function lK({className:t,onChange:e,onChangeEnd:n,value:i,saturationLabel:r,focusable:a=!0,size:s,color:o,onScrubStart:l,onScrubEnd:c,...u}){const{getStyles:f}=xL(),[h,d]=I.useState({x:i.s/100,y:1-i.v/100}),b=I.useRef(h),{ref:y}=EO(({x,y:_})=>{b.current={x,y:_},e({s:Math.round(x*100),v:Math.round((1-_)*100)})},{onScrubEnd:()=>{const{x,y:_}=b.current;n({s:Math.round(x*100),v:Math.round((1-_)*100)}),c?.()},onScrubStart:l});I.useEffect(()=>{d({x:i.s/100,y:1-i.v/100})},[i.s,i.v]);const v=(x,_)=>{x.preventDefault();const E=YW(_);e({s:Math.round(E.x*100),v:Math.round((1-E.y)*100)}),n({s:Math.round(E.x*100),v:Math.round((1-E.y)*100)})},m=x=>{switch(x.key){case"ArrowUp":{v(x,{y:h.y-.05,x:h.x});break}case"ArrowDown":{v(x,{y:h.y+.05,x:h.x});break}case"ArrowRight":{v(x,{x:h.x+.05,y:h.y});break}case"ArrowLeft":{v(x,{x:h.x-.05,y:h.y});break}}};return C.jsxs(et,{...f("saturation"),ref:y,...u,role:"slider","aria-label":r,"aria-valuenow":h.x,"aria-valuetext":jc("rgba",i),tabIndex:a?0:-1,onKeyDown:m,children:[C.jsx("div",{...f("saturationOverlay",{style:{backgroundColor:`hsl(${i.h}, 100%, 50%)`}})}),C.jsx("div",{...f("saturationOverlay",{style:{backgroundImage:"linear-gradient(90deg, #fff, transparent)"}})}),C.jsx("div",{...f("saturationOverlay",{style:{backgroundImage:"linear-gradient(0deg, #000, transparent)"}})}),C.jsx(_L,{position:h,...f("thumb",{style:{backgroundColor:o}})})]})}lK.displayName="@mantine/core/Saturation";const cK=I.forwardRef(({className:t,datatype:e,setValue:n,onChangeEnd:i,size:r,focusable:a,data:s,swatchesPerRow:o,...l},c)=>{const u=xL(),f=s.map((h,d)=>I.createElement(m_,{...u.getStyles("swatch"),unstyled:u.unstyled,component:"button",type:"button",color:h,key:d,radius:"sm",onClick:()=>{n(h),i?.(h)},"aria-label":h,tabIndex:a?0:-1,"data-swatch":!0}));return C.jsx(et,{...u.getStyles("swatches"),ref:c,...l,children:f})});cK.displayName="@mantine/core/Swatches";const Ihe={swatchesPerRow:7,withPicker:!0,focusable:!0,size:"md",__staticSelector:"ColorPicker"},Ohe=(t,{size:e,swatchesPerRow:n})=>({wrapper:{"--cp-preview-size":ii(e,"cp-preview-size"),"--cp-width":ii(e,"cp-width"),"--cp-body-spacing":Id(e),"--cp-swatch-size":`${100/n}%`,"--cp-thumb-size":ii(e,"cp-thumb-size"),"--cp-saturation-height":ii(e,"cp-saturation-height")}}),EL=Qt((t,e)=>{const n=Nt("ColorPicker",Ihe,t),{classNames:i,className:r,style:a,styles:s,unstyled:o,vars:l,format:c="hex",value:u,defaultValue:f,onChange:h,onChangeEnd:d,withPicker:b,size:y,saturationLabel:v,hueLabel:m,alphaLabel:x,focusable:_,swatches:E,swatchesPerRow:A,fullWidth:w,onColorSwatchClick:T,__staticSelector:k,mod:N,attributes:D,...P}=n,B=xn({name:k,props:n,classes:SL,className:r,style:a,classNames:i,styles:s,unstyled:o,attributes:D,rootSelector:"wrapper",vars:l,varsResolver:Ohe}),G=I.useRef(c||"hex"),H=I.useRef(""),V=I.useRef(-1),U=I.useRef(!1),F=c==="hexa"||c==="rgba"||c==="hsla",[q,X,z]=bl({value:u,defaultValue:f,finalValue:"#FFFFFF",onChange:h}),[oe,fe]=I.useState(nm(q)),K=()=>{window.clearTimeout(V.current),U.current=!0},Me=()=>{window.clearTimeout(V.current),V.current=window.setTimeout(()=>{U.current=!1},200)},_e=pe=>{fe(xe=>{const Oe={...xe,...pe};return H.current=jc(G.current,Oe),Oe}),X(H.current)};return oc(()=>{typeof u=="string"&&px(u)&&!U.current&&fe(nm(u))},[u]),oc(()=>{G.current=c||"hex",X(jc(G.current,oe))},[c]),C.jsx(Ehe,{value:{getStyles:B,unstyled:o},children:C.jsxs(et,{ref:e,...B("wrapper"),size:y,mod:[{"full-width":w},N],...P,children:[b&&C.jsxs(C.Fragment,{children:[C.jsx(lK,{value:oe,onChange:_e,onChangeEnd:({s:pe,v:xe})=>d?.(jc(G.current,{...oe,s:pe,v:xe})),color:q,size:y,focusable:_,saturationLabel:v,onScrubStart:K,onScrubEnd:Me}),C.jsxs("div",{...B("body"),children:[C.jsxs("div",{...B("sliders"),children:[C.jsx(oK,{value:oe.h,onChange:pe=>_e({h:pe}),onChangeEnd:pe=>d?.(jc(G.current,{...oe,h:pe})),size:y,focusable:_,"aria-label":m,onScrubStart:K,onScrubEnd:Me}),F&&C.jsx(rK,{value:oe.a,onChange:pe=>_e({a:pe}),onChangeEnd:pe=>{d?.(jc(G.current,{...oe,a:pe}))},size:y,color:jc("hex",oe),focusable:_,"aria-label":x,onScrubStart:K,onScrubEnd:Me})]}),F&&C.jsx(m_,{color:q,radius:"sm",size:"var(--cp-preview-size)",...B("preview")})]})]}),Array.isArray(E)&&C.jsx(cK,{data:E,swatchesPerRow:A,focusable:_,setValue:X,onChangeEnd:pe=>{const xe=jc(c,nm(pe));T?.(xe),d?.(xe),z||fe(nm(pe))}})]})})});EL.classes=SL;EL.displayName="@mantine/core/ColorPicker";function Lhe({style:t,...e}){return C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",style:{width:"var(--ci-eye-dropper-icon-size)",height:"var(--ci-eye-dropper-icon-size)",...t},viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[C.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),C.jsx("path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}),C.jsx("path",{d:"M12 3l0 4"}),C.jsx("path",{d:"M12 21l0 -3"}),C.jsx("path",{d:"M3 12l4 0"}),C.jsx("path",{d:"M21 12l-3 0"}),C.jsx("path",{d:"M12 12l0 .01"})]})}var Sz={eyeDropperIcon:"m_b077c2bc",colorPreview:"m_c5ccdcab",dropdown:"m_5ece2cd7"};const wz={format:"hex",fixOnBlur:!0,withPreview:!0,swatchesPerRow:7,withPicker:!0,popoverProps:{transitionProps:{transition:"fade",duration:0}},withEyeDropper:!0},Phe=(t,{size:e})=>({eyeDropperIcon:{"--ci-eye-dropper-icon-size":ii(e,"ci-eye-dropper-icon-size")},colorPreview:{"--ci-preview-size":ii(e,"ci-preview-size")}}),Ry=Qt((t,e)=>{const n=Nt("ColorInput",wz,t),{classNames:i,styles:r,unstyled:a,disallowInput:s,fixOnBlur:o,popoverProps:l,withPreview:c,withEyeDropper:u,eyeDropperIcon:f,closeOnColorSwatchClick:h,eyeDropperButtonProps:d,value:b,defaultValue:y,onChange:v,onChangeEnd:m,onClick:x,onFocus:_,onBlur:E,inputProps:A,format:w="hex",wrapperProps:T,readOnly:k,withPicker:N,swatches:D,disabled:P,leftSection:B,rightSection:G,swatchesPerRow:H,...V}=CX("ColorInput",wz,t),U=xn({name:"ColorInput",props:n,classes:Sz,classNames:i,styles:r,unstyled:a,rootSelector:"wrapper",vars:n.vars,varsResolver:Phe}),{resolvedClassNames:F,resolvedStyles:q}=wy({classNames:i,styles:r,props:n}),[X,z]=I.useState(!1),[oe,fe]=I.useState(""),[K,Me]=bl({value:b,defaultValue:y,finalValue:"",onChange:v}),{supported:_e,open:pe}=Ase(),xe=C.jsx(_l,{...d,...U("eyeDropperButton",{className:d?.className,style:d?.style}),variant:"subtle",color:"gray",size:A.size,unstyled:a,onClick:()=>pe().then(ct=>{if(ct?.sRGBHex){const Tt=jc(w,nm(ct.sRGBHex));Me(Tt),m?.(Tt)}}).catch(()=>{}),children:f||C.jsx(Lhe,{...U("eyeDropperIcon")})}),Oe=ct=>{_?.(ct),z(!0)},Ge=ct=>{o&&Me(oe),E?.(ct),z(!1)},Ye=ct=>{x?.(ct),z(!0)};return I.useEffect(()=>{(px(K)||K.trim()==="")&&fe(K)},[K]),oc(()=>{px(K)&&Me(jc(w,nm(K)))},[w]),C.jsx(la.Wrapper,{...T,classNames:F,styles:q,__staticSelector:"ColorInput",children:C.jsxs(ko,{__staticSelector:"ColorInput",position:"bottom-start",offset:5,opened:X,...l,classNames:F,styles:q,unstyled:a,withRoles:!1,disabled:k||N===!1&&(!Array.isArray(D)||D.length===0),children:[C.jsx(ko.Target,{children:C.jsx(la,{autoComplete:"off",...V,...A,classNames:F,styles:q,disabled:P,ref:e,__staticSelector:"ColorInput",onFocus:Oe,onBlur:Ge,onClick:Ye,spellCheck:!1,value:K,onChange:ct=>{const Tt=ct.currentTarget.value;Me(Tt),px(Tt)&&m?.(jc(w,nm(Tt)))},leftSection:B||(c?C.jsx(m_,{color:px(K)?K:"#fff",size:"var(--ci-preview-size)",...U("colorPreview")}):null),readOnly:s||k,pointer:s,unstyled:a,rightSection:G||(u&&!P&&!k&&_e?xe:null)})}),C.jsx(ko.Dropdown,{onMouseDown:ct=>ct.preventDefault(),className:Sz.dropdown,children:C.jsx(EL,{__staticSelector:"ColorInput",value:K,onChange:Me,onChangeEnd:m,format:w,swatches:D,swatchesPerRow:H,withPicker:N,size:A.size,focusable:!1,unstyled:a,styles:q,classNames:F,onColorSwatchClick:()=>h&&z(!1),attributes:T.attributes})})]})})});Ry.classes=fu.classes;Ry.displayName="@mantine/core/ColorInput";var uK={root:"m_7485cace"};const Uhe=(t,{size:e,fluid:n})=>({root:{"--container-size":n?void 0:ii(e,"container-size")}}),ML=Qt((t,e)=>{const n=Nt("Container",null,t),{classNames:i,className:r,style:a,styles:s,unstyled:o,vars:l,fluid:c,mod:u,attributes:f,strategy:h,...d}=n,b=xn({name:"Container",classes:uK,props:n,className:r,style:a,classNames:i,styles:s,unstyled:o,attributes:f,vars:l,varsResolver:Uhe});return C.jsx(et,{ref:e,mod:[{fluid:c,strategy:h||"block"},u],...b("root"),...d})});ML.classes=uK;ML.displayName="@mantine/core/Container";const Fhe={timeout:1e3};function fK(t){const{children:e,timeout:n,value:i,...r}=Nt("CopyButton",Fhe,t),a=lse({timeout:n}),s=()=>a.copy(i);return C.jsx(C.Fragment,{children:e({copy:s,copied:a.copied,...r})})}fK.displayName="@mantine/core/CopyButton";var hK={root:"m_3eebeb36",label:"m_9e365f20"};const zhe={orientation:"horizontal"},jhe=(t,{color:e,variant:n,size:i})=>({root:{"--divider-color":e?Jr(e,t):void 0,"--divider-border-style":n,"--divider-size":ii(i,"divider-size")}}),ig=Qt((t,e)=>{const n=Nt("Divider",zhe,t),{classNames:i,className:r,style:a,styles:s,unstyled:o,vars:l,color:c,orientation:u,label:f,labelPosition:h,mod:d,attributes:b,...y}=n,v=xn({name:"Divider",classes:hK,props:n,className:r,style:a,classNames:i,styles:s,unstyled:o,attributes:b,vars:l,varsResolver:jhe});return C.jsx(et,{ref:e,mod:[{orientation:u,"with-label":!!f},d],...v("root"),...y,role:"separator",children:f&&C.jsx(et,{component:"span",mod:{position:h},...v("label"),children:f})})});ig.classes=hK;ig.displayName="@mantine/core/Divider";var dK={root:"m_9e117634"};const Bhe=(t,{radius:e,fit:n})=>({root:{"--image-radius":e===void 0?void 0:$r(e),"--image-object-fit":n}}),g_=xl((t,e)=>{const n=Nt("Image",null,t),{classNames:i,className:r,style:a,styles:s,unstyled:o,vars:l,onError:c,src:u,radius:f,fit:h,fallbackSrc:d,mod:b,attributes:y,...v}=n,[m,x]=I.useState(!u);I.useEffect(()=>x(!u),[u]);const _=xn({name:"Image",classes:dK,props:n,className:r,style:a,classNames:i,styles:s,unstyled:o,attributes:y,vars:l,varsResolver:Bhe});return m&&d?C.jsx(et,{component:"img",ref:e,src:d,..._("root"),onError:c,mod:["fallback",b],...v}):C.jsx(et,{component:"img",ref:e,..._("root"),src:u,onError:E=>{c?.(E),x(!0)},mod:b,...v})});g_.classes=dK;g_.displayName="@mantine/core/Image";var Hhe=I.useLayoutEffect,Vhe=function(e){var n=ke.useRef(e);return Hhe(function(){n.current=e}),n},Ez=function(e,n){if(typeof e=="function"){e(n);return}e.current=n},Ghe=function(e,n){var i=ke.useRef();return ke.useCallback(function(r){e.current=r,i.current&&Ez(i.current,null),i.current=n,n&&Ez(n,r)},[n])},Mz={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},Whe=function(e){Object.keys(Mz).forEach(function(n){e.style.setProperty(n,Mz[n],"important")})},Az=Whe,Qs=null,Tz=function(e,n){var i=e.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?i+n.borderSize:i-n.paddingSize};function qhe(t,e,n,i){n===void 0&&(n=1),i===void 0&&(i=1/0),Qs||(Qs=document.createElement("textarea"),Qs.setAttribute("tabindex","-1"),Qs.setAttribute("aria-hidden","true"),Az(Qs)),Qs.parentNode===null&&document.body.appendChild(Qs);var r=t.paddingSize,a=t.borderSize,s=t.sizingStyle,o=s.boxSizing;Object.keys(s).forEach(function(h){var d=h;Qs.style[d]=s[d]}),Az(Qs),Qs.value=e;var l=Tz(Qs,t);Qs.value=e,l=Tz(Qs,t),Qs.value="x";var c=Qs.scrollHeight-r,u=c*n;o==="border-box"&&(u=u+r+a),l=Math.max(u,l);var f=c*i;return o==="border-box"&&(f=f+r+a),l=Math.min(f,l),[l,c]}var Cz=function(){},Xhe=function(e,n){return e.reduce(function(i,r){return i[r]=n[r],i},{})},Khe=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],Yhe=!!document.documentElement.currentStyle,Jhe=function(e){var n=window.getComputedStyle(e);if(n===null)return null;var i=Xhe(Khe,n),r=i.boxSizing;if(r==="")return null;Yhe&&r==="border-box"&&(i.width=parseFloat(i.width)+parseFloat(i.borderRightWidth)+parseFloat(i.borderLeftWidth)+parseFloat(i.paddingRight)+parseFloat(i.paddingLeft)+"px");var a=parseFloat(i.paddingBottom)+parseFloat(i.paddingTop),s=parseFloat(i.borderBottomWidth)+parseFloat(i.borderTopWidth);return{sizingStyle:i,paddingSize:a,borderSize:s}},$he=Jhe;function AL(t,e,n){var i=Vhe(n);I.useLayoutEffect(function(){var r=function(s){return i.current(s)};if(t)return t.addEventListener(e,r),function(){return t.removeEventListener(e,r)}},[])}var Zhe=function(e,n){AL(document.body,"reset",function(i){e.current.form===i.target&&n(i)})},Qhe=function(e){AL(window,"resize",e)},ede=function(e){AL(document.fonts,"loadingdone",e)},tde=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],nde=function(e,n){var i=e.cacheMeasurements,r=e.maxRows,a=e.minRows,s=e.onChange,o=s===void 0?Cz:s,l=e.onHeightChange,c=l===void 0?Cz:l,u=MO(e,tde),f=u.value!==void 0,h=I.useRef(null),d=Ghe(h,n),b=I.useRef(0),y=I.useRef(),v=function(){var _=h.current,E=i&&y.current?y.current:$he(_);if(E){y.current=E;var A=qhe(E,_.value||_.placeholder||"x",a,r),w=A[0],T=A[1];b.current!==w&&(b.current=w,_.style.setProperty("height",w+"px","important"),c(w,{rowHeight:T}))}},m=function(_){f||v(),o(_)};return I.useLayoutEffect(v),Zhe(h,function(){if(!f){var x=h.current.value;requestAnimationFrame(function(){var _=h.current;_&&x!==_.value&&v()})}}),Qhe(v),ede(v),I.createElement("textarea",vs({},u,{onChange:m,ref:d}))},ide=I.forwardRef(nde);const rde={size:"sm"},qT=Qt((t,e)=>{const{autosize:n,maxRows:i,minRows:r,__staticSelector:a,resize:s,...o}=Nt("Textarea",rde,t),l=n&&joe()!=="test",c=l?{maxRows:i,minRows:r}:{};return C.jsx(fu,{component:l?ide:"textarea",ref:e,...o,__staticSelector:a||"Textarea",multiline:!0,"data-no-overflow":n&&i===void 0||void 0,__vars:{"--input-resize":s},...c})});qT.classes=fu.classes;qT.displayName="@mantine/core/Textarea";const[ade,sde]=uu("List component was not found in tree");var TL={root:"m_abbac491",item:"m_abb6bec2",itemWrapper:"m_75cd9f71",itemIcon:"m_60f83e5b"};const CL=Qt((t,e)=>{const n=Nt("ListItem",null,t),{classNames:i,className:r,style:a,styles:s,vars:o,icon:l,children:c,mod:u,...f}=n,h=sde(),d=l||h.icon,b={classNames:i,styles:s};return C.jsx(et,{...h.getStyles("item",{...b,className:r,style:a}),component:"li",mod:[{"with-icon":!!d,centered:h.center},u],ref:e,...f,children:C.jsxs("div",{...h.getStyles("itemWrapper",b),children:[d&&C.jsx("span",{...h.getStyles("itemIcon",b),children:d}),C.jsx("span",{...h.getStyles("itemLabel",b),children:c})]})})});CL.classes=TL;CL.displayName="@mantine/core/ListItem";const ode={type:"unordered"},lde=(t,{size:e,spacing:n})=>({root:{"--list-fz":gs(e),"--list-lh":hq(e),"--list-spacing":Id(n)}}),H0=Qt((t,e)=>{const n=Nt("List",ode,t),{classNames:i,className:r,style:a,styles:s,unstyled:o,vars:l,children:c,type:u,withPadding:f,icon:h,spacing:d,center:b,listStyleType:y,mod:v,attributes:m,...x}=n,_=xn({name:"List",classes:TL,props:n,className:r,style:a,classNames:i,styles:s,unstyled:o,attributes:m,vars:l,varsResolver:lde});return C.jsx(ade,{value:{center:b,icon:h,getStyles:_},children:C.jsx(et,{..._("root",{style:{listStyleType:y}}),component:u==="unordered"?"ul":"ol",mod:[{"with-padding":f},v],ref:e,...x,children:c})})});H0.classes=TL;H0.displayName="@mantine/core/List";H0.Item=CL;const[cde,ky]=uu("Modal component was not found in tree");var gh={root:"m_9df02822",content:"m_54c44539",inner:"m_1f958f16",header:"m_d0e2b9cd"};const XT=Qt((t,e)=>{const n=Nt("ModalBody",null,t),{classNames:i,className:r,style:a,styles:s,vars:o,...l}=n,c=ky();return C.jsx(_X,{ref:e,...c.getStyles("body",{classNames:i,style:a,styles:s,className:r}),...l})});XT.classes=gh;XT.displayName="@mantine/core/ModalBody";const KT=Qt((t,e)=>{const n=Nt("ModalCloseButton",null,t),{classNames:i,className:r,style:a,styles:s,vars:o,...l}=n,c=ky();return C.jsx(SX,{ref:e,...c.getStyles("close",{classNames:i,style:a,styles:s,className:r}),...l})});KT.classes=gh;KT.displayName="@mantine/core/ModalCloseButton";const YT=Qt((t,e)=>{const n=Nt("ModalContent",null,t),{classNames:i,className:r,style:a,styles:s,vars:o,children:l,__hidden:c,...u}=n,f=ky(),h=f.scrollAreaComponent||Mfe;return C.jsx(wX,{...f.getStyles("content",{className:r,style:a,styles:s,classNames:i}),innerProps:f.getStyles("inner",{className:r,style:a,styles:s,classNames:i}),"data-full-screen":f.fullScreen||void 0,"data-modal-content":!0,"data-hidden":c||void 0,ref:e,...u,children:C.jsx(h,{style:{maxHeight:f.fullScreen?"100dvh":`calc(100dvh - (${gt(f.yOffset)} * 2))`},children:l})})});YT.classes=gh;YT.displayName="@mantine/core/ModalContent";const JT=Qt((t,e)=>{const n=Nt("ModalHeader",null,t),{classNames:i,className:r,style:a,styles:s,vars:o,...l}=n,c=ky();return C.jsx(EX,{ref:e,...c.getStyles("header",{classNames:i,style:a,styles:s,className:r}),...l})});JT.classes=gh;JT.displayName="@mantine/core/ModalHeader";const $T=Qt((t,e)=>{const n=Nt("ModalOverlay",null,t),{classNames:i,className:r,style:a,styles:s,vars:o,...l}=n,c=ky();return C.jsx(MX,{ref:e,...c.getStyles("overlay",{classNames:i,style:a,styles:s,className:r}),...l})});$T.classes=gh;$T.displayName="@mantine/core/ModalOverlay";const ude={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:rf("modal"),transitionProps:{duration:200,transition:"fade-down"},yOffset:"5dvh"},fde=(t,{radius:e,size:n,yOffset:i,xOffset:r})=>({root:{"--modal-radius":e===void 0?void 0:$r(e),"--modal-size":ii(n,"modal-size"),"--modal-y-offset":gt(i),"--modal-x-offset":gt(r)}}),ZT=Qt((t,e)=>{const n=Nt("ModalRoot",ude,t),{classNames:i,className:r,style:a,styles:s,unstyled:o,vars:l,yOffset:c,scrollAreaComponent:u,radius:f,fullScreen:h,centered:d,xOffset:b,__staticSelector:y,attributes:v,...m}=n,x=xn({name:y,classes:gh,props:n,className:r,style:a,classNames:i,styles:s,unstyled:o,attributes:v,vars:l,varsResolver:fde});return C.jsx(cde,{value:{yOffset:c,scrollAreaComponent:u,getStyles:x,fullScreen:h},children:C.jsx(xX,{ref:e,...x("root"),"data-full-screen":h||void 0,"data-centered":d||void 0,"data-offset-scrollbars":u===bc.Autosize||void 0,unstyled:o,...m})})});ZT.classes=gh;ZT.displayName="@mantine/core/ModalRoot";const[hde,dde]=c_();function pK({children:t}){const[e,n]=I.useState([]),[i,r]=I.useState(rf("modal"));return C.jsx(hde,{value:{stack:e,addModal:(a,s)=>{n(o=>[...new Set([...o,a])]),r(o=>typeof s=="number"&&typeof o=="number"?Math.max(o,s):o)},removeModal:a=>n(s=>s.filter(o=>o!==a)),getZIndex:a=>`calc(${i} + ${e.indexOf(a)} + 1)`,currentId:e[e.length-1],maxZIndex:i},children:t})}pK.displayName="@mantine/core/ModalStack";const QT=Qt((t,e)=>{const n=Nt("ModalTitle",null,t),{classNames:i,className:r,style:a,styles:s,vars:o,...l}=n,c=ky();return C.jsx(AX,{ref:e,...c.getStyles("title",{classNames:i,style:a,styles:s,className:r}),...l})});QT.classes=gh;QT.displayName="@mantine/core/ModalTitle";const pde={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:rf("modal"),transitionProps:{duration:200,transition:"fade-down"},withOverlay:!0,withCloseButton:!0},mo=Qt((t,e)=>{const{title:n,withOverlay:i,overlayProps:r,withCloseButton:a,closeButtonProps:s,children:o,radius:l,opened:c,stackId:u,zIndex:f,...h}=Nt("Modal",pde,t),d=dde(),b=!!n||a,y=d&&u?{closeOnEscape:d.currentId===u,trapFocus:d.currentId===u,zIndex:d.getZIndex(u)}:{},v=i===!1?!1:u&&d?d.currentId===u:c;return I.useEffect(()=>{d&&u&&(c?d.addModal(u,f||rf("modal")):d.removeModal(u))},[c,u,f]),C.jsxs(ZT,{ref:e,radius:l,opened:c,zIndex:d&&u?d.getZIndex(u):f,...h,...y,children:[i&&C.jsx($T,{visible:v,transitionProps:d&&u?{duration:0}:void 0,...r}),C.jsxs(YT,{radius:l,__hidden:d&&u&&c?u!==d.currentId:!1,children:[b&&C.jsxs(JT,{children:[n&&C.jsx(QT,{children:n}),a&&C.jsx(KT,{...s})]}),C.jsx(XT,{children:o})]})]})});mo.classes=gh;mo.displayName="@mantine/core/Modal";mo.Root=ZT;mo.Overlay=$T;mo.Content=YT;mo.Body=XT;mo.Header=JT;mo.Title=QT;mo.CloseButton=KT;mo.Stack=pK;var mK={root:"m_a513464",icon:"m_a4ceffb",loader:"m_b0920b15",body:"m_a49ed24",title:"m_3feedf16",description:"m_3d733a3a",closeButton:"m_919a4d88"};const mde={withCloseButton:!0},gde=(t,{radius:e,color:n})=>({root:{"--notification-radius":e===void 0?void 0:$r(e),"--notification-color":n?Jr(n,t):void 0}}),RL=Qt((t,e)=>{const n=Nt("Notification",mde,t),{className:i,color:r,radius:a,loading:s,withCloseButton:o,withBorder:l,title:c,icon:u,children:f,onClose:h,closeButtonProps:d,classNames:b,style:y,styles:v,unstyled:m,variant:x,vars:_,mod:E,loaderProps:A,role:w,attributes:T,...k}=n,N=xn({name:"Notification",classes:mK,props:n,className:i,style:y,classNames:b,styles:v,unstyled:m,attributes:T,vars:_,varsResolver:gde});return C.jsxs(et,{...N("root"),mod:[{"data-with-icon":!!u||s,"data-with-border":l},E],ref:e,variant:x,role:w||"alert",...k,children:[u&&!s&&C.jsx("div",{...N("icon"),children:u}),s&&C.jsx(Vd,{size:28,color:r,...A,...N("loader")}),C.jsxs("div",{...N("body"),children:[c&&C.jsx("div",{...N("title"),children:c}),C.jsx(et,{...N("description"),mod:{"data-with-title":!!c},children:f})]}),o&&C.jsx(d_,{iconSize:16,color:"gray",...d,unstyled:m,onClick:h,...N("closeButton")})]})});RL.classes=mK;RL.displayName="@mantine/core/Notification";function gK(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}var S1;(function(t){t.event="event",t.props="prop"})(S1||(S1={}));function ud(){}function bde(t){var e,n=void 0;return function(){for(var i=[],r=arguments.length;r--;)i[r]=arguments[r];return e&&i.length===e.length&&i.every(function(a,s){return a===e[s]})||(e=i,n=t.apply(void 0,i)),n}}function w1(t){return!!(t||"").match(/\d/)}function h0(t){return t==null}function yde(t){return typeof t=="number"&&isNaN(t)}function bK(t){return h0(t)||yde(t)||typeof t=="number"&&!isFinite(t)}function yK(t){return t.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function vde(t){switch(t){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function xde(t,e,n){var i=vde(n),r=t.search(/[1-9]/);return r=r===-1?t.length:r,t.substring(0,r)+t.substring(r,t.length).replace(i,"$1"+e)}function _de(t){var e=I.useRef(t);e.current=t;var n=I.useRef(function(){for(var i=[],r=arguments.length;r--;)i[r]=arguments[r];return e.current.apply(e,i)});return n.current}function kL(t,e){e===void 0&&(e=!0);var n=t[0]==="-",i=n&&e;t=t.replace("-","");var r=t.split("."),a=r[0],s=r[1]||"";return{beforeDecimal:a,afterDecimal:s,hasNegation:n,addNegation:i}}function Sde(t){if(!t)return t;var e=t[0]==="-";e&&(t=t.substring(1,t.length));var n=t.split("."),i=n[0].replace(/^0+/,"")||"0",r=n[1]||"";return(e?"-":"")+i+(r?"."+r:"")}function vK(t,e,n){for(var i="",r=n?"0":"",a=0;a<=e-1;a++)i+=t[a]||r;return i}function Rz(t,e){return Array(e+1).join(t)}function xK(t){var e=t+"",n=e[0]==="-"?"-":"";n&&(e=e.substring(1));var i=e.split(/[eE]/g),r=i[0],a=i[1];if(a=Number(a),!a)return n+r;r=r.replace(".","");var s=1+a,o=r.length;return s<0?r="0."+Rz("0",Math.abs(s))+r:s>=o?r=r+Rz("0",s-o):r=(r.substring(0,s)||"0")+"."+r.substring(s),n+r}function kz(t,e,n){if(["","-"].indexOf(t)!==-1)return t;var i=(t.indexOf(".")!==-1||n)&&e,r=kL(t),a=r.beforeDecimal,s=r.afterDecimal,o=r.hasNegation,l=parseFloat("0."+(s||"0")),c=s.length<=e?"0."+s:l.toFixed(e),u=c.split("."),f=a;a&&Number(u[0])&&(f=a.split("").reverse().reduce(function(y,v,m){return y.length>m?(Number(y[0])+Number(v)).toString()+y.substring(1,y.length):v+y},u[0]));var h=vK(u[1]||"",e,n),d=o?"-":"",b=i?".":"";return""+d+f+b+h}function Jp(t,e){if(t.value=t.value,t!==null){if(t.createTextRange){var n=t.createTextRange();return n.move("character",e),n.select(),!0}return t.selectionStart||t.selectionStart===0?(t.focus(),t.setSelectionRange(e,e),!0):(t.focus(),!1)}}var _K=bde(function(t,e){for(var n=0,i=0,r=t.length,a=e.length;t[n]===e[n]&&n<r;)n++;for(;t[r-1-i]===e[a-1-i]&&a-i>n&&r-i>n;)i++;return{from:{start:n,end:r-i},to:{start:n,end:a-i}}}),wde=function(t,e){var n=Math.min(t.selectionStart,e);return{from:{start:n,end:t.selectionEnd},to:{start:n,end:e}}};function Ede(t,e,n){return Math.min(Math.max(t,e),n)}function x3(t){return Math.max(t.selectionStart,t.selectionEnd)}function Mde(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function Ade(t){return{from:{start:0,end:0},to:{start:0,end:t.length},lastValue:""}}function Tde(t){var e=t.currentValue,n=t.formattedValue,i=t.currentValueIndex,r=t.formattedValueIndex;return e[i]===n[r]}function Cde(t,e,n,i,r,a,s){s===void 0&&(s=Tde);var o=r.findIndex(function(E){return E}),l=t.slice(0,o);!e&&!n.startsWith(l)&&(e=l,n=l+n,i=i+l.length);for(var c=n.length,u=t.length,f={},h=new Array(c),d=0;d<c;d++){h[d]=-1;for(var b=0,y=u;b<y;b++){var v=s({currentValue:n,lastValue:e,formattedValue:t,currentValueIndex:d,formattedValueIndex:b});if(v&&f[b]!==!0){h[d]=b,f[b]=!0;break}}}for(var m=i;m<c&&(h[m]===-1||!a(n[m]));)m++;var x=m===c||h[m]===-1?u:h[m];for(m=i-1;m>0&&h[m]===-1;)m--;var _=m===-1||h[m]===-1?0:h[m]+1;return _>x?x:i-_<x-i?_:x}function Dz(t,e,n,i){var r=t.length;if(e=Ede(e,0,r),i==="left"){for(;e>=0&&!n[e];)e--;e===-1&&(e=n.indexOf(!0))}else{for(;e<=r&&!n[e];)e++;e>r&&(e=n.lastIndexOf(!0))}return e===-1&&(e=r),e}function Rde(t){for(var e=Array.from({length:t.length+1}).map(function(){return!0}),n=0,i=e.length;n<i;n++)e[n]=!!(w1(t[n])||w1(t[n-1]));return e}function SK(t,e,n,i,r,a){a===void 0&&(a=ud);var s=_de(function(b,y){var v,m;return bK(b)?(m="",v=""):typeof b=="number"||y?(m=typeof b=="number"?xK(b):b,v=i(m)):(m=r(b,void 0),v=i(m)),{formattedValue:v,numAsString:m}}),o=I.useState(function(){return s(h0(t)?e:t,n)}),l=o[0],c=o[1],u=function(b,y){b.formattedValue!==l.formattedValue&&c({formattedValue:b.formattedValue,numAsString:b.value}),a(b,y)},f=t,h=n;h0(t)&&(f=l.numAsString,h=!0);var d=s(f,h);return I.useMemo(function(){c(d)},[d.formattedValue]),[l,u]}function kde(t){return t.replace(/[^0-9]/g,"")}function Dde(t){return t}function Nde(t){var e=t.type;e===void 0&&(e="text");var n=t.displayType;n===void 0&&(n="input");var i=t.customInput,r=t.renderText,a=t.getInputRef,s=t.format;s===void 0&&(s=Dde);var o=t.removeFormatting;o===void 0&&(o=kde);var l=t.defaultValue,c=t.valueIsNumericString,u=t.onValueChange,f=t.isAllowed,h=t.onChange;h===void 0&&(h=ud);var d=t.onKeyDown;d===void 0&&(d=ud);var b=t.onMouseUp;b===void 0&&(b=ud);var y=t.onFocus;y===void 0&&(y=ud);var v=t.onBlur;v===void 0&&(v=ud);var m=t.value,x=t.getCaretBoundary;x===void 0&&(x=Rde);var _=t.isValidInputCharacter;_===void 0&&(_=w1);var E=t.isCharacterSame,A=gK(t,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),w=SK(m,l,!!c,s,o,u),T=w[0],k=T.formattedValue,N=T.numAsString,D=w[1],P=I.useRef(),B=I.useRef({formattedValue:k,numAsString:N}),G=function(Ae,Ue){B.current={formattedValue:Ae.formattedValue,numAsString:Ae.value},D(Ae,Ue)},H=I.useState(!1),V=H[0],U=H[1],F=I.useRef(null),q=I.useRef({setCaretTimeout:null,focusTimeout:null});I.useEffect(function(){return U(!0),function(){clearTimeout(q.current.setCaretTimeout),clearTimeout(q.current.focusTimeout)}},[]);var X=s,z=function(Ae,Ue){var Ne=parseFloat(Ue);return{formattedValue:Ae,value:Ue,floatValue:isNaN(Ne)?void 0:Ne}},oe=function(Ae,Ue,Ne){Ae.selectionStart===0&&Ae.selectionEnd===Ae.value.length||(Jp(Ae,Ue),q.current.setCaretTimeout=setTimeout(function(){Ae.value===Ne&&Ae.selectionStart!==Ue&&Jp(Ae,Ue)},0))},fe=function(Ae,Ue,Ne){return Dz(Ae,Ue,x(Ae),Ne)},K=function(Ae,Ue,Ne){var We=x(Ue),Et=Cde(Ue,k,Ae,Ne,We,_,E);return Et=Dz(Ue,Et,We),Et},Me=function(Ae){var Ue=Ae.formattedValue;Ue===void 0&&(Ue="");var Ne=Ae.input,We=Ae.source,Et=Ae.event,vt=Ae.numAsString,re;if(Ne){var J=Ae.inputValue||Ne.value,ue=x3(Ne);Ne.value=Ue,re=K(J,Ue,ue),re!==void 0&&oe(Ne,re,Ue)}Ue!==k&&G(z(Ue,vt),{event:Et,source:We})};I.useEffect(function(){var Ae=B.current,Ue=Ae.formattedValue,Ne=Ae.numAsString;(k!==Ue||N!==Ne)&&G(z(k,N),{event:void 0,source:S1.props})},[k,N]);var _e=F.current?x3(F.current):void 0,pe=typeof window<"u"?I.useLayoutEffect:I.useEffect;pe(function(){var Ae=F.current;if(k!==B.current.formattedValue&&Ae){var Ue=K(B.current.formattedValue,k,_e);Ae.value=k,oe(Ae,Ue,k)}},[k]);var xe=function(Ae,Ue,Ne){var We=Ue.target,Et=P.current?wde(P.current,We.selectionEnd):_K(k,Ae),vt=Object.assign(Object.assign({},Et),{lastValue:k}),re=o(Ae,vt),J=X(re);if(re=o(J,void 0),f&&!f(z(J,re))){var ue=Ue.target,se=x3(ue),be=K(Ae,k,se);return ue.value=k,oe(ue,be,k),!1}return Me({formattedValue:J,numAsString:re,inputValue:Ae,event:Ue,source:Ne,input:Ue.target}),!0},Oe=function(Ae,Ue){Ue===void 0&&(Ue=0);var Ne=Ae.selectionStart,We=Ae.selectionEnd;P.current={selectionStart:Ne,selectionEnd:We+Ue}},Ge=function(Ae){var Ue=Ae.target,Ne=Ue.value,We=xe(Ne,Ae,S1.event);We&&h(Ae),P.current=void 0},Ye=function(Ae){var Ue=Ae.target,Ne=Ae.key,We=Ue.selectionStart,Et=Ue.selectionEnd,vt=Ue.value;vt===void 0&&(vt="");var re;Ne==="ArrowLeft"||Ne==="Backspace"?re=Math.max(We-1,0):Ne==="ArrowRight"?re=Math.min(We+1,vt.length):Ne==="Delete"&&(re=We);var J=0;Ne==="Delete"&&We===Et&&(J=1);var ue=Ne==="ArrowLeft"||Ne==="ArrowRight";if(re===void 0||We!==Et&&!ue){d(Ae),Oe(Ue,J);return}var se=re;if(ue){var be=Ne==="ArrowLeft"?"left":"right";se=fe(vt,re,be),se!==re&&Ae.preventDefault()}else Ne==="Delete"&&!_(vt[re])?se=fe(vt,re,"right"):Ne==="Backspace"&&!_(vt[re])&&(se=fe(vt,re,"left"));se!==re&&oe(Ue,se,vt),d(Ae),Oe(Ue,J)},ct=function(Ae){var Ue=Ae.target,Ne=function(){var We=Ue.selectionStart,Et=Ue.selectionEnd,vt=Ue.value;if(vt===void 0&&(vt=""),We===Et){var re=fe(vt,We);re!==We&&oe(Ue,re,vt)}};Ne(),requestAnimationFrame(function(){Ne()}),b(Ae),Oe(Ue)},Tt=function(Ae){Ae.persist&&Ae.persist();var Ue=Ae.target,Ne=Ae.currentTarget;F.current=Ue,q.current.focusTimeout=setTimeout(function(){var We=Ue.selectionStart,Et=Ue.selectionEnd,vt=Ue.value;vt===void 0&&(vt="");var re=fe(vt,We);re!==We&&!(We===0&&Et===vt.length)&&oe(Ue,re,vt),y(Object.assign(Object.assign({},Ae),{currentTarget:Ne}))},0)},he=function(Ae){F.current=null,clearTimeout(q.current.focusTimeout),clearTimeout(q.current.setCaretTimeout),v(Ae)},Ve=V&&Mde()?"numeric":void 0,Be=Object.assign({inputMode:Ve},A,{type:e,value:k,onChange:Ge,onKeyDown:Ye,onMouseUp:ct,onFocus:Tt,onBlur:he});if(n==="text")return r?ke.createElement(ke.Fragment,null,r(k,A)||null):ke.createElement("span",Object.assign({},A,{ref:a}),k);if(i){var ot=i;return ke.createElement(ot,Object.assign({},Be,{ref:a}))}return ke.createElement("input",Object.assign({},Be,{ref:a}))}function Nz(t,e){var n=e.decimalScale,i=e.fixedDecimalScale,r=e.prefix;r===void 0&&(r="");var a=e.suffix;a===void 0&&(a="");var s=e.allowNegative,o=e.thousandsGroupStyle;if(o===void 0&&(o="thousand"),t===""||t==="-")return t;var l=eC(e),c=l.thousandSeparator,u=l.decimalSeparator,f=n!==0&&t.indexOf(".")!==-1||n&&i,h=kL(t,s),d=h.beforeDecimal,b=h.afterDecimal,y=h.addNegation;return n!==void 0&&(b=vK(b,n,!!i)),c&&(d=xde(d,c,o)),r&&(d=r+d),a&&(b=b+a),y&&(d="-"+d),t=d+(f&&u||"")+b,t}function eC(t){var e=t.decimalSeparator;e===void 0&&(e=".");var n=t.thousandSeparator,i=t.allowedDecimalSeparators;return n===!0&&(n=","),i||(i=[e,"."]),{decimalSeparator:e,thousandSeparator:n,allowedDecimalSeparators:i}}function Ide(t,e){t===void 0&&(t="");var n=new RegExp("(-)"),i=new RegExp("(-)(.)*(-)"),r=n.test(t),a=i.test(t);return t=t.replace(/-/g,""),r&&!a&&e&&(t="-"+t),t}function Ode(t,e){return new RegExp("(^-)|[0-9]|"+yK(t),"g")}function Lde(t,e,n){return t===""?!0:!e?.match(/\d/)&&!n?.match(/\d/)&&typeof t=="string"&&!isNaN(Number(t))}function Pde(t,e,n){var i;e===void 0&&(e=Ade(t));var r=n.allowNegative,a=n.prefix;a===void 0&&(a="");var s=n.suffix;s===void 0&&(s="");var o=n.decimalScale,l=e.from,c=e.to,u=c.start,f=c.end,h=eC(n),d=h.allowedDecimalSeparators,b=h.decimalSeparator,y=t[f]===b;if(w1(t)&&(t===a||t===s)&&e.lastValue==="")return t;if(f-u===1&&d.indexOf(t[u])!==-1){var v=o===0?"":b;t=t.substring(0,u)+v+t.substring(u+1,t.length)}var m=function(F,q,X){var z=!1,oe=!1;a.startsWith("-")?z=!1:F.startsWith("--")?(z=!1,oe=!0):s.startsWith("-")&&F.length===s.length?z=!1:F[0]==="-"&&(z=!0);var fe=z?1:0;return oe&&(fe=2),fe&&(F=F.substring(fe),q-=fe,X-=fe),{value:F,start:q,end:X,hasNegation:z}},x=m(t,u,f),_=x.hasNegation;i=x,t=i.value,u=i.start,f=i.end;var E=m(e.lastValue,l.start,l.end),A=E.start,w=E.end,T=E.value,k=t.substring(u,f);t.length&&T.length&&(A>T.length-s.length||w<a.length)&&!(k&&s.startsWith(k))&&(t=T);var N=0;t.startsWith(a)?N+=a.length:u<a.length&&(N=u),t=t.substring(N),f-=N;var D=t.length,P=t.length-s.length;t.endsWith(s)?D=P:(f>P||f>t.length-s.length)&&(D=f),t=t.substring(0,D),t=Ide(_?"-"+t:t,r),t=(t.match(Ode(b))||[]).join("");var B=t.indexOf(b);t=t.replace(new RegExp(yK(b),"g"),function(F,q){return q===B?".":""});var G=kL(t,r),H=G.beforeDecimal,V=G.afterDecimal,U=G.addNegation;return c.end-c.start<l.end-l.start&&H===""&&y&&!parseFloat(V)&&(t=U?"-":""),t}function Ude(t,e){var n=e.prefix;n===void 0&&(n="");var i=e.suffix;i===void 0&&(i="");var r=Array.from({length:t.length+1}).map(function(){return!0}),a=t[0]==="-";r.fill(!1,0,n.length+(a?1:0));var s=t.length;return r.fill(!1,s-i.length+1,s+1),r}function Fde(t){var e=eC(t),n=e.thousandSeparator,i=e.decimalSeparator,r=t.prefix;r===void 0&&(r="");var a=t.allowNegative;if(a===void 0&&(a=!0),n===i)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+n+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+i+` (default value for decimalSeparator is .)
     `);return r.startsWith("-")&&a&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+r+`
      allowNegative: `+a+`
    `),a=!1),Object.assign(Object.assign({},t),{allowNegative:a})}function zde(t){t=Fde(t),t.decimalSeparator,t.allowedDecimalSeparators,t.thousandsGroupStyle;var e=t.suffix,n=t.allowNegative,i=t.allowLeadingZeros,r=t.onKeyDown;r===void 0&&(r=ud);var a=t.onBlur;a===void 0&&(a=ud);var s=t.thousandSeparator,o=t.decimalScale,l=t.fixedDecimalScale,c=t.prefix;c===void 0&&(c="");var u=t.defaultValue,f=t.value,h=t.valueIsNumericString,d=t.onValueChange,b=gK(t,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),y=eC(t),v=y.decimalSeparator,m=y.allowedDecimalSeparators,x=function(U){return Nz(U,t)},_=function(U,F){return Pde(U,F,t)},E=h0(f)?u:f,A=h??Lde(E,c,e);h0(f)?h0(u)||(A=A||typeof u=="number"):A=A||typeof f=="number";var w=function(U){return bK(U)?U:(typeof U=="number"&&(U=xK(U)),A&&typeof o=="number"?kz(U,o,!!l):U)},T=SK(w(f),w(u),!!A,x,_,d),k=T[0],N=k.numAsString,D=k.formattedValue,P=T[1],B=function(U){var F=U.target,q=U.key,X=F.selectionStart,z=F.selectionEnd,oe=F.value;if(oe===void 0&&(oe=""),(q==="Backspace"||q==="Delete")&&z<c.length){U.preventDefault();return}if(X!==z){r(U);return}q==="Backspace"&&oe[0]==="-"&&X===c.length+1&&n&&Jp(F,1),o&&l&&(q==="Backspace"&&oe[X-1]===v?(Jp(F,X-1),U.preventDefault()):q==="Delete"&&oe[X]===v&&U.preventDefault()),m?.includes(q)&&oe[X]===v&&Jp(F,X+1);var fe=s===!0?",":s;q==="Backspace"&&oe[X-1]===fe&&Jp(F,X-1),q==="Delete"&&oe[X]===fe&&Jp(F,X+1),r(U)},G=function(U){var F=N;if(F.match(/\d/g)||(F=""),i||(F=Sde(F)),l&&o&&(F=kz(F,o,l)),F!==N){var q=Nz(F,t);P({formattedValue:q,value:F,floatValue:parseFloat(F)},{event:U,source:S1.event})}a(U)},H=function(U){return U===v?!0:w1(U)},V=function(U){var F=U.currentValue,q=U.lastValue,X=U.formattedValue,z=U.currentValueIndex,oe=U.formattedValueIndex,fe=F[z],K=X[oe],Me=_K(q,F),_e=Me.to,pe=function(xe){return _(xe).indexOf(".")+c.length};return f===0&&l&&o&&F[_e.start]===v&&pe(F)<z&&pe(X)>oe?!1:z>=_e.start&&z<_e.end&&m&&m.includes(fe)&&K===v?!0:fe===K};return Object.assign(Object.assign({},b),{value:D,valueIsNumericString:!1,isValidInputCharacter:H,isCharacterSame:V,onValueChange:P,format:x,removeFormatting:_,getCaretBoundary:function(U){return Ude(U,t)},onKeyDown:B,onBlur:G})}function jde(t){var e=zde(t);return ke.createElement(Nde,Object.assign({},e))}function Iz({direction:t,style:e,...n}){return C.jsx("svg",{style:{width:"var(--ni-chevron-size)",height:"var(--ni-chevron-size)",transform:t==="up"?"rotate(180deg)":void 0,...e},viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,children:C.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}var aN={root:"m_e2f5cd4e",controls:"m_95e17d22",control:"m_80b4b171"};const Bde=/^(0\.0*|-0(\.0*)?)$/,Hde=/^-?0\d+(\.\d+)?\.?$/,Vde=/\.\d*0$/;function sN(t){return typeof t=="string"&&t!==""&&!Number.isNaN(Number(t))}function _3(t){return typeof t=="number"?t<Number.MAX_SAFE_INTEGER:t===""||sN(t)&&Number(t)<Number.MAX_SAFE_INTEGER}function Gde(t){return t.toString().replace(".","").length}function Wde(t,e){return(typeof t=="number"?t<Number.MAX_SAFE_INTEGER:!Number.isNaN(Number(t)))&&!Number.isNaN(t)&&Gde(e)<14&&e!==""}function Oz(t,e,n){if(t===void 0)return!0;const i=e===void 0||t>=e,r=n===void 0||t<=n;return i&&r}const qde={step:1,clampBehavior:"blur",allowDecimal:!0,allowNegative:!0,withKeyboardEvents:!0,allowLeadingZeros:!0,trimLeadingZeroesOnBlur:!0,startValue:0},Xde=(t,{size:e})=>({controls:{"--ni-chevron-size":ii(e,"ni-chevron-size")}});function Kde(t,e,n){const i=t.toString().replace(/^0+/,""),r=parseFloat(i);return Number.isNaN(r)?i:r>Number.MAX_SAFE_INTEGER?e!==void 0?e:i:nc(r,n,e)}const rg=Qt((t,e)=>{const n=Nt("NumberInput",qde,t),{className:i,classNames:r,styles:a,unstyled:s,vars:o,onChange:l,onValueChange:c,value:u,defaultValue:f,max:h,min:d,step:b,hideControls:y,rightSection:v,isAllowed:m,clampBehavior:x,onBlur:_,allowDecimal:E,decimalScale:A,onKeyDown:w,onKeyDownCapture:T,handlersRef:k,startValue:N,disabled:D,rightSectionPointerEvents:P,allowNegative:B,readOnly:G,size:H,rightSectionWidth:V,stepHoldInterval:U,stepHoldDelay:F,allowLeadingZeros:q,withKeyboardEvents:X,trimLeadingZeroesOnBlur:z,attributes:oe,...fe}=n,K=xn({name:"NumberInput",classes:aN,props:n,classNames:r,styles:a,unstyled:s,attributes:oe,vars:o,varsResolver:Xde}),{resolvedClassNames:Me,resolvedStyles:_e}=wy({classNames:r,styles:a,props:n}),[pe,xe]=bl({value:u,defaultValue:f,finalValue:"",onChange:l}),Oe=F!==void 0&&U!==void 0,Ge=I.useRef(null),Ye=I.useRef(null),ct=I.useRef(0),Tt=(ue,se)=>{se.source==="event"&&xe(Wde(ue.floatValue,ue.value)&&!Bde.test(ue.value)&&!(q&&Hde.test(ue.value))&&!Vde.test(ue.value)?ue.floatValue:ue.value),c?.(ue,se)},he=ue=>{const se=String(ue).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return se?Math.max(0,(se[1]?se[1].length:0)-(se[2]?+se[2]:0)):0},Ve=ue=>{Ge.current&&typeof ue<"u"&&Ge.current.setSelectionRange(ue,ue)},Be=I.useRef(OM);Be.current=()=>{if(!_3(pe))return;let ue;const se=he(pe),be=he(b),$=Math.max(se,be),Ke=10**$;if(!sN(pe)&&(typeof pe!="number"||Number.isNaN(pe)))ue=nc(N,d,h);else if(h!==void 0){const pt=(Math.round(Number(pe)*Ke)+Math.round(b*Ke))/Ke;ue=pt<=h?pt:h}else ue=(Math.round(Number(pe)*Ke)+Math.round(b*Ke))/Ke;const tt=ue.toFixed($);xe(parseFloat(tt)),c?.({floatValue:parseFloat(tt),formattedValue:tt,value:tt},{source:"increment"}),setTimeout(()=>Ve(Ge.current?.value.length),0)};const ot=I.useRef(OM);ot.current=()=>{if(!_3(pe))return;let ue;const se=d!==void 0?d:B?Number.MIN_SAFE_INTEGER:0,be=he(pe),$=he(b),Ke=Math.max(be,$),tt=10**Ke;if(!sN(pe)&&typeof pe!="number"||Number.isNaN(pe))ue=nc(N,se,h);else{const ze=(Math.round(Number(pe)*tt)-Math.round(b*tt))/tt;ue=se!==void 0&&ze<se?se:ze}const pt=ue.toFixed(Ke);xe(parseFloat(pt)),c?.({floatValue:parseFloat(pt),formattedValue:pt,value:pt},{source:"decrement"}),setTimeout(()=>Ve(Ge.current?.value.length),0)};const Ae=ue=>{w?.(ue),!(G||!X)&&(ue.key==="ArrowUp"&&(ue.preventDefault(),Be.current?.()),ue.key==="ArrowDown"&&(ue.preventDefault(),ot.current?.()))},Ue=ue=>{if(T?.(ue),ue.key==="Backspace"){const se=Ge.current;se&&se.selectionStart===0&&se.selectionStart===se.selectionEnd&&(ue.preventDefault(),window.setTimeout(()=>Ve(0),0))}},Ne=ue=>{let se=pe;x==="blur"&&typeof se=="number"&&(se=nc(se,d,h)),z&&typeof se=="string"&&he(se)<15&&(se=Kde(se,h,d)),pe!==se&&xe(se),_?.(ue)};DM(k,{increment:Be.current,decrement:ot.current});const We=ue=>{ue?Be.current?.():ot.current?.(),ct.current+=1},Et=ue=>{if(We(ue),Oe){const se=typeof U=="number"?U:U(ct.current);Ye.current=window.setTimeout(()=>Et(ue),se)}},vt=(ue,se)=>{ue.preventDefault(),Ge.current?.focus(),We(se),Oe&&(Ye.current=window.setTimeout(()=>Et(se),F))},re=()=>{Ye.current&&window.clearTimeout(Ye.current),Ye.current=null,ct.current=0},J=C.jsxs("div",{...K("controls"),children:[C.jsx($u,{...K("control"),tabIndex:-1,"aria-hidden":!0,disabled:D||typeof pe=="number"&&h!==void 0&&pe>=h,mod:{direction:"up"},onMouseDown:ue=>ue.preventDefault(),onPointerDown:ue=>{vt(ue,!0)},onPointerUp:re,onPointerLeave:re,children:C.jsx(Iz,{direction:"up"})}),C.jsx($u,{...K("control"),tabIndex:-1,"aria-hidden":!0,disabled:D||typeof pe=="number"&&d!==void 0&&pe<=d,mod:{direction:"down"},onMouseDown:ue=>ue.preventDefault(),onPointerDown:ue=>{vt(ue,!1)},onPointerUp:re,onPointerLeave:re,children:C.jsx(Iz,{direction:"down"})})]});return C.jsx(fu,{component:jde,allowNegative:B,className:$a(aN.root,i),size:H,...fe,readOnly:G,disabled:D,value:pe,getInputRef:Ss(e,Ge),onValueChange:Tt,rightSection:y||G||!_3(pe)?v:v||J,classNames:Me,styles:_e,unstyled:s,__staticSelector:"NumberInput",decimalScale:E?A:0,onKeyDown:Ae,onKeyDownCapture:Ue,rightSectionPointerEvents:P??(D?"none":void 0),rightSectionWidth:V??`var(--ni-right-section-width-${H||"sm"})`,allowLeadingZeros:q,onBlur:Ne,attributes:oe,isAllowed:ue=>x==="strict"?m?m(ue)&&Oz(ue.floatValue,d,h):Oz(ue.floatValue,d,h):m?m(ue):!0})});rg.classes={...fu.classes,...aN};rg.displayName="@mantine/core/NumberInput";const[Yde,wK]=uu("Progress.Root component was not found in tree");var b_={root:"m_db6d6462",section:"m_2242eb65","stripes-animation":"m_81a374bd",label:"m_91e40b74"};const DL=Qt((t,e)=>{const{classNames:n,className:i,style:r,styles:a,vars:s,...o}=Nt("ProgressLabel",null,t),l=wK();return C.jsx(et,{ref:e,...l.getStyles("label",{className:i,style:r,classNames:n,styles:a}),...o})});DL.classes=b_;DL.displayName="@mantine/core/ProgressLabel";const Jde=(t,{size:e,radius:n,transitionDuration:i})=>({root:{"--progress-size":ii(e,"progress-size"),"--progress-radius":n===void 0?void 0:$r(n),"--progress-transition-duration":typeof i=="number"?`${i}ms`:void 0}}),tC=Qt((t,e)=>{const n=Nt("ProgressRoot",null,t),{classNames:i,className:r,style:a,styles:s,unstyled:o,vars:l,autoContrast:c,transitionDuration:u,attributes:f,...h}=n,d=xn({name:"Progress",classes:b_,props:n,className:r,style:a,classNames:i,styles:s,unstyled:o,attributes:f,vars:l,varsResolver:Jde});return C.jsx(Yde,{value:{getStyles:d,autoContrast:c},children:C.jsx(et,{ref:e,...d("root"),...h})})});tC.classes=b_;tC.displayName="@mantine/core/ProgressRoot";const $de={withAria:!0},nC=Qt((t,e)=>{const{classNames:n,className:i,style:r,styles:a,vars:s,value:o,withAria:l,color:c,striped:u,animated:f,mod:h,...d}=Nt("ProgressSection",$de,t),b=wK(),y=ma(),v=l?{role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":o,"aria-valuetext":`${o}%`}:{};return C.jsx(et,{ref:e,...b.getStyles("section",{className:i,classNames:n,styles:a,style:r}),...d,...v,mod:[{striped:u||f,animated:f},h],__vars:{"--progress-section-width":`${o}%`,"--progress-section-color":Jr(c,y),"--progress-label-color":IT(b.autoContrast,y)?u_({color:c,theme:y,autoContrast:b.autoContrast}):void 0}})});nC.classes=b_;nC.displayName="@mantine/core/ProgressSection";const Zu=Qt((t,e)=>{const n=Nt("Progress",null,t),{value:i,classNames:r,styles:a,vars:s,color:o,striped:l,animated:c,"aria-label":u,...f}=n,{resolvedClassNames:h,resolvedStyles:d}=wy({classNames:r,styles:a,props:n});return C.jsx(tC,{ref:e,classNames:h,styles:d,vars:s,...f,children:C.jsx(nC,{value:i,color:o,striped:l,animated:c,"aria-label":u})})});Zu.classes=b_;Zu.displayName="@mantine/core/Progress";Zu.Section=nC;Zu.Root=tC;Zu.Label=DL;const Zde={duration:100,transition:"fade"};function Lz(t,e){return{...Zde,...e,...t}}function Qde({offset:t,position:e,defaultOpened:n}){const[i,r]=I.useState(n),a=I.useRef(null),{x:s,y:o,elements:l,refs:c,update:u,placement:f}=GO({placement:e,middleware:[jO({crossAxis:!0,padding:5,rootBoundary:"document"})]}),h=f.includes("right")?t:e.includes("left")?t*-1:0,d=f.includes("bottom")?t:e.includes("top")?t*-1:0,b=I.useCallback(({clientX:y,clientY:v})=>{c.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x:y,y:v,left:y+h,top:v+d,right:y,bottom:v}}})},[l.reference]);return I.useEffect(()=>{if(c.floating.current){const y=a.current;y.addEventListener("mousemove",b);const v=Jf(c.floating.current);return v.forEach(m=>{m.addEventListener("scroll",u)}),()=>{y.removeEventListener("mousemove",b),v.forEach(m=>{m.removeEventListener("scroll",u)})}}},[l.reference,c.floating.current,u,b,i]),{handleMouseMove:b,x:s,y:o,opened:i,setOpened:r,boundaryRef:a,floating:c.setFloating}}var iC={tooltip:"m_1b3c8819",arrow:"m_f898399f"};const epe={refProp:"ref",withinPortal:!0,offset:10,position:"right",zIndex:rf("popover")},tpe=(t,{radius:e,color:n})=>({tooltip:{"--tooltip-radius":e===void 0?void 0:$r(e),"--tooltip-bg":n?Jr(n,t):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),NL=Qt((t,e)=>{const n=Nt("TooltipFloating",epe,t),{children:i,refProp:r,withinPortal:a,style:s,className:o,classNames:l,styles:c,unstyled:u,radius:f,color:h,label:d,offset:b,position:y,multiline:v,zIndex:m,disabled:x,defaultOpened:_,variant:E,vars:A,portalProps:w,attributes:T,...k}=n,N=ma(),D=xn({name:"TooltipFloating",props:n,classes:iC,className:o,style:s,classNames:l,styles:c,unstyled:u,attributes:T,rootSelector:"tooltip",vars:A,varsResolver:tpe}),{handleMouseMove:P,x:B,y:G,opened:H,boundaryRef:V,floating:U,setOpened:F}=Qde({offset:b,position:y,defaultOpened:_});if(!tg(i))throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const q=Ss(V,CT(i),e),X=i.props,z=fe=>{X.onMouseEnter?.(fe),P(fe),F(!0)},oe=fe=>{X.onMouseLeave?.(fe),F(!1)};return C.jsxs(C.Fragment,{children:[C.jsx(Ld,{...w,withinPortal:a,children:C.jsx(et,{...k,...D("tooltip",{style:{...IO(s,N),zIndex:m,display:!x&&H?"block":"none",top:(G&&Math.round(G))??"",left:(B&&Math.round(B))??""}}),variant:E,ref:U,mod:{multiline:v},children:d})}),I.cloneElement(i,{...X,[r]:q,onMouseEnter:z,onMouseLeave:oe})]})});NL.classes=iC;NL.displayName="@mantine/core/TooltipFloating";const EK=I.createContext(!1),npe=EK.Provider,ipe=()=>I.useContext(EK),rpe={openDelay:0,closeDelay:0};function IL(t){const{openDelay:e,closeDelay:n,children:i}=Nt("TooltipGroup",rpe,t);return C.jsx(npe,{value:!0,children:C.jsx(Eue,{delay:{open:e,close:n},children:i})})}IL.displayName="@mantine/core/TooltipGroup";IL.extend=t=>t;function ape(t){if(t===void 0)return{shift:!0,flip:!0};const e={...t};return t.shift===void 0&&(e.shift=!0),t.flip===void 0&&(e.flip=!0),e}function spe(t){const e=ape(t.middlewares),n=[jq(t.offset)];return e.shift&&n.push(jO(typeof e.shift=="boolean"?{padding:8}:{padding:8,...e.shift})),e.flip&&n.push(typeof e.flip=="boolean"?zM():zM(e.flip)),n.push(Bq({element:t.arrowRef,padding:t.arrowOffset})),e.inline?n.push(typeof e.inline=="boolean"?zx():zx(e.inline)):t.inline&&n.push(zx()),n}function ope(t){const[e,n]=I.useState(t.defaultOpened),r=typeof t.opened=="boolean"?t.opened:e,a=ipe(),s=nf(),o=I.useCallback(A=>{n(A),A&&m(s)},[s]),{x:l,y:c,context:u,refs:f,placement:h,middlewareData:{arrow:{x:d,y:b}={}}}=GO({strategy:t.strategy,placement:t.position,open:r,onOpenChange:o,middleware:spe(t),whileElementsMounted:Fq}),{delay:y,currentId:v,setCurrentId:m}=Mue(u,{id:s}),{getReferenceProps:x,getFloatingProps:_}=Nue([Sue(u,{enabled:t.events?.hover,delay:a?y:{open:t.openDelay,close:t.closeDelay},mouseOnly:!t.events?.touch}),Due(u,{enabled:t.events?.focus,visibleOnly:!0}),Oue(u,{role:"tooltip"}),Rue(u,{enabled:typeof t.opened>"u"})]);oc(()=>{t.onPositionChange?.(h)},[h]);const E=r&&v&&v!==s;return{x:l,y:c,arrowX:d,arrowY:b,reference:f.setReference,floating:f.setFloating,getFloatingProps:_,getReferenceProps:x,isGroupPhase:E,opened:r,placement:h}}const Pz={position:"top",refProp:"ref",withinPortal:!0,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:rf("popover"),positionDependencies:[],middlewares:{flip:!0,shift:!0,inline:!1}},lpe=(t,{radius:e,color:n,variant:i,autoContrast:r})=>{const a=t.variantColorResolver({theme:t,color:n||t.primaryColor,autoContrast:r,variant:i||"filled"});return{tooltip:{"--tooltip-radius":e===void 0?void 0:$r(e),"--tooltip-bg":n?a.background:void 0,"--tooltip-color":n?a.color:void 0}}},Tr=Qt((t,e)=>{const n=Nt("Tooltip",Pz,t),{children:i,position:r,refProp:a,label:s,openDelay:o,closeDelay:l,onPositionChange:c,opened:u,defaultOpened:f,withinPortal:h,radius:d,color:b,classNames:y,styles:v,unstyled:m,style:x,className:_,withArrow:E,arrowSize:A,arrowOffset:w,arrowRadius:T,arrowPosition:k,offset:N,transitionProps:D,multiline:P,events:B,zIndex:G,disabled:H,positionDependencies:V,onClick:U,onMouseEnter:F,onMouseLeave:q,inline:X,variant:z,keepMounted:oe,vars:fe,portalProps:K,mod:Me,floatingStrategy:_e,middlewares:pe,autoContrast:xe,attributes:Oe,target:Ge,...Ye}=Nt("Tooltip",Pz,n),{dir:ct}=Ey(),Tt=I.useRef(null),he=ope({position:oX(ct,r),closeDelay:l,openDelay:o,onPositionChange:c,opened:u,defaultOpened:f,events:B,arrowRef:Tt,arrowOffset:w,offset:typeof N=="number"?N+(E?A/2:0):N,positionDependencies:[...V,Ge??i],inline:X,strategy:_e,middlewares:pe});I.useEffect(()=>{const Ne=Ge instanceof HTMLElement?Ge:typeof Ge=="string"?document.querySelector(Ge):Ge?.current||null;Ne&&he.reference(Ne)},[Ge,he]);const Ve=xn({name:"Tooltip",props:n,classes:iC,className:_,style:x,classNames:y,styles:v,unstyled:m,attributes:Oe,rootSelector:"tooltip",vars:fe,varsResolver:lpe});if(!Ge&&!tg(i))return null;if(Ge){const Ne=Lz(D,{duration:100,transition:"fade"});return C.jsx(C.Fragment,{children:C.jsx(Ld,{...K,withinPortal:h,children:C.jsx(hc,{...Ne,keepMounted:oe,mounted:!H&&!!he.opened,duration:he.isGroupPhase?10:Ne.duration,children:We=>C.jsxs(et,{...Ye,"data-fixed":_e==="fixed"||void 0,variant:z,mod:[{multiline:P},Me],...he.getFloatingProps({ref:he.floating,className:Ve("tooltip").className,style:{...Ve("tooltip").style,...We,zIndex:G,top:he.y??0,left:he.x??0}}),children:[s,C.jsx(BM,{ref:Tt,arrowX:he.arrowX,arrowY:he.arrowY,visible:E,position:he.placement,arrowSize:A,arrowOffset:w,arrowRadius:T,arrowPosition:k,...Ve("arrow")})]})})})})}const Be=i,ot=Be.props,Ae=Ss(he.reference,CT(Be),e),Ue=Lz(D,{duration:100,transition:"fade"});return C.jsxs(C.Fragment,{children:[C.jsx(Ld,{...K,withinPortal:h,children:C.jsx(hc,{...Ue,keepMounted:oe,mounted:!H&&!!he.opened,duration:he.isGroupPhase?10:Ue.duration,children:Ne=>C.jsxs(et,{...Ye,"data-fixed":_e==="fixed"||void 0,variant:z,mod:[{multiline:P},Me],...he.getFloatingProps({ref:he.floating,className:Ve("tooltip").className,style:{...Ve("tooltip").style,...Ne,zIndex:G,top:he.y??0,left:he.x??0}}),children:[s,C.jsx(BM,{ref:Tt,arrowX:he.arrowX,arrowY:he.arrowY,visible:E,position:he.placement,arrowSize:A,arrowOffset:w,arrowRadius:T,arrowPosition:k,...Ve("arrow")})]})})}),I.cloneElement(Be,he.getReferenceProps({onClick:U,onMouseEnter:F,onMouseLeave:q,onMouseMove:n.onMouseMove,onPointerDown:n.onPointerDown,onPointerEnter:n.onPointerEnter,className:$a(_,ot.className),...ot,[a]:Ae}))]})});Tr.classes=iC;Tr.displayName="@mantine/core/Tooltip";Tr.Floating=NL;Tr.Group=IL;const cpe={withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},Dy=Qt((t,e)=>{const n=Nt("Select",cpe,t),{classNames:i,styles:r,unstyled:a,vars:s,dropdownOpened:o,defaultDropdownOpened:l,onDropdownClose:c,onDropdownOpen:u,onFocus:f,onBlur:h,onClick:d,onChange:b,data:y,value:v,defaultValue:m,selectFirstOptionOnChange:x,onOptionSubmit:_,comboboxProps:E,readOnly:A,disabled:w,filter:T,limit:k,withScrollArea:N,maxDropdownHeight:D,size:P,searchable:B,rightSection:G,checkIconPosition:H,withCheckIcon:V,nothingFoundMessage:U,name:F,form:q,searchValue:X,defaultSearchValue:z,onSearchChange:oe,allowDeselect:fe,error:K,rightSectionPointerEvents:Me,id:_e,clearable:pe,clearButtonProps:xe,hiddenInputProps:Oe,renderOption:Ge,onClear:Ye,autoComplete:ct,scrollAreaProps:Tt,__defaultRightSection:he,__clearSection:Ve,__clearable:Be,chevronColor:ot,autoSelectOnBlur:Ae,attributes:Ue,...Ne}=n,We=I.useMemo(()=>Vfe(y),[y]),Et=I.useMemo(()=>IX(We),[We]),vt=nf(_e),[re,J,ue]=bl({value:v,defaultValue:m,finalValue:null,onChange:b}),se=typeof re=="string"?Et[re]:void 0,be=Mse(se),[$,Ke,tt]=bl({value:X,defaultValue:z,finalValue:se?se.label:"",onChange:oe}),pt=zX({opened:o,defaultOpened:l,onDropdownOpen:()=>{u?.(),pt.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{c?.(),setTimeout(pt.resetSelectedOption,0)}}),ze=ft=>{Ke(ft),pt.resetSelectedOption()},{resolvedClassNames:rt,resolvedStyles:$e}=wy({props:n,styles:r,classNames:i});I.useEffect(()=>{x&&pt.selectFirstOption()},[x,$]),I.useEffect(()=>{v===null&&ze(""),typeof v=="string"&&se&&(be?.value!==se.value||be?.label!==se.label)&&ze(se.label)},[v,se]),I.useEffect(()=>{!ue&&!tt&&ze(typeof re=="string"&&Et[re]?.label||"")},[y,re]);const Xt=C.jsx(dr.ClearButton,{...xe,onClear:()=>{J(null,null),ze(""),Ye?.()}}),Ot=pe&&!!re&&!w&&!A;return C.jsxs(C.Fragment,{children:[C.jsxs(dr,{store:pt,__staticSelector:"Select",classNames:rt,styles:$e,unstyled:a,readOnly:A,size:P,attributes:Ue,onOptionSubmit:ft=>{_?.(ft);const jt=fe&&Et[ft].value===re?null:Et[ft],Re=jt?jt.value:null;Re!==re&&J(Re,jt),!ue&&ze(typeof Re=="string"&&jt?.label||""),pt.closeDropdown()},...E,children:[C.jsx(dr.Target,{targetType:B?"input":"button",autoComplete:ct,children:C.jsx(fu,{id:vt,ref:e,__defaultRightSection:C.jsx(dr.Chevron,{size:P,error:K,unstyled:a,color:ot}),__clearSection:Xt,__clearable:Ot,rightSection:G,rightSectionPointerEvents:Me||(Ot?"all":"none"),...Ne,size:P,__staticSelector:"Select",disabled:w,readOnly:A||!B,value:$,onChange:ft=>{ze(ft.currentTarget.value),pt.openDropdown(),x&&pt.selectFirstOption()},onFocus:ft=>{B&&pt.openDropdown(),f?.(ft)},onBlur:ft=>{Ae&&pt.clickSelectedOption(),B&&pt.closeDropdown(),ze(re!=null&&Et[re]?.label||""),h?.(ft)},onClick:ft=>{B?pt.openDropdown():pt.toggleDropdown(),d?.(ft)},classNames:rt,styles:$e,unstyled:a,pointer:!B,error:K,attributes:Ue})}),C.jsx(phe,{data:We,hidden:A||w,filter:T,search:$,limit:k,hiddenWhenEmpty:!U,withScrollArea:N,maxDropdownHeight:D,filterOptions:!!B&&se?.label!==$,value:re,checkIconPosition:H,withCheckIcon:V,nothingFoundMessage:U,unstyled:a,labelId:Ne.label?`${vt}-label`:void 0,"aria-label":Ne.label?void 0:Ne["aria-label"],renderOption:Ge,scrollAreaProps:Tt})]}),C.jsx(dr.HiddenInput,{value:re,name:F,form:q,disabled:w,...Oe})]})});Dy.classes={...fu.classes,...dr.classes};Dy.displayName="@mantine/core/Select";const[upe,rC]=uu("SliderProvider was not found in tree"),MK=I.forwardRef(({size:t,disabled:e,variant:n,color:i,thumbSize:r,radius:a,...s},o)=>{const{getStyles:l}=rC();return C.jsx(et,{tabIndex:-1,variant:n,size:t,ref:o,...l("root"),...s})});MK.displayName="@mantine/core/SliderRoot";const AK=I.forwardRef(({max:t,min:e,value:n,position:i,label:r,dragging:a,onMouseDown:s,onKeyDownCapture:o,labelTransitionProps:l,labelAlwaysOn:c,thumbLabel:u,onFocus:f,onBlur:h,showLabelOnHover:d,isHovered:b,children:y=null,disabled:v},m)=>{const{getStyles:x}=rC(),[_,E]=I.useState(!1),A=c||a||_||d&&b;return C.jsxs(et,{tabIndex:0,role:"slider","aria-label":u,"aria-valuemax":t,"aria-valuemin":e,"aria-valuenow":n,ref:m,__vars:{"--slider-thumb-offset":`${i}%`},...x("thumb",{focusable:!0}),mod:{dragging:a,disabled:v},onFocus:w=>{E(!0),typeof f=="function"&&f(w)},onBlur:w=>{E(!1),typeof h=="function"&&h(w)},onTouchStart:s,onMouseDown:s,onKeyDownCapture:o,onClick:w=>w.stopPropagation(),children:[y,C.jsx(hc,{mounted:r!=null&&!!A,transition:"fade",duration:0,...l,children:w=>C.jsx("div",{...x("label",{style:w}),children:r})})]})});AK.displayName="@mantine/core/SliderThumb";function TK({value:t,min:e,max:n}){const i=(t-e)/(n-e)*100;return Math.min(Math.max(i,0),100)}function fpe({mark:t,offset:e,value:n,inverted:i=!1}){return i?typeof e=="number"&&t.value<=e||t.value>=n:typeof e=="number"?t.value>=e&&t.value<=n:t.value<=n}function CK({marks:t,min:e,max:n,disabled:i,value:r,offset:a,inverted:s}){const{getStyles:o}=rC();if(!t)return null;const l=t.map((c,u)=>I.createElement(et,{...o("markWrapper"),__vars:{"--mark-offset":`${TK({value:c.value,min:e,max:n})}%`},key:u},C.jsx(et,{...o("mark"),mod:{filled:fpe({mark:c,value:r,offset:a,inverted:s}),disabled:i}}),c.label&&C.jsx("div",{...o("markLabel"),children:c.label})));return C.jsx("div",{children:l})}CK.displayName="@mantine/core/SliderMarks";function RK({filled:t,children:e,offset:n,disabled:i,marksOffset:r,inverted:a,containerProps:s,...o}){const{getStyles:l}=rC();return C.jsx(et,{...l("trackContainer"),mod:{disabled:i},...s,children:C.jsxs(et,{...l("track"),mod:{inverted:a,disabled:i},children:[C.jsx(et,{mod:{inverted:a,disabled:i},__vars:{"--slider-bar-width":`calc(${t}% + 2 * var(--slider-size))`,"--slider-bar-offset":`calc(${n}% - var(--slider-size))`},...l("bar")}),e,C.jsx(CK,{...o,offset:r,disabled:i,inverted:a})]})})}RK.displayName="@mantine/core/SliderTrack";function hpe({value:t,containerWidth:e,min:n,max:i,step:r,precision:a}){const o=(e?Math.min(Math.max(t,0),e)/e:t)*(i-n),l=(o!==0?Math.round(o/r)*r:0)+n,c=Math.max(l,n);return a!==void 0?Number(c.toFixed(a)):c}function jS(t,e){return parseFloat(t.toFixed(e))}function dpe(t){if(!t)return 0;const e=t.toString().split(".");return e.length>1?e[1].length:0}function S3(t,e){const i=[...e].sort((r,a)=>r.value-a.value).find(r=>r.value>t);return i?i.value:t}function w3(t,e){const i=[...e].sort((r,a)=>a.value-r.value).find(r=>r.value<t);return i?i.value:t}function Uz(t){const e=[...t].sort((n,i)=>n.value-i.value);return e.length>0?e[0].value:0}function Fz(t){const e=[...t].sort((n,i)=>n.value-i.value);return e.length>0?e[e.length-1].value:100}var kK={root:"m_dd36362e",label:"m_c9357328",thumb:"m_c9a9a60a",trackContainer:"m_a8645c2",track:"m_c9ade57f",bar:"m_38aeed47",markWrapper:"m_b7b0423a",mark:"m_dd33bc19",markLabel:"m_68c77a5b"};const ppe={radius:"xl",min:0,max:100,step:1,marks:[],label:t=>t,labelTransitionProps:{transition:"fade",duration:0},thumbLabel:"",showLabelOnHover:!0,scale:t=>t,size:"md"},mpe=(t,{size:e,color:n,thumbSize:i,radius:r})=>({root:{"--slider-size":ii(e,"slider-size"),"--slider-color":n?Jr(n,t):void 0,"--slider-radius":r===void 0?void 0:$r(r),"--slider-thumb-size":i!==void 0?gt(i):"calc(var(--slider-size) * 2)"}}),aC=Qt((t,e)=>{const n=Nt("Slider",ppe,t),{classNames:i,styles:r,value:a,onChange:s,onChangeEnd:o,size:l,min:c,max:u,domain:f,step:h,precision:d,defaultValue:b,name:y,marks:v,label:m,labelTransitionProps:x,labelAlwaysOn:_,thumbLabel:E,showLabelOnHover:A,thumbChildren:w,disabled:T,unstyled:k,scale:N,inverted:D,className:P,style:B,vars:G,hiddenInputProps:H,restrictToMarks:V,thumbProps:U,attributes:F,...q}=n,X=xn({name:"Slider",props:n,classes:kK,classNames:i,className:P,styles:r,style:B,attributes:F,vars:G,varsResolver:mpe,unstyled:k}),{dir:z}=Ey(),[oe,fe]=I.useState(!1),[K,Me]=bl({value:typeof a=="number"?nc(a,c,u):a,defaultValue:typeof b=="number"?nc(b,c,u):b,finalValue:nc(0,c,u),onChange:s}),_e=I.useRef(K),pe=I.useRef(o);I.useEffect(()=>{pe.current=o},[o]);const xe=I.useRef(null),Oe=I.useRef(null),[Ge,Ye]=f||[c,u],ct=TK({value:K,min:Ge,max:Ye}),Tt=N(K),he=typeof m=="function"?m(Tt):m,Ve=d??dpe(h),Be=I.useCallback(({x:Et})=>{if(!T){const vt=hpe({value:Et,min:Ge,max:Ye,step:h,precision:Ve}),re=nc(vt,c,u);Me(V&&v?.length?OF(re,v.map(J=>J.value)):re),_e.current=re}},[T,c,u,Ge,Ye,h,Ve,Me,v,V]),ot=I.useCallback(()=>{if(!T&&pe.current){const Et=V&&v?.length?OF(_e.current,v.map(vt=>vt.value)):_e.current;pe.current(Et)}},[T,v,V]),{ref:Ae,active:Ue}=EO(Be,{onScrubEnd:ot},z),Ne=I.useCallback(Et=>{!T&&pe.current&&pe.current(Et)},[T]),We=Et=>{if(!T)switch(Et.key){case"ArrowUp":{if(Et.preventDefault(),Oe.current?.focus(),V&&v){const re=S3(K,v);Me(re),Ne(re);break}const vt=jS(Math.min(Math.max(K+h,c),u),Ve);Me(vt),Ne(vt);break}case"ArrowRight":{if(Et.preventDefault(),Oe.current?.focus(),V&&v){const re=z==="rtl"?w3(K,v):S3(K,v);Me(re),Ne(re);break}const vt=jS(Math.min(Math.max(z==="rtl"?K-h:K+h,c),u),Ve);Me(vt),Ne(vt);break}case"ArrowDown":{if(Et.preventDefault(),Oe.current?.focus(),V&&v){const re=w3(K,v);Me(re),Ne(re);break}const vt=jS(Math.min(Math.max(K-h,c),u),Ve);Me(vt),Ne(vt);break}case"ArrowLeft":{if(Et.preventDefault(),Oe.current?.focus(),V&&v){const re=z==="rtl"?S3(K,v):w3(K,v);Me(re),Ne(re);break}const vt=jS(Math.min(Math.max(z==="rtl"?K+h:K-h,c),u),Ve);Me(vt),Ne(vt);break}case"Home":{if(Et.preventDefault(),Oe.current?.focus(),V&&v){Me(Uz(v)),Ne(Uz(v));break}Me(c),Ne(c);break}case"End":{if(Et.preventDefault(),Oe.current?.focus(),V&&v){Me(Fz(v)),Ne(Fz(v));break}Me(u),Ne(u);break}}};return C.jsx(upe,{value:{getStyles:X},children:C.jsxs(MK,{...q,ref:Ss(e,xe),onKeyDownCapture:We,onMouseDownCapture:()=>xe.current?.focus(),size:l,disabled:T,children:[C.jsx(RK,{inverted:D,offset:0,filled:ct,marks:v,min:Ge,max:Ye,value:Tt,disabled:T,containerProps:{ref:Ae,onMouseEnter:A?()=>fe(!0):void 0,onMouseLeave:A?()=>fe(!1):void 0},children:C.jsx(AK,{max:Ye,min:Ge,value:Tt,position:ct,dragging:Ue,label:he,ref:Oe,labelTransitionProps:x,labelAlwaysOn:_,thumbLabel:E,showLabelOnHover:A,isHovered:oe,disabled:T,...U,children:w})}),C.jsx("input",{type:"hidden",name:y,value:Tt,...H})]})})});aC.classes=kK;aC.displayName="@mantine/core/Slider";var DK={root:"m_6d731127"};const gpe={gap:"md",align:"stretch",justify:"flex-start"},bpe=(t,{gap:e,align:n,justify:i})=>({root:{"--stack-gap":Id(e),"--stack-align":n,"--stack-justify":i}}),Em=Qt((t,e)=>{const n=Nt("Stack",gpe,t),{classNames:i,className:r,style:a,styles:s,unstyled:o,vars:l,align:c,justify:u,gap:f,variant:h,attributes:d,...b}=n,y=xn({name:"Stack",props:n,classes:DK,className:r,style:a,classNames:i,styles:s,unstyled:o,attributes:d,vars:l,varsResolver:bpe});return C.jsx(et,{ref:e,...y("root"),variant:h,...b})});Em.classes=DK;Em.displayName="@mantine/core/Stack";const NK=I.createContext(null),ype=NK.Provider,vpe=()=>I.useContext(NK),OL=Qt((t,e)=>{const{value:n,defaultValue:i,onChange:r,size:a,wrapperProps:s,children:o,readOnly:l,...c}=Nt("SwitchGroup",null,t),[u,f]=bl({value:n,defaultValue:i,finalValue:[],onChange:r}),h=d=>{const b=d.currentTarget.value;!l&&f(u.includes(b)?u.filter(y=>y!==b):[...u,b])};return C.jsx(ype,{value:{value:u,onChange:h,size:a},children:C.jsx(la.Wrapper,{size:a,ref:e,...s,...c,labelElement:"div",__staticSelector:"SwitchGroup",children:C.jsx(WX,{role:"group",children:o})})})});OL.classes=la.Wrapper.classes;OL.displayName="@mantine/core/SwitchGroup";var IK={root:"m_5f93f3bb",input:"m_926b4011",track:"m_9307d992",thumb:"m_93039a1d",trackLabel:"m_8277e082"};const xpe={labelPosition:"right",withThumbIndicator:!0},_pe=(t,{radius:e,color:n,size:i})=>({root:{"--switch-radius":e===void 0?void 0:$r(e),"--switch-height":ii(i,"switch-height"),"--switch-width":ii(i,"switch-width"),"--switch-thumb-size":ii(i,"switch-thumb-size"),"--switch-label-font-size":ii(i,"switch-label-font-size"),"--switch-track-label-padding":ii(i,"switch-track-label-padding"),"--switch-color":n?Jr(n,t):void 0}}),fd=Qt((t,e)=>{const n=Nt("Switch",xpe,t),{classNames:i,className:r,style:a,styles:s,unstyled:o,vars:l,color:c,label:u,offLabel:f,onLabel:h,id:d,size:b,radius:y,wrapperProps:v,thumbIcon:m,checked:x,defaultChecked:_,onChange:E,labelPosition:A,description:w,error:T,disabled:k,variant:N,rootRef:D,mod:P,withThumbIndicator:B,attributes:G,...H}=n,V=vpe(),U=b||V?.size,F=xn({name:"Switch",props:n,classes:IK,className:r,style:a,classNames:i,styles:s,unstyled:o,attributes:G,vars:l,varsResolver:_pe}),{styleProps:q,rest:X}=f_(H),z=nf(d),oe=V?{checked:V.value.includes(X.value),onChange:V.onChange}:{},[fe,K]=bl({value:oe.checked??x,defaultValue:_,finalValue:!1});return C.jsxs(fL,{...F("root"),__staticSelector:"Switch",__stylesApiProps:n,id:z,size:U,labelPosition:A,label:u,description:w,error:T,disabled:k,bodyElement:"label",labelElement:"span",classNames:i,styles:s,unstyled:o,"data-checked":oe.checked||x||void 0,variant:N,ref:D,mod:P,...q,...v,children:[C.jsx("input",{...X,disabled:k,checked:fe,"data-checked":oe.checked||x||void 0,onChange:Me=>{V?oe.onChange?.(Me):E?.(Me),K(Me.currentTarget.checked)},id:z,ref:e,type:"checkbox",role:"switch",...F("input")}),C.jsxs(et,{"aria-hidden":"true",component:"span",mod:{error:T,"label-position":A,"without-labels":!h&&!f},...F("track"),children:[C.jsx(et,{component:"span",mod:{"reduce-motion":!0,"with-thumb-indicator":B&&!m},...F("thumb"),children:m}),C.jsx("span",{...F("trackLabel"),children:fe?h:f})]})]})});fd.classes={...IK,...BX};fd.displayName="@mantine/core/Switch";fd.Group=OL;const[Spe,wpe]=uu("Table component was not found in the tree");var y_={table:"m_b23fa0ef",th:"m_4e7aa4f3",tr:"m_4e7aa4fd",td:"m_4e7aa4ef",tbody:"m_b2404537",thead:"m_b242d975",caption:"m_9e5a3ac7",scrollContainer:"m_a100c15",scrollContainerInner:"m_62259741"};function Epe(t,e){if(!e)return;const n={};return e.columnBorder&&t.withColumnBorders&&(n["data-with-column-border"]=!0),e.rowBorder&&t.withRowBorders&&(n["data-with-row-border"]=!0),e.striped&&t.striped&&(n["data-striped"]=t.striped),e.highlightOnHover&&t.highlightOnHover&&(n["data-hover"]=!0),e.captionSide&&t.captionSide&&(n["data-side"]=t.captionSide),e.stickyHeader&&t.stickyHeader&&(n["data-sticky"]=!0),n}function ag(t,e){const n=`Table${t.charAt(0).toUpperCase()}${t.slice(1)}`,i=Qt((r,a)=>{const s=Nt(n,{},r),{classNames:o,className:l,style:c,styles:u,...f}=s,h=wpe();return C.jsx(et,{component:t,ref:a,...Epe(h,e),...h.getStyles(t,{className:l,classNames:o,style:c,styles:u,props:s}),...f})});return i.displayName=`@mantine/core/${n}`,i.classes=y_,i}const oN=ag("th",{columnBorder:!0}),OK=ag("td",{columnBorder:!0}),BE=ag("tr",{rowBorder:!0,striped:!0,highlightOnHover:!0}),LK=ag("thead",{stickyHeader:!0}),PK=ag("tbody"),UK=ag("tfoot"),FK=ag("caption",{captionSide:!0});function LL({data:t}){return C.jsxs(C.Fragment,{children:[t.caption&&C.jsx(FK,{children:t.caption}),t.head&&C.jsx(LK,{children:C.jsx(BE,{children:t.head.map((e,n)=>C.jsx(oN,{children:e},n))})}),t.body&&C.jsx(PK,{children:t.body.map((e,n)=>C.jsx(BE,{children:e.map((i,r)=>C.jsx(OK,{children:i},r))},n))}),t.foot&&C.jsx(UK,{children:C.jsx(BE,{children:t.foot.map((e,n)=>C.jsx(oN,{children:e},n))})})]})}LL.displayName="@mantine/core/TableDataRenderer";const Mpe={type:"scrollarea"},Ape=(t,{minWidth:e,maxHeight:n,type:i})=>({scrollContainer:{"--table-min-width":gt(e),"--table-max-height":gt(n),"--table-overflow":i==="native"?"auto":void 0}}),PL=Qt((t,e)=>{const n=Nt("TableScrollContainer",Mpe,t),{classNames:i,className:r,style:a,styles:s,unstyled:o,vars:l,children:c,minWidth:u,maxHeight:f,type:h,scrollAreaProps:d,attributes:b,...y}=n,v=xn({name:"TableScrollContainer",classes:y_,props:n,className:r,style:a,classNames:i,styles:s,unstyled:o,attributes:b,vars:l,varsResolver:Ape,rootSelector:"scrollContainer"});return C.jsx(et,{component:h==="scrollarea"?bc:"div",...h==="scrollarea"?f?{offsetScrollbars:"xy",...d}:{offsetScrollbars:"x",...d}:{},ref:e,...v("scrollContainer"),...y,children:C.jsx("div",{...v("scrollContainerInner"),children:c})})});PL.classes=y_;PL.displayName="@mantine/core/TableScrollContainer";const Tpe={withRowBorders:!0,verticalSpacing:7},Cpe=(t,{layout:e,captionSide:n,horizontalSpacing:i,verticalSpacing:r,borderColor:a,stripedColor:s,highlightOnHoverColor:o,striped:l,highlightOnHover:c,stickyHeaderOffset:u,stickyHeader:f})=>({table:{"--table-layout":e,"--table-caption-side":n,"--table-horizontal-spacing":Id(i),"--table-vertical-spacing":Id(r),"--table-border-color":a?Jr(a,t):void 0,"--table-striped-color":l&&s?Jr(s,t):void 0,"--table-highlight-on-hover-color":c&&o?Jr(o,t):void 0,"--table-sticky-header-offset":f?gt(u):void 0}}),xc=Qt((t,e)=>{const n=Nt("Table",Tpe,t),{classNames:i,className:r,style:a,styles:s,unstyled:o,vars:l,horizontalSpacing:c,verticalSpacing:u,captionSide:f,stripedColor:h,highlightOnHoverColor:d,striped:b,highlightOnHover:y,withColumnBorders:v,withRowBorders:m,withTableBorder:x,borderColor:_,layout:E,variant:A,data:w,children:T,stickyHeader:k,stickyHeaderOffset:N,mod:D,tabularNums:P,attributes:B,...G}=n,H=xn({name:"Table",props:n,className:r,style:a,classes:y_,classNames:i,styles:s,unstyled:o,attributes:B,rootSelector:"table",vars:l,varsResolver:Cpe});return C.jsx(Spe,{value:{getStyles:H,stickyHeader:k,striped:b===!0?"odd":b||void 0,highlightOnHover:y,withColumnBorders:v,withRowBorders:m,captionSide:f||"bottom"},children:C.jsx(et,{component:"table",variant:A,ref:e,mod:[{"data-with-table-border":x,"data-tabular-nums":P},D],...H("table"),...G,children:T||!!w&&C.jsx(LL,{data:w})})})});xc.classes=y_;xc.displayName="@mantine/core/Table";xc.Td=OK;xc.Th=oN;xc.Tr=BE;xc.Thead=LK;xc.Tbody=PK;xc.Tfoot=UK;xc.Caption=FK;xc.ScrollContainer=PL;xc.DataRenderer=LL;const[Rpe,UL]=uu("Tabs component was not found in the tree");var v_={root:"m_89d60db1","list--default":"m_576c9d4",list:"m_89d33d6d",tab:"m_4ec4dce6",panel:"m_b0c91715",tabSection:"m_fc420b1f",tabLabel:"m_42bbd1ae","tab--default":"m_539e827b","list--outline":"m_6772fbd5","tab--outline":"m_b59ab47c","tab--pills":"m_c3381914"};const FL=Qt((t,e)=>{const n=Nt("TabsList",null,t),{children:i,className:r,grow:a,justify:s,classNames:o,styles:l,style:c,mod:u,...f}=n,h=UL();return C.jsx(et,{...f,...h.getStyles("list",{className:r,style:c,classNames:o,styles:l,props:n,variant:h.variant}),ref:e,role:"tablist",variant:h.variant,mod:[{grow:a,orientation:h.orientation,placement:h.orientation==="vertical"&&h.placement,inverted:h.inverted},u],"aria-orientation":h.orientation,__vars:{"--tabs-justify":s},children:i})});FL.classes=v_;FL.displayName="@mantine/core/TabsList";const zL=Qt((t,e)=>{const n=Nt("TabsPanel",null,t),{children:i,className:r,value:a,classNames:s,styles:o,style:l,mod:c,keepMounted:u,...f}=n,h=UL(),d=h.value===a,b=h.keepMounted||u||d?i:null;return C.jsx(et,{...f,...h.getStyles("panel",{className:r,classNames:s,styles:o,style:[l,d?void 0:{display:"none"}],props:n}),ref:e,mod:[{orientation:h.orientation},c],role:"tabpanel",id:h.getPanelId(a),"aria-labelledby":h.getTabId(a),children:b})});zL.classes=v_;zL.displayName="@mantine/core/TabsPanel";const jL=Qt((t,e)=>{const n=Nt("TabsTab",null,t),{className:i,children:r,rightSection:a,leftSection:s,value:o,onClick:l,onKeyDown:c,disabled:u,color:f,style:h,classNames:d,styles:b,vars:y,mod:v,tabIndex:m,...x}=n,_=ma(),{dir:E}=Ey(),A=UL(),w=o===A.value,T=N=>{A.onChange(A.allowTabDeactivation&&o===A.value?null:o),l?.(N)},k={classNames:d,styles:b,props:n};return C.jsxs($u,{...x,...A.getStyles("tab",{className:i,style:h,variant:A.variant,...k}),disabled:u,unstyled:A.unstyled,variant:A.variant,mod:[{active:w,disabled:u,orientation:A.orientation,inverted:A.inverted,placement:A.orientation==="vertical"&&A.placement},v],ref:e,role:"tab",id:A.getTabId(o),"aria-selected":w,tabIndex:m!==void 0?m:w||A.value===null?0:-1,"aria-controls":A.getPanelId(o),onClick:T,__vars:{"--tabs-color":f?Jr(f,_):void 0},onKeyDown:Poe({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:A.activateTabWithKeyboard,loop:A.loop,orientation:A.orientation||"horizontal",dir:E,onKeyDown:c}),children:[s&&C.jsx("span",{...A.getStyles("tabSection",k),"data-position":"left",children:s}),r&&C.jsx("span",{...A.getStyles("tabLabel",k),children:r}),a&&C.jsx("span",{...A.getStyles("tabSection",k),"data-position":"right",children:a})]})});jL.classes=v_;jL.displayName="@mantine/core/TabsTab";const zz="Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value",kpe={keepMounted:!0,orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,variant:"default",placement:"left"},Dpe=(t,{radius:e,color:n,autoContrast:i})=>({root:{"--tabs-radius":$r(e),"--tabs-color":Jr(n,t),"--tabs-text-color":IT(i,t)?u_({color:n,theme:t,autoContrast:i}):void 0}}),Vf=Qt((t,e)=>{const n=Nt("Tabs",kpe,t),{defaultValue:i,value:r,onChange:a,orientation:s,children:o,loop:l,id:c,activateTabWithKeyboard:u,allowTabDeactivation:f,variant:h,color:d,radius:b,inverted:y,placement:v,keepMounted:m,classNames:x,styles:_,unstyled:E,className:A,style:w,vars:T,autoContrast:k,mod:N,attributes:D,...P}=n,B=nf(c),[G,H]=bl({value:r,defaultValue:i,finalValue:null,onChange:a}),V=xn({name:"Tabs",props:n,classes:v_,className:A,style:w,classNames:x,styles:_,unstyled:E,attributes:D,vars:T,varsResolver:Dpe});return C.jsx(Rpe,{value:{placement:v,value:G,orientation:s,id:B,loop:l,activateTabWithKeyboard:u,getTabId:IF(`${B}-tab`,zz),getPanelId:IF(`${B}-panel`,zz),onChange:H,allowTabDeactivation:f,variant:h,color:d,radius:b,inverted:y,keepMounted:m,unstyled:E,getStyles:V},children:C.jsx(et,{ref:e,id:B,variant:h,mod:[{orientation:s,inverted:s==="horizontal"&&y,placement:s==="vertical"&&v},N],...V("root"),...P,children:o})})});Vf.classes=v_;Vf.displayName="@mantine/core/Tabs";Vf.Tab=jL;Vf.Panel=zL;Vf.List=FL;const sg=Qt((t,e)=>{const n=Nt("TextInput",null,t);return C.jsx(fu,{component:"input",ref:e,...n,__staticSelector:"TextInput"})});sg.classes=fu.classes;sg.displayName="@mantine/core/TextInput";const Npe=["h1","h2","h3","h4","h5","h6"],Ipe=["xs","sm","md","lg","xl"];function Ope(t,e){const n=e!==void 0?e:`h${t}`;return Npe.includes(n)?{fontSize:`var(--mantine-${n}-font-size)`,fontWeight:`var(--mantine-${n}-font-weight)`,lineHeight:`var(--mantine-${n}-line-height)`}:Ipe.includes(n)?{fontSize:`var(--mantine-font-size-${n})`,fontWeight:`var(--mantine-h${t}-font-weight)`,lineHeight:`var(--mantine-h${t}-line-height)`}:{fontSize:gt(n),fontWeight:`var(--mantine-h${t}-font-weight)`,lineHeight:`var(--mantine-h${t}-line-height)`}}var zK={root:"m_8a5d1357"};const Lpe={order:1},Ppe=(t,{order:e,size:n,lineClamp:i,textWrap:r})=>{const a=Ope(e||1,n);return{root:{"--title-fw":a.fontWeight,"--title-lh":a.lineHeight,"--title-fz":a.fontSize,"--title-line-clamp":typeof i=="number"?i.toString():void 0,"--title-text-wrap":r}}},sC=Qt((t,e)=>{const n=Nt("Title",Lpe,t),{classNames:i,className:r,style:a,styles:s,unstyled:o,order:l,vars:c,size:u,variant:f,lineClamp:h,textWrap:d,mod:b,attributes:y,...v}=n,m=xn({name:"Title",props:n,classes:zK,className:r,style:a,classNames:i,styles:s,unstyled:o,attributes:y,vars:c,varsResolver:Ppe});return[1,2,3,4,5,6].includes(l)?C.jsx(et,{...m("root"),component:`h${l}`,variant:f,ref:e,mod:[{order:l,"data-line-clamp":typeof h=="number"},b],size:u,...v}):null});sC.classes=zK;sC.displayName="@mantine/core/Title";const jK=["bottom-center","bottom-left","bottom-right","top-center","top-left","top-right"];function Upe(t,e){return t.reduce((n,i)=>(n[i.position||e].push(i),n),jK.reduce((n,i)=>(n[i]=[],n),{}))}const jz={left:"translateX(-100%)",right:"translateX(100%)","top-center":"translateY(-100%)","bottom-center":"translateY(100%)"},Fpe={left:"translateX(0)",right:"translateX(0)","top-center":"translateY(0)","bottom-center":"translateY(0)"};function zpe({state:t,maxHeight:e,position:n,transitionDuration:i}){const[r,a]=n.split("-"),s=a==="center"?`${r}-center`:a,o={opacity:0,maxHeight:e,transform:jz[s],transitionDuration:`${i}ms, ${i}ms, ${i}ms`,transitionTimingFunction:"cubic-bezier(.51,.3,0,1.21), cubic-bezier(.51,.3,0,1.21), linear",transitionProperty:"opacity, transform, max-height"},l={opacity:1,transform:Fpe[s]},c={opacity:0,maxHeight:0,transform:jz[s]};return{...o,...{entering:l,entered:l,exiting:c,exited:c}[t]}}function jpe(t,e){return typeof e=="number"?e:e===!1||t===!1?!1:t}const BK=I.forwardRef(({data:t,onHide:e,autoClose:n,...i},r)=>{const{autoClose:a,message:s,...o}=t,l=jpe(n,t.autoClose),c=I.useRef(-1),u=()=>window.clearTimeout(c.current),f=()=>{e(t.id),u()},h=()=>{typeof l=="number"&&(c.current=window.setTimeout(f,l))};return I.useEffect(()=>{t.onOpen?.(t)},[]),I.useEffect(()=>(h(),u),[l]),C.jsx(RL,{...i,...o,onClose:f,ref:r,onMouseEnter:u,onMouseLeave:h,children:s})});BK.displayName="@mantine/notifications/NotificationContainer";var HK={root:"m_b37d9ac7",notification:"m_5ed0edd0"};const Bpe=ph,Hpe={position:"bottom-right",autoClose:4e3,transitionDuration:250,containerWidth:440,notificationMaxHeight:200,limit:5,zIndex:rf("overlay"),store:eg,withinPortal:!0},Vpe=(t,{zIndex:e,containerWidth:n})=>({root:{"--notifications-z-index":e?.toString(),"--notifications-container-width":gt(n)}}),bh=Qt((t,e)=>{const n=Nt("Notifications",Hpe,t),{classNames:i,className:r,style:a,styles:s,unstyled:o,vars:l,position:c,autoClose:u,transitionDuration:f,containerWidth:h,notificationMaxHeight:d,limit:b,zIndex:y,store:v,portalProps:m,withinPortal:x,..._}=n,E=ma(),A=Nse(v),w=vse(),T=MT(),k=I.useRef({}),N=I.useRef(0),P=(E.respectReducedMotion?T:!1)?1:f,B=xn({name:"Notifications",classes:HK,props:n,className:r,style:a,classNames:i,styles:s,unstyled:o,vars:l,varsResolver:Vpe});I.useEffect(()=>{v?.updateState(V=>({...V,limit:b||5,defaultPosition:c}))},[b,c]),oc(()=>{A.notifications.length>N.current&&setTimeout(()=>w(),0),N.current=A.notifications.length},[A.notifications]);const G=Upe(A.notifications,c),H=jK.reduce((V,U)=>(V[U]=G[U].map(({style:F,...q})=>C.jsx(Bpe,{timeout:P,onEnter:()=>k.current[q.id].offsetHeight,nodeRef:{current:k.current[q.id]},children:X=>C.jsx(BK,{ref:z=>{z&&(k.current[q.id]=z)},data:q,onHide:z=>$W(z,v),autoClose:u,...B("notification",{style:{...zpe({state:X,position:U,transitionDuration:P,maxHeight:d}),...F}})})},q.id)),V),{});return C.jsxs(Ld,{withinPortal:x,...m,children:[C.jsx(et,{...B("root"),"data-position":"top-center",ref:e,..._,children:C.jsx(nd,{children:H["top-center"]})}),C.jsx(et,{...B("root"),"data-position":"top-left",..._,children:C.jsx(nd,{children:H["top-left"]})}),C.jsx(et,{...B("root",{className:IM.classNames.fullWidth}),"data-position":"top-right",..._,children:C.jsx(nd,{children:H["top-right"]})}),C.jsx(et,{...B("root",{className:IM.classNames.fullWidth}),"data-position":"bottom-right",..._,children:C.jsx(nd,{children:H["bottom-right"]})}),C.jsx(et,{...B("root"),"data-position":"bottom-left",..._,children:C.jsx(nd,{children:H["bottom-left"]})}),C.jsx(et,{...B("root"),"data-position":"bottom-center",..._,children:C.jsx(nd,{children:H["bottom-center"]})})]})});bh.classes=HK;bh.displayName="@mantine/notifications/Notifications";bh.show=ms.show;bh.hide=ms.hide;bh.update=ms.update;bh.clean=ms.clean;bh.cleanQueue=ms.cleanQueue;bh.updateState=ms.updateState;/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Ny="179",Gpe={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Wpe={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},VK=0,lN=1,GK=2,qpe=3,WK=0,oC=1,jx=2,Fc=3,ou=0,Aa=1,oa=2,qu=0,Mm=1,cN=2,uN=3,fN=4,qK=5,hd=100,XK=101,KK=102,YK=103,JK=104,$K=200,ZK=201,QK=202,eY=203,HM=204,VM=205,tY=206,nY=207,iY=208,rY=209,aY=210,sY=211,oY=212,lY=213,cY=214,GM=0,WM=1,qM=2,Fm=3,XM=4,KM=5,YM=6,JM=7,x_=0,uY=1,fY=2,Xu=0,hY=1,dY=2,pY=3,BL=4,mY=5,gY=6,bY=7,E1="attached",HL="detached",Pd=300,Qu=301,Ud=302,V0=303,M1=304,Iy=306,Fd=1e3,pa=1001,G0=1002,Ja=1003,lC=1004,Xpe=1004,im=1005,Kpe=1005,Gi=1006,d0=1007,Ype=1007,rc=1008,hN=1008,ho=1009,cC=1010,uC=1011,W0=1012,Oy=1013,dc=1014,yr=1015,Ka=1016,fC=1017,hC=1018,q0=1020,VL=35902,GL=1021,WL=1022,Yr=1023,X0=1026,K0=1027,yh=1028,Ly=1029,dC=1030,__=1031,Jpe=1032,Py=1033,Bx=33776,Hx=33777,Vx=33778,Gx=33779,$M=35840,ZM=35841,QM=35842,eA=35843,tA=36196,nA=37492,iA=37496,rA=37808,aA=37809,sA=37810,oA=37811,lA=37812,cA=37813,uA=37814,fA=37815,hA=37816,dA=37817,pA=37818,mA=37819,gA=37820,bA=37821,Wx=36492,yA=36494,vA=36495,qL=36283,xA=36284,_A=36285,SA=36286,yY=2200,vY=2201,xY=2202,Y0=2300,J0=2301,HE=2302,rm=2400,am=2401,A1=2402,pC=2500,XL=2501,_Y=0,KL=1,wA=2,SY=3200,wY=3201,$pe=3202,Zpe=3203,Gd=0,EY=1,qc="",us="srgb",lu="srgb-linear",T1="linear",ar="srgb",Qpe=0,Wp=7680,eme=7681,tme=7682,nme=7683,ime=34055,rme=34056,ame=5386,sme=512,ome=513,lme=514,cme=515,ume=516,fme=517,hme=518,dN=519,MY=512,AY=513,TY=514,YL=515,CY=516,RY=517,kY=518,DY=519,C1=35044,EA=35048,dme=35040,pme=35045,mme=35049,gme=35041,bme=35046,yme=35050,vme=35042,xme="100",pN="300 es",ll=2e3,$0=2001,_me={COMPUTE:"compute",RENDER:"render"},Sme={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},wme={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};let sf=class{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(n)===-1&&i[e].push(n)}hasEventListener(e,n){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(n)!==-1}removeEventListener(e,n){const i=this._listeners;if(i===void 0)return;const r=i[e];if(r!==void 0){const a=r.indexOf(n);a!==-1&&r.splice(a,1)}}dispatchEvent(e){const n=this._listeners;if(n===void 0)return;const i=n[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let a=0,s=r.length;a<s;a++)r[a].call(this,e);e.target=null}}};const Ns=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Bz=1234567;const Am=Math.PI/180,Z0=180/Math.PI;function dl(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Ns[t&255]+Ns[t>>8&255]+Ns[t>>16&255]+Ns[t>>24&255]+"-"+Ns[e&255]+Ns[e>>8&255]+"-"+Ns[e>>16&15|64]+Ns[e>>24&255]+"-"+Ns[n&63|128]+Ns[n>>8&255]+"-"+Ns[n>>16&255]+Ns[n>>24&255]+Ns[i&255]+Ns[i>>8&255]+Ns[i>>16&255]+Ns[i>>24&255]).toLowerCase()}function Rn(t,e,n){return Math.max(e,Math.min(n,t))}function JL(t,e){return(t%e+e)%e}function Eme(t,e,n,i,r){return i+(t-e)*(r-i)/(n-e)}function Mme(t,e,n){return t!==e?(n-t)/(e-t):0}function qx(t,e,n){return(1-n)*t+n*e}function Ame(t,e,n,i){return qx(t,e,1-Math.exp(-n*i))}function Tme(t,e=1){return e-Math.abs(JL(t,e*2)-e)}function Cme(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function Rme(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function kme(t,e){return t+Math.floor(Math.random()*(e-t+1))}function Dme(t,e){return t+Math.random()*(e-t)}function Nme(t){return t*(.5-Math.random())}function Ime(t){t!==void 0&&(Bz=t);let e=Bz+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Ome(t){return t*Am}function Lme(t){return t*Z0}function Pme(t){return(t&t-1)===0&&t!==0}function Ume(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function Fme(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function zme(t,e,n,i,r){const a=Math.cos,s=Math.sin,o=a(n/2),l=s(n/2),c=a((e+i)/2),u=s((e+i)/2),f=a((e-i)/2),h=s((e-i)/2),d=a((i-e)/2),b=s((i-e)/2);switch(r){case"XYX":t.set(o*u,l*f,l*h,o*c);break;case"YZY":t.set(l*h,o*u,l*f,o*c);break;case"ZXZ":t.set(l*f,l*h,o*u,o*c);break;case"XZX":t.set(o*u,l*b,l*d,o*c);break;case"YXY":t.set(l*d,o*u,l*b,o*c);break;case"ZYZ":t.set(l*b,l*d,o*u,o*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function oo(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Yn(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const ac={DEG2RAD:Am,RAD2DEG:Z0,generateUUID:dl,clamp:Rn,euclideanModulo:JL,mapLinear:Eme,inverseLerp:Mme,lerp:qx,damp:Ame,pingpong:Tme,smoothstep:Cme,smootherstep:Rme,randInt:kme,randFloat:Dme,randFloatSpread:Nme,seededRandom:Ime,degToRad:Ome,radToDeg:Lme,isPowerOfTwo:Pme,ceilPowerOfTwo:Ume,floorPowerOfTwo:Fme,setQuaternionFromProperEuler:zme,normalize:Yn,denormalize:oo};class yt{constructor(e=0,n=0){yt.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,i=this.y,r=e.elements;return this.x=r[0]*n+r[3]*i+r[6],this.y=r[1]*n+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Rn(this.x,e.x,n.x),this.y=Rn(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=Rn(this.x,e,n),this.y=Rn(this.y,e,n),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Rn(i,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(Rn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y;return n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const i=Math.cos(n),r=Math.sin(n),a=this.x-e.x,s=this.y-e.y;return this.x=a*i-s*r+e.x,this.y=a*r+s*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Hn{constructor(e=0,n=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=i,this._w=r}static slerpFlat(e,n,i,r,a,s,o){let l=i[r+0],c=i[r+1],u=i[r+2],f=i[r+3];const h=a[s+0],d=a[s+1],b=a[s+2],y=a[s+3];if(o===0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=f;return}if(o===1){e[n+0]=h,e[n+1]=d,e[n+2]=b,e[n+3]=y;return}if(f!==y||l!==h||c!==d||u!==b){let v=1-o;const m=l*h+c*d+u*b+f*y,x=m>=0?1:-1,_=1-m*m;if(_>Number.EPSILON){const A=Math.sqrt(_),w=Math.atan2(A,m*x);v=Math.sin(v*w)/A,o=Math.sin(o*w)/A}const E=o*x;if(l=l*v+h*E,c=c*v+d*E,u=u*v+b*E,f=f*v+y*E,v===1-o){const A=1/Math.sqrt(l*l+c*c+u*u+f*f);l*=A,c*=A,u*=A,f*=A}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=f}static multiplyQuaternionsFlat(e,n,i,r,a,s){const o=i[r],l=i[r+1],c=i[r+2],u=i[r+3],f=a[s],h=a[s+1],d=a[s+2],b=a[s+3];return e[n]=o*b+u*f+l*d-c*h,e[n+1]=l*b+u*h+c*f-o*d,e[n+2]=c*b+u*d+o*h-l*f,e[n+3]=u*b-o*f-l*h-c*d,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,i,r){return this._x=e,this._y=n,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const i=e._x,r=e._y,a=e._z,s=e._order,o=Math.cos,l=Math.sin,c=o(i/2),u=o(r/2),f=o(a/2),h=l(i/2),d=l(r/2),b=l(a/2);switch(s){case"XYZ":this._x=h*u*f+c*d*b,this._y=c*d*f-h*u*b,this._z=c*u*b+h*d*f,this._w=c*u*f-h*d*b;break;case"YXZ":this._x=h*u*f+c*d*b,this._y=c*d*f-h*u*b,this._z=c*u*b-h*d*f,this._w=c*u*f+h*d*b;break;case"ZXY":this._x=h*u*f-c*d*b,this._y=c*d*f+h*u*b,this._z=c*u*b+h*d*f,this._w=c*u*f-h*d*b;break;case"ZYX":this._x=h*u*f-c*d*b,this._y=c*d*f+h*u*b,this._z=c*u*b-h*d*f,this._w=c*u*f+h*d*b;break;case"YZX":this._x=h*u*f+c*d*b,this._y=c*d*f+h*u*b,this._z=c*u*b-h*d*f,this._w=c*u*f-h*d*b;break;case"XZY":this._x=h*u*f-c*d*b,this._y=c*d*f-h*u*b,this._z=c*u*b+h*d*f,this._w=c*u*f+h*d*b;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const i=n/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,i=n[0],r=n[4],a=n[8],s=n[1],o=n[5],l=n[9],c=n[2],u=n[6],f=n[10],h=i+o+f;if(h>0){const d=.5/Math.sqrt(h+1);this._w=.25/d,this._x=(u-l)*d,this._y=(a-c)*d,this._z=(s-r)*d}else if(i>o&&i>f){const d=2*Math.sqrt(1+i-o-f);this._w=(u-l)/d,this._x=.25*d,this._y=(r+s)/d,this._z=(a+c)/d}else if(o>f){const d=2*Math.sqrt(1+o-i-f);this._w=(a-c)/d,this._x=(r+s)/d,this._y=.25*d,this._z=(l+u)/d}else{const d=2*Math.sqrt(1+f-i-o);this._w=(s-r)/d,this._x=(a+c)/d,this._y=(l+u)/d,this._z=.25*d}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let i=e.dot(n)+1;return i<1e-8?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Rn(this.dot(e),-1,1)))}rotateTowards(e,n){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,n/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const i=e._x,r=e._y,a=e._z,s=e._w,o=n._x,l=n._y,c=n._z,u=n._w;return this._x=i*u+s*o+r*c-a*l,this._y=r*u+s*l+a*o-i*c,this._z=a*u+s*c+i*l-r*o,this._w=s*u-i*o-r*l-a*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const i=this._x,r=this._y,a=this._z,s=this._w;let o=s*e._w+i*e._x+r*e._y+a*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=s,this._x=i,this._y=r,this._z=a,this;const l=1-o*o;if(l<=Number.EPSILON){const d=1-n;return this._w=d*s+n*this._w,this._x=d*i+n*this._x,this._y=d*r+n*this._y,this._z=d*a+n*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,o),f=Math.sin((1-n)*u)/c,h=Math.sin(n*u)/c;return this._w=s*f+this._w*h,this._x=i*f+this._x*h,this._y=r*f+this._y*h,this._z=a*f+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,n,i){return this.copy(e).slerp(n,i)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),a=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),a*Math.sin(n),a*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Q{constructor(e=0,n=0,i=0){Q.prototype.isVector3=!0,this.x=e,this.y=n,this.z=i}set(e,n,i){return i===void 0&&(i=this.z),this.x=e,this.y=n,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(Hz.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(Hz.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,i=this.y,r=this.z,a=e.elements;return this.x=a[0]*n+a[3]*i+a[6]*r,this.y=a[1]*n+a[4]*i+a[7]*r,this.z=a[2]*n+a[5]*i+a[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,a=e.elements,s=1/(a[3]*n+a[7]*i+a[11]*r+a[15]);return this.x=(a[0]*n+a[4]*i+a[8]*r+a[12])*s,this.y=(a[1]*n+a[5]*i+a[9]*r+a[13])*s,this.z=(a[2]*n+a[6]*i+a[10]*r+a[14])*s,this}applyQuaternion(e){const n=this.x,i=this.y,r=this.z,a=e.x,s=e.y,o=e.z,l=e.w,c=2*(s*r-o*i),u=2*(o*n-a*r),f=2*(a*i-s*n);return this.x=n+l*c+s*f-o*u,this.y=i+l*u+o*c-a*f,this.z=r+l*f+a*u-s*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,i=this.y,r=this.z,a=e.elements;return this.x=a[0]*n+a[4]*i+a[8]*r,this.y=a[1]*n+a[5]*i+a[9]*r,this.z=a[2]*n+a[6]*i+a[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Rn(this.x,e.x,n.x),this.y=Rn(this.y,e.y,n.y),this.z=Rn(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=Rn(this.x,e,n),this.y=Rn(this.y,e,n),this.z=Rn(this.z,e,n),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Rn(i,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const i=e.x,r=e.y,a=e.z,s=n.x,o=n.y,l=n.z;return this.x=r*l-a*o,this.y=a*s-i*l,this.z=i*o-r*s,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const i=e.dot(this)/n;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return E3.copy(this).projectOnVector(e),this.sub(E3)}reflect(e){return this.sub(E3.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(Rn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return n*n+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,i){const r=Math.sin(n)*e;return this.x=r*Math.sin(i),this.y=Math.cos(n)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,i){return this.x=e*Math.sin(n),this.y=i,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=i,this.z=r,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,i=Math.sqrt(1-n*n);return this.x=i*Math.cos(e),this.y=n,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const E3=new Q,Hz=new Hn;class qn{constructor(e,n,i,r,a,s,o,l,c){qn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,i,r,a,s,o,l,c)}set(e,n,i,r,a,s,o,l,c){const u=this.elements;return u[0]=e,u[1]=r,u[2]=o,u[3]=n,u[4]=a,u[5]=l,u[6]=i,u[7]=s,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],this}extractBasis(e,n,i){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,a=this.elements,s=i[0],o=i[3],l=i[6],c=i[1],u=i[4],f=i[7],h=i[2],d=i[5],b=i[8],y=r[0],v=r[3],m=r[6],x=r[1],_=r[4],E=r[7],A=r[2],w=r[5],T=r[8];return a[0]=s*y+o*x+l*A,a[3]=s*v+o*_+l*w,a[6]=s*m+o*E+l*T,a[1]=c*y+u*x+f*A,a[4]=c*v+u*_+f*w,a[7]=c*m+u*E+f*T,a[2]=h*y+d*x+b*A,a[5]=h*v+d*_+b*w,a[8]=h*m+d*E+b*T,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[1],r=e[2],a=e[3],s=e[4],o=e[5],l=e[6],c=e[7],u=e[8];return n*s*u-n*o*c-i*a*u+i*o*l+r*a*c-r*s*l}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],a=e[3],s=e[4],o=e[5],l=e[6],c=e[7],u=e[8],f=u*s-o*c,h=o*l-u*a,d=c*a-s*l,b=n*f+i*h+r*d;if(b===0)return this.set(0,0,0,0,0,0,0,0,0);const y=1/b;return e[0]=f*y,e[1]=(r*c-u*i)*y,e[2]=(o*i-r*s)*y,e[3]=h*y,e[4]=(u*n-r*l)*y,e[5]=(r*a-o*n)*y,e[6]=d*y,e[7]=(i*l-c*n)*y,e[8]=(s*n-i*a)*y,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,i,r,a,s,o){const l=Math.cos(a),c=Math.sin(a);return this.set(i*l,i*c,-i*(l*s+c*o)+s+e,-r*c,r*l,-r*(-c*s+l*o)+o+n,0,0,1),this}scale(e,n){return this.premultiply(M3.makeScale(e,n)),this}rotate(e){return this.premultiply(M3.makeRotation(-e)),this}translate(e,n){return this.premultiply(M3.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,i,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<9;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<9;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const M3=new qn;function NY(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const jme={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function $b(t,e){return new jme[t](e)}function R1(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function IY(){const t=R1("canvas");return t.style.display="block",t}const Vz={};function p0(t){t in Vz||(Vz[t]=!0,console.warn(t))}function Bme(t,e,n){return new Promise(function(i,r){function a(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:r();break;case t.TIMEOUT_EXPIRED:setTimeout(a,n);break;default:i()}}setTimeout(a,n)})}const Gz=new qn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),Wz=new qn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function Hme(){const t={enabled:!0,workingColorSpace:lu,spaces:{},convert:function(r,a,s){return this.enabled===!1||a===s||!a||!s||(this.spaces[a].transfer===ar&&(r.r=$f(r.r),r.g=$f(r.g),r.b=$f(r.b)),this.spaces[a].primaries!==this.spaces[s].primaries&&(r.applyMatrix3(this.spaces[a].toXYZ),r.applyMatrix3(this.spaces[s].fromXYZ)),this.spaces[s].transfer===ar&&(r.r=m0(r.r),r.g=m0(r.g),r.b=m0(r.b))),r},workingToColorSpace:function(r,a){return this.convert(r,this.workingColorSpace,a)},colorSpaceToWorking:function(r,a){return this.convert(r,a,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===qc?T1:this.spaces[r].transfer},getLuminanceCoefficients:function(r,a=this.workingColorSpace){return r.fromArray(this.spaces[a].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,a,s){return r.copy(this.spaces[a].toXYZ).multiply(this.spaces[s].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(r,a){return p0("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),t.workingToColorSpace(r,a)},toWorkingColorSpace:function(r,a){return p0("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),t.colorSpaceToWorking(r,a)}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],i=[.3127,.329];return t.define({[lu]:{primaries:e,whitePoint:i,transfer:T1,toXYZ:Gz,fromXYZ:Wz,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:us},outputColorSpaceConfig:{drawingBufferColorSpace:us}},[us]:{primaries:e,whitePoint:i,transfer:ar,toXYZ:Gz,fromXYZ:Wz,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:us}}}),t}const oi=Hme();function $f(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function m0(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let Wg;class OY{static getDataURL(e,n="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{Wg===void 0&&(Wg=R1("canvas")),Wg.width=e.width,Wg.height=e.height;const r=Wg.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),i=Wg}return i.toDataURL(n)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=R1("canvas");n.width=e.width,n.height=e.height;const i=n.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),a=r.data;for(let s=0;s<a.length;s++)a[s]=$f(a[s]/255)*255;return i.putImageData(r,0,0),n}else if(e.data){const n=e.data.slice(0);for(let i=0;i<n.length;i++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[i]=Math.floor($f(n[i]/255)*255):n[i]=$f(n[i]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Vme=0;class bd{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Vme++}),this.uuid=dl(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const n=this.data;return n instanceof HTMLVideoElement?e.set(n.videoWidth,n.videoHeight,0):n instanceof VideoFrame?e.set(n.displayHeight,n.displayWidth,0):n!==null?e.set(n.width,n.height,n.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let a;if(Array.isArray(r)){a=[];for(let s=0,o=r.length;s<o;s++)r[s].isDataTexture?a.push(A3(r[s].image)):a.push(A3(r[s]))}else a=A3(r);i.url=a}return n||(e.images[this.uuid]=i),i}}function A3(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?OY.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Gme=0;const T3=new Q;class er extends sf{constructor(e=er.DEFAULT_IMAGE,n=er.DEFAULT_MAPPING,i=pa,r=pa,a=Gi,s=rc,o=Yr,l=ho,c=er.DEFAULT_ANISOTROPY,u=qc){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Gme++}),this.uuid=dl(),this.name="",this.source=new bd(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=a,this.minFilter=s,this.anisotropy=c,this.format=o,this.internalFormat=null,this.type=l,this.offset=new yt(0,0),this.repeat=new yt(1,1),this.center=new yt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new qn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(T3).x}get height(){return this.source.getSize(T3).y}get depth(){return this.source.getSize(T3).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const n in e){const i=e[n];if(i===void 0){console.warn(`THREE.Texture.setValues(): parameter '${n}' has value of undefined.`);continue}const r=this[n];if(r===void 0){console.warn(`THREE.Texture.setValues(): property '${n}' does not exist.`);continue}r&&i&&r.isVector2&&i.isVector2||r&&i&&r.isVector3&&i.isVector3||r&&i&&r.isMatrix3&&i.isMatrix3?r.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),n||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Pd)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Fd:e.x=e.x-Math.floor(e.x);break;case pa:e.x=e.x<0?0:1;break;case G0:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Fd:e.y=e.y-Math.floor(e.y);break;case pa:e.y=e.y<0?0:1;break;case G0:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}er.DEFAULT_IMAGE=null;er.DEFAULT_MAPPING=Pd;er.DEFAULT_ANISOTROPY=1;class ni{constructor(e=0,n=0,i=0,r=1){ni.prototype.isVector4=!0,this.x=e,this.y=n,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,i,r){return this.x=e,this.y=n,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,a=this.w,s=e.elements;return this.x=s[0]*n+s[4]*i+s[8]*r+s[12]*a,this.y=s[1]*n+s[5]*i+s[9]*r+s[13]*a,this.z=s[2]*n+s[6]*i+s[10]*r+s[14]*a,this.w=s[3]*n+s[7]*i+s[11]*r+s[15]*a,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,i,r,a;const l=e.elements,c=l[0],u=l[4],f=l[8],h=l[1],d=l[5],b=l[9],y=l[2],v=l[6],m=l[10];if(Math.abs(u-h)<.01&&Math.abs(f-y)<.01&&Math.abs(b-v)<.01){if(Math.abs(u+h)<.1&&Math.abs(f+y)<.1&&Math.abs(b+v)<.1&&Math.abs(c+d+m-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const _=(c+1)/2,E=(d+1)/2,A=(m+1)/2,w=(u+h)/4,T=(f+y)/4,k=(b+v)/4;return _>E&&_>A?_<.01?(i=0,r=.707106781,a=.707106781):(i=Math.sqrt(_),r=w/i,a=T/i):E>A?E<.01?(i=.707106781,r=0,a=.707106781):(r=Math.sqrt(E),i=w/r,a=k/r):A<.01?(i=.707106781,r=.707106781,a=0):(a=Math.sqrt(A),i=T/a,r=k/a),this.set(i,r,a,n),this}let x=Math.sqrt((v-b)*(v-b)+(f-y)*(f-y)+(h-u)*(h-u));return Math.abs(x)<.001&&(x=1),this.x=(v-b)/x,this.y=(f-y)/x,this.z=(h-u)/x,this.w=Math.acos((c+d+m-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Rn(this.x,e.x,n.x),this.y=Rn(this.y,e.y,n.y),this.z=Rn(this.z,e.z,n.z),this.w=Rn(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=Rn(this.x,e,n),this.y=Rn(this.y,e,n),this.z=Rn(this.z,e,n),this.w=Rn(this.w,e,n),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Rn(i,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this.w=e.w+(n.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class $L extends sf{constructor(e=1,n=1,i={}){super(),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Gi,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},i),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=i.depth,this.scissor=new ni(0,0,e,n),this.scissorTest=!1,this.viewport=new ni(0,0,e,n);const r={width:e,height:n,depth:i.depth},a=new er(r);this.textures=[];const s=i.count;for(let o=0;o<s;o++)this.textures[o]=a.clone(),this.textures[o].isRenderTargetTexture=!0,this.textures[o].renderTarget=this;this._setTextureOptions(i),this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}_setTextureOptions(e={}){const n={minFilter:Gi,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(n.mapping=e.mapping),e.wrapS!==void 0&&(n.wrapS=e.wrapS),e.wrapT!==void 0&&(n.wrapT=e.wrapT),e.wrapR!==void 0&&(n.wrapR=e.wrapR),e.magFilter!==void 0&&(n.magFilter=e.magFilter),e.minFilter!==void 0&&(n.minFilter=e.minFilter),e.format!==void 0&&(n.format=e.format),e.type!==void 0&&(n.type=e.type),e.anisotropy!==void 0&&(n.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(n.colorSpace=e.colorSpace),e.flipY!==void 0&&(n.flipY=e.flipY),e.generateMipmaps!==void 0&&(n.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(n.internalFormat=e.internalFormat);for(let i=0;i<this.textures.length;i++)this.textures[i].setValues(n)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,n,i=1){if(this.width!==e||this.height!==n||this.depth!==i){this.width=e,this.height=n,this.depth=i;for(let r=0,a=this.textures.length;r<a;r++)this.textures[r].image.width=e,this.textures[r].image.height=n,this.textures[r].image.depth=i,this.textures[r].isArrayTexture=this.textures[r].image.depth>1;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,i=e.textures.length;n<i;n++){this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0,this.textures[n].renderTarget=this;const r=Object.assign({},e.textures[n].image);this.textures[n].source=new bd(r)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class pc extends $L{constructor(e=1,n=1,i={}){super(e,n,i),this.isWebGLRenderTarget=!0}}class mC extends er{constructor(e=null,n=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=Ja,this.minFilter=Ja,this.wrapR=pa,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Wme extends pc{constructor(e=1,n=1,i=1,r={}){super(e,n,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new mC(null,e,n,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class gC extends er{constructor(e=null,n=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=Ja,this.minFilter=Ja,this.wrapR=pa,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class qme extends pc{constructor(e=1,n=1,i=1,r={}){super(e,n,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new gC(null,e,n,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class vr{constructor(e=new Q(1/0,1/0,1/0),n=new Q(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n+=3)this.expandByPoint(Dc.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,i=e.count;n<i;n++)this.expandByPoint(Dc.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=Dc.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const a=i.getAttribute("position");if(n===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let s=0,o=a.count;s<o;s++)e.isMesh===!0?e.getVertexPosition(s,Dc):Dc.fromBufferAttribute(a,s),Dc.applyMatrix4(e.matrixWorld),this.expandByPoint(Dc);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),BS.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),BS.copy(i.boundingBox)),BS.applyMatrix4(e.matrixWorld),this.union(BS)}const r=e.children;for(let a=0,s=r.length;a<s;a++)this.expandByObject(r[a],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Dc),Dc.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,i;return e.normal.x>0?(n=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),n<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Cv),HS.subVectors(this.max,Cv),qg.subVectors(e.a,Cv),Xg.subVectors(e.b,Cv),Kg.subVectors(e.c,Cv),zh.subVectors(Xg,qg),jh.subVectors(Kg,Xg),vp.subVectors(qg,Kg);let n=[0,-zh.z,zh.y,0,-jh.z,jh.y,0,-vp.z,vp.y,zh.z,0,-zh.x,jh.z,0,-jh.x,vp.z,0,-vp.x,-zh.y,zh.x,0,-jh.y,jh.x,0,-vp.y,vp.x,0];return!C3(n,qg,Xg,Kg,HS)||(n=[1,0,0,0,1,0,0,0,1],!C3(n,qg,Xg,Kg,HS))?!1:(VS.crossVectors(zh,jh),n=[VS.x,VS.y,VS.z],C3(n,qg,Xg,Kg,HS))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Dc).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Dc).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Mf[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Mf[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Mf[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Mf[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Mf[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Mf[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Mf[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Mf[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Mf),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const Mf=[new Q,new Q,new Q,new Q,new Q,new Q,new Q,new Q],Dc=new Q,BS=new vr,qg=new Q,Xg=new Q,Kg=new Q,zh=new Q,jh=new Q,vp=new Q,Cv=new Q,HS=new Q,VS=new Q,xp=new Q;function C3(t,e,n,i,r){for(let a=0,s=t.length-3;a<=s;a+=3){xp.fromArray(t,a);const o=r.x*Math.abs(xp.x)+r.y*Math.abs(xp.y)+r.z*Math.abs(xp.z),l=e.dot(xp),c=n.dot(xp),u=i.dot(xp);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>o)return!1}return!0}const Xme=new vr,Rv=new Q,R3=new Q;class Or{constructor(e=new Q,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const i=this.center;n!==void 0?i.copy(n):Xme.setFromPoints(e).getCenter(i);let r=0;for(let a=0,s=e.length;a<s;a++)r=Math.max(r,i.distanceToSquared(e[a]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const i=this.center.distanceToSquared(e);return n.copy(e),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Rv.subVectors(e,this.center);const n=Rv.lengthSq();if(n>this.radius*this.radius){const i=Math.sqrt(n),r=(i-this.radius)*.5;this.center.addScaledVector(Rv,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(R3.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Rv.copy(e.center).add(R3)),this.expandByPoint(Rv.copy(e.center).sub(R3))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const Af=new Q,k3=new Q,GS=new Q,Bh=new Q,D3=new Q,WS=new Q,N3=new Q;class of{constructor(e=new Q,n=new Q(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Af)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Af.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Af.copy(this.origin).addScaledVector(this.direction,n),Af.distanceToSquared(e))}distanceSqToSegment(e,n,i,r){k3.copy(e).add(n).multiplyScalar(.5),GS.copy(n).sub(e).normalize(),Bh.copy(this.origin).sub(k3);const a=e.distanceTo(n)*.5,s=-this.direction.dot(GS),o=Bh.dot(this.direction),l=-Bh.dot(GS),c=Bh.lengthSq(),u=Math.abs(1-s*s);let f,h,d,b;if(u>0)if(f=s*l-o,h=s*o-l,b=a*u,f>=0)if(h>=-b)if(h<=b){const y=1/u;f*=y,h*=y,d=f*(f+s*h+2*o)+h*(s*f+h+2*l)+c}else h=a,f=Math.max(0,-(s*h+o)),d=-f*f+h*(h+2*l)+c;else h=-a,f=Math.max(0,-(s*h+o)),d=-f*f+h*(h+2*l)+c;else h<=-b?(f=Math.max(0,-(-s*a+o)),h=f>0?-a:Math.min(Math.max(-a,-l),a),d=-f*f+h*(h+2*l)+c):h<=b?(f=0,h=Math.min(Math.max(-a,-l),a),d=h*(h+2*l)+c):(f=Math.max(0,-(s*a+o)),h=f>0?a:Math.min(Math.max(-a,-l),a),d=-f*f+h*(h+2*l)+c);else h=s>0?-a:a,f=Math.max(0,-(s*h+o)),d=-f*f+h*(h+2*l)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,f),r&&r.copy(k3).addScaledVector(GS,h),d}intersectSphere(e,n){Af.subVectors(e.center,this.origin);const i=Af.dot(this.direction),r=Af.dot(Af)-i*i,a=e.radius*e.radius;if(r>a)return null;const s=Math.sqrt(a-r),o=i-s,l=i+s;return l<0?null:o<0?this.at(l,n):this.at(o,n)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/n;return i>=0?i:null}intersectPlane(e,n){const i=this.distanceToPlane(e);return i===null?null:this.at(i,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let i,r,a,s,o,l;const c=1/this.direction.x,u=1/this.direction.y,f=1/this.direction.z,h=this.origin;return c>=0?(i=(e.min.x-h.x)*c,r=(e.max.x-h.x)*c):(i=(e.max.x-h.x)*c,r=(e.min.x-h.x)*c),u>=0?(a=(e.min.y-h.y)*u,s=(e.max.y-h.y)*u):(a=(e.max.y-h.y)*u,s=(e.min.y-h.y)*u),i>s||a>r||((a>i||isNaN(i))&&(i=a),(s<r||isNaN(r))&&(r=s),f>=0?(o=(e.min.z-h.z)*f,l=(e.max.z-h.z)*f):(o=(e.max.z-h.z)*f,l=(e.min.z-h.z)*f),i>l||o>r)||((o>i||i!==i)&&(i=o),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,n)}intersectsBox(e){return this.intersectBox(e,Af)!==null}intersectTriangle(e,n,i,r,a){D3.subVectors(n,e),WS.subVectors(i,e),N3.crossVectors(D3,WS);let s=this.direction.dot(N3),o;if(s>0){if(r)return null;o=1}else if(s<0)o=-1,s=-s;else return null;Bh.subVectors(this.origin,e);const l=o*this.direction.dot(WS.crossVectors(Bh,WS));if(l<0)return null;const c=o*this.direction.dot(D3.cross(Bh));if(c<0||l+c>s)return null;const u=-o*Bh.dot(N3);return u<0?null:this.at(u/s,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class kt{constructor(e,n,i,r,a,s,o,l,c,u,f,h,d,b,y,v){kt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,i,r,a,s,o,l,c,u,f,h,d,b,y,v)}set(e,n,i,r,a,s,o,l,c,u,f,h,d,b,y,v){const m=this.elements;return m[0]=e,m[4]=n,m[8]=i,m[12]=r,m[1]=a,m[5]=s,m[9]=o,m[13]=l,m[2]=c,m[6]=u,m[10]=f,m[14]=h,m[3]=d,m[7]=b,m[11]=y,m[15]=v,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new kt().fromArray(this.elements)}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this}copyPosition(e){const n=this.elements,i=e.elements;return n[12]=i[12],n[13]=i[13],n[14]=i[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,i){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,n,i){return this.set(e.x,n.x,i.x,0,e.y,n.y,i.y,0,e.z,n.z,i.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,i=e.elements,r=1/Yg.setFromMatrixColumn(e,0).length(),a=1/Yg.setFromMatrixColumn(e,1).length(),s=1/Yg.setFromMatrixColumn(e,2).length();return n[0]=i[0]*r,n[1]=i[1]*r,n[2]=i[2]*r,n[3]=0,n[4]=i[4]*a,n[5]=i[5]*a,n[6]=i[6]*a,n[7]=0,n[8]=i[8]*s,n[9]=i[9]*s,n[10]=i[10]*s,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,i=e.x,r=e.y,a=e.z,s=Math.cos(i),o=Math.sin(i),l=Math.cos(r),c=Math.sin(r),u=Math.cos(a),f=Math.sin(a);if(e.order==="XYZ"){const h=s*u,d=s*f,b=o*u,y=o*f;n[0]=l*u,n[4]=-l*f,n[8]=c,n[1]=d+b*c,n[5]=h-y*c,n[9]=-o*l,n[2]=y-h*c,n[6]=b+d*c,n[10]=s*l}else if(e.order==="YXZ"){const h=l*u,d=l*f,b=c*u,y=c*f;n[0]=h+y*o,n[4]=b*o-d,n[8]=s*c,n[1]=s*f,n[5]=s*u,n[9]=-o,n[2]=d*o-b,n[6]=y+h*o,n[10]=s*l}else if(e.order==="ZXY"){const h=l*u,d=l*f,b=c*u,y=c*f;n[0]=h-y*o,n[4]=-s*f,n[8]=b+d*o,n[1]=d+b*o,n[5]=s*u,n[9]=y-h*o,n[2]=-s*c,n[6]=o,n[10]=s*l}else if(e.order==="ZYX"){const h=s*u,d=s*f,b=o*u,y=o*f;n[0]=l*u,n[4]=b*c-d,n[8]=h*c+y,n[1]=l*f,n[5]=y*c+h,n[9]=d*c-b,n[2]=-c,n[6]=o*l,n[10]=s*l}else if(e.order==="YZX"){const h=s*l,d=s*c,b=o*l,y=o*c;n[0]=l*u,n[4]=y-h*f,n[8]=b*f+d,n[1]=f,n[5]=s*u,n[9]=-o*u,n[2]=-c*u,n[6]=d*f+b,n[10]=h-y*f}else if(e.order==="XZY"){const h=s*l,d=s*c,b=o*l,y=o*c;n[0]=l*u,n[4]=-f,n[8]=c*u,n[1]=h*f+y,n[5]=s*u,n[9]=d*f-b,n[2]=b*f-d,n[6]=o*u,n[10]=y*f+h}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Kme,e,Yme)}lookAt(e,n,i){const r=this.elements;return Qo.subVectors(e,n),Qo.lengthSq()===0&&(Qo.z=1),Qo.normalize(),Hh.crossVectors(i,Qo),Hh.lengthSq()===0&&(Math.abs(i.z)===1?Qo.x+=1e-4:Qo.z+=1e-4,Qo.normalize(),Hh.crossVectors(i,Qo)),Hh.normalize(),qS.crossVectors(Qo,Hh),r[0]=Hh.x,r[4]=qS.x,r[8]=Qo.x,r[1]=Hh.y,r[5]=qS.y,r[9]=Qo.y,r[2]=Hh.z,r[6]=qS.z,r[10]=Qo.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,a=this.elements,s=i[0],o=i[4],l=i[8],c=i[12],u=i[1],f=i[5],h=i[9],d=i[13],b=i[2],y=i[6],v=i[10],m=i[14],x=i[3],_=i[7],E=i[11],A=i[15],w=r[0],T=r[4],k=r[8],N=r[12],D=r[1],P=r[5],B=r[9],G=r[13],H=r[2],V=r[6],U=r[10],F=r[14],q=r[3],X=r[7],z=r[11],oe=r[15];return a[0]=s*w+o*D+l*H+c*q,a[4]=s*T+o*P+l*V+c*X,a[8]=s*k+o*B+l*U+c*z,a[12]=s*N+o*G+l*F+c*oe,a[1]=u*w+f*D+h*H+d*q,a[5]=u*T+f*P+h*V+d*X,a[9]=u*k+f*B+h*U+d*z,a[13]=u*N+f*G+h*F+d*oe,a[2]=b*w+y*D+v*H+m*q,a[6]=b*T+y*P+v*V+m*X,a[10]=b*k+y*B+v*U+m*z,a[14]=b*N+y*G+v*F+m*oe,a[3]=x*w+_*D+E*H+A*q,a[7]=x*T+_*P+E*V+A*X,a[11]=x*k+_*B+E*U+A*z,a[15]=x*N+_*G+E*F+A*oe,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[4],r=e[8],a=e[12],s=e[1],o=e[5],l=e[9],c=e[13],u=e[2],f=e[6],h=e[10],d=e[14],b=e[3],y=e[7],v=e[11],m=e[15];return b*(+a*l*f-r*c*f-a*o*h+i*c*h+r*o*d-i*l*d)+y*(+n*l*d-n*c*h+a*s*h-r*s*d+r*c*u-a*l*u)+v*(+n*c*f-n*o*d-a*s*f+i*s*d+a*o*u-i*c*u)+m*(-r*o*u-n*l*f+n*o*h+r*s*f-i*s*h+i*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=n,r[14]=i),this}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],a=e[3],s=e[4],o=e[5],l=e[6],c=e[7],u=e[8],f=e[9],h=e[10],d=e[11],b=e[12],y=e[13],v=e[14],m=e[15],x=f*v*c-y*h*c+y*l*d-o*v*d-f*l*m+o*h*m,_=b*h*c-u*v*c-b*l*d+s*v*d+u*l*m-s*h*m,E=u*y*c-b*f*c+b*o*d-s*y*d-u*o*m+s*f*m,A=b*f*l-u*y*l-b*o*h+s*y*h+u*o*v-s*f*v,w=n*x+i*_+r*E+a*A;if(w===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const T=1/w;return e[0]=x*T,e[1]=(y*h*a-f*v*a-y*r*d+i*v*d+f*r*m-i*h*m)*T,e[2]=(o*v*a-y*l*a+y*r*c-i*v*c-o*r*m+i*l*m)*T,e[3]=(f*l*a-o*h*a-f*r*c+i*h*c+o*r*d-i*l*d)*T,e[4]=_*T,e[5]=(u*v*a-b*h*a+b*r*d-n*v*d-u*r*m+n*h*m)*T,e[6]=(b*l*a-s*v*a-b*r*c+n*v*c+s*r*m-n*l*m)*T,e[7]=(s*h*a-u*l*a+u*r*c-n*h*c-s*r*d+n*l*d)*T,e[8]=E*T,e[9]=(b*f*a-u*y*a-b*i*d+n*y*d+u*i*m-n*f*m)*T,e[10]=(s*y*a-b*o*a+b*i*c-n*y*c-s*i*m+n*o*m)*T,e[11]=(u*o*a-s*f*a-u*i*c+n*f*c+s*i*d-n*o*d)*T,e[12]=A*T,e[13]=(u*y*r-b*f*r+b*i*h-n*y*h-u*i*v+n*f*v)*T,e[14]=(b*o*r-s*y*r-b*i*l+n*y*l+s*i*v-n*o*v)*T,e[15]=(s*f*r-u*o*r+u*i*l-n*f*l-s*i*h+n*o*h)*T,this}scale(e){const n=this.elements,i=e.x,r=e.y,a=e.z;return n[0]*=i,n[4]*=r,n[8]*=a,n[1]*=i,n[5]*=r,n[9]*=a,n[2]*=i,n[6]*=r,n[10]*=a,n[3]*=i,n[7]*=r,n[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,i,r))}makeTranslation(e,n,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,i,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const i=Math.cos(n),r=Math.sin(n),a=1-i,s=e.x,o=e.y,l=e.z,c=a*s,u=a*o;return this.set(c*s+i,c*o-r*l,c*l+r*o,0,c*o+r*l,u*o+i,u*l-r*s,0,c*l-r*o,u*l+r*s,a*l*l+i,0,0,0,0,1),this}makeScale(e,n,i){return this.set(e,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,n,i,r,a,s){return this.set(1,i,a,0,e,1,s,0,n,r,1,0,0,0,0,1),this}compose(e,n,i){const r=this.elements,a=n._x,s=n._y,o=n._z,l=n._w,c=a+a,u=s+s,f=o+o,h=a*c,d=a*u,b=a*f,y=s*u,v=s*f,m=o*f,x=l*c,_=l*u,E=l*f,A=i.x,w=i.y,T=i.z;return r[0]=(1-(y+m))*A,r[1]=(d+E)*A,r[2]=(b-_)*A,r[3]=0,r[4]=(d-E)*w,r[5]=(1-(h+m))*w,r[6]=(v+x)*w,r[7]=0,r[8]=(b+_)*T,r[9]=(v-x)*T,r[10]=(1-(h+y))*T,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,n,i){const r=this.elements;let a=Yg.set(r[0],r[1],r[2]).length();const s=Yg.set(r[4],r[5],r[6]).length(),o=Yg.set(r[8],r[9],r[10]).length();this.determinant()<0&&(a=-a),e.x=r[12],e.y=r[13],e.z=r[14],Nc.copy(this);const c=1/a,u=1/s,f=1/o;return Nc.elements[0]*=c,Nc.elements[1]*=c,Nc.elements[2]*=c,Nc.elements[4]*=u,Nc.elements[5]*=u,Nc.elements[6]*=u,Nc.elements[8]*=f,Nc.elements[9]*=f,Nc.elements[10]*=f,n.setFromRotationMatrix(Nc),i.x=a,i.y=s,i.z=o,this}makePerspective(e,n,i,r,a,s,o=ll,l=!1){const c=this.elements,u=2*a/(n-e),f=2*a/(i-r),h=(n+e)/(n-e),d=(i+r)/(i-r);let b,y;if(l)b=a/(s-a),y=s*a/(s-a);else if(o===ll)b=-(s+a)/(s-a),y=-2*s*a/(s-a);else if(o===$0)b=-s/(s-a),y=-s*a/(s-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return c[0]=u,c[4]=0,c[8]=h,c[12]=0,c[1]=0,c[5]=f,c[9]=d,c[13]=0,c[2]=0,c[6]=0,c[10]=b,c[14]=y,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,n,i,r,a,s,o=ll,l=!1){const c=this.elements,u=2/(n-e),f=2/(i-r),h=-(n+e)/(n-e),d=-(i+r)/(i-r);let b,y;if(l)b=1/(s-a),y=s/(s-a);else if(o===ll)b=-2/(s-a),y=-(s+a)/(s-a);else if(o===$0)b=-1/(s-a),y=-a/(s-a);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return c[0]=u,c[4]=0,c[8]=0,c[12]=h,c[1]=0,c[5]=f,c[9]=0,c[13]=d,c[2]=0,c[6]=0,c[10]=b,c[14]=y,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<16;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<16;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e[n+9]=i[9],e[n+10]=i[10],e[n+11]=i[11],e[n+12]=i[12],e[n+13]=i[13],e[n+14]=i[14],e[n+15]=i[15],e}}const Yg=new Q,Nc=new kt,Kme=new Q(0,0,0),Yme=new Q(1,1,1),Hh=new Q,qS=new Q,Qo=new Q,qz=new kt,Xz=new Hn;class li{constructor(e=0,n=0,i=0,r=li.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,i,r=this._order){return this._x=e,this._y=n,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,i=!0){const r=e.elements,a=r[0],s=r[4],o=r[8],l=r[1],c=r[5],u=r[9],f=r[2],h=r[6],d=r[10];switch(n){case"XYZ":this._y=Math.asin(Rn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-u,d),this._z=Math.atan2(-s,a)):(this._x=Math.atan2(h,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Rn(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(o,d),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-f,a),this._z=0);break;case"ZXY":this._x=Math.asin(Rn(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-f,d),this._z=Math.atan2(-s,c)):(this._y=0,this._z=Math.atan2(l,a));break;case"ZYX":this._y=Math.asin(-Rn(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(h,d),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-s,c));break;case"YZX":this._z=Math.asin(Rn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-f,a)):(this._x=0,this._y=Math.atan2(o,d));break;case"XZY":this._z=Math.asin(-Rn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(h,c),this._y=Math.atan2(o,a)):(this._x=Math.atan2(-u,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,i){return qz.makeRotationFromQuaternion(e),this.setFromRotationMatrix(qz,n,i)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return Xz.setFromEuler(this),this.setFromQuaternion(Xz,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}li.DEFAULT_ORDER="XYZ";class Q0{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Jme=0;const Kz=new Q,Jg=new Hn,Tf=new kt,XS=new Q,kv=new Q,$me=new Q,Zme=new Hn,Yz=new Q(1,0,0),Jz=new Q(0,1,0),$z=new Q(0,0,1),Zz={type:"added"},Qme={type:"removed"},$g={type:"childadded",child:null},I3={type:"childremoved",child:null};class Ei extends sf{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Jme++}),this.uuid=dl(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ei.DEFAULT_UP.clone();const e=new Q,n=new li,i=new Hn,r=new Q(1,1,1);function a(){i.setFromEuler(n,!1)}function s(){n.setFromQuaternion(i,void 0,!1)}n._onChange(a),i._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new kt},normalMatrix:{value:new qn}}),this.matrix=new kt,this.matrixWorld=new kt,this.matrixAutoUpdate=Ei.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Ei.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Q0,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Jg.setFromAxisAngle(e,n),this.quaternion.multiply(Jg),this}rotateOnWorldAxis(e,n){return Jg.setFromAxisAngle(e,n),this.quaternion.premultiply(Jg),this}rotateX(e){return this.rotateOnAxis(Yz,e)}rotateY(e){return this.rotateOnAxis(Jz,e)}rotateZ(e){return this.rotateOnAxis($z,e)}translateOnAxis(e,n){return Kz.copy(e).applyQuaternion(this.quaternion),this.position.add(Kz.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(Yz,e)}translateY(e){return this.translateOnAxis(Jz,e)}translateZ(e){return this.translateOnAxis($z,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Tf.copy(this.matrixWorld).invert())}lookAt(e,n,i){e.isVector3?XS.copy(e):XS.set(e,n,i);const r=this.parent;this.updateWorldMatrix(!0,!1),kv.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Tf.lookAt(kv,XS,this.up):Tf.lookAt(XS,kv,this.up),this.quaternion.setFromRotationMatrix(Tf),r&&(Tf.extractRotation(r.matrixWorld),Jg.setFromRotationMatrix(Tf),this.quaternion.premultiply(Jg.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(Zz),$g.child=e,this.dispatchEvent($g),$g.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Qme),I3.child=e,this.dispatchEvent(I3),I3.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Tf.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Tf.multiply(e.parent.matrixWorld)),e.applyMatrix4(Tf),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(Zz),$g.child=e,this.dispatchEvent($g),$g.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let i=0,r=this.children.length;i<r;i++){const s=this.children[i].getObjectByProperty(e,n);if(s!==void 0)return s}}getObjectsByProperty(e,n,i=[]){this[e]===n&&i.push(this);const r=this.children;for(let a=0,s=r.length;a<s;a++)r[a].getObjectsByProperty(e,n,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(kv,e,$me),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(kv,Zme,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].updateMatrixWorld(e)}updateWorldMatrix(e,n){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const r=this.children;for(let a=0,s=r.length;a<s;a++)r[a].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",i={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map(o=>({...o,boundingBox:o.boundingBox?o.boundingBox.toJSON():void 0,boundingSphere:o.boundingSphere?o.boundingSphere.toJSON():void 0})),r.instanceInfo=this._instanceInfo.map(o=>({...o})),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(e),r.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(r.boundingBox=this.boundingBox.toJSON()));function a(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=a(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const l=o.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const f=l[c];a(e.shapes,f)}else a(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let l=0,c=this.material.length;l<c;l++)o.push(a(e.materials,this.material[l]));r.material=o}else r.material=a(e.materials,this.material);if(this.children.length>0){r.children=[];for(let o=0;o<this.children.length;o++)r.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let o=0;o<this.animations.length;o++){const l=this.animations[o];r.animations.push(a(e.animations,l))}}if(n){const o=s(e.geometries),l=s(e.materials),c=s(e.textures),u=s(e.images),f=s(e.shapes),h=s(e.skeletons),d=s(e.animations),b=s(e.nodes);o.length>0&&(i.geometries=o),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),u.length>0&&(i.images=u),f.length>0&&(i.shapes=f),h.length>0&&(i.skeletons=h),d.length>0&&(i.animations=d),b.length>0&&(i.nodes=b)}return i.object=r,i;function s(o){const l=[];for(const c in o){const u=o[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Ei.DEFAULT_UP=new Q(0,1,0);Ei.DEFAULT_MATRIX_AUTO_UPDATE=!0;Ei.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Ic=new Q,Cf=new Q,O3=new Q,Rf=new Q,Zg=new Q,Qg=new Q,Qz=new Q,L3=new Q,P3=new Q,U3=new Q,F3=new ni,z3=new ni,j3=new ni;class Ao{constructor(e=new Q,n=new Q,i=new Q){this.a=e,this.b=n,this.c=i}static getNormal(e,n,i,r){r.subVectors(i,n),Ic.subVectors(e,n),r.cross(Ic);const a=r.lengthSq();return a>0?r.multiplyScalar(1/Math.sqrt(a)):r.set(0,0,0)}static getBarycoord(e,n,i,r,a){Ic.subVectors(r,n),Cf.subVectors(i,n),O3.subVectors(e,n);const s=Ic.dot(Ic),o=Ic.dot(Cf),l=Ic.dot(O3),c=Cf.dot(Cf),u=Cf.dot(O3),f=s*c-o*o;if(f===0)return a.set(0,0,0),null;const h=1/f,d=(c*l-o*u)*h,b=(s*u-o*l)*h;return a.set(1-d-b,b,d)}static containsPoint(e,n,i,r){return this.getBarycoord(e,n,i,r,Rf)===null?!1:Rf.x>=0&&Rf.y>=0&&Rf.x+Rf.y<=1}static getInterpolation(e,n,i,r,a,s,o,l){return this.getBarycoord(e,n,i,r,Rf)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(a,Rf.x),l.addScaledVector(s,Rf.y),l.addScaledVector(o,Rf.z),l)}static getInterpolatedAttribute(e,n,i,r,a,s){return F3.setScalar(0),z3.setScalar(0),j3.setScalar(0),F3.fromBufferAttribute(e,n),z3.fromBufferAttribute(e,i),j3.fromBufferAttribute(e,r),s.setScalar(0),s.addScaledVector(F3,a.x),s.addScaledVector(z3,a.y),s.addScaledVector(j3,a.z),s}static isFrontFacing(e,n,i,r){return Ic.subVectors(i,n),Cf.subVectors(e,n),Ic.cross(Cf).dot(r)<0}set(e,n,i){return this.a.copy(e),this.b.copy(n),this.c.copy(i),this}setFromPointsAndIndices(e,n,i,r){return this.a.copy(e[n]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,n,i,r){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ic.subVectors(this.c,this.b),Cf.subVectors(this.a,this.b),Ic.cross(Cf).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ao.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Ao.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,i,r,a){return Ao.getInterpolation(e,this.a,this.b,this.c,n,i,r,a)}containsPoint(e){return Ao.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ao.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const i=this.a,r=this.b,a=this.c;let s,o;Zg.subVectors(r,i),Qg.subVectors(a,i),L3.subVectors(e,i);const l=Zg.dot(L3),c=Qg.dot(L3);if(l<=0&&c<=0)return n.copy(i);P3.subVectors(e,r);const u=Zg.dot(P3),f=Qg.dot(P3);if(u>=0&&f<=u)return n.copy(r);const h=l*f-u*c;if(h<=0&&l>=0&&u<=0)return s=l/(l-u),n.copy(i).addScaledVector(Zg,s);U3.subVectors(e,a);const d=Zg.dot(U3),b=Qg.dot(U3);if(b>=0&&d<=b)return n.copy(a);const y=d*c-l*b;if(y<=0&&c>=0&&b<=0)return o=c/(c-b),n.copy(i).addScaledVector(Qg,o);const v=u*b-d*f;if(v<=0&&f-u>=0&&d-b>=0)return Qz.subVectors(a,r),o=(f-u)/(f-u+(d-b)),n.copy(r).addScaledVector(Qz,o);const m=1/(v+y+h);return s=y*m,o=h*m,n.copy(i).addScaledVector(Zg,s).addScaledVector(Qg,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const LY={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Vh={h:0,s:0,l:0},KS={h:0,s:0,l:0};function B3(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}let Ut=class{constructor(e,n,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,i)}set(e,n,i){if(n===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,n,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=us){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,oi.colorSpaceToWorking(this,n),this}setRGB(e,n,i,r=oi.workingColorSpace){return this.r=e,this.g=n,this.b=i,oi.colorSpaceToWorking(this,r),this}setHSL(e,n,i,r=oi.workingColorSpace){if(e=JL(e,1),n=Rn(n,0,1),i=Rn(i,0,1),n===0)this.r=this.g=this.b=i;else{const a=i<=.5?i*(1+n):i+n-i*n,s=2*i-a;this.r=B3(s,a,e+1/3),this.g=B3(s,a,e),this.b=B3(s,a,e-1/3)}return oi.colorSpaceToWorking(this,r),this}setStyle(e,n=us){function i(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const s=r[1],o=r[2];switch(s){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,n);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,n);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=r[1],s=a.length;if(s===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,n);if(s===6)return this.setHex(parseInt(a,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=us){const i=LY[e.toLowerCase()];return i!==void 0?this.setHex(i,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=$f(e.r),this.g=$f(e.g),this.b=$f(e.b),this}copyLinearToSRGB(e){return this.r=m0(e.r),this.g=m0(e.g),this.b=m0(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=us){return oi.workingToColorSpace(Is.copy(this),e),Math.round(Rn(Is.r*255,0,255))*65536+Math.round(Rn(Is.g*255,0,255))*256+Math.round(Rn(Is.b*255,0,255))}getHexString(e=us){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=oi.workingColorSpace){oi.workingToColorSpace(Is.copy(this),n);const i=Is.r,r=Is.g,a=Is.b,s=Math.max(i,r,a),o=Math.min(i,r,a);let l,c;const u=(o+s)/2;if(o===s)l=0,c=0;else{const f=s-o;switch(c=u<=.5?f/(s+o):f/(2-s-o),s){case i:l=(r-a)/f+(r<a?6:0);break;case r:l=(a-i)/f+2;break;case a:l=(i-r)/f+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=oi.workingColorSpace){return oi.workingToColorSpace(Is.copy(this),n),e.r=Is.r,e.g=Is.g,e.b=Is.b,e}getStyle(e=us){oi.workingToColorSpace(Is.copy(this),e);const n=Is.r,i=Is.g,r=Is.b;return e!==us?`color(${e} ${n.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,n,i){return this.getHSL(Vh),this.setHSL(Vh.h+e,Vh.s+n,Vh.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,i){return this.r=e.r+(n.r-e.r)*i,this.g=e.g+(n.g-e.g)*i,this.b=e.b+(n.b-e.b)*i,this}lerpHSL(e,n){this.getHSL(Vh),e.getHSL(KS);const i=qx(Vh.h,KS.h,n),r=qx(Vh.s,KS.s,n),a=qx(Vh.l,KS.l,n);return this.setHSL(i,r,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,i=this.g,r=this.b,a=e.elements;return this.r=a[0]*n+a[3]*i+a[6]*r,this.g=a[1]*n+a[4]*i+a[7]*r,this.b=a[2]*n+a[5]*i+a[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const Is=new Ut;Ut.NAMES=LY;let ege=0;class Ta extends sf{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:ege++}),this.uuid=dl(),this.name="",this.type="Material",this.blending=Mm,this.side=ou,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=HM,this.blendDst=VM,this.blendEquation=hd,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Ut(0,0,0),this.blendAlpha=0,this.depthFunc=Fm,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=dN,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Wp,this.stencilZFail=Wp,this.stencilZPass=Wp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const i=e[n];if(i===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const r=this[n];if(r===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const i={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Mm&&(i.blending=this.blending),this.side!==ou&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==HM&&(i.blendSrc=this.blendSrc),this.blendDst!==VM&&(i.blendDst=this.blendDst),this.blendEquation!==hd&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==Fm&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==dN&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Wp&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Wp&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Wp&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(a){const s=[];for(const o in a){const l=a[o];delete l.metadata,s.push(l)}return s}if(n){const a=r(e.textures),s=r(e.images);a.length>0&&(i.textures=a),s.length>0&&(i.images=s)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let i=null;if(n!==null){const r=n.length;i=new Array(r);for(let a=0;a!==r;++a)i[a]=n[a].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class uo extends Ta{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ut(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new li,this.combine=x_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Uf=tge();function tge(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):c<-14?(i[l]=1024>>-c-14,i[l|256]=1024>>-c-14|32768,r[l]=-c-1,r[l|256]=-c-1):c<=15?(i[l]=c+15<<10,i[l|256]=c+15<<10|32768,r[l]=13,r[l|256]=13):c<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const a=new Uint32Array(2048),s=new Uint32Array(64),o=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,a[l]=c|u}for(let l=1024;l<2048;++l)a[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)s[l]=l<<23;s[31]=1199570944,s[32]=2147483648;for(let l=33;l<63;++l)s[l]=2147483648+(l-32<<23);s[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(o[l]=1024);return{floatView:e,uint32View:n,baseTable:i,shiftTable:r,mantissaTable:a,exponentTable:s,offsetTable:o}}function _o(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Rn(t,-65504,65504),Uf.floatView[0]=t;const e=Uf.uint32View[0],n=e>>23&511;return Uf.baseTable[n]+((e&8388607)>>Uf.shiftTable[n])}function mx(t){const e=t>>10;return Uf.uint32View[0]=Uf.mantissaTable[Uf.offsetTable[e]+(t&1023)]+Uf.exponentTable[e],Uf.floatView[0]}class sm{static toHalfFloat(e){return _o(e)}static fromHalfFloat(e){return mx(e)}}const xa=new Q,YS=new yt;let nge=0;class In{constructor(e,n,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:nge++}),this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=i,this.usage=C1,this.updateRanges=[],this.gpuType=yr,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,i){e*=this.itemSize,i*=n.itemSize;for(let r=0,a=this.itemSize;r<a;r++)this.array[e+r]=n.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,i=this.count;n<i;n++)YS.fromBufferAttribute(this,n),YS.applyMatrix3(e),this.setXY(n,YS.x,YS.y);else if(this.itemSize===3)for(let n=0,i=this.count;n<i;n++)xa.fromBufferAttribute(this,n),xa.applyMatrix3(e),this.setXYZ(n,xa.x,xa.y,xa.z);return this}applyMatrix4(e){for(let n=0,i=this.count;n<i;n++)xa.fromBufferAttribute(this,n),xa.applyMatrix4(e),this.setXYZ(n,xa.x,xa.y,xa.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)xa.fromBufferAttribute(this,n),xa.applyNormalMatrix(e),this.setXYZ(n,xa.x,xa.y,xa.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)xa.fromBufferAttribute(this,n),xa.transformDirection(e),this.setXYZ(n,xa.x,xa.y,xa.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let i=this.array[e*this.itemSize+n];return this.normalized&&(i=oo(i,this.array)),i}setComponent(e,n,i){return this.normalized&&(i=Yn(i,this.array)),this.array[e*this.itemSize+n]=i,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=oo(n,this.array)),n}setX(e,n){return this.normalized&&(n=Yn(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=oo(n,this.array)),n}setY(e,n){return this.normalized&&(n=Yn(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=oo(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Yn(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=oo(n,this.array)),n}setW(e,n){return this.normalized&&(n=Yn(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=Yn(n,this.array),i=Yn(i,this.array)),this.array[e+0]=n,this.array[e+1]=i,this}setXYZ(e,n,i,r){return e*=this.itemSize,this.normalized&&(n=Yn(n,this.array),i=Yn(i,this.array),r=Yn(r,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,n,i,r,a){return e*=this.itemSize,this.normalized&&(n=Yn(n,this.array),i=Yn(i,this.array),r=Yn(r,this.array),a=Yn(a,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==C1&&(e.usage=this.usage),e}}class ige extends In{constructor(e,n,i){super(new Int8Array(e),n,i)}}class rge extends In{constructor(e,n,i){super(new Uint8Array(e),n,i)}}class age extends In{constructor(e,n,i){super(new Uint8ClampedArray(e),n,i)}}class sge extends In{constructor(e,n,i){super(new Int16Array(e),n,i)}}class ZL extends In{constructor(e,n,i){super(new Uint16Array(e),n,i)}}class oge extends In{constructor(e,n,i){super(new Int32Array(e),n,i)}}class QL extends In{constructor(e,n,i){super(new Uint32Array(e),n,i)}}class PY extends In{constructor(e,n,i){super(new Uint16Array(e),n,i),this.isFloat16BufferAttribute=!0}getX(e){let n=mx(this.array[e*this.itemSize]);return this.normalized&&(n=oo(n,this.array)),n}setX(e,n){return this.normalized&&(n=Yn(n,this.array)),this.array[e*this.itemSize]=_o(n),this}getY(e){let n=mx(this.array[e*this.itemSize+1]);return this.normalized&&(n=oo(n,this.array)),n}setY(e,n){return this.normalized&&(n=Yn(n,this.array)),this.array[e*this.itemSize+1]=_o(n),this}getZ(e){let n=mx(this.array[e*this.itemSize+2]);return this.normalized&&(n=oo(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Yn(n,this.array)),this.array[e*this.itemSize+2]=_o(n),this}getW(e){let n=mx(this.array[e*this.itemSize+3]);return this.normalized&&(n=oo(n,this.array)),n}setW(e,n){return this.normalized&&(n=Yn(n,this.array)),this.array[e*this.itemSize+3]=_o(n),this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=Yn(n,this.array),i=Yn(i,this.array)),this.array[e+0]=_o(n),this.array[e+1]=_o(i),this}setXYZ(e,n,i,r){return e*=this.itemSize,this.normalized&&(n=Yn(n,this.array),i=Yn(i,this.array),r=Yn(r,this.array)),this.array[e+0]=_o(n),this.array[e+1]=_o(i),this.array[e+2]=_o(r),this}setXYZW(e,n,i,r,a){return e*=this.itemSize,this.normalized&&(n=Yn(n,this.array),i=Yn(i,this.array),r=Yn(r,this.array),a=Yn(a,this.array)),this.array[e+0]=_o(n),this.array[e+1]=_o(i),this.array[e+2]=_o(r),this.array[e+3]=_o(a),this}}class ln extends In{constructor(e,n,i){super(new Float32Array(e),n,i)}}let lge=0;const Ll=new kt,H3=new Ei,eb=new Q,el=new vr,Dv=new vr,Ha=new Q;class An extends sf{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:lge++}),this.uuid=dl(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(NY(e)?QL:ZL)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,i=0){this.groups.push({start:e,count:n,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const a=new qn().getNormalMatrix(e);i.applyNormalMatrix(a),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ll.makeRotationFromQuaternion(e),this.applyMatrix4(Ll),this}rotateX(e){return Ll.makeRotationX(e),this.applyMatrix4(Ll),this}rotateY(e){return Ll.makeRotationY(e),this.applyMatrix4(Ll),this}rotateZ(e){return Ll.makeRotationZ(e),this.applyMatrix4(Ll),this}translate(e,n,i){return Ll.makeTranslation(e,n,i),this.applyMatrix4(Ll),this}scale(e,n,i){return Ll.makeScale(e,n,i),this.applyMatrix4(Ll),this}lookAt(e){return H3.lookAt(e),H3.updateMatrix(),this.applyMatrix4(H3.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(eb).negate(),this.translate(eb.x,eb.y,eb.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const i=[];for(let r=0,a=e.length;r<a;r++){const s=e[r];i.push(s.x,s.y,s.z||0)}this.setAttribute("position",new ln(i,3))}else{const i=Math.min(e.length,n.count);for(let r=0;r<i;r++){const a=e[r];n.setXYZ(r,a.x,a.y,a.z||0)}e.length>n.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new vr);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Q(-1/0,-1/0,-1/0),new Q(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let i=0,r=n.length;i<r;i++){const a=n[i];el.setFromBufferAttribute(a),this.morphTargetsRelative?(Ha.addVectors(this.boundingBox.min,el.min),this.boundingBox.expandByPoint(Ha),Ha.addVectors(this.boundingBox.max,el.max),this.boundingBox.expandByPoint(Ha)):(this.boundingBox.expandByPoint(el.min),this.boundingBox.expandByPoint(el.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Or);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Q,1/0);return}if(e){const i=this.boundingSphere.center;if(el.setFromBufferAttribute(e),n)for(let a=0,s=n.length;a<s;a++){const o=n[a];Dv.setFromBufferAttribute(o),this.morphTargetsRelative?(Ha.addVectors(el.min,Dv.min),el.expandByPoint(Ha),Ha.addVectors(el.max,Dv.max),el.expandByPoint(Ha)):(el.expandByPoint(Dv.min),el.expandByPoint(Dv.max))}el.getCenter(i);let r=0;for(let a=0,s=e.count;a<s;a++)Ha.fromBufferAttribute(e,a),r=Math.max(r,i.distanceToSquared(Ha));if(n)for(let a=0,s=n.length;a<s;a++){const o=n[a],l=this.morphTargetsRelative;for(let c=0,u=o.count;c<u;c++)Ha.fromBufferAttribute(o,c),l&&(eb.fromBufferAttribute(e,c),Ha.add(eb)),r=Math.max(r,i.distanceToSquared(Ha))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=n.position,r=n.normal,a=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new In(new Float32Array(4*i.count),4));const s=this.getAttribute("tangent"),o=[],l=[];for(let k=0;k<i.count;k++)o[k]=new Q,l[k]=new Q;const c=new Q,u=new Q,f=new Q,h=new yt,d=new yt,b=new yt,y=new Q,v=new Q;function m(k,N,D){c.fromBufferAttribute(i,k),u.fromBufferAttribute(i,N),f.fromBufferAttribute(i,D),h.fromBufferAttribute(a,k),d.fromBufferAttribute(a,N),b.fromBufferAttribute(a,D),u.sub(c),f.sub(c),d.sub(h),b.sub(h);const P=1/(d.x*b.y-b.x*d.y);isFinite(P)&&(y.copy(u).multiplyScalar(b.y).addScaledVector(f,-d.y).multiplyScalar(P),v.copy(f).multiplyScalar(d.x).addScaledVector(u,-b.x).multiplyScalar(P),o[k].add(y),o[N].add(y),o[D].add(y),l[k].add(v),l[N].add(v),l[D].add(v))}let x=this.groups;x.length===0&&(x=[{start:0,count:e.count}]);for(let k=0,N=x.length;k<N;++k){const D=x[k],P=D.start,B=D.count;for(let G=P,H=P+B;G<H;G+=3)m(e.getX(G+0),e.getX(G+1),e.getX(G+2))}const _=new Q,E=new Q,A=new Q,w=new Q;function T(k){A.fromBufferAttribute(r,k),w.copy(A);const N=o[k];_.copy(N),_.sub(A.multiplyScalar(A.dot(N))).normalize(),E.crossVectors(w,N);const P=E.dot(l[k])<0?-1:1;s.setXYZW(k,_.x,_.y,_.z,P)}for(let k=0,N=x.length;k<N;++k){const D=x[k],P=D.start,B=D.count;for(let G=P,H=P+B;G<H;G+=3)T(e.getX(G+0)),T(e.getX(G+1)),T(e.getX(G+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new In(new Float32Array(n.count*3),3),this.setAttribute("normal",i);else for(let h=0,d=i.count;h<d;h++)i.setXYZ(h,0,0,0);const r=new Q,a=new Q,s=new Q,o=new Q,l=new Q,c=new Q,u=new Q,f=new Q;if(e)for(let h=0,d=e.count;h<d;h+=3){const b=e.getX(h+0),y=e.getX(h+1),v=e.getX(h+2);r.fromBufferAttribute(n,b),a.fromBufferAttribute(n,y),s.fromBufferAttribute(n,v),u.subVectors(s,a),f.subVectors(r,a),u.cross(f),o.fromBufferAttribute(i,b),l.fromBufferAttribute(i,y),c.fromBufferAttribute(i,v),o.add(u),l.add(u),c.add(u),i.setXYZ(b,o.x,o.y,o.z),i.setXYZ(y,l.x,l.y,l.z),i.setXYZ(v,c.x,c.y,c.z)}else for(let h=0,d=n.count;h<d;h+=3)r.fromBufferAttribute(n,h+0),a.fromBufferAttribute(n,h+1),s.fromBufferAttribute(n,h+2),u.subVectors(s,a),f.subVectors(r,a),u.cross(f),i.setXYZ(h+0,u.x,u.y,u.z),i.setXYZ(h+1,u.x,u.y,u.z),i.setXYZ(h+2,u.x,u.y,u.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,i=e.count;n<i;n++)Ha.fromBufferAttribute(e,n),Ha.normalize(),e.setXYZ(n,Ha.x,Ha.y,Ha.z)}toNonIndexed(){function e(o,l){const c=o.array,u=o.itemSize,f=o.normalized,h=new c.constructor(l.length*u);let d=0,b=0;for(let y=0,v=l.length;y<v;y++){o.isInterleavedBufferAttribute?d=l[y]*o.data.stride+o.offset:d=l[y]*u;for(let m=0;m<u;m++)h[b++]=c[d++]}return new In(h,u,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new An,i=this.index.array,r=this.attributes;for(const o in r){const l=r[o],c=e(l,i);n.setAttribute(o,c)}const a=this.morphAttributes;for(const o in a){const l=[],c=a[o];for(let u=0,f=c.length;u<f;u++){const h=c[u],d=e(h,i);l.push(d)}n.morphAttributes[o]=l}n.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let o=0,l=s.length;o<l;o++){const c=s[o];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let a=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let f=0,h=c.length;f<h;f++){const d=c[f];u.push(d.toJSON(e.data))}u.length>0&&(r[l]=u,a=!0)}a&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere=o.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone());const r=e.attributes;for(const c in r){const u=r[c];this.setAttribute(c,u.clone(n))}const a=e.morphAttributes;for(const c in a){const u=[],f=a[c];for(let h=0,d=f.length;h<d;h++)u.push(f[h].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let c=0,u=s.length;c<u;c++){const f=s[c];this.addGroup(f.start,f.count,f.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const ej=new kt,_p=new of,JS=new Or,tj=new Q,$S=new Q,ZS=new Q,QS=new Q,V3=new Q,ew=new Q,nj=new Q,tw=new Q;class Di extends Ei{constructor(e=new An,n=new uo){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=r.length;a<s;a++){const o=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}getVertexPosition(e,n){const i=this.geometry,r=i.attributes.position,a=i.morphAttributes.position,s=i.morphTargetsRelative;n.fromBufferAttribute(r,e);const o=this.morphTargetInfluences;if(a&&o){ew.set(0,0,0);for(let l=0,c=a.length;l<c;l++){const u=o[l],f=a[l];u!==0&&(V3.fromBufferAttribute(f,e),s?ew.addScaledVector(V3,u):ew.addScaledVector(V3.sub(n),u))}n.add(ew)}return n}raycast(e,n){const i=this.geometry,r=this.material,a=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),JS.copy(i.boundingSphere),JS.applyMatrix4(a),_p.copy(e.ray).recast(e.near),!(JS.containsPoint(_p.origin)===!1&&(_p.intersectSphere(JS,tj)===null||_p.origin.distanceToSquared(tj)>(e.far-e.near)**2))&&(ej.copy(a).invert(),_p.copy(e.ray).applyMatrix4(ej),!(i.boundingBox!==null&&_p.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,n,_p)))}_computeIntersections(e,n,i){let r;const a=this.geometry,s=this.material,o=a.index,l=a.attributes.position,c=a.attributes.uv,u=a.attributes.uv1,f=a.attributes.normal,h=a.groups,d=a.drawRange;if(o!==null)if(Array.isArray(s))for(let b=0,y=h.length;b<y;b++){const v=h[b],m=s[v.materialIndex],x=Math.max(v.start,d.start),_=Math.min(o.count,Math.min(v.start+v.count,d.start+d.count));for(let E=x,A=_;E<A;E+=3){const w=o.getX(E),T=o.getX(E+1),k=o.getX(E+2);r=nw(this,m,e,i,c,u,f,w,T,k),r&&(r.faceIndex=Math.floor(E/3),r.face.materialIndex=v.materialIndex,n.push(r))}}else{const b=Math.max(0,d.start),y=Math.min(o.count,d.start+d.count);for(let v=b,m=y;v<m;v+=3){const x=o.getX(v),_=o.getX(v+1),E=o.getX(v+2);r=nw(this,s,e,i,c,u,f,x,_,E),r&&(r.faceIndex=Math.floor(v/3),n.push(r))}}else if(l!==void 0)if(Array.isArray(s))for(let b=0,y=h.length;b<y;b++){const v=h[b],m=s[v.materialIndex],x=Math.max(v.start,d.start),_=Math.min(l.count,Math.min(v.start+v.count,d.start+d.count));for(let E=x,A=_;E<A;E+=3){const w=E,T=E+1,k=E+2;r=nw(this,m,e,i,c,u,f,w,T,k),r&&(r.faceIndex=Math.floor(E/3),r.face.materialIndex=v.materialIndex,n.push(r))}}else{const b=Math.max(0,d.start),y=Math.min(l.count,d.start+d.count);for(let v=b,m=y;v<m;v+=3){const x=v,_=v+1,E=v+2;r=nw(this,s,e,i,c,u,f,x,_,E),r&&(r.faceIndex=Math.floor(v/3),n.push(r))}}}}function cge(t,e,n,i,r,a,s,o){let l;if(e.side===Aa?l=i.intersectTriangle(s,a,r,!0,o):l=i.intersectTriangle(r,a,s,e.side===ou,o),l===null)return null;tw.copy(o),tw.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(tw);return c<n.near||c>n.far?null:{distance:c,point:tw.clone(),object:t}}function nw(t,e,n,i,r,a,s,o,l,c){t.getVertexPosition(o,$S),t.getVertexPosition(l,ZS),t.getVertexPosition(c,QS);const u=cge(t,e,n,i,$S,ZS,QS,nj);if(u){const f=new Q;Ao.getBarycoord(nj,$S,ZS,QS,f),r&&(u.uv=Ao.getInterpolatedAttribute(r,o,l,c,f,new yt)),a&&(u.uv1=Ao.getInterpolatedAttribute(a,o,l,c,f,new yt)),s&&(u.normal=Ao.getInterpolatedAttribute(s,o,l,c,f,new Q),u.normal.dot(i.direction)>0&&u.normal.multiplyScalar(-1));const h={a:o,b:l,c,normal:new Q,materialIndex:0};Ao.getNormal($S,ZS,QS,h.normal),u.face=h,u.barycoord=f}return u}class Wd extends An{constructor(e=1,n=1,i=1,r=1,a=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:i,widthSegments:r,heightSegments:a,depthSegments:s};const o=this;r=Math.floor(r),a=Math.floor(a),s=Math.floor(s);const l=[],c=[],u=[],f=[];let h=0,d=0;b("z","y","x",-1,-1,i,n,e,s,a,0),b("z","y","x",1,-1,i,n,-e,s,a,1),b("x","z","y",1,1,e,i,n,r,s,2),b("x","z","y",1,-1,e,i,-n,r,s,3),b("x","y","z",1,-1,e,n,i,r,a,4),b("x","y","z",-1,-1,e,n,-i,r,a,5),this.setIndex(l),this.setAttribute("position",new ln(c,3)),this.setAttribute("normal",new ln(u,3)),this.setAttribute("uv",new ln(f,2));function b(y,v,m,x,_,E,A,w,T,k,N){const D=E/T,P=A/k,B=E/2,G=A/2,H=w/2,V=T+1,U=k+1;let F=0,q=0;const X=new Q;for(let z=0;z<U;z++){const oe=z*P-G;for(let fe=0;fe<V;fe++){const K=fe*D-B;X[y]=K*x,X[v]=oe*_,X[m]=H,c.push(X.x,X.y,X.z),X[y]=0,X[v]=0,X[m]=w>0?1:-1,u.push(X.x,X.y,X.z),f.push(fe/T),f.push(1-z/k),F+=1}}for(let z=0;z<k;z++)for(let oe=0;oe<T;oe++){const fe=h+oe+V*z,K=h+oe+V*(z+1),Me=h+(oe+1)+V*(z+1),_e=h+(oe+1)+V*z;l.push(fe,K,_e),l.push(K,Me,_e),q+=6}o.addGroup(d,q,N),d+=q,h+=F}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Wd(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function ey(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const r=t[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][i]=null):e[n][i]=r.clone():Array.isArray(r)?e[n][i]=r.slice():e[n][i]=r}}return e}function no(t){const e={};for(let n=0;n<t.length;n++){const i=ey(t[n]);for(const r in i)e[r]=i[r]}return e}function uge(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function UY(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:oi.workingColorSpace}const k1={clone:ey,merge:no};var fge=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,hge=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Za extends Ta{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=fge,this.fragmentShader=hge,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=ey(e.uniforms),this.uniformsGroups=uge(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const r in this.uniforms){const s=this.uniforms[r].value;s&&s.isTexture?n.uniforms[r]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?n.uniforms[r]={type:"c",value:s.getHex()}:s&&s.isVector2?n.uniforms[r]={type:"v2",value:s.toArray()}:s&&s.isVector3?n.uniforms[r]={type:"v3",value:s.toArray()}:s&&s.isVector4?n.uniforms[r]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?n.uniforms[r]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?n.uniforms[r]={type:"m4",value:s.toArray()}:n.uniforms[r]={value:s}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(n.extensions=i),n}}class bC extends Ei{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new kt,this.projectionMatrix=new kt,this.projectionMatrixInverse=new kt,this.coordinateSystem=ll,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Gh=new Q,ij=new yt,rj=new yt;class Xr extends bC{constructor(e=50,n=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Z0*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Am*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Z0*2*Math.atan(Math.tan(Am*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,i){Gh.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Gh.x,Gh.y).multiplyScalar(-e/Gh.z),Gh.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(Gh.x,Gh.y).multiplyScalar(-e/Gh.z)}getViewSize(e,n){return this.getViewBounds(e,ij,rj),n.subVectors(rj,ij)}setViewOffset(e,n,i,r,a,s){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Am*.5*this.fov)/this.zoom,i=2*n,r=this.aspect*i,a=-.5*r;const s=this.view;if(this.view!==null&&this.view.enabled){const l=s.fullWidth,c=s.fullHeight;a+=s.offsetX*r/l,n-=s.offsetY*i/c,r*=s.width/l,i*=s.height/c}const o=this.filmOffset;o!==0&&(a+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+r,n,n-i,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const tb=-90,nb=1;class FY extends Ei{constructor(e,n,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Xr(tb,nb,e,n);r.layers=this.layers,this.add(r);const a=new Xr(tb,nb,e,n);a.layers=this.layers,this.add(a);const s=new Xr(tb,nb,e,n);s.layers=this.layers,this.add(s);const o=new Xr(tb,nb,e,n);o.layers=this.layers,this.add(o);const l=new Xr(tb,nb,e,n);l.layers=this.layers,this.add(l);const c=new Xr(tb,nb,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[i,r,a,s,o,l]=n;for(const c of n)this.remove(c);if(e===ll)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===$0)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,s,o,l,c,u]=this.children,f=e.getRenderTarget(),h=e.getActiveCubeFace(),d=e.getActiveMipmapLevel(),b=e.xr.enabled;e.xr.enabled=!1;const y=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(n,a),e.setRenderTarget(i,1,r),e.render(n,s),e.setRenderTarget(i,2,r),e.render(n,o),e.setRenderTarget(i,3,r),e.render(n,l),e.setRenderTarget(i,4,r),e.render(n,c),i.texture.generateMipmaps=y,e.setRenderTarget(i,5,r),e.render(n,u),e.setRenderTarget(f,h,d),e.xr.enabled=b,i.texture.needsPMREMUpdate=!0}}class S_ extends er{constructor(e=[],n=Qu,i,r,a,s,o,l,c,u){super(e,n,i,r,a,s,o,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class eP extends pc{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new S_(r),this._setTextureOptions(n),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Wd(5,5,5),a=new Za({name:"CubemapFromEquirect",uniforms:ey(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Aa,blending:qu});a.uniforms.tEquirect.value=n;const s=new Di(r,a),o=n.minFilter;return n.minFilter===rc&&(n.minFilter=Gi),new FY(1,10,this).update(e,s),n.minFilter=o,s.geometry.dispose(),s.material.dispose(),this}clear(e,n=!0,i=!0,r=!0){const a=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(n,i,r);e.setRenderTarget(a)}}class Uu extends Ei{constructor(){super(),this.isGroup=!0,this.type="Group"}}const dge={type:"move"};class VE{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Uu,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Uu,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Q,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Q),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Uu,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Q,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Q),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const i of e.hand.values())this._getHandJoint(n,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,i){let r=null,a=null,s=null;const o=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){s=!0;for(const y of e.hand.values()){const v=n.getJointPose(y,i),m=this._getHandJoint(c,y);v!==null&&(m.matrix.fromArray(v.transform.matrix),m.matrix.decompose(m.position,m.rotation,m.scale),m.matrixWorldNeedsUpdate=!0,m.jointRadius=v.radius),m.visible=v!==null}const u=c.joints["index-finger-tip"],f=c.joints["thumb-tip"],h=u.position.distanceTo(f.position),d=.02,b=.005;c.inputState.pinching&&h>d+b?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&h<=d-b&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(a=n.getPose(e.gripSpace,i),a!==null&&(l.matrix.fromArray(a.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,a.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(a.linearVelocity)):l.hasLinearVelocity=!1,a.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(a.angularVelocity)):l.hasAngularVelocity=!1));o!==null&&(r=n.getPose(e.targetRaySpace,i),r===null&&a!==null&&(r=a),r!==null&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(dge)))}return o!==null&&(o.visible=r!==null),l!==null&&(l.visible=a!==null),c!==null&&(c.visible=s!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const i=new Uu;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[n.jointName]=i,e.add(i)}return e.joints[n.jointName]}}class yC{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new Ut(e),this.density=n}clone(){return new yC(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class vC{constructor(e,n=1,i=1e3){this.isFog=!0,this.name="",this.color=new Ut(e),this.near=n,this.far=i}clone(){return new vC(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Uy extends Ei{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new li,this.environmentIntensity=1,this.environmentRotation=new li,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class w_{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=C1,this.updateRanges=[],this.version=0,this.uuid=dl()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,i){e*=this.stride,i*=n.stride;for(let r=0,a=this.stride;r<a;r++)this.array[e+r]=n.array[i+r];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=dl()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(n,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=dl()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const eo=new Q;class To{constructor(e,n,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,i=this.data.count;n<i;n++)eo.fromBufferAttribute(this,n),eo.applyMatrix4(e),this.setXYZ(n,eo.x,eo.y,eo.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)eo.fromBufferAttribute(this,n),eo.applyNormalMatrix(e),this.setXYZ(n,eo.x,eo.y,eo.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)eo.fromBufferAttribute(this,n),eo.transformDirection(e),this.setXYZ(n,eo.x,eo.y,eo.z);return this}getComponent(e,n){let i=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(i=oo(i,this.array)),i}setComponent(e,n,i){return this.normalized&&(i=Yn(i,this.array)),this.data.array[e*this.data.stride+this.offset+n]=i,this}setX(e,n){return this.normalized&&(n=Yn(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Yn(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Yn(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Yn(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=oo(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=oo(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=oo(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=oo(n,this.array)),n}setXY(e,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Yn(n,this.array),i=Yn(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this}setXYZ(e,n,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Yn(n,this.array),i=Yn(i,this.array),r=Yn(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,n,i,r,a){return e=e*this.data.stride+this.offset,this.normalized&&(n=Yn(n,this.array),i=Yn(i,this.array),r=Yn(r,this.array),a=Yn(a,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=a,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)n.push(this.data.array[r+a])}return new In(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new To(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)n.push(this.data.array[r+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class tP extends Ta{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Ut(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let ib;const Nv=new Q,rb=new Q,ab=new Q,sb=new yt,Iv=new yt,zY=new kt,iw=new Q,Ov=new Q,rw=new Q,aj=new yt,G3=new yt,sj=new yt;class jY extends Ei{constructor(e=new tP){if(super(),this.isSprite=!0,this.type="Sprite",ib===void 0){ib=new An;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new w_(n,5);ib.setIndex([0,1,2,0,2,3]),ib.setAttribute("position",new To(i,3,0,!1)),ib.setAttribute("uv",new To(i,2,3,!1))}this.geometry=ib,this.material=e,this.center=new yt(.5,.5),this.count=1}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),rb.setFromMatrixScale(this.matrixWorld),zY.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),ab.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&rb.multiplyScalar(-ab.z);const i=this.material.rotation;let r,a;i!==0&&(a=Math.cos(i),r=Math.sin(i));const s=this.center;aw(iw.set(-.5,-.5,0),ab,s,rb,r,a),aw(Ov.set(.5,-.5,0),ab,s,rb,r,a),aw(rw.set(.5,.5,0),ab,s,rb,r,a),aj.set(0,0),G3.set(1,0),sj.set(1,1);let o=e.ray.intersectTriangle(iw,Ov,rw,!1,Nv);if(o===null&&(aw(Ov.set(-.5,.5,0),ab,s,rb,r,a),G3.set(0,1),o=e.ray.intersectTriangle(iw,rw,Ov,!1,Nv),o===null))return;const l=e.ray.origin.distanceTo(Nv);l<e.near||l>e.far||n.push({distance:l,point:Nv.clone(),uv:Ao.getInterpolation(Nv,iw,Ov,rw,aj,G3,sj,new yt),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function aw(t,e,n,i,r,a){sb.subVectors(t,n).addScalar(.5).multiply(i),r!==void 0?(Iv.x=a*sb.x-r*sb.y,Iv.y=r*sb.x+a*sb.y):Iv.copy(sb),t.copy(e),t.x+=Iv.x,t.y+=Iv.y,t.applyMatrix4(zY)}const sw=new Q,oj=new Q;class BY extends Ei{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let i=0,r=n.length;i<r;i++){const a=n[i];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,i=0){n=Math.abs(n);const r=this.levels;let a;for(a=0;a<r.length&&!(n<r[a].distance);a++);return r.splice(a,0,{distance:n,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const n=this.levels;for(let i=0;i<n.length;i++)if(n[i].distance===e){const r=n.splice(i,1);return this.remove(r[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let i,r;for(i=1,r=n.length;i<r;i++){let a=n[i].distance;if(n[i].object.visible&&(a-=a*n[i].hysteresis),e<a)break}return n[i-1].object}return null}raycast(e,n){if(this.levels.length>0){sw.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(sw);this.getObjectForDistance(r).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){sw.setFromMatrixPosition(e.matrixWorld),oj.setFromMatrixPosition(this.matrixWorld);const i=sw.distanceTo(oj)/e.zoom;n[0].object.visible=!0;let r,a;for(r=1,a=n.length;r<a;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),i>=s)n[r-1].object.visible=!1,n[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<a;r++)n[r].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const i=this.levels;for(let r=0,a=i.length;r<a;r++){const s=i[r];n.object.levels.push({object:s.object.uuid,distance:s.distance,hysteresis:s.hysteresis})}return n}}const lj=new Q,cj=new ni,uj=new ni,pge=new Q,fj=new kt,ow=new Q,W3=new Or,hj=new kt,q3=new of;let xC=class extends Di{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=E1,this.bindMatrix=new kt,this.bindMatrixInverse=new kt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new vr),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let i=0;i<n.count;i++)this.getVertexPosition(i,ow),this.boundingBox.expandByPoint(ow)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Or),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let i=0;i<n.count;i++)this.getVertexPosition(i,ow),this.boundingSphere.expandByPoint(ow)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),W3.copy(this.boundingSphere),W3.applyMatrix4(r),e.ray.intersectsSphere(W3)!==!1&&(hj.copy(r).invert(),q3.copy(e.ray).applyMatrix4(hj),!(this.boundingBox!==null&&q3.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,q3)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new ni,n=this.geometry.attributes.skinWeight;for(let i=0,r=n.count;i<r;i++){e.fromBufferAttribute(n,i);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),n.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===E1?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===HL?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const i=this.skeleton,r=this.geometry;cj.fromBufferAttribute(r.attributes.skinIndex,e),uj.fromBufferAttribute(r.attributes.skinWeight,e),lj.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let a=0;a<4;a++){const s=uj.getComponent(a);if(s!==0){const o=cj.getComponent(a);fj.multiplyMatrices(i.bones[o].matrixWorld,i.boneInverses[o]),n.addScaledVector(pge.copy(lj).applyMatrix4(fj),s)}}return n.applyMatrix4(this.bindMatrixInverse)}};class E_ extends Ei{constructor(){super(),this.isBone=!0,this.type="Bone"}}class bs extends er{constructor(e=null,n=1,i=1,r,a,s,o,l,c=Ja,u=Ja,f,h){super(null,s,o,l,c,u,r,a,f,h),this.isDataTexture=!0,this.image={data:e,width:n,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const dj=new kt,mge=new kt;class Fy{constructor(e=[],n=[]){this.uuid=dl(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new kt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const i=new kt;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,n=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let a=0,s=e.length;a<s;a++){const o=e[a]?e[a].matrixWorld:mge;dj.multiplyMatrices(o,n[a]),dj.toArray(i,a*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new Fy(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const i=new bs(n,e,e,Yr,yr);return i.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=i,this}getBoneByName(e){for(let n=0,i=this.bones.length;n<i;n++){const r=this.bones[n];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const a=e.bones[i];let s=n[a];s===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),s=new E_),this.bones.push(s),this.boneInverses.push(new kt().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,i=this.boneInverses;for(let r=0,a=n.length;r<a;r++){const s=n[r];e.bones.push(s.uuid);const o=i[r];e.boneInverses.push(o.toArray())}return e}}class uh extends In{constructor(e,n,i,r=1){super(e,n,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const ob=new kt,pj=new kt,lw=[],mj=new vr,gge=new kt,Lv=new Di,Pv=new Or;class _C extends Di{constructor(e,n,i){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new uh(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,gge)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new vr),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,ob),mj.copy(e.boundingBox).applyMatrix4(ob),this.boundingBox.union(mj)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new Or),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,ob),Pv.copy(e.boundingSphere).applyMatrix4(ob),this.boundingSphere.union(Pv)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const i=n.morphTargetInfluences,r=this.morphTexture.source.data.data,a=i.length+1,s=e*a+1;for(let o=0;o<i.length;o++)i[o]=r[s+o]}raycast(e,n){const i=this.matrixWorld,r=this.count;if(Lv.geometry=this.geometry,Lv.material=this.material,Lv.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Pv.copy(this.boundingSphere),Pv.applyMatrix4(i),e.ray.intersectsSphere(Pv)!==!1))for(let a=0;a<r;a++){this.getMatrixAt(a,ob),pj.multiplyMatrices(i,ob),Lv.matrixWorld=pj,Lv.raycast(e,lw);for(let s=0,o=lw.length;s<o;s++){const l=lw[s];l.instanceId=a,l.object=this,n.push(l)}lw.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new uh(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const i=n.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new bs(new Float32Array(r*this.count),r,this.count,yh,yr));const a=this.morphTexture.source.data.data;let s=0;for(let c=0;c<i.length;c++)s+=i[c];const o=this.geometry.morphTargetsRelative?1:1-s,l=r*e;a[l]=o,a.set(i,l+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const X3=new Q,bge=new Q,yge=new qn;class Hc{constructor(e=new Q(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,i,r){return this.normal.set(e,n,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,i){const r=X3.subVectors(i,n).cross(bge.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const i=e.delta(X3),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/r;return a<0||a>1?null:n.copy(e.start).addScaledVector(i,a)}intersectsLine(e){const n=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return n<0&&i>0||i<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const i=n||yge.getNormalMatrix(e),r=this.coplanarPoint(X3).applyMatrix4(e),a=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Sp=new Or,vge=new yt(.5,.5),cw=new Q;class og{constructor(e=new Hc,n=new Hc,i=new Hc,r=new Hc,a=new Hc,s=new Hc){this.planes=[e,n,i,r,a,s]}set(e,n,i,r,a,s){const o=this.planes;return o[0].copy(e),o[1].copy(n),o[2].copy(i),o[3].copy(r),o[4].copy(a),o[5].copy(s),this}copy(e){const n=this.planes;for(let i=0;i<6;i++)n[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,n=ll,i=!1){const r=this.planes,a=e.elements,s=a[0],o=a[1],l=a[2],c=a[3],u=a[4],f=a[5],h=a[6],d=a[7],b=a[8],y=a[9],v=a[10],m=a[11],x=a[12],_=a[13],E=a[14],A=a[15];if(r[0].setComponents(c-s,d-u,m-b,A-x).normalize(),r[1].setComponents(c+s,d+u,m+b,A+x).normalize(),r[2].setComponents(c+o,d+f,m+y,A+_).normalize(),r[3].setComponents(c-o,d-f,m-y,A-_).normalize(),i)r[4].setComponents(l,h,v,E).normalize(),r[5].setComponents(c-l,d-h,m-v,A-E).normalize();else if(r[4].setComponents(c-l,d-h,m-v,A-E).normalize(),n===ll)r[5].setComponents(c+l,d+h,m+v,A+E).normalize();else if(n===$0)r[5].setComponents(l,h,v,E).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Sp.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Sp.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Sp)}intersectsSprite(e){Sp.center.set(0,0,0);const n=vge.distanceTo(e.center);return Sp.radius=.7071067811865476+n,Sp.applyMatrix4(e.matrixWorld),this.intersectsSphere(Sp)}intersectsSphere(e){const n=this.planes,i=e.center,r=-e.radius;for(let a=0;a<6;a++)if(n[a].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const n=this.planes;for(let i=0;i<6;i++){const r=n[i];if(cw.x=r.normal.x>0?e.max.x:e.min.x,cw.y=r.normal.y>0?e.max.y:e.min.y,cw.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(cw)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let i=0;i<6;i++)if(n[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const Su=new kt,wu=new og;class SC{constructor(){this.coordinateSystem=ll}intersectsObject(e,n){if(!n.isArrayCamera||n.cameras.length===0)return!1;for(let i=0;i<n.cameras.length;i++){const r=n.cameras[i];if(Su.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),wu.setFromProjectionMatrix(Su,r.coordinateSystem,r.reversedDepth),wu.intersectsObject(e))return!0}return!1}intersectsSprite(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let i=0;i<n.cameras.length;i++){const r=n.cameras[i];if(Su.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),wu.setFromProjectionMatrix(Su,r.coordinateSystem,r.reversedDepth),wu.intersectsSprite(e))return!0}return!1}intersectsSphere(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let i=0;i<n.cameras.length;i++){const r=n.cameras[i];if(Su.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),wu.setFromProjectionMatrix(Su,r.coordinateSystem,r.reversedDepth),wu.intersectsSphere(e))return!0}return!1}intersectsBox(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let i=0;i<n.cameras.length;i++){const r=n.cameras[i];if(Su.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),wu.setFromProjectionMatrix(Su,r.coordinateSystem,r.reversedDepth),wu.intersectsBox(e))return!0}return!1}containsPoint(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let i=0;i<n.cameras.length;i++){const r=n.cameras[i];if(Su.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),wu.setFromProjectionMatrix(Su,r.coordinateSystem,r.reversedDepth),wu.containsPoint(e))return!0}return!1}clone(){return new SC}}function K3(t,e){return t-e}function xge(t,e){return t.z-e.z}function _ge(t,e){return e.z-t.z}class Sge{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n,i,r){const a=this.pool,s=this.list;this.index>=a.length&&a.push({start:-1,count:-1,z:-1,index:-1});const o=a[this.index];s.push(o),this.index++,o.start=e,o.count=n,o.z=i,o.index=r}reset(){this.list.length=0,this.index=0}}const vo=new kt,wge=new Ut(1,1,1),gj=new og,Ege=new SC,uw=new vr,wp=new Or,Uv=new Q,bj=new Q,Mge=new Q,Y3=new Sge,Os=new Di,fw=[];function Age(t,e,n=0){const i=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const r=t.count;for(let a=0;a<r;a++)for(let s=0;s<i;s++)e.setComponent(a+n,s,t.getComponent(a,s))}else e.array.set(t.array,n*i);e.needsUpdate=!0}function Ep(t,e){if(t.constructor!==e.constructor){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++)e[i]=t[i]}else{const n=Math.min(t.length,e.length);e.set(new t.constructor(t.buffer,0,n))}}let HY=class extends Di{constructor(e,n,i=n*2,r){super(new An,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=n,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),i=new bs(n,e,e,Yr,yr);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Uint32Array(e*e),i=new bs(n,e,e,Ly,dc);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Float32Array(e*e*4).fill(1),i=new bs(n,e,e,Yr,yr);i.colorSpace=oi.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const n=this.geometry,i=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const s=e.getAttribute(a),{array:o,itemSize:l,normalized:c}=s,u=new o.constructor(i*l),f=new In(u,l,c);n.setAttribute(a,f)}if(e.getIndex()!==null){const a=i>65535?new Uint32Array(r):new Uint16Array(r);n.setIndex(new In(a,1))}this._geometryInitialized=!0}}_validateGeometry(e){const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in n.attributes){if(!e.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=e.getAttribute(i),a=n.getAttribute(i);if(r.itemSize!==a.itemSize||r.normalized!==a.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const n=this._instanceInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const n=this._geometryInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new vr);const e=this.boundingBox,n=this._instanceInfo;e.makeEmpty();for(let i=0,r=n.length;i<r;i++){if(n[i].active===!1)continue;const a=n[i].geometryIndex;this.getMatrixAt(i,vo),this.getBoundingBoxAt(a,uw).applyMatrix4(vo),e.union(uw)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Or);const e=this.boundingSphere,n=this._instanceInfo;e.makeEmpty();for(let i=0,r=n.length;i<r;i++){if(n[i].active===!1)continue;const a=n[i].geometryIndex;this.getMatrixAt(i,vo),this.getBoundingSphereAt(a,wp).applyMatrix4(vo),e.union(wp)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(K3),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=i):(r=this._instanceInfo.length,this._instanceInfo.push(i));const a=this._matricesTexture;vo.identity().toArray(a.image.data,r*16),a.needsUpdate=!0;const s=this._colorsTexture;return s&&(wge.toArray(s.image.data,r*4),s.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(e,n=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},a=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=n===-1?e.getAttribute("position").count:n;const s=e.getIndex();if(s!==null&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=i===-1?s.count:i),r.indexStart!==-1&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(K3),l=this._availableGeometryIds.shift(),a[l]=r):(l=this._geometryCount,this._geometryCount++,a.push(r)),this.setGeometryAt(l,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,l}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const i=this.geometry,r=i.getIndex()!==null,a=i.getIndex(),s=n.getIndex(),o=this._geometryInfo[e];if(r&&s.count>o.reservedIndexCount||n.attributes.position.count>o.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const l=o.vertexStart,c=o.reservedVertexCount;o.vertexCount=n.getAttribute("position").count;for(const u in i.attributes){const f=n.getAttribute(u),h=i.getAttribute(u);Age(f,h,l);const d=f.itemSize;for(let b=f.count,y=c;b<y;b++){const v=l+b;for(let m=0;m<d;m++)h.setComponent(v,m,0)}h.needsUpdate=!0,h.addUpdateRange(l*d,c*d)}if(r){const u=o.indexStart,f=o.reservedIndexCount;o.indexCount=n.getIndex().count;for(let h=0;h<s.count;h++)a.setX(u+h,l+s.getX(h));for(let h=s.count,d=f;h<d;h++)a.setX(u+h,l);a.needsUpdate=!0,a.addUpdateRange(u,o.reservedIndexCount)}return o.start=r?o.indexStart:o.vertexStart,o.count=r?o.indexCount:o.vertexCount,o.boundingBox=null,n.boundingBox!==null&&(o.boundingBox=n.boundingBox.clone()),o.boundingSphere=null,n.boundingSphere!==null&&(o.boundingSphere=n.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._geometryInfo;if(e>=n.length||n[e].active===!1)return this;const i=this._instanceInfo;for(let r=0,a=i.length;r<a;r++)i[r].active&&i[r].geometryIndex===e&&this.deleteInstance(r);return n[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,n=0;const i=this._geometryInfo,r=i.map((s,o)=>o).sort((s,o)=>i[s].vertexStart-i[o].vertexStart),a=this.geometry;for(let s=0,o=i.length;s<o;s++){const l=r[s],c=i[l];if(c.active!==!1){if(a.index!==null){if(c.indexStart!==n){const{indexStart:u,vertexStart:f,reservedIndexCount:h}=c,d=a.index,b=d.array,y=e-f;for(let v=u;v<u+h;v++)b[v]=b[v]+y;d.array.copyWithin(n,u,u+h),d.addUpdateRange(n,h),c.indexStart=n}n+=c.reservedIndexCount}if(c.vertexStart!==e){const{vertexStart:u,reservedVertexCount:f}=c,h=a.attributes;for(const d in h){const b=h[d],{array:y,itemSize:v}=b;y.copyWithin(e*v,u*v,(u+f)*v),b.addUpdateRange(e*v,f*v)}c.vertexStart=e}e+=c.reservedVertexCount,c.start=a.index?c.indexStart:c.vertexStart,this._nextIndexStart=a.index?c.indexStart+c.reservedIndexCount:0,this._nextVertexStart=c.vertexStart+c.reservedVertexCount}}return this}getBoundingBoxAt(e,n){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingBox===null){const a=new vr,s=i.index,o=i.attributes.position;for(let l=r.start,c=r.start+r.count;l<c;l++){let u=l;s&&(u=s.getX(u)),a.expandByPoint(Uv.fromBufferAttribute(o,u))}r.boundingBox=a}return n.copy(r.boundingBox),n}getBoundingSphereAt(e,n){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingSphere===null){const a=new Or;this.getBoundingBoxAt(e,uw),uw.getCenter(a.center);const s=i.index,o=i.attributes.position;let l=0;for(let c=r.start,u=r.start+r.count;c<u;c++){let f=c;s&&(f=s.getX(f)),Uv.fromBufferAttribute(o,f),l=Math.max(l,a.center.distanceToSquared(Uv))}a.radius=Math.sqrt(l),r.boundingSphere=a}return n.copy(r.boundingSphere),n}setMatrixAt(e,n){this.validateInstanceId(e);const i=this._matricesTexture,r=this._matricesTexture.image.data;return n.toArray(r,e*16),i.needsUpdate=!0,this}getMatrixAt(e,n){return this.validateInstanceId(e),n.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,n){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),n.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,n){return this.validateInstanceId(e),n.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,n){return this.validateInstanceId(e),this._instanceInfo[e].visible===n?this:(this._instanceInfo[e].visible=n,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,n){return this.validateInstanceId(e),this.validateGeometryId(n),this._instanceInfo[e].geometryIndex=n,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,n={}){this.validateGeometryId(e);const i=this._geometryInfo[e];return n.vertexStart=i.vertexStart,n.vertexCount=i.vertexCount,n.reservedVertexCount=i.reservedVertexCount,n.indexStart=i.indexStart,n.indexCount=i.indexCount,n.reservedIndexCount=i.reservedIndexCount,n.start=i.start,n.count=i.count,n}setInstanceCount(e){const n=this._availableInstanceIds,i=this._instanceInfo;for(n.sort(K3);n[n.length-1]===i.length-1;)i.pop(),n.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const r=new Int32Array(e),a=new Int32Array(e);Ep(this._multiDrawCounts,r),Ep(this._multiDrawStarts,a),this._multiDrawCounts=r,this._multiDrawStarts=a,this._maxInstanceCount=e;const s=this._indirectTexture,o=this._matricesTexture,l=this._colorsTexture;s.dispose(),this._initIndirectTexture(),Ep(s.image.data,this._indirectTexture.image.data),o.dispose(),this._initMatricesTexture(),Ep(o.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),Ep(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,n){const i=[...this._geometryInfo].filter(o=>o.active);if(Math.max(...i.map(o=>o.vertexStart+o.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${n}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(l=>l.indexStart+l.reservedIndexCount))>n)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${n}. Cannot shrink further.`);const a=this.geometry;a.dispose(),this._maxVertexCount=e,this._maxIndexCount=n,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new An,this._initializeGeometry(a));const s=this.geometry;a.index&&Ep(a.index.array,s.index.array);for(const o in a.attributes)Ep(a.attributes[o].array,s.attributes[o].array)}raycast(e,n){const i=this._instanceInfo,r=this._geometryInfo,a=this.matrixWorld,s=this.geometry;Os.material=this.material,Os.geometry.index=s.index,Os.geometry.attributes=s.attributes,Os.geometry.boundingBox===null&&(Os.geometry.boundingBox=new vr),Os.geometry.boundingSphere===null&&(Os.geometry.boundingSphere=new Or);for(let o=0,l=i.length;o<l;o++){if(!i[o].visible||!i[o].active)continue;const c=i[o].geometryIndex,u=r[c];Os.geometry.setDrawRange(u.start,u.count),this.getMatrixAt(o,Os.matrixWorld).premultiply(a),this.getBoundingBoxAt(c,Os.geometry.boundingBox),this.getBoundingSphereAt(c,Os.geometry.boundingSphere),Os.raycast(e,fw);for(let f=0,h=fw.length;f<h;f++){const d=fw[f];d.object=this,d.batchId=o,n.push(d)}fw.length=0}Os.material=null,Os.geometry.index=null,Os.geometry.attributes={},Os.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(n=>({...n,boundingBox:n.boundingBox!==null?n.boundingBox.clone():null,boundingSphere:n.boundingSphere!==null?n.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(n=>({...n})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,n,i,r,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const s=r.getIndex(),o=s===null?1:s.array.BYTES_PER_ELEMENT,l=this._instanceInfo,c=this._multiDrawStarts,u=this._multiDrawCounts,f=this._geometryInfo,h=this.perObjectFrustumCulled,d=this._indirectTexture,b=d.image.data,y=i.isArrayCamera?Ege:gj;h&&!i.isArrayCamera&&(vo.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),gj.setFromProjectionMatrix(vo,i.coordinateSystem,i.reversedDepth));let v=0;if(this.sortObjects){vo.copy(this.matrixWorld).invert(),Uv.setFromMatrixPosition(i.matrixWorld).applyMatrix4(vo),bj.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(vo);for(let _=0,E=l.length;_<E;_++)if(l[_].visible&&l[_].active){const A=l[_].geometryIndex;this.getMatrixAt(_,vo),this.getBoundingSphereAt(A,wp).applyMatrix4(vo);let w=!1;if(h&&(w=!y.intersectsSphere(wp,i)),!w){const T=f[A],k=Mge.subVectors(wp.center,Uv).dot(bj);Y3.push(T.start,T.count,k,_)}}const m=Y3.list,x=this.customSort;x===null?m.sort(a.transparent?_ge:xge):x.call(this,m,i);for(let _=0,E=m.length;_<E;_++){const A=m[_];c[v]=A.start*o,u[v]=A.count,b[v]=A.index,v++}Y3.reset()}else for(let m=0,x=l.length;m<x;m++)if(l[m].visible&&l[m].active){const _=l[m].geometryIndex;let E=!1;if(h&&(this.getMatrixAt(m,vo),this.getBoundingSphereAt(_,wp).applyMatrix4(vo),E=!y.intersectsSphere(wp,i)),!E){const A=f[_];c[v]=A.start*o,u[v]=A.count,b[v]=m,v++}}d.needsUpdate=!0,this._multiDrawCount=v,this._visibilityChanged=!1}onBeforeShadow(e,n,i,r,a,s){this.onBeforeRender(e,null,r,a,s)}};class Bs extends Ta{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ut(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const MA=new Q,AA=new Q,yj=new kt,Fv=new of,hw=new Or,J3=new Q,vj=new Q;let fh=class extends Ei{constructor(e=new An,n=new Bs){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[0];for(let r=1,a=n.count;r<a;r++)MA.fromBufferAttribute(n,r-1),AA.fromBufferAttribute(n,r),i[r]=i[r-1],i[r]+=MA.distanceTo(AA);e.setAttribute("lineDistance",new ln(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,a=e.params.Line.threshold,s=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),hw.copy(i.boundingSphere),hw.applyMatrix4(r),hw.radius+=a,e.ray.intersectsSphere(hw)===!1)return;yj.copy(r).invert(),Fv.copy(e.ray).applyMatrix4(yj);const o=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=this.isLineSegments?2:1,u=i.index,h=i.attributes.position;if(u!==null){const d=Math.max(0,s.start),b=Math.min(u.count,s.start+s.count);for(let y=d,v=b-1;y<v;y+=c){const m=u.getX(y),x=u.getX(y+1),_=dw(this,e,Fv,l,m,x,y);_&&n.push(_)}if(this.isLineLoop){const y=u.getX(b-1),v=u.getX(d),m=dw(this,e,Fv,l,y,v,b-1);m&&n.push(m)}}else{const d=Math.max(0,s.start),b=Math.min(h.count,s.start+s.count);for(let y=d,v=b-1;y<v;y+=c){const m=dw(this,e,Fv,l,y,y+1,y);m&&n.push(m)}if(this.isLineLoop){const y=dw(this,e,Fv,l,b-1,d,b-1);y&&n.push(y)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=r.length;a<s;a++){const o=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}};function dw(t,e,n,i,r,a,s){const o=t.geometry.attributes.position;if(MA.fromBufferAttribute(o,r),AA.fromBufferAttribute(o,a),n.distanceSqToSegment(MA,AA,J3,vj)>i)return;J3.applyMatrix4(t.matrixWorld);const c=e.ray.origin.distanceTo(J3);if(!(c<e.near||c>e.far))return{distance:c,point:vj.clone().applyMatrix4(t.matrixWorld),index:s,face:null,faceIndex:null,barycoord:null,object:t}}const xj=new Q,_j=new Q;class hu extends fh{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[];for(let r=0,a=n.count;r<a;r+=2)xj.fromBufferAttribute(n,r),_j.fromBufferAttribute(n,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+xj.distanceTo(_j);e.setAttribute("lineDistance",new ln(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class nP extends fh{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class wC extends Ta{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ut(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const Sj=new kt,mN=new of,pw=new Or,mw=new Q;class iP extends Ei{constructor(e=new An,n=new wC){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,a=e.params.Points.threshold,s=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),pw.copy(i.boundingSphere),pw.applyMatrix4(r),pw.radius+=a,e.ray.intersectsSphere(pw)===!1)return;Sj.copy(r).invert(),mN.copy(e.ray).applyMatrix4(Sj);const o=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=i.index,f=i.attributes.position;if(c!==null){const h=Math.max(0,s.start),d=Math.min(c.count,s.start+s.count);for(let b=h,y=d;b<y;b++){const v=c.getX(b);mw.fromBufferAttribute(f,v),wj(mw,v,l,r,e,n,this)}}else{const h=Math.max(0,s.start),d=Math.min(f.count,s.start+s.count);for(let b=h,y=d;b<y;b++)mw.fromBufferAttribute(f,b),wj(mw,b,l,r,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=r.length;a<s;a++){const o=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}}function wj(t,e,n,i,r,a,s){const o=mN.distanceSqToPoint(t);if(o<n){const l=new Q;mN.closestPointToPoint(t,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;a.push({distance:c,distanceToRay:Math.sqrt(o),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:s})}}class VY extends er{constructor(e,n,i,r,a=Gi,s=Gi,o,l,c){super(e,n,i,r,a,s,o,l,c),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const u=this;function f(){u.needsUpdate=!0,u._requestVideoFrameCallbackId=e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(f))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),super.dispose()}}class Tge extends VY{constructor(e,n,i,r,a,s,o,l){super({},e,n,i,r,a,s,o,l),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class Cge extends er{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=Ja,this.minFilter=Ja,this.generateMipmaps=!1,this.needsUpdate=!0}}class EC extends er{constructor(e,n,i,r,a,s,o,l,c,u,f,h){super(null,s,o,l,c,u,r,a,f,h),this.isCompressedTexture=!0,this.image={width:n,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Rge extends EC{constructor(e,n,i,r,a,s){super(e,n,i,a,s),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=pa,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class kge extends EC{constructor(e,n,i){super(void 0,e[0].width,e[0].height,n,i,Qu),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class Dge extends er{constructor(e,n,i,r,a,s,o,l,c){super(e,n,i,r,a,s,o,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class rP extends er{constructor(e,n,i=dc,r,a,s,o=Ja,l=Ja,c,u=X0,f=1){if(u!==X0&&u!==K0)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const h={width:e,height:n,depth:f};super(h,r,a,s,o,l,u,i,c),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new bd(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class MC extends An{constructor(e=1,n=1,i=4,r=8,a=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:n,capSegments:i,radialSegments:r,heightSegments:a},n=Math.max(0,n),i=Math.max(1,Math.floor(i)),r=Math.max(3,Math.floor(r)),a=Math.max(1,Math.floor(a));const s=[],o=[],l=[],c=[],u=n/2,f=Math.PI/2*e,h=n,d=2*f+h,b=i*2+a,y=r+1,v=new Q,m=new Q;for(let x=0;x<=b;x++){let _=0,E=0,A=0,w=0;if(x<=i){const N=x/i,D=N*Math.PI/2;E=-u-e*Math.cos(D),A=e*Math.sin(D),w=-e*Math.cos(D),_=N*f}else if(x<=i+a){const N=(x-i)/a;E=-u+N*n,A=e,w=0,_=f+N*h}else{const N=(x-i-a)/i,D=N*Math.PI/2;E=u+e*Math.sin(D),A=e*Math.cos(D),w=e*Math.sin(D),_=f+h+N*f}const T=Math.max(0,Math.min(1,_/d));let k=0;x===0?k=.5/r:x===b&&(k=-.5/r);for(let N=0;N<=r;N++){const D=N/r,P=D*Math.PI*2,B=Math.sin(P),G=Math.cos(P);m.x=-A*G,m.y=E,m.z=A*B,o.push(m.x,m.y,m.z),v.set(-A*G,w,A*B),v.normalize(),l.push(v.x,v.y,v.z),c.push(D+k,T)}if(x>0){const N=(x-1)*y;for(let D=0;D<r;D++){const P=N+D,B=N+D+1,G=x*y+D,H=x*y+D+1;s.push(P,B,G),s.push(B,H,G)}}}this.setIndex(s),this.setAttribute("position",new ln(o,3)),this.setAttribute("normal",new ln(l,3)),this.setAttribute("uv",new ln(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new MC(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class AC extends An{constructor(e=1,n=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:i,thetaLength:r},n=Math.max(3,n);const a=[],s=[],o=[],l=[],c=new Q,u=new yt;s.push(0,0,0),o.push(0,0,1),l.push(.5,.5);for(let f=0,h=3;f<=n;f++,h+=3){const d=i+f/n*r;c.x=e*Math.cos(d),c.y=e*Math.sin(d),s.push(c.x,c.y,c.z),o.push(0,0,1),u.x=(s[h]/e+1)/2,u.y=(s[h+1]/e+1)/2,l.push(u.x,u.y)}for(let f=1;f<=n;f++)a.push(f,f+1,0);this.setIndex(a),this.setAttribute("position",new ln(s,3)),this.setAttribute("normal",new ln(o,3)),this.setAttribute("uv",new ln(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new AC(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class zm extends An{constructor(e=1,n=1,i=1,r=32,a=1,s=!1,o=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:i,radialSegments:r,heightSegments:a,openEnded:s,thetaStart:o,thetaLength:l};const c=this;r=Math.floor(r),a=Math.floor(a);const u=[],f=[],h=[],d=[];let b=0;const y=[],v=i/2;let m=0;x(),s===!1&&(e>0&&_(!0),n>0&&_(!1)),this.setIndex(u),this.setAttribute("position",new ln(f,3)),this.setAttribute("normal",new ln(h,3)),this.setAttribute("uv",new ln(d,2));function x(){const E=new Q,A=new Q;let w=0;const T=(n-e)/i;for(let k=0;k<=a;k++){const N=[],D=k/a,P=D*(n-e)+e;for(let B=0;B<=r;B++){const G=B/r,H=G*l+o,V=Math.sin(H),U=Math.cos(H);A.x=P*V,A.y=-D*i+v,A.z=P*U,f.push(A.x,A.y,A.z),E.set(V,T,U).normalize(),h.push(E.x,E.y,E.z),d.push(G,1-D),N.push(b++)}y.push(N)}for(let k=0;k<r;k++)for(let N=0;N<a;N++){const D=y[N][k],P=y[N+1][k],B=y[N+1][k+1],G=y[N][k+1];(e>0||N!==0)&&(u.push(D,P,G),w+=3),(n>0||N!==a-1)&&(u.push(P,B,G),w+=3)}c.addGroup(m,w,0),m+=w}function _(E){const A=b,w=new yt,T=new Q;let k=0;const N=E===!0?e:n,D=E===!0?1:-1;for(let B=1;B<=r;B++)f.push(0,v*D,0),h.push(0,D,0),d.push(.5,.5),b++;const P=b;for(let B=0;B<=r;B++){const H=B/r*l+o,V=Math.cos(H),U=Math.sin(H);T.x=N*U,T.y=v*D,T.z=N*V,f.push(T.x,T.y,T.z),h.push(0,D,0),w.x=V*.5+.5,w.y=U*.5*D+.5,d.push(w.x,w.y),b++}for(let B=0;B<r;B++){const G=A+B,H=P+B;E===!0?u.push(H,H+1,G):u.push(H+1,H,G),k+=3}c.addGroup(m,k,E===!0?1:2),m+=k}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new zm(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class M_ extends zm{constructor(e=1,n=1,i=32,r=1,a=!1,s=0,o=Math.PI*2){super(0,e,n,i,r,a,s,o),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:i,heightSegments:r,openEnded:a,thetaStart:s,thetaLength:o}}static fromJSON(e){return new M_(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class qd extends An{constructor(e=[],n=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:i,detail:r};const a=[],s=[];o(r),c(i),u(),this.setAttribute("position",new ln(a,3)),this.setAttribute("normal",new ln(a.slice(),3)),this.setAttribute("uv",new ln(s,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function o(x){const _=new Q,E=new Q,A=new Q;for(let w=0;w<n.length;w+=3)d(n[w+0],_),d(n[w+1],E),d(n[w+2],A),l(_,E,A,x)}function l(x,_,E,A){const w=A+1,T=[];for(let k=0;k<=w;k++){T[k]=[];const N=x.clone().lerp(E,k/w),D=_.clone().lerp(E,k/w),P=w-k;for(let B=0;B<=P;B++)B===0&&k===w?T[k][B]=N:T[k][B]=N.clone().lerp(D,B/P)}for(let k=0;k<w;k++)for(let N=0;N<2*(w-k)-1;N++){const D=Math.floor(N/2);N%2===0?(h(T[k][D+1]),h(T[k+1][D]),h(T[k][D])):(h(T[k][D+1]),h(T[k+1][D+1]),h(T[k+1][D]))}}function c(x){const _=new Q;for(let E=0;E<a.length;E+=3)_.x=a[E+0],_.y=a[E+1],_.z=a[E+2],_.normalize().multiplyScalar(x),a[E+0]=_.x,a[E+1]=_.y,a[E+2]=_.z}function u(){const x=new Q;for(let _=0;_<a.length;_+=3){x.x=a[_+0],x.y=a[_+1],x.z=a[_+2];const E=v(x)/2/Math.PI+.5,A=m(x)/Math.PI+.5;s.push(E,1-A)}b(),f()}function f(){for(let x=0;x<s.length;x+=6){const _=s[x+0],E=s[x+2],A=s[x+4],w=Math.max(_,E,A),T=Math.min(_,E,A);w>.9&&T<.1&&(_<.2&&(s[x+0]+=1),E<.2&&(s[x+2]+=1),A<.2&&(s[x+4]+=1))}}function h(x){a.push(x.x,x.y,x.z)}function d(x,_){const E=x*3;_.x=e[E+0],_.y=e[E+1],_.z=e[E+2]}function b(){const x=new Q,_=new Q,E=new Q,A=new Q,w=new yt,T=new yt,k=new yt;for(let N=0,D=0;N<a.length;N+=9,D+=6){x.set(a[N+0],a[N+1],a[N+2]),_.set(a[N+3],a[N+4],a[N+5]),E.set(a[N+6],a[N+7],a[N+8]),w.set(s[D+0],s[D+1]),T.set(s[D+2],s[D+3]),k.set(s[D+4],s[D+5]),A.copy(x).add(_).add(E).divideScalar(3);const P=v(A);y(w,D+0,x,P),y(T,D+2,_,P),y(k,D+4,E,P)}}function y(x,_,E,A){A<0&&x.x===1&&(s[_]=x.x-1),E.x===0&&E.z===0&&(s[_]=A/2/Math.PI+.5)}function v(x){return Math.atan2(x.z,-x.x)}function m(x){return Math.atan2(-x.y,Math.sqrt(x.x*x.x+x.z*x.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new qd(e.vertices,e.indices,e.radius,e.details)}}class TC extends qd{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,r=1/i,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,s,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new TC(e.radius,e.detail)}}const gw=new Q,bw=new Q,$3=new Q,yw=new Ao;class GY extends An{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const r=Math.pow(10,4),a=Math.cos(Am*n),s=e.getIndex(),o=e.getAttribute("position"),l=s?s.count:o.count,c=[0,0,0],u=["a","b","c"],f=new Array(3),h={},d=[];for(let b=0;b<l;b+=3){s?(c[0]=s.getX(b),c[1]=s.getX(b+1),c[2]=s.getX(b+2)):(c[0]=b,c[1]=b+1,c[2]=b+2);const{a:y,b:v,c:m}=yw;if(y.fromBufferAttribute(o,c[0]),v.fromBufferAttribute(o,c[1]),m.fromBufferAttribute(o,c[2]),yw.getNormal($3),f[0]=`${Math.round(y.x*r)},${Math.round(y.y*r)},${Math.round(y.z*r)}`,f[1]=`${Math.round(v.x*r)},${Math.round(v.y*r)},${Math.round(v.z*r)}`,f[2]=`${Math.round(m.x*r)},${Math.round(m.y*r)},${Math.round(m.z*r)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let x=0;x<3;x++){const _=(x+1)%3,E=f[x],A=f[_],w=yw[u[x]],T=yw[u[_]],k=`${E}_${A}`,N=`${A}_${E}`;N in h&&h[N]?($3.dot(h[N].normal)<=a&&(d.push(w.x,w.y,w.z),d.push(T.x,T.y,T.z)),h[N]=null):k in h||(h[k]={index0:c[x],index1:c[_],normal:$3.clone()})}}for(const b in h)if(h[b]){const{index0:y,index1:v}=h[b];gw.fromBufferAttribute(o,y),bw.fromBufferAttribute(o,v),d.push(gw.x,gw.y,gw.z),d.push(bw.x,bw.y,bw.z)}this.setAttribute("position",new ln(d,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class du{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,n){const i=this.getUtoTmapping(e);return this.getPoint(i,n)}getPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return n}getSpacedPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPointAt(i/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let i,r=this.getPoint(0),a=0;n.push(0);for(let s=1;s<=e;s++)i=this.getPoint(s/e),a+=i.distanceTo(r),n.push(a),r=i;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n=null){const i=this.getLengths();let r=0;const a=i.length;let s;n?s=n:s=e*i[a-1];let o=0,l=a-1,c;for(;o<=l;)if(r=Math.floor(o+(l-o)/2),c=i[r]-s,c<0)o=r+1;else if(c>0)l=r-1;else{l=r;break}if(r=l,i[r]===s)return r/(a-1);const u=i[r],h=i[r+1]-u,d=(s-u)/h;return(r+d)/(a-1)}getTangent(e,n){let r=e-1e-4,a=e+1e-4;r<0&&(r=0),a>1&&(a=1);const s=this.getPoint(r),o=this.getPoint(a),l=n||(s.isVector2?new yt:new Q);return l.copy(o).sub(s).normalize(),l}getTangentAt(e,n){const i=this.getUtoTmapping(e);return this.getTangent(i,n)}computeFrenetFrames(e,n=!1){const i=new Q,r=[],a=[],s=[],o=new Q,l=new kt;for(let d=0;d<=e;d++){const b=d/e;r[d]=this.getTangentAt(b,new Q)}a[0]=new Q,s[0]=new Q;let c=Number.MAX_VALUE;const u=Math.abs(r[0].x),f=Math.abs(r[0].y),h=Math.abs(r[0].z);u<=c&&(c=u,i.set(1,0,0)),f<=c&&(c=f,i.set(0,1,0)),h<=c&&i.set(0,0,1),o.crossVectors(r[0],i).normalize(),a[0].crossVectors(r[0],o),s[0].crossVectors(r[0],a[0]);for(let d=1;d<=e;d++){if(a[d]=a[d-1].clone(),s[d]=s[d-1].clone(),o.crossVectors(r[d-1],r[d]),o.length()>Number.EPSILON){o.normalize();const b=Math.acos(Rn(r[d-1].dot(r[d]),-1,1));a[d].applyMatrix4(l.makeRotationAxis(o,b))}s[d].crossVectors(r[d],a[d])}if(n===!0){let d=Math.acos(Rn(a[0].dot(a[e]),-1,1));d/=e,r[0].dot(o.crossVectors(a[0],a[e]))>0&&(d=-d);for(let b=1;b<=e;b++)a[b].applyMatrix4(l.makeRotationAxis(r[b],d*b)),s[b].crossVectors(r[b],a[b])}return{tangents:r,normals:a,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class CC extends du{constructor(e=0,n=0,i=1,r=1,a=0,s=Math.PI*2,o=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=i,this.yRadius=r,this.aStartAngle=a,this.aEndAngle=s,this.aClockwise=o,this.aRotation=l}getPoint(e,n=new yt){const i=n,r=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const s=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=r;for(;a>r;)a-=r;a<Number.EPSILON&&(s?a=0:a=r),this.aClockwise===!0&&!s&&(a===r?a=-r:a=a-r);const o=this.aStartAngle+e*a;let l=this.aX+this.xRadius*Math.cos(o),c=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const u=Math.cos(this.aRotation),f=Math.sin(this.aRotation),h=l-this.aX,d=c-this.aY;l=h*u-d*f+this.aX,c=h*f+d*u+this.aY}return i.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class WY extends CC{constructor(e,n,i,r,a,s){super(e,n,i,i,r,a,s),this.isArcCurve=!0,this.type="ArcCurve"}}function aP(){let t=0,e=0,n=0,i=0;function r(a,s,o,l){t=a,e=o,n=-3*a+3*s-2*o-l,i=2*a-2*s+o+l}return{initCatmullRom:function(a,s,o,l,c){r(s,o,c*(o-a),c*(l-s))},initNonuniformCatmullRom:function(a,s,o,l,c,u,f){let h=(s-a)/c-(o-a)/(c+u)+(o-s)/u,d=(o-s)/u-(l-s)/(u+f)+(l-o)/f;h*=u,d*=u,r(s,o,h,d)},calc:function(a){const s=a*a,o=s*a;return t+e*a+n*s+i*o}}}const vw=new Q,Z3=new aP,Q3=new aP,ek=new aP;class sP extends du{constructor(e=[],n=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=i,this.tension=r}getPoint(e,n=new Q){const i=n,r=this.points,a=r.length,s=(a-(this.closed?0:1))*e;let o=Math.floor(s),l=s-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/a)+1)*a:l===0&&o===a-1&&(o=a-2,l=1);let c,u;this.closed||o>0?c=r[(o-1)%a]:(vw.subVectors(r[0],r[1]).add(r[0]),c=vw);const f=r[o%a],h=r[(o+1)%a];if(this.closed||o+2<a?u=r[(o+2)%a]:(vw.subVectors(r[a-1],r[a-2]).add(r[a-1]),u=vw),this.curveType==="centripetal"||this.curveType==="chordal"){const d=this.curveType==="chordal"?.5:.25;let b=Math.pow(c.distanceToSquared(f),d),y=Math.pow(f.distanceToSquared(h),d),v=Math.pow(h.distanceToSquared(u),d);y<1e-4&&(y=1),b<1e-4&&(b=y),v<1e-4&&(v=y),Z3.initNonuniformCatmullRom(c.x,f.x,h.x,u.x,b,y,v),Q3.initNonuniformCatmullRom(c.y,f.y,h.y,u.y,b,y,v),ek.initNonuniformCatmullRom(c.z,f.z,h.z,u.z,b,y,v)}else this.curveType==="catmullrom"&&(Z3.initCatmullRom(c.x,f.x,h.x,u.x,this.tension),Q3.initCatmullRom(c.y,f.y,h.y,u.y,this.tension),ek.initCatmullRom(c.z,f.z,h.z,u.z,this.tension));return i.set(Z3.calc(l),Q3.calc(l),ek.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const r=this.points[n];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(new Q().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function Ej(t,e,n,i,r){const a=(i-e)*.5,s=(r-n)*.5,o=t*t,l=t*o;return(2*n-2*i+a+s)*l+(-3*n+3*i-2*a-s)*o+a*t+n}function Nge(t,e){const n=1-t;return n*n*e}function Ige(t,e){return 2*(1-t)*t*e}function Oge(t,e){return t*t*e}function Xx(t,e,n,i){return Nge(t,e)+Ige(t,n)+Oge(t,i)}function Lge(t,e){const n=1-t;return n*n*n*e}function Pge(t,e){const n=1-t;return 3*n*n*t*e}function Uge(t,e){return 3*(1-t)*t*t*e}function Fge(t,e){return t*t*t*e}function Kx(t,e,n,i,r){return Lge(t,e)+Pge(t,n)+Uge(t,i)+Fge(t,r)}class oP extends du{constructor(e=new yt,n=new yt,i=new yt,r=new yt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=i,this.v3=r}getPoint(e,n=new yt){const i=n,r=this.v0,a=this.v1,s=this.v2,o=this.v3;return i.set(Kx(e,r.x,a.x,s.x,o.x),Kx(e,r.y,a.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class lP extends du{constructor(e=new Q,n=new Q,i=new Q,r=new Q){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=i,this.v3=r}getPoint(e,n=new Q){const i=n,r=this.v0,a=this.v1,s=this.v2,o=this.v3;return i.set(Kx(e,r.x,a.x,s.x,o.x),Kx(e,r.y,a.y,s.y,o.y),Kx(e,r.z,a.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class cP extends du{constructor(e=new yt,n=new yt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new yt){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new yt){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class qY extends du{constructor(e=new Q,n=new Q){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new Q){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Q){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class uP extends du{constructor(e=new yt,n=new yt,i=new yt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new yt){const i=n,r=this.v0,a=this.v1,s=this.v2;return i.set(Xx(e,r.x,a.x,s.x),Xx(e,r.y,a.y,s.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class fP extends du{constructor(e=new Q,n=new Q,i=new Q){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new Q){const i=n,r=this.v0,a=this.v1,s=this.v2;return i.set(Xx(e,r.x,a.x,s.x),Xx(e,r.y,a.y,s.y),Xx(e,r.z,a.z,s.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class hP extends du{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new yt){const i=n,r=this.points,a=(r.length-1)*e,s=Math.floor(a),o=a-s,l=r[s===0?s:s-1],c=r[s],u=r[s>r.length-2?r.length-1:s+1],f=r[s>r.length-3?r.length-1:s+2];return i.set(Ej(o,l.x,c.x,u.x,f.x),Ej(o,l.y,c.y,u.y,f.y)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const r=this.points[n];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(new yt().fromArray(r))}return this}}var TA=Object.freeze({__proto__:null,ArcCurve:WY,CatmullRomCurve3:sP,CubicBezierCurve:oP,CubicBezierCurve3:lP,EllipseCurve:CC,LineCurve:cP,LineCurve3:qY,QuadraticBezierCurve:uP,QuadraticBezierCurve3:fP,SplineCurve:hP});class XY extends du{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new TA[i](n,e))}return this}getPoint(e,n){const i=e*this.getLength(),r=this.getCurveLengths();let a=0;for(;a<r.length;){if(r[a]>=i){const s=r[a]-i,o=this.curves[a],l=o.getLength(),c=l===0?0:1-s/l;return o.getPointAt(c,n)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let i=0,r=this.curves.length;i<r;i++)n+=this.curves[i].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let i;for(let r=0,a=this.curves;r<a.length;r++){const s=a[r],o=s.isEllipseCurve?e*2:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?e*s.points.length:e,l=s.getPoints(o);for(let c=0;c<l.length;c++){const u=l[c];i&&i.equals(u)||(n.push(u),i=u)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const r=e.curves[n];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,i=this.curves.length;n<i;n++){const r=this.curves[n];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const r=e.curves[n];this.curves.push(new TA[r.type]().fromJSON(r))}return this}}class CA extends XY{constructor(e){super(),this.type="Path",this.currentPoint=new yt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,i=e.length;n<i;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const i=new cP(this.currentPoint.clone(),new yt(e,n));return this.curves.push(i),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,i,r){const a=new uP(this.currentPoint.clone(),new yt(e,n),new yt(i,r));return this.curves.push(a),this.currentPoint.set(i,r),this}bezierCurveTo(e,n,i,r,a,s){const o=new oP(this.currentPoint.clone(),new yt(e,n),new yt(i,r),new yt(a,s));return this.curves.push(o),this.currentPoint.set(a,s),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),i=new hP(n);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,i,r,a,s){const o=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+o,n+l,i,r,a,s),this}absarc(e,n,i,r,a,s){return this.absellipse(e,n,i,i,r,a,s),this}ellipse(e,n,i,r,a,s,o,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,n+u,i,r,a,s,o,l),this}absellipse(e,n,i,r,a,s,o,l){const c=new CC(e,n,i,r,a,s,o,l);if(this.curves.length>0){const f=c.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Tm extends CA{constructor(e){super(e),this.uuid=dl(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let i=0,r=this.holes.length;i<r;i++)n[i]=this.holes[i].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const r=e.holes[n];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,i=this.holes.length;n<i;n++){const r=this.holes[n];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const r=e.holes[n];this.holes.push(new CA().fromJSON(r))}return this}}function zge(t,e,n=2){const i=e&&e.length,r=i?e[0]*n:t.length;let a=KY(t,0,r,n,!0);const s=[];if(!a||a.next===a.prev)return s;let o,l,c;if(i&&(a=Gge(t,e,a,n)),t.length>80*n){o=1/0,l=1/0;let u=-1/0,f=-1/0;for(let h=n;h<r;h+=n){const d=t[h],b=t[h+1];d<o&&(o=d),b<l&&(l=b),d>u&&(u=d),b>f&&(f=b)}c=Math.max(u-o,f-l),c=c!==0?32767/c:0}return D1(a,s,n,o,l,c,0),s}function KY(t,e,n,i,r){let a;if(r===tbe(t,e,n,i)>0)for(let s=e;s<n;s+=i)a=Mj(s/i|0,t[s],t[s+1],a);else for(let s=n-i;s>=e;s-=i)a=Mj(s/i|0,t[s],t[s+1],a);return a&&ty(a,a.next)&&(I1(a),a=a.next),a}function jm(t,e){if(!t)return t;e||(e=t);let n=t,i;do if(i=!1,!n.steiner&&(ty(n,n.next)||Kr(n.prev,n,n.next)===0)){if(I1(n),n=e=n.prev,n===n.next)break;i=!0}else n=n.next;while(i||n!==e);return e}function D1(t,e,n,i,r,a,s){if(!t)return;!s&&a&&Yge(t,i,r,a);let o=t;for(;t.prev!==t.next;){const l=t.prev,c=t.next;if(a?Bge(t,i,r,a):jge(t)){e.push(l.i,t.i,c.i),I1(t),t=c.next,o=c.next;continue}if(t=c,t===o){s?s===1?(t=Hge(jm(t),e),D1(t,e,n,i,r,a,2)):s===2&&Vge(t,e,n,i,r,a):D1(jm(t),e,n,i,r,a,1);break}}}function jge(t){const e=t.prev,n=t,i=t.next;if(Kr(e,n,i)>=0)return!1;const r=e.x,a=n.x,s=i.x,o=e.y,l=n.y,c=i.y,u=Math.min(r,a,s),f=Math.min(o,l,c),h=Math.max(r,a,s),d=Math.max(o,l,c);let b=i.next;for(;b!==e;){if(b.x>=u&&b.x<=h&&b.y>=f&&b.y<=d&&gx(r,o,a,l,s,c,b.x,b.y)&&Kr(b.prev,b,b.next)>=0)return!1;b=b.next}return!0}function Bge(t,e,n,i){const r=t.prev,a=t,s=t.next;if(Kr(r,a,s)>=0)return!1;const o=r.x,l=a.x,c=s.x,u=r.y,f=a.y,h=s.y,d=Math.min(o,l,c),b=Math.min(u,f,h),y=Math.max(o,l,c),v=Math.max(u,f,h),m=gN(d,b,e,n,i),x=gN(y,v,e,n,i);let _=t.prevZ,E=t.nextZ;for(;_&&_.z>=m&&E&&E.z<=x;){if(_.x>=d&&_.x<=y&&_.y>=b&&_.y<=v&&_!==r&&_!==s&&gx(o,u,l,f,c,h,_.x,_.y)&&Kr(_.prev,_,_.next)>=0||(_=_.prevZ,E.x>=d&&E.x<=y&&E.y>=b&&E.y<=v&&E!==r&&E!==s&&gx(o,u,l,f,c,h,E.x,E.y)&&Kr(E.prev,E,E.next)>=0))return!1;E=E.nextZ}for(;_&&_.z>=m;){if(_.x>=d&&_.x<=y&&_.y>=b&&_.y<=v&&_!==r&&_!==s&&gx(o,u,l,f,c,h,_.x,_.y)&&Kr(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;E&&E.z<=x;){if(E.x>=d&&E.x<=y&&E.y>=b&&E.y<=v&&E!==r&&E!==s&&gx(o,u,l,f,c,h,E.x,E.y)&&Kr(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function Hge(t,e){let n=t;do{const i=n.prev,r=n.next.next;!ty(i,r)&&JY(i,n,n.next,r)&&N1(i,r)&&N1(r,i)&&(e.push(i.i,n.i,r.i),I1(n),I1(n.next),n=t=r),n=n.next}while(n!==t);return jm(n)}function Vge(t,e,n,i,r,a){let s=t;do{let o=s.next.next;for(;o!==s.prev;){if(s.i!==o.i&&Zge(s,o)){let l=$Y(s,o);s=jm(s,s.next),l=jm(l,l.next),D1(s,e,n,i,r,a,0),D1(l,e,n,i,r,a,0);return}o=o.next}s=s.next}while(s!==t)}function Gge(t,e,n,i){const r=[];for(let a=0,s=e.length;a<s;a++){const o=e[a]*i,l=a<s-1?e[a+1]*i:t.length,c=KY(t,o,l,i,!1);c===c.next&&(c.steiner=!0),r.push($ge(c))}r.sort(Wge);for(let a=0;a<r.length;a++)n=qge(r[a],n);return n}function Wge(t,e){let n=t.x-e.x;if(n===0&&(n=t.y-e.y,n===0)){const i=(t.next.y-t.y)/(t.next.x-t.x),r=(e.next.y-e.y)/(e.next.x-e.x);n=i-r}return n}function qge(t,e){const n=Xge(t,e);if(!n)return e;const i=$Y(n,t);return jm(i,i.next),jm(n,n.next)}function Xge(t,e){let n=e;const i=t.x,r=t.y;let a=-1/0,s;if(ty(t,n))return n;do{if(ty(t,n.next))return n.next;if(r<=n.y&&r>=n.next.y&&n.next.y!==n.y){const f=n.x+(r-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(f<=i&&f>a&&(a=f,s=n.x<n.next.x?n:n.next,f===i))return s}n=n.next}while(n!==e);if(!s)return null;const o=s,l=s.x,c=s.y;let u=1/0;n=s;do{if(i>=n.x&&n.x>=l&&i!==n.x&&YY(r<c?i:a,r,l,c,r<c?a:i,r,n.x,n.y)){const f=Math.abs(r-n.y)/(i-n.x);N1(n,t)&&(f<u||f===u&&(n.x>s.x||n.x===s.x&&Kge(s,n)))&&(s=n,u=f)}n=n.next}while(n!==o);return s}function Kge(t,e){return Kr(t.prev,t,e.prev)<0&&Kr(e.next,t,t.next)<0}function Yge(t,e,n,i){let r=t;do r.z===0&&(r.z=gN(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,Jge(r)}function Jge(t){let e,n=1;do{let i=t,r;t=null;let a=null;for(e=0;i;){e++;let s=i,o=0;for(let c=0;c<n&&(o++,s=s.nextZ,!!s);c++);let l=n;for(;o>0||l>0&&s;)o!==0&&(l===0||!s||i.z<=s.z)?(r=i,i=i.nextZ,o--):(r=s,s=s.nextZ,l--),a?a.nextZ=r:t=r,r.prevZ=a,a=r;i=s}a.nextZ=null,n*=2}while(e>1);return t}function gN(t,e,n,i,r){return t=(t-n)*r|0,e=(e-i)*r|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function $ge(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function YY(t,e,n,i,r,a,s,o){return(r-s)*(e-o)>=(t-s)*(a-o)&&(t-s)*(i-o)>=(n-s)*(e-o)&&(n-s)*(a-o)>=(r-s)*(i-o)}function gx(t,e,n,i,r,a,s,o){return!(t===s&&e===o)&&YY(t,e,n,i,r,a,s,o)}function Zge(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!Qge(t,e)&&(N1(t,e)&&N1(e,t)&&ebe(t,e)&&(Kr(t.prev,t,e.prev)||Kr(t,e.prev,e))||ty(t,e)&&Kr(t.prev,t,t.next)>0&&Kr(e.prev,e,e.next)>0)}function Kr(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function ty(t,e){return t.x===e.x&&t.y===e.y}function JY(t,e,n,i){const r=_w(Kr(t,e,n)),a=_w(Kr(t,e,i)),s=_w(Kr(n,i,t)),o=_w(Kr(n,i,e));return!!(r!==a&&s!==o||r===0&&xw(t,n,e)||a===0&&xw(t,i,e)||s===0&&xw(n,t,i)||o===0&&xw(n,e,i))}function xw(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function _w(t){return t>0?1:t<0?-1:0}function Qge(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&JY(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function N1(t,e){return Kr(t.prev,t,t.next)<0?Kr(t,e,t.next)>=0&&Kr(t,t.prev,e)>=0:Kr(t,e,t.prev)<0||Kr(t,t.next,e)<0}function ebe(t,e){let n=t,i=!1;const r=(t.x+e.x)/2,a=(t.y+e.y)/2;do n.y>a!=n.next.y>a&&n.next.y!==n.y&&r<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next;while(n!==t);return i}function $Y(t,e){const n=bN(t.i,t.x,t.y),i=bN(e.i,e.x,e.y),r=t.next,a=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,a.next=i,i.prev=a,i}function Mj(t,e,n,i){const r=bN(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function I1(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function bN(t,e,n){return{i:t,x:e,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function tbe(t,e,n,i){let r=0;for(let a=e,s=n-i;a<n;a+=i)r+=(t[s]-t[a])*(t[a+1]+t[s+1]),s=a;return r}class nbe{static triangulate(e,n,i=2){return zge(e,n,i)}}class Qc{static area(e){const n=e.length;let i=0;for(let r=n-1,a=0;a<n;r=a++)i+=e[r].x*e[a].y-e[a].x*e[r].y;return i*.5}static isClockWise(e){return Qc.area(e)<0}static triangulateShape(e,n){const i=[],r=[],a=[];Aj(e),Tj(i,e);let s=e.length;n.forEach(Aj);for(let l=0;l<n.length;l++)r.push(s),s+=n[l].length,Tj(i,n[l]);const o=nbe.triangulate(i,r);for(let l=0;l<o.length;l+=3)a.push(o.slice(l,l+3));return a}}function Aj(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function Tj(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class RC extends An{constructor(e=new Tm([new yt(.5,.5),new yt(-.5,.5),new yt(-.5,-.5),new yt(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const i=this,r=[],a=[];for(let o=0,l=e.length;o<l;o++){const c=e[o];s(c)}this.setAttribute("position",new ln(r,3)),this.setAttribute("uv",new ln(a,2)),this.computeVertexNormals();function s(o){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,u=n.steps!==void 0?n.steps:1,f=n.depth!==void 0?n.depth:1;let h=n.bevelEnabled!==void 0?n.bevelEnabled:!0,d=n.bevelThickness!==void 0?n.bevelThickness:.2,b=n.bevelSize!==void 0?n.bevelSize:d-.1,y=n.bevelOffset!==void 0?n.bevelOffset:0,v=n.bevelSegments!==void 0?n.bevelSegments:3;const m=n.extrudePath,x=n.UVGenerator!==void 0?n.UVGenerator:ibe;let _,E=!1,A,w,T,k;m&&(_=m.getSpacedPoints(u),E=!0,h=!1,A=m.computeFrenetFrames(u,!1),w=new Q,T=new Q,k=new Q),h||(v=0,d=0,b=0,y=0);const N=o.extractPoints(c);let D=N.shape;const P=N.holes;if(!Qc.isClockWise(D)){D=D.reverse();for(let Ve=0,Be=P.length;Ve<Be;Ve++){const ot=P[Ve];Qc.isClockWise(ot)&&(P[Ve]=ot.reverse())}}function G(Ve){const ot=10000000000000001e-36;let Ae=Ve[0];for(let Ue=1;Ue<=Ve.length;Ue++){const Ne=Ue%Ve.length,We=Ve[Ne],Et=We.x-Ae.x,vt=We.y-Ae.y,re=Et*Et+vt*vt,J=Math.max(Math.abs(We.x),Math.abs(We.y),Math.abs(Ae.x),Math.abs(Ae.y)),ue=ot*J*J;if(re<=ue){Ve.splice(Ne,1),Ue--;continue}Ae=We}}G(D),P.forEach(G);const H=P.length,V=D;for(let Ve=0;Ve<H;Ve++){const Be=P[Ve];D=D.concat(Be)}function U(Ve,Be,ot){return Be||console.error("THREE.ExtrudeGeometry: vec does not exist"),Ve.clone().addScaledVector(Be,ot)}const F=D.length;function q(Ve,Be,ot){let Ae,Ue,Ne;const We=Ve.x-Be.x,Et=Ve.y-Be.y,vt=ot.x-Ve.x,re=ot.y-Ve.y,J=We*We+Et*Et,ue=We*re-Et*vt;if(Math.abs(ue)>Number.EPSILON){const se=Math.sqrt(J),be=Math.sqrt(vt*vt+re*re),$=Be.x-Et/se,Ke=Be.y+We/se,tt=ot.x-re/be,pt=ot.y+vt/be,ze=((tt-$)*re-(pt-Ke)*vt)/(We*re-Et*vt);Ae=$+We*ze-Ve.x,Ue=Ke+Et*ze-Ve.y;const rt=Ae*Ae+Ue*Ue;if(rt<=2)return new yt(Ae,Ue);Ne=Math.sqrt(rt/2)}else{let se=!1;We>Number.EPSILON?vt>Number.EPSILON&&(se=!0):We<-Number.EPSILON?vt<-Number.EPSILON&&(se=!0):Math.sign(Et)===Math.sign(re)&&(se=!0),se?(Ae=-Et,Ue=We,Ne=Math.sqrt(J)):(Ae=We,Ue=Et,Ne=Math.sqrt(J/2))}return new yt(Ae/Ne,Ue/Ne)}const X=[];for(let Ve=0,Be=V.length,ot=Be-1,Ae=Ve+1;Ve<Be;Ve++,ot++,Ae++)ot===Be&&(ot=0),Ae===Be&&(Ae=0),X[Ve]=q(V[Ve],V[ot],V[Ae]);const z=[];let oe,fe=X.concat();for(let Ve=0,Be=H;Ve<Be;Ve++){const ot=P[Ve];oe=[];for(let Ae=0,Ue=ot.length,Ne=Ue-1,We=Ae+1;Ae<Ue;Ae++,Ne++,We++)Ne===Ue&&(Ne=0),We===Ue&&(We=0),oe[Ae]=q(ot[Ae],ot[Ne],ot[We]);z.push(oe),fe=fe.concat(oe)}let K;if(v===0)K=Qc.triangulateShape(V,P);else{const Ve=[],Be=[];for(let ot=0;ot<v;ot++){const Ae=ot/v,Ue=d*Math.cos(Ae*Math.PI/2),Ne=b*Math.sin(Ae*Math.PI/2)+y;for(let We=0,Et=V.length;We<Et;We++){const vt=U(V[We],X[We],Ne);Ge(vt.x,vt.y,-Ue),Ae===0&&Ve.push(vt)}for(let We=0,Et=H;We<Et;We++){const vt=P[We];oe=z[We];const re=[];for(let J=0,ue=vt.length;J<ue;J++){const se=U(vt[J],oe[J],Ne);Ge(se.x,se.y,-Ue),Ae===0&&re.push(se)}Ae===0&&Be.push(re)}}K=Qc.triangulateShape(Ve,Be)}const Me=K.length,_e=b+y;for(let Ve=0;Ve<F;Ve++){const Be=h?U(D[Ve],fe[Ve],_e):D[Ve];E?(T.copy(A.normals[0]).multiplyScalar(Be.x),w.copy(A.binormals[0]).multiplyScalar(Be.y),k.copy(_[0]).add(T).add(w),Ge(k.x,k.y,k.z)):Ge(Be.x,Be.y,0)}for(let Ve=1;Ve<=u;Ve++)for(let Be=0;Be<F;Be++){const ot=h?U(D[Be],fe[Be],_e):D[Be];E?(T.copy(A.normals[Ve]).multiplyScalar(ot.x),w.copy(A.binormals[Ve]).multiplyScalar(ot.y),k.copy(_[Ve]).add(T).add(w),Ge(k.x,k.y,k.z)):Ge(ot.x,ot.y,f/u*Ve)}for(let Ve=v-1;Ve>=0;Ve--){const Be=Ve/v,ot=d*Math.cos(Be*Math.PI/2),Ae=b*Math.sin(Be*Math.PI/2)+y;for(let Ue=0,Ne=V.length;Ue<Ne;Ue++){const We=U(V[Ue],X[Ue],Ae);Ge(We.x,We.y,f+ot)}for(let Ue=0,Ne=P.length;Ue<Ne;Ue++){const We=P[Ue];oe=z[Ue];for(let Et=0,vt=We.length;Et<vt;Et++){const re=U(We[Et],oe[Et],Ae);E?Ge(re.x,re.y+_[u-1].y,_[u-1].x+ot):Ge(re.x,re.y,f+ot)}}}pe(),xe();function pe(){const Ve=r.length/3;if(h){let Be=0,ot=F*Be;for(let Ae=0;Ae<Me;Ae++){const Ue=K[Ae];Ye(Ue[2]+ot,Ue[1]+ot,Ue[0]+ot)}Be=u+v*2,ot=F*Be;for(let Ae=0;Ae<Me;Ae++){const Ue=K[Ae];Ye(Ue[0]+ot,Ue[1]+ot,Ue[2]+ot)}}else{for(let Be=0;Be<Me;Be++){const ot=K[Be];Ye(ot[2],ot[1],ot[0])}for(let Be=0;Be<Me;Be++){const ot=K[Be];Ye(ot[0]+F*u,ot[1]+F*u,ot[2]+F*u)}}i.addGroup(Ve,r.length/3-Ve,0)}function xe(){const Ve=r.length/3;let Be=0;Oe(V,Be),Be+=V.length;for(let ot=0,Ae=P.length;ot<Ae;ot++){const Ue=P[ot];Oe(Ue,Be),Be+=Ue.length}i.addGroup(Ve,r.length/3-Ve,1)}function Oe(Ve,Be){let ot=Ve.length;for(;--ot>=0;){const Ae=ot;let Ue=ot-1;Ue<0&&(Ue=Ve.length-1);for(let Ne=0,We=u+v*2;Ne<We;Ne++){const Et=F*Ne,vt=F*(Ne+1),re=Be+Ae+Et,J=Be+Ue+Et,ue=Be+Ue+vt,se=Be+Ae+vt;ct(re,J,ue,se)}}}function Ge(Ve,Be,ot){l.push(Ve),l.push(Be),l.push(ot)}function Ye(Ve,Be,ot){Tt(Ve),Tt(Be),Tt(ot);const Ae=r.length/3,Ue=x.generateTopUV(i,r,Ae-3,Ae-2,Ae-1);he(Ue[0]),he(Ue[1]),he(Ue[2])}function ct(Ve,Be,ot,Ae){Tt(Ve),Tt(Be),Tt(Ae),Tt(Be),Tt(ot),Tt(Ae);const Ue=r.length/3,Ne=x.generateSideWallUV(i,r,Ue-6,Ue-3,Ue-2,Ue-1);he(Ne[0]),he(Ne[1]),he(Ne[3]),he(Ne[1]),he(Ne[2]),he(Ne[3])}function Tt(Ve){r.push(l[Ve*3+0]),r.push(l[Ve*3+1]),r.push(l[Ve*3+2])}function he(Ve){a.push(Ve.x),a.push(Ve.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,i=this.parameters.options;return rbe(n,i,e)}static fromJSON(e,n){const i=[];for(let a=0,s=e.shapes.length;a<s;a++){const o=n[e.shapes[a]];i.push(o)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new TA[r.type]().fromJSON(r)),new RC(i,e.options)}}const ibe={generateTopUV:function(t,e,n,i,r){const a=e[n*3],s=e[n*3+1],o=e[i*3],l=e[i*3+1],c=e[r*3],u=e[r*3+1];return[new yt(a,s),new yt(o,l),new yt(c,u)]},generateSideWallUV:function(t,e,n,i,r,a){const s=e[n*3],o=e[n*3+1],l=e[n*3+2],c=e[i*3],u=e[i*3+1],f=e[i*3+2],h=e[r*3],d=e[r*3+1],b=e[r*3+2],y=e[a*3],v=e[a*3+1],m=e[a*3+2];return Math.abs(o-u)<Math.abs(s-c)?[new yt(s,1-l),new yt(c,1-f),new yt(h,1-b),new yt(y,1-m)]:[new yt(o,1-l),new yt(u,1-f),new yt(d,1-b),new yt(v,1-m)]}};function rbe(t,e,n){if(n.shapes=[],Array.isArray(t))for(let i=0,r=t.length;i<r;i++){const a=t[i];n.shapes.push(a.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class zy extends qd{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,a,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new zy(e.radius,e.detail)}}class kC extends An{constructor(e=[new yt(0,-.5),new yt(.5,0),new yt(0,.5)],n=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:i,phiLength:r},n=Math.floor(n),r=Rn(r,0,Math.PI*2);const a=[],s=[],o=[],l=[],c=[],u=1/n,f=new Q,h=new yt,d=new Q,b=new Q,y=new Q;let v=0,m=0;for(let x=0;x<=e.length-1;x++)switch(x){case 0:v=e[x+1].x-e[x].x,m=e[x+1].y-e[x].y,d.x=m*1,d.y=-v,d.z=m*0,y.copy(d),d.normalize(),l.push(d.x,d.y,d.z);break;case e.length-1:l.push(y.x,y.y,y.z);break;default:v=e[x+1].x-e[x].x,m=e[x+1].y-e[x].y,d.x=m*1,d.y=-v,d.z=m*0,b.copy(d),d.x+=y.x,d.y+=y.y,d.z+=y.z,d.normalize(),l.push(d.x,d.y,d.z),y.copy(b)}for(let x=0;x<=n;x++){const _=i+x*u*r,E=Math.sin(_),A=Math.cos(_);for(let w=0;w<=e.length-1;w++){f.x=e[w].x*E,f.y=e[w].y,f.z=e[w].x*A,s.push(f.x,f.y,f.z),h.x=x/n,h.y=w/(e.length-1),o.push(h.x,h.y);const T=l[3*w+0]*E,k=l[3*w+1],N=l[3*w+0]*A;c.push(T,k,N)}}for(let x=0;x<n;x++)for(let _=0;_<e.length-1;_++){const E=_+x*e.length,A=E,w=E+e.length,T=E+e.length+1,k=E+1;a.push(A,w,k),a.push(T,k,w)}this.setIndex(a),this.setAttribute("position",new ln(s,3)),this.setAttribute("uv",new ln(o,2)),this.setAttribute("normal",new ln(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new kC(e.points,e.segments,e.phiStart,e.phiLength)}}class A_ extends qd{constructor(e=1,n=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new A_(e.radius,e.detail)}}class Xd extends An{constructor(e=1,n=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:i,heightSegments:r};const a=e/2,s=n/2,o=Math.floor(i),l=Math.floor(r),c=o+1,u=l+1,f=e/o,h=n/l,d=[],b=[],y=[],v=[];for(let m=0;m<u;m++){const x=m*h-s;for(let _=0;_<c;_++){const E=_*f-a;b.push(E,-x,0),y.push(0,0,1),v.push(_/o),v.push(1-m/l)}}for(let m=0;m<l;m++)for(let x=0;x<o;x++){const _=x+c*m,E=x+c*(m+1),A=x+1+c*(m+1),w=x+1+c*m;d.push(_,E,w),d.push(E,A,w)}this.setIndex(d),this.setAttribute("position",new ln(b,3)),this.setAttribute("normal",new ln(y,3)),this.setAttribute("uv",new ln(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Xd(e.width,e.height,e.widthSegments,e.heightSegments)}}class DC extends An{constructor(e=.5,n=1,i=32,r=1,a=0,s=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:i,phiSegments:r,thetaStart:a,thetaLength:s},i=Math.max(3,i),r=Math.max(1,r);const o=[],l=[],c=[],u=[];let f=e;const h=(n-e)/r,d=new Q,b=new yt;for(let y=0;y<=r;y++){for(let v=0;v<=i;v++){const m=a+v/i*s;d.x=f*Math.cos(m),d.y=f*Math.sin(m),l.push(d.x,d.y,d.z),c.push(0,0,1),b.x=(d.x/n+1)/2,b.y=(d.y/n+1)/2,u.push(b.x,b.y)}f+=h}for(let y=0;y<r;y++){const v=y*(i+1);for(let m=0;m<i;m++){const x=m+v,_=x,E=x+i+1,A=x+i+2,w=x+1;o.push(_,E,w),o.push(E,A,w)}}this.setIndex(o),this.setAttribute("position",new ln(l,3)),this.setAttribute("normal",new ln(c,3)),this.setAttribute("uv",new ln(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new DC(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class NC extends An{constructor(e=new Tm([new yt(0,.5),new yt(-.5,-.5),new yt(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const i=[],r=[],a=[],s=[];let o=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(o,l,u),o+=l,l=0;this.setIndex(i),this.setAttribute("position",new ln(r,3)),this.setAttribute("normal",new ln(a,3)),this.setAttribute("uv",new ln(s,2));function c(u){const f=r.length/3,h=u.extractPoints(n);let d=h.shape;const b=h.holes;Qc.isClockWise(d)===!1&&(d=d.reverse());for(let v=0,m=b.length;v<m;v++){const x=b[v];Qc.isClockWise(x)===!0&&(b[v]=x.reverse())}const y=Qc.triangulateShape(d,b);for(let v=0,m=b.length;v<m;v++){const x=b[v];d=d.concat(x)}for(let v=0,m=d.length;v<m;v++){const x=d[v];r.push(x.x,x.y,0),a.push(0,0,1),s.push(x.x,x.y)}for(let v=0,m=y.length;v<m;v++){const x=y[v],_=x[0]+f,E=x[1]+f,A=x[2]+f;i.push(_,E,A),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return abe(n,e)}static fromJSON(e,n){const i=[];for(let r=0,a=e.shapes.length;r<a;r++){const s=n[e.shapes[r]];i.push(s)}return new NC(i,e.curveSegments)}}function abe(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,i=t.length;n<i;n++){const r=t[n];e.shapes.push(r.uuid)}else e.shapes.push(t.uuid);return e}class jy extends An{constructor(e=1,n=32,i=16,r=0,a=Math.PI*2,s=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:i,phiStart:r,phiLength:a,thetaStart:s,thetaLength:o},n=Math.max(3,Math.floor(n)),i=Math.max(2,Math.floor(i));const l=Math.min(s+o,Math.PI);let c=0;const u=[],f=new Q,h=new Q,d=[],b=[],y=[],v=[];for(let m=0;m<=i;m++){const x=[],_=m/i;let E=0;m===0&&s===0?E=.5/n:m===i&&l===Math.PI&&(E=-.5/n);for(let A=0;A<=n;A++){const w=A/n;f.x=-e*Math.cos(r+w*a)*Math.sin(s+_*o),f.y=e*Math.cos(s+_*o),f.z=e*Math.sin(r+w*a)*Math.sin(s+_*o),b.push(f.x,f.y,f.z),h.copy(f).normalize(),y.push(h.x,h.y,h.z),v.push(w+E,1-_),x.push(c++)}u.push(x)}for(let m=0;m<i;m++)for(let x=0;x<n;x++){const _=u[m][x+1],E=u[m][x],A=u[m+1][x],w=u[m+1][x+1];(m!==0||s>0)&&d.push(_,E,w),(m!==i-1||l<Math.PI)&&d.push(E,A,w)}this.setIndex(d),this.setAttribute("position",new ln(b,3)),this.setAttribute("normal",new ln(y,3)),this.setAttribute("uv",new ln(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new jy(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class IC extends qd{constructor(e=1,n=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new IC(e.radius,e.detail)}}class OC extends An{constructor(e=1,n=.4,i=12,r=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:i,tubularSegments:r,arc:a},i=Math.floor(i),r=Math.floor(r);const s=[],o=[],l=[],c=[],u=new Q,f=new Q,h=new Q;for(let d=0;d<=i;d++)for(let b=0;b<=r;b++){const y=b/r*a,v=d/i*Math.PI*2;f.x=(e+n*Math.cos(v))*Math.cos(y),f.y=(e+n*Math.cos(v))*Math.sin(y),f.z=n*Math.sin(v),o.push(f.x,f.y,f.z),u.x=e*Math.cos(y),u.y=e*Math.sin(y),h.subVectors(f,u).normalize(),l.push(h.x,h.y,h.z),c.push(b/r),c.push(d/i)}for(let d=1;d<=i;d++)for(let b=1;b<=r;b++){const y=(r+1)*d+b-1,v=(r+1)*(d-1)+b-1,m=(r+1)*(d-1)+b,x=(r+1)*d+b;s.push(y,v,x),s.push(v,m,x)}this.setIndex(s),this.setAttribute("position",new ln(o,3)),this.setAttribute("normal",new ln(l,3)),this.setAttribute("uv",new ln(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new OC(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class LC extends An{constructor(e=1,n=.4,i=64,r=8,a=2,s=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:i,radialSegments:r,p:a,q:s},i=Math.floor(i),r=Math.floor(r);const o=[],l=[],c=[],u=[],f=new Q,h=new Q,d=new Q,b=new Q,y=new Q,v=new Q,m=new Q;for(let _=0;_<=i;++_){const E=_/i*a*Math.PI*2;x(E,a,s,e,d),x(E+.01,a,s,e,b),v.subVectors(b,d),m.addVectors(b,d),y.crossVectors(v,m),m.crossVectors(y,v),y.normalize(),m.normalize();for(let A=0;A<=r;++A){const w=A/r*Math.PI*2,T=-n*Math.cos(w),k=n*Math.sin(w);f.x=d.x+(T*m.x+k*y.x),f.y=d.y+(T*m.y+k*y.y),f.z=d.z+(T*m.z+k*y.z),l.push(f.x,f.y,f.z),h.subVectors(f,d).normalize(),c.push(h.x,h.y,h.z),u.push(_/i),u.push(A/r)}}for(let _=1;_<=i;_++)for(let E=1;E<=r;E++){const A=(r+1)*(_-1)+(E-1),w=(r+1)*_+(E-1),T=(r+1)*_+E,k=(r+1)*(_-1)+E;o.push(A,w,k),o.push(w,T,k)}this.setIndex(o),this.setAttribute("position",new ln(l,3)),this.setAttribute("normal",new ln(c,3)),this.setAttribute("uv",new ln(u,2));function x(_,E,A,w,T){const k=Math.cos(_),N=Math.sin(_),D=A/E*_,P=Math.cos(D);T.x=w*(2+P)*.5*k,T.y=w*(2+P)*N*.5,T.z=w*Math.sin(D)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new LC(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class PC extends An{constructor(e=new fP(new Q(-1,-1,0),new Q(-1,1,0),new Q(1,1,0)),n=64,i=1,r=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:i,radialSegments:r,closed:a};const s=e.computeFrenetFrames(n,a);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const o=new Q,l=new Q,c=new yt;let u=new Q;const f=[],h=[],d=[],b=[];y(),this.setIndex(b),this.setAttribute("position",new ln(f,3)),this.setAttribute("normal",new ln(h,3)),this.setAttribute("uv",new ln(d,2));function y(){for(let _=0;_<n;_++)v(_);v(a===!1?n:0),x(),m()}function v(_){u=e.getPointAt(_/n,u);const E=s.normals[_],A=s.binormals[_];for(let w=0;w<=r;w++){const T=w/r*Math.PI*2,k=Math.sin(T),N=-Math.cos(T);l.x=N*E.x+k*A.x,l.y=N*E.y+k*A.y,l.z=N*E.z+k*A.z,l.normalize(),h.push(l.x,l.y,l.z),o.x=u.x+i*l.x,o.y=u.y+i*l.y,o.z=u.z+i*l.z,f.push(o.x,o.y,o.z)}}function m(){for(let _=1;_<=n;_++)for(let E=1;E<=r;E++){const A=(r+1)*(_-1)+(E-1),w=(r+1)*_+(E-1),T=(r+1)*_+E,k=(r+1)*(_-1)+E;b.push(A,w,k),b.push(w,T,k)}}function x(){for(let _=0;_<=n;_++)for(let E=0;E<=r;E++)c.x=_/n,c.y=E/r,d.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new PC(new TA[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class dP extends An{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],i=new Set,r=new Q,a=new Q;if(e.index!==null){const s=e.attributes.position,o=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:o.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const f=l[c],h=f.start,d=f.count;for(let b=h,y=h+d;b<y;b+=3)for(let v=0;v<3;v++){const m=o.getX(b+v),x=o.getX(b+(v+1)%3);r.fromBufferAttribute(s,m),a.fromBufferAttribute(s,x),Cj(r,a,i)===!0&&(n.push(r.x,r.y,r.z),n.push(a.x,a.y,a.z))}}}else{const s=e.attributes.position;for(let o=0,l=s.count/3;o<l;o++)for(let c=0;c<3;c++){const u=3*o+c,f=3*o+(c+1)%3;r.fromBufferAttribute(s,u),a.fromBufferAttribute(s,f),Cj(r,a,i)===!0&&(n.push(r.x,r.y,r.z),n.push(a.x,a.y,a.z))}}this.setAttribute("position",new ln(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function Cj(t,e,n){const i=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(i)===!0||n.has(r)===!0?!1:(n.add(i),n.add(r),!0)}var Rj=Object.freeze({__proto__:null,BoxGeometry:Wd,CapsuleGeometry:MC,CircleGeometry:AC,ConeGeometry:M_,CylinderGeometry:zm,DodecahedronGeometry:TC,EdgesGeometry:GY,ExtrudeGeometry:RC,IcosahedronGeometry:zy,LatheGeometry:kC,OctahedronGeometry:A_,PlaneGeometry:Xd,PolyhedronGeometry:qd,RingGeometry:DC,ShapeGeometry:NC,SphereGeometry:jy,TetrahedronGeometry:IC,TorusGeometry:OC,TorusKnotGeometry:LC,TubeGeometry:PC,WireframeGeometry:dP});class ZY extends Ta{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Ut(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class QY extends Za{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class By extends Ta{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Ut(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gd,this.normalScale=new yt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new li,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class _c extends By{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new yt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Rn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ut(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ut(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ut(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class eJ extends Ta{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Ut(16777215),this.specular=new Ut(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gd,this.normalScale=new yt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new li,this.combine=x_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class RA extends Ta{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ut(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gd,this.normalScale=new yt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class tJ extends Ta{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gd,this.normalScale=new yt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class nJ extends Ta{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Ut(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ut(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gd,this.normalScale=new yt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new li,this.combine=x_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class pP extends Ta{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=SY,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class mP extends Ta{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class iJ extends Ta{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ut(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gd,this.normalScale=new yt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class rJ extends Bs{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function om(t,e){return!t||t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function aJ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function sJ(t){function e(r,a){return t[r]-t[a]}const n=t.length,i=new Array(n);for(let r=0;r!==n;++r)i[r]=r;return i.sort(e),i}function yN(t,e,n){const i=t.length,r=new t.constructor(i);for(let a=0,s=0;s!==i;++a){const o=n[a]*e;for(let l=0;l!==e;++l)r[s++]=t[o+l]}return r}function gP(t,e,n,i){let r=1,a=t[0];for(;a!==void 0&&a[i]===void 0;)a=t[r++];if(a===void 0)return;let s=a[i];if(s!==void 0)if(Array.isArray(s))do s=a[i],s!==void 0&&(e.push(a.time),n.push(...s)),a=t[r++];while(a!==void 0);else if(s.toArray!==void 0)do s=a[i],s!==void 0&&(e.push(a.time),s.toArray(n,n.length)),a=t[r++];while(a!==void 0);else do s=a[i],s!==void 0&&(e.push(a.time),n.push(s)),a=t[r++];while(a!==void 0)}function sbe(t,e,n,i,r=30){const a=t.clone();a.name=e;const s=[];for(let l=0;l<a.tracks.length;++l){const c=a.tracks[l],u=c.getValueSize(),f=[],h=[];for(let d=0;d<c.times.length;++d){const b=c.times[d]*r;if(!(b<n||b>=i)){f.push(c.times[d]);for(let y=0;y<u;++y)h.push(c.values[d*u+y])}}f.length!==0&&(c.times=om(f,c.times.constructor),c.values=om(h,c.values.constructor),s.push(c))}a.tracks=s;let o=1/0;for(let l=0;l<a.tracks.length;++l)o>a.tracks[l].times[0]&&(o=a.tracks[l].times[0]);for(let l=0;l<a.tracks.length;++l)a.tracks[l].shift(-1*o);return a.resetDuration(),a}function obe(t,e=0,n=t,i=30){i<=0&&(i=30);const r=n.tracks.length,a=e/i;for(let s=0;s<r;++s){const o=n.tracks[s],l=o.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(m){return m.name===o.name&&m.ValueTypeName===l});if(c===void 0)continue;let u=0;const f=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=f/3);let h=0;const d=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=d/3);const b=o.times.length-1;let y;if(a<=o.times[0]){const m=u,x=f-u;y=o.values.slice(m,x)}else if(a>=o.times[b]){const m=b*f+u,x=m+f-u;y=o.values.slice(m,x)}else{const m=o.createInterpolant(),x=u,_=f-u;m.evaluate(a),y=m.resultBuffer.slice(x,_)}l==="quaternion"&&new Hn().fromArray(y).normalize().conjugate().toArray(y);const v=c.times.length;for(let m=0;m<v;++m){const x=m*d+h;if(l==="quaternion")Hn.multiplyQuaternionsFlat(c.values,x,y,0,c.values,x);else{const _=d-h*2;for(let E=0;E<_;++E)c.values[x+E]-=y[E]}}}return t.blendMode=XL,t}class lbe{static convertArray(e,n){return om(e,n)}static isTypedArray(e){return aJ(e)}static getKeyframeOrder(e){return sJ(e)}static sortedArray(e,n,i){return yN(e,n,i)}static flattenJSON(e,n,i,r){gP(e,n,i,r)}static subclip(e,n,i,r,a=30){return sbe(e,n,i,r,a)}static makeClipAdditive(e,n=0,i=e,r=30){return obe(e,n,i,r)}}class Hy{constructor(e,n,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new n.constructor(i),this.sampleValues=n,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let i=this._cachedIndex,r=n[i],a=n[i-1];e:{t:{let s;n:{i:if(!(e<r)){for(let o=i+2;;){if(r===void 0){if(e<a)break i;return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===o)break;if(a=r,r=n[++i],e<r)break t}s=n.length;break n}if(!(e>=a)){const o=n[1];e<o&&(i=2,a=o);for(let l=i-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=a,a=n[--i-1],e>=a)break t}s=i,i=0;break n}break e}for(;i<s;){const o=i+s>>>1;e<n[o]?s=o:i=o+1}if(r=n[i],a=n[i-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,a,r)}return this.interpolate_(i,a,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,i=this.sampleValues,r=this.valueSize,a=e*r;for(let s=0;s!==r;++s)n[s]=i[a+s];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class oJ extends Hy{constructor(e,n,i,r){super(e,n,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:rm,endingEnd:rm}}intervalChanged_(e,n,i){const r=this.parameterPositions;let a=e-2,s=e+1,o=r[a],l=r[s];if(o===void 0)switch(this.getSettings_().endingStart){case am:a=e,o=2*n-i;break;case A1:a=r.length-2,o=n+r[a]-r[a+1];break;default:a=e,o=i}if(l===void 0)switch(this.getSettings_().endingEnd){case am:s=e,l=2*i-n;break;case A1:s=1,l=i+r[1]-r[0];break;default:s=e-1,l=n}const c=(i-n)*.5,u=this.valueSize;this._weightPrev=c/(n-o),this._weightNext=c/(l-i),this._offsetPrev=a*u,this._offsetNext=s*u}interpolate_(e,n,i,r){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,u=this._offsetPrev,f=this._offsetNext,h=this._weightPrev,d=this._weightNext,b=(i-n)/(r-n),y=b*b,v=y*b,m=-h*v+2*h*y-h*b,x=(1+h)*v+(-1.5-2*h)*y+(-.5+h)*b+1,_=(-1-d)*v+(1.5+d)*y+.5*b,E=d*v-d*y;for(let A=0;A!==o;++A)a[A]=m*s[u+A]+x*s[c+A]+_*s[l+A]+E*s[f+A];return a}}class bP extends Hy{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e,n,i,r){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,u=(i-n)/(r-n),f=1-u;for(let h=0;h!==o;++h)a[h]=s[c+h]*f+s[l+h]*u;return a}}class lJ extends Hy{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Sc{constructor(e,n,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=om(n,this.TimeBufferType),this.values=om(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let i;if(n.toJSON!==this.toJSON)i=n.toJSON(e);else{i={name:e.name,times:om(e.times,Array),values:om(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new lJ(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new bP(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new oJ(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case Y0:n=this.InterpolantFactoryMethodDiscrete;break;case J0:n=this.InterpolantFactoryMethodLinear;break;case HE:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Y0;case this.InterpolantFactoryMethodLinear:return J0;case this.InterpolantFactoryMethodSmooth:return HE}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let i=0,r=n.length;i!==r;++i)n[i]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let i=0,r=n.length;i!==r;++i)n[i]*=e}return this}trim(e,n){const i=this.times,r=i.length;let a=0,s=r-1;for(;a!==r&&i[a]<e;)++a;for(;s!==-1&&i[s]>n;)--s;if(++s,a!==0||s!==r){a>=s&&(s=Math.max(s,1),a=s-1);const o=this.getValueSize();this.times=i.slice(a,s),this.values=this.values.slice(a*o,s*o)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,a=i.length;a===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let o=0;o!==a;o++){const l=i[o];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,l),e=!1;break}if(s!==null&&s>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,l,s),e=!1;break}s=l}if(r!==void 0&&aJ(r))for(let o=0,l=r.length;o!==l;++o){const c=r[o];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===HE,a=e.length-1;let s=1;for(let o=1;o<a;++o){let l=!1;const c=e[o],u=e[o+1];if(c!==u&&(o!==1||c!==e[0]))if(r)l=!0;else{const f=o*i,h=f-i,d=f+i;for(let b=0;b!==i;++b){const y=n[f+b];if(y!==n[h+b]||y!==n[d+b]){l=!0;break}}}if(l){if(o!==s){e[s]=e[o];const f=o*i,h=s*i;for(let d=0;d!==i;++d)n[h+d]=n[f+d]}++s}}if(a>0){e[s]=e[a];for(let o=a*i,l=s*i,c=0;c!==i;++c)n[l+c]=n[o+c];++s}return s!==e.length?(this.times=e.slice(0,s),this.values=n.slice(0,s*i)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),i=this.constructor,r=new i(this.name,e,n);return r.createInterpolant=this.createInterpolant,r}}Sc.prototype.ValueTypeName="";Sc.prototype.TimeBufferType=Float32Array;Sc.prototype.ValueBufferType=Float32Array;Sc.prototype.DefaultInterpolation=J0;class lg extends Sc{constructor(e,n,i){super(e,n,i)}}lg.prototype.ValueTypeName="bool";lg.prototype.ValueBufferType=Array;lg.prototype.DefaultInterpolation=Y0;lg.prototype.InterpolantFactoryMethodLinear=void 0;lg.prototype.InterpolantFactoryMethodSmooth=void 0;class yP extends Sc{constructor(e,n,i,r){super(e,n,i,r)}}yP.prototype.ValueTypeName="color";class Bm extends Sc{constructor(e,n,i,r){super(e,n,i,r)}}Bm.prototype.ValueTypeName="number";class cJ extends Hy{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e,n,i,r){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=(i-n)/(r-n);let c=e*o;for(let u=c+o;c!==u;c+=4)Hn.slerpFlat(a,0,s,c-o,s,c,l);return a}}class Hm extends Sc{constructor(e,n,i,r){super(e,n,i,r)}InterpolantFactoryMethodLinear(e){return new cJ(this.times,this.values,this.getValueSize(),e)}}Hm.prototype.ValueTypeName="quaternion";Hm.prototype.InterpolantFactoryMethodSmooth=void 0;class cg extends Sc{constructor(e,n,i){super(e,n,i)}}cg.prototype.ValueTypeName="string";cg.prototype.ValueBufferType=Array;cg.prototype.DefaultInterpolation=Y0;cg.prototype.InterpolantFactoryMethodLinear=void 0;cg.prototype.InterpolantFactoryMethodSmooth=void 0;class Vm extends Sc{constructor(e,n,i,r){super(e,n,i,r)}}Vm.prototype.ValueTypeName="vector";class ny{constructor(e="",n=-1,i=[],r=pC){this.name=e,this.tracks=i,this.duration=n,this.blendMode=r,this.uuid=dl(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],i=e.tracks,r=1/(e.fps||1);for(let s=0,o=i.length;s!==o;++s)n.push(ube(i[s]).scale(r));const a=new this(e.name,e.duration,n,e.blendMode);return a.uuid=e.uuid,a}static toJSON(e){const n=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let a=0,s=i.length;a!==s;++a)n.push(Sc.toJSON(i[a]));return r}static CreateFromMorphTargetSequence(e,n,i,r){const a=n.length,s=[];for(let o=0;o<a;o++){let l=[],c=[];l.push((o+a-1)%a,o,(o+1)%a),c.push(0,1,0);const u=sJ(l);l=yN(l,1,u),c=yN(c,1,u),!r&&l[0]===0&&(l.push(a),c.push(c[0])),s.push(new Bm(".morphTargetInfluences["+n[o].name+"]",l,c).scale(1/i))}return new this(e,-1,s)}static findByName(e,n){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===n)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,n,i){const r={},a=/^([\w-]*?)([\d]+)$/;for(let o=0,l=e.length;o<l;o++){const c=e[o],u=c.name.match(a);if(u&&u.length>1){const f=u[1];let h=r[f];h||(r[f]=h=[]),h.push(c)}}const s=[];for(const o in r)s.push(this.CreateFromMorphTargetSequence(o,r[o],n,i));return s}static parseAnimation(e,n){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(f,h,d,b,y){if(d.length!==0){const v=[],m=[];gP(d,v,m,b),v.length!==0&&y.push(new f(h,v,m))}},r=[],a=e.name||"default",s=e.fps||30,o=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let f=0;f<c.length;f++){const h=c[f].keys;if(!(!h||h.length===0))if(h[0].morphTargets){const d={};let b;for(b=0;b<h.length;b++)if(h[b].morphTargets)for(let y=0;y<h[b].morphTargets.length;y++)d[h[b].morphTargets[y]]=-1;for(const y in d){const v=[],m=[];for(let x=0;x!==h[b].morphTargets.length;++x){const _=h[b];v.push(_.time),m.push(_.morphTarget===y?1:0)}r.push(new Bm(".morphTargetInfluence["+y+"]",v,m))}l=d.length*s}else{const d=".bones["+n[f].name+"]";i(Vm,d+".position",h,"pos",r),i(Hm,d+".quaternion",h,"rot",r),i(Vm,d+".scale",h,"scl",r)}}return r.length===0?null:new this(a,l,r,o)}resetDuration(){const e=this.tracks;let n=0;for(let i=0,r=e.length;i!==r;++i){const a=this.tracks[i];n=Math.max(n,a.times[a.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function cbe(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Bm;case"vector":case"vector2":case"vector3":case"vector4":return Vm;case"color":return yP;case"quaternion":return Hm;case"bool":case"boolean":return lg;case"string":return cg}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function ube(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=cbe(t.type);if(t.times===void 0){const n=[],i=[];gP(t.keys,n,i,"value"),t.times=n,t.values=i}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Fu={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class UC{constructor(e,n,i){const r=this;let a=!1,s=0,o=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=i,this.abortController=new AbortController,this.itemStart=function(u){o++,a===!1&&r.onStart!==void 0&&r.onStart(u,s,o),a=!0},this.itemEnd=function(u){s++,r.onProgress!==void 0&&r.onProgress(u,s,o),s===o&&(a=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(u){r.onError!==void 0&&r.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,f){return c.push(u,f),this},this.removeHandler=function(u){const f=c.indexOf(u);return f!==-1&&c.splice(f,2),this},this.getHandler=function(u){for(let f=0,h=c.length;f<h;f+=2){const d=c[f],b=c[f+1];if(d.global&&(d.lastIndex=0),d.test(u))return b}return null},this.abort=function(){return this.abortController.abort(),this.abortController=new AbortController,this}}}const uJ=new UC;class ws{constructor(e){this.manager=e!==void 0?e:uJ,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const i=this;return new Promise(function(r,a){i.load(e,r,n,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}ws.DEFAULT_MATERIAL_NAME="__DEFAULT";const kf={};class fbe extends Error{constructor(e,n){super(e),this.response=n}}class ys extends ws{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,n,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=Fu.get(`file:${e}`);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(a),this.manager.itemEnd(e)},0),a;if(kf[e]!==void 0){kf[e].push({onLoad:n,onProgress:i,onError:r});return}kf[e]=[],kf[e].push({onLoad:n,onProgress:i,onError:r});const s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),o=this.mimeType,l=this.responseType;fetch(s).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=kf[e],f=c.body.getReader(),h=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),d=h?parseInt(h):0,b=d!==0;let y=0;const v=new ReadableStream({start(m){x();function x(){f.read().then(({done:_,value:E})=>{if(_)m.close();else{y+=E.byteLength;const A=new ProgressEvent("progress",{lengthComputable:b,loaded:y,total:d});for(let w=0,T=u.length;w<T;w++){const k=u[w];k.onProgress&&k.onProgress(A)}m.enqueue(E),x()}},_=>{m.error(_)})}}});return new Response(v)}else throw new fbe(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,o));case"json":return c.json();default:if(o==="")return c.text();{const f=/charset="?([^;"\s]*)"?/i.exec(o),h=f&&f[1]?f[1].toLowerCase():void 0,d=new TextDecoder(h);return c.arrayBuffer().then(b=>d.decode(b))}}}).then(c=>{Fu.add(`file:${e}`,c);const u=kf[e];delete kf[e];for(let f=0,h=u.length;f<h;f++){const d=u[f];d.onLoad&&d.onLoad(c)}}).catch(c=>{const u=kf[e];if(u===void 0)throw this.manager.itemError(e),c;delete kf[e];for(let f=0,h=u.length;f<h;f++){const d=u[f];d.onError&&d.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class hbe extends ws{constructor(e){super(e)}load(e,n,i,r){const a=this,s=new ys(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(o){try{n(a.parse(JSON.parse(o)))}catch(l){r?r(l):console.error(l),a.manager.itemError(e)}},i,r)}parse(e){const n=[];for(let i=0;i<e.length;i++){const r=ny.parse(e[i]);n.push(r)}return n}}class dbe extends ws{constructor(e){super(e)}load(e,n,i,r){const a=this,s=[],o=new EC,l=new ys(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(a.withCredentials);let c=0;function u(f){l.load(e[f],function(h){const d=a.parse(h,!0);s[f]={width:d.width,height:d.height,format:d.format,mipmaps:d.mipmaps},c+=1,c===6&&(d.mipmapCount===1&&(o.minFilter=Gi),o.image=s,o.format=d.format,o.needsUpdate=!0,n&&n(o))},i,r)}if(Array.isArray(e))for(let f=0,h=e.length;f<h;++f)u(f);else l.load(e,function(f){const h=a.parse(f,!0);if(h.isCubemap){const d=h.mipmaps.length/h.mipmapCount;for(let b=0;b<d;b++){s[b]={mipmaps:[]};for(let y=0;y<h.mipmapCount;y++)s[b].mipmaps.push(h.mipmaps[b*h.mipmapCount+y]),s[b].format=h.format,s[b].width=h.width,s[b].height=h.height}o.image=s}else o.image.width=h.width,o.image.height=h.height,o.mipmaps=h.mipmaps;h.mipmapCount===1&&(o.minFilter=Gi),o.format=h.format,o.needsUpdate=!0,n&&n(o)},i,r);return o}}const lb=new WeakMap;class O1 extends ws{constructor(e){super(e)}load(e,n,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=Fu.get(`image:${e}`);if(s!==void 0){if(s.complete===!0)a.manager.itemStart(e),setTimeout(function(){n&&n(s),a.manager.itemEnd(e)},0);else{let f=lb.get(s);f===void 0&&(f=[],lb.set(s,f)),f.push({onLoad:n,onError:r})}return s}const o=R1("img");function l(){u(),n&&n(this);const f=lb.get(this)||[];for(let h=0;h<f.length;h++){const d=f[h];d.onLoad&&d.onLoad(this)}lb.delete(this),a.manager.itemEnd(e)}function c(f){u(),r&&r(f),Fu.remove(`image:${e}`);const h=lb.get(this)||[];for(let d=0;d<h.length;d++){const b=h[d];b.onError&&b.onError(f)}lb.delete(this),a.manager.itemError(e),a.manager.itemEnd(e)}function u(){o.removeEventListener("load",l,!1),o.removeEventListener("error",c,!1)}return o.addEventListener("load",l,!1),o.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),Fu.add(`image:${e}`,o),a.manager.itemStart(e),o.src=e,o}}class fJ extends ws{constructor(e){super(e)}load(e,n,i,r){const a=new S_;a.colorSpace=us;const s=new O1(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let o=0;function l(c){s.load(e[c],function(u){a.images[c]=u,o++,o===6&&(a.needsUpdate=!0,n&&n(a))},void 0,r)}for(let c=0;c<e.length;++c)l(c);return a}}class vP extends ws{constructor(e){super(e)}load(e,n,i,r){const a=this,s=new bs,o=new ys(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(a.withCredentials),o.load(e,function(l){let c;try{c=a.parse(l)}catch(u){if(r!==void 0)r(u);else{console.error(u);return}}c.image!==void 0?s.image=c.image:c.data!==void 0&&(s.image.width=c.width,s.image.height=c.height,s.image.data=c.data),s.wrapS=c.wrapS!==void 0?c.wrapS:pa,s.wrapT=c.wrapT!==void 0?c.wrapT:pa,s.magFilter=c.magFilter!==void 0?c.magFilter:Gi,s.minFilter=c.minFilter!==void 0?c.minFilter:Gi,s.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(s.colorSpace=c.colorSpace),c.flipY!==void 0&&(s.flipY=c.flipY),c.format!==void 0&&(s.format=c.format),c.type!==void 0&&(s.type=c.type),c.mipmaps!==void 0&&(s.mipmaps=c.mipmaps,s.minFilter=rc),c.mipmapCount===1&&(s.minFilter=Gi),c.generateMipmaps!==void 0&&(s.generateMipmaps=c.generateMipmaps),s.needsUpdate=!0,n&&n(s,c)},i,r),s}}class iy extends ws{constructor(e){super(e)}load(e,n,i,r){const a=new er,s=new O1(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(o){a.image=o,a.needsUpdate=!0,n!==void 0&&n(a)},i,r),a}}class Kd extends Ei{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Ut(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(n.object.target=this.target.uuid),n}}class hJ extends Kd{constructor(e,n,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Ei.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Ut(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const tk=new kt,kj=new Q,Dj=new Q;class xP{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new yt(512,512),this.mapType=ho,this.map=null,this.mapPass=null,this.matrix=new kt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new og,this._frameExtents=new yt(1,1),this._viewportCount=1,this._viewports=[new ni(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,i=this.matrix;kj.setFromMatrixPosition(e.matrixWorld),n.position.copy(kj),Dj.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(Dj),n.updateMatrixWorld(),tk.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(tk,n.coordinateSystem,n.reversedDepth),n.reversedDepth?i.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(tk)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class pbe extends xP{constructor(){super(new Xr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const n=this.camera,i=Z0*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height*this.aspect,a=e.distance||n.far;(i!==n.fov||r!==n.aspect||a!==n.far)&&(n.fov=i,n.aspect=r,n.far=a,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class _P extends Kd{constructor(e,n,i=0,r=Math.PI/3,a=0,s=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Ei.DEFAULT_UP),this.updateMatrix(),this.target=new Ei,this.distance=i,this.angle=r,this.penumbra=a,this.decay=s,this.map=null,this.shadow=new pbe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const Nj=new kt,zv=new Q,nk=new Q;class mbe extends xP{constructor(){super(new Xr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new yt(4,2),this._viewportCount=6,this._viewports=[new ni(2,1,1,1),new ni(0,1,1,1),new ni(3,1,1,1),new ni(1,1,1,1),new ni(3,0,1,1),new ni(1,0,1,1)],this._cubeDirections=[new Q(1,0,0),new Q(-1,0,0),new Q(0,0,1),new Q(0,0,-1),new Q(0,1,0),new Q(0,-1,0)],this._cubeUps=[new Q(0,1,0),new Q(0,1,0),new Q(0,1,0),new Q(0,1,0),new Q(0,0,1),new Q(0,0,-1)]}updateMatrices(e,n=0){const i=this.camera,r=this.matrix,a=e.distance||i.far;a!==i.far&&(i.far=a,i.updateProjectionMatrix()),zv.setFromMatrixPosition(e.matrixWorld),i.position.copy(zv),nk.copy(i.position),nk.add(this._cubeDirections[n]),i.up.copy(this._cubeUps[n]),i.lookAt(nk),i.updateMatrixWorld(),r.makeTranslation(-zv.x,-zv.y,-zv.z),Nj.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Nj,i.coordinateSystem,i.reversedDepth)}}class SP extends Kd{constructor(e,n,i=0,r=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new mbe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class vh extends bC{constructor(e=-1,n=1,i=1,r=-1,a=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=i,this.bottom=r,this.near=a,this.far=s,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,i,r,a,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let a=i-e,s=i+e,o=r+n,l=r-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=c*this.view.offsetX,s=a+c*this.view.width,o-=u*this.view.offsetY,l=o-u*this.view.height}this.projectionMatrix.makeOrthographic(a,s,o,l,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class gbe extends xP{constructor(){super(new vh(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class FC extends Kd{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Ei.DEFAULT_UP),this.updateMatrix(),this.target=new Ei,this.shadow=new gbe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class dJ extends Kd{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class pJ extends Kd{constructor(e,n,i=10,r=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class mJ{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Q)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const i=e.x,r=e.y,a=e.z,s=this.coefficients;return n.copy(s[0]).multiplyScalar(.282095),n.addScaledVector(s[1],.488603*r),n.addScaledVector(s[2],.488603*a),n.addScaledVector(s[3],.488603*i),n.addScaledVector(s[4],1.092548*(i*r)),n.addScaledVector(s[5],1.092548*(r*a)),n.addScaledVector(s[6],.315392*(3*a*a-1)),n.addScaledVector(s[7],1.092548*(i*a)),n.addScaledVector(s[8],.546274*(i*i-r*r)),n}getIrradianceAt(e,n){const i=e.x,r=e.y,a=e.z,s=this.coefficients;return n.copy(s[0]).multiplyScalar(.886227),n.addScaledVector(s[1],2*.511664*r),n.addScaledVector(s[2],2*.511664*a),n.addScaledVector(s[3],2*.511664*i),n.addScaledVector(s[4],2*.429043*i*r),n.addScaledVector(s[5],2*.429043*r*a),n.addScaledVector(s[6],.743125*a*a-.247708),n.addScaledVector(s[7],2*.429043*i*a),n.addScaledVector(s[8],.429043*(i*i-r*r)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,n+r*3);return this}toArray(e=[],n=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,n+r*3);return e}static getBasisAt(e,n){const i=e.x,r=e.y,a=e.z;n[0]=.282095,n[1]=.488603*r,n[2]=.488603*a,n[3]=.488603*i,n[4]=1.092548*i*r,n[5]=1.092548*r*a,n[6]=.315392*(3*a*a-1),n[7]=1.092548*i*a,n[8]=.546274*(i*i-r*r)}}class gJ extends Kd{constructor(e=new mJ,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class zC extends ws{constructor(e){super(e),this.textures={}}load(e,n,i,r){const a=this,s=new ys(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(o){try{n(a.parse(JSON.parse(o)))}catch(l){r?r(l):console.error(l),a.manager.itemError(e)}},i,r)}parse(e){const n=this.textures;function i(a){return n[a]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",a),n[a]}const r=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Ut().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const s=e.uniforms[a];switch(r.uniforms[a]={},s.type){case"t":r.uniforms[a].value=i(s.value);break;case"c":r.uniforms[a].value=new Ut().setHex(s.value);break;case"v2":r.uniforms[a].value=new yt().fromArray(s.value);break;case"v3":r.uniforms[a].value=new Q().fromArray(s.value);break;case"v4":r.uniforms[a].value=new ni().fromArray(s.value);break;case"m3":r.uniforms[a].value=new qn().fromArray(s.value);break;case"m4":r.uniforms[a].value=new kt().fromArray(s.value);break;default:r.uniforms[a].value=s.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)r.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),r.normalScale=new yt().fromArray(a)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new yt().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return zC.createMaterialFromType(e)}static createMaterialFromType(e){const n={ShadowMaterial:ZY,SpriteMaterial:tP,RawShaderMaterial:QY,ShaderMaterial:Za,PointsMaterial:wC,MeshPhysicalMaterial:_c,MeshStandardMaterial:By,MeshPhongMaterial:eJ,MeshToonMaterial:RA,MeshNormalMaterial:tJ,MeshLambertMaterial:nJ,MeshDepthMaterial:pP,MeshDistanceMaterial:mP,MeshBasicMaterial:uo,MeshMatcapMaterial:iJ,LineDashedMaterial:rJ,LineBasicMaterial:Bs,Material:Ta};return new n[e]}}class Cd{static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class jC extends An{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class bJ extends ws{constructor(e){super(e)}load(e,n,i,r){const a=this,s=new ys(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(o){try{n(a.parse(JSON.parse(o)))}catch(l){r?r(l):console.error(l),a.manager.itemError(e)}},i,r)}parse(e){const n={},i={};function r(d,b){if(n[b]!==void 0)return n[b];const v=d.interleavedBuffers[b],m=a(d,v.buffer),x=$b(v.type,m),_=new w_(x,v.stride);return _.uuid=v.uuid,n[b]=_,_}function a(d,b){if(i[b]!==void 0)return i[b];const v=d.arrayBuffers[b],m=new Uint32Array(v).buffer;return i[b]=m,m}const s=e.isInstancedBufferGeometry?new jC:new An,o=e.data.index;if(o!==void 0){const d=$b(o.type,o.array);s.setIndex(new In(d,1))}const l=e.data.attributes;for(const d in l){const b=l[d];let y;if(b.isInterleavedBufferAttribute){const v=r(e.data,b.data);y=new To(v,b.itemSize,b.offset,b.normalized)}else{const v=$b(b.type,b.array),m=b.isInstancedBufferAttribute?uh:In;y=new m(v,b.itemSize,b.normalized)}b.name!==void 0&&(y.name=b.name),b.usage!==void 0&&y.setUsage(b.usage),s.setAttribute(d,y)}const c=e.data.morphAttributes;if(c)for(const d in c){const b=c[d],y=[];for(let v=0,m=b.length;v<m;v++){const x=b[v];let _;if(x.isInterleavedBufferAttribute){const E=r(e.data,x.data);_=new To(E,x.itemSize,x.offset,x.normalized)}else{const E=$b(x.type,x.array);_=new In(E,x.itemSize,x.normalized)}x.name!==void 0&&(_.name=x.name),y.push(_)}s.morphAttributes[d]=y}e.data.morphTargetsRelative&&(s.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let d=0,b=f.length;d!==b;++d){const y=f[d];s.addGroup(y.start,y.count,y.materialIndex)}const h=e.data.boundingSphere;return h!==void 0&&(s.boundingSphere=new Or().fromJSON(h)),e.name&&(s.name=e.name),e.userData&&(s.userData=e.userData),s}}class bbe extends ws{constructor(e){super(e)}load(e,n,i,r){const a=this,s=this.path===""?Cd.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const o=new ys(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(f){r!==void 0&&r(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}a.parse(c,n)},i,r)}async loadAsync(e,n){const i=this,r=this.path===""?Cd.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const a=new ys(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const s=await a.loadAsync(e,n),o=JSON.parse(s),l=o.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(o)}parse(e,n){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,r),s=this.parseImages(e.images,function(){n!==void 0&&n(c)}),o=this.parseTextures(e.textures,s),l=this.parseMaterials(e.materials,o),c=this.parseObject(e.object,a,l,o,i),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),this.bindLightTargets(c),n!==void 0){let f=!1;for(const h in s)if(s[h].data instanceof HTMLImageElement){f=!0;break}f===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),a=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,a),o=this.parseMaterials(e.materials,s),l=this.parseObject(e.object,r,o,s,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),this.bindLightTargets(l),l}parseShapes(e){const n={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const a=new Tm().fromJSON(e[i]);n[a.uuid]=a}return n}parseSkeletons(e,n){const i={},r={};if(n.traverse(function(a){a.isBone&&(r[a.uuid]=a)}),e!==void 0)for(let a=0,s=e.length;a<s;a++){const o=new Fy().fromJSON(e[a],r);i[o.uuid]=o}return i}parseGeometries(e,n){const i={};if(e!==void 0){const r=new bJ;for(let a=0,s=e.length;a<s;a++){let o;const l=e[a];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(l);break;default:l.type in Rj?o=Rj[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}o.uuid=l.uuid,l.name!==void 0&&(o.name=l.name),l.userData!==void 0&&(o.userData=l.userData),i[l.uuid]=o}}return i}parseMaterials(e,n){const i={},r={};if(e!==void 0){const a=new zC;a.setTextures(n);for(let s=0,o=e.length;s<o;s++){const l=e[s];i[l.uuid]===void 0&&(i[l.uuid]=a.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const n={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],a=ny.parse(r);n[a.uuid]=a}return n}parseImages(e,n){const i=this,r={};let a;function s(l){return i.manager.itemStart(l),a.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function o(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:i.resourcePath+c;return s(u)}else return l.data?{data:$b(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new UC(n);a=new O1(l),a.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const f=e[c],h=f.url;if(Array.isArray(h)){const d=[];for(let b=0,y=h.length;b<y;b++){const v=h[b],m=o(v);m!==null&&(m instanceof HTMLImageElement?d.push(m):d.push(new bs(m.data,m.width,m.height)))}r[f.uuid]=new bd(d)}else{const d=o(f.url);r[f.uuid]=new bd(d)}}}return r}async parseImagesAsync(e){const n=this,i={};let r;async function a(s){if(typeof s=="string"){const o=s,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o)?o:n.resourcePath+o;return await r.loadAsync(l)}else return s.data?{data:$b(s.type,s.data),width:s.width,height:s.height}:null}if(e!==void 0&&e.length>0){r=new O1(this.manager),r.setCrossOrigin(this.crossOrigin);for(let s=0,o=e.length;s<o;s++){const l=e[s],c=l.url;if(Array.isArray(c)){const u=[];for(let f=0,h=c.length;f<h;f++){const d=c[f],b=await a(d);b!==null&&(b instanceof HTMLImageElement?u.push(b):u.push(new bs(b.data,b.width,b.height)))}i[l.uuid]=new bd(u)}else{const u=await a(l.url);i[l.uuid]=new bd(u)}}}return i}parseTextures(e,n){function i(a,s){return typeof a=="number"?a:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a),s[a])}const r={};if(e!==void 0)for(let a=0,s=e.length;a<s;a++){const o=e[a];o.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),n[o.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",o.image);const l=n[o.image],c=l.data;let u;Array.isArray(c)?(u=new S_,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new bs:u=new er,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=o.uuid,o.name!==void 0&&(u.name=o.name),o.mapping!==void 0&&(u.mapping=i(o.mapping,ybe)),o.channel!==void 0&&(u.channel=o.channel),o.offset!==void 0&&u.offset.fromArray(o.offset),o.repeat!==void 0&&u.repeat.fromArray(o.repeat),o.center!==void 0&&u.center.fromArray(o.center),o.rotation!==void 0&&(u.rotation=o.rotation),o.wrap!==void 0&&(u.wrapS=i(o.wrap[0],Ij),u.wrapT=i(o.wrap[1],Ij)),o.format!==void 0&&(u.format=o.format),o.internalFormat!==void 0&&(u.internalFormat=o.internalFormat),o.type!==void 0&&(u.type=o.type),o.colorSpace!==void 0&&(u.colorSpace=o.colorSpace),o.minFilter!==void 0&&(u.minFilter=i(o.minFilter,Oj)),o.magFilter!==void 0&&(u.magFilter=i(o.magFilter,Oj)),o.anisotropy!==void 0&&(u.anisotropy=o.anisotropy),o.flipY!==void 0&&(u.flipY=o.flipY),o.generateMipmaps!==void 0&&(u.generateMipmaps=o.generateMipmaps),o.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(u.unpackAlignment=o.unpackAlignment),o.compareFunction!==void 0&&(u.compareFunction=o.compareFunction),o.userData!==void 0&&(u.userData=o.userData),r[o.uuid]=u}return r}parseObject(e,n,i,r,a){let s;function o(h){return n[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",h),n[h]}function l(h){if(h!==void 0){if(Array.isArray(h)){const d=[];for(let b=0,y=h.length;b<y;b++){const v=h[b];i[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",v),d.push(i[v])}return d}return i[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",h),i[h]}}function c(h){return r[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",h),r[h]}let u,f;switch(e.type){case"Scene":s=new Uy,e.background!==void 0&&(Number.isInteger(e.background)?s.background=new Ut(e.background):s.background=c(e.background)),e.environment!==void 0&&(s.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?s.fog=new vC(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(s.fog=new yC(e.fog.color,e.fog.density)),e.fog.name!==""&&(s.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(s.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&s.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(s.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&s.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":s=new Xr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(s.focus=e.focus),e.zoom!==void 0&&(s.zoom=e.zoom),e.filmGauge!==void 0&&(s.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(s.filmOffset=e.filmOffset),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new vh(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(s.zoom=e.zoom),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new dJ(e.color,e.intensity);break;case"DirectionalLight":s=new FC(e.color,e.intensity),s.target=e.target||"";break;case"PointLight":s=new SP(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new pJ(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new _P(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),s.target=e.target||"";break;case"HemisphereLight":s=new hJ(e.color,e.groundColor,e.intensity);break;case"LightProbe":s=new gJ().fromJSON(e);break;case"SkinnedMesh":u=o(e.geometry),f=l(e.material),s=new xC(u,f),e.bindMode!==void 0&&(s.bindMode=e.bindMode),e.bindMatrix!==void 0&&s.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(s.skeleton=e.skeleton);break;case"Mesh":u=o(e.geometry),f=l(e.material),s=new Di(u,f);break;case"InstancedMesh":u=o(e.geometry),f=l(e.material);const h=e.count,d=e.instanceMatrix,b=e.instanceColor;s=new _C(u,f,h),s.instanceMatrix=new uh(new Float32Array(d.array),16),b!==void 0&&(s.instanceColor=new uh(new Float32Array(b.array),b.itemSize));break;case"BatchedMesh":u=o(e.geometry),f=l(e.material),s=new HY(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,f),s.geometry=u,s.perObjectFrustumCulled=e.perObjectFrustumCulled,s.sortObjects=e.sortObjects,s._drawRanges=e.drawRanges,s._reservedRanges=e.reservedRanges,s._geometryInfo=e.geometryInfo.map(y=>{let v=null,m=null;return y.boundingBox!==void 0&&(v=new vr().fromJSON(y.boundingBox)),y.boundingSphere!==void 0&&(m=new Or().fromJSON(y.boundingSphere)),{...y,boundingBox:v,boundingSphere:m}}),s._instanceInfo=e.instanceInfo,s._availableInstanceIds=e._availableInstanceIds,s._availableGeometryIds=e._availableGeometryIds,s._nextIndexStart=e.nextIndexStart,s._nextVertexStart=e.nextVertexStart,s._geometryCount=e.geometryCount,s._maxInstanceCount=e.maxInstanceCount,s._maxVertexCount=e.maxVertexCount,s._maxIndexCount=e.maxIndexCount,s._geometryInitialized=e.geometryInitialized,s._matricesTexture=c(e.matricesTexture.uuid),s._indirectTexture=c(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(s._colorsTexture=c(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(s.boundingSphere=new Or().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(s.boundingBox=new vr().fromJSON(e.boundingBox));break;case"LOD":s=new BY;break;case"Line":s=new fh(o(e.geometry),l(e.material));break;case"LineLoop":s=new nP(o(e.geometry),l(e.material));break;case"LineSegments":s=new hu(o(e.geometry),l(e.material));break;case"PointCloud":case"Points":s=new iP(o(e.geometry),l(e.material));break;case"Sprite":s=new jY(l(e.material));break;case"Group":s=new Uu;break;case"Bone":s=new E_;break;default:s=new Ei}if(s.uuid=e.uuid,e.name!==void 0&&(s.name=e.name),e.matrix!==void 0?(s.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(e.position!==void 0&&s.position.fromArray(e.position),e.rotation!==void 0&&s.rotation.fromArray(e.rotation),e.quaternion!==void 0&&s.quaternion.fromArray(e.quaternion),e.scale!==void 0&&s.scale.fromArray(e.scale)),e.up!==void 0&&s.up.fromArray(e.up),e.castShadow!==void 0&&(s.castShadow=e.castShadow),e.receiveShadow!==void 0&&(s.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(s.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(s.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(s.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(s.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&s.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(s.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(s.visible=e.visible),e.frustumCulled!==void 0&&(s.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(s.renderOrder=e.renderOrder),e.userData!==void 0&&(s.userData=e.userData),e.layers!==void 0&&(s.layers.mask=e.layers),e.children!==void 0){const h=e.children;for(let d=0;d<h.length;d++)s.add(this.parseObject(h[d],n,i,r,a))}if(e.animations!==void 0){const h=e.animations;for(let d=0;d<h.length;d++){const b=h[d];s.animations.push(a[b])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(s.autoUpdate=e.autoUpdate);const h=e.levels;for(let d=0;d<h.length;d++){const b=h[d],y=s.getObjectByProperty("uuid",b.object);y!==void 0&&s.addLevel(y,b.distance,b.hysteresis)}}return s}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=n[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(n){if(n.isDirectionalLight||n.isSpotLight){const i=n.target,r=e.getObjectByProperty("uuid",i);r!==void 0?n.target=r:n.target=new Ei}})}}const ybe={UVMapping:Pd,CubeReflectionMapping:Qu,CubeRefractionMapping:Ud,EquirectangularReflectionMapping:V0,EquirectangularRefractionMapping:M1,CubeUVReflectionMapping:Iy},Ij={RepeatWrapping:Fd,ClampToEdgeWrapping:pa,MirroredRepeatWrapping:G0},Oj={NearestFilter:Ja,NearestMipmapNearestFilter:lC,NearestMipmapLinearFilter:im,LinearFilter:Gi,LinearMipmapNearestFilter:d0,LinearMipmapLinearFilter:rc},ik=new WeakMap;class yJ extends ws{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,n,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=Fu.get(`image-bitmap:${e}`);if(s!==void 0){if(a.manager.itemStart(e),s.then){s.then(c=>{if(ik.has(s)===!0)r&&r(ik.get(s)),a.manager.itemError(e),a.manager.itemEnd(e);else return n&&n(c),a.manager.itemEnd(e),c});return}return setTimeout(function(){n&&n(s),a.manager.itemEnd(e)},0),s}const o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader,o.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const l=fetch(e,o).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(c){return Fu.add(`image-bitmap:${e}`,c),n&&n(c),a.manager.itemEnd(e),c}).catch(function(c){r&&r(c),ik.set(l,c),Fu.remove(`image-bitmap:${e}`),a.manager.itemError(e),a.manager.itemEnd(e)});Fu.add(`image-bitmap:${e}`,l),a.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let Sw;class wP{static getContext(){return Sw===void 0&&(Sw=new(window.AudioContext||window.webkitAudioContext)),Sw}static setContext(e){Sw=e}}class vbe extends ws{constructor(e){super(e)}load(e,n,i,r){const a=this,s=new ys(this.manager);s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){try{const c=l.slice(0);wP.getContext().decodeAudioData(c,function(f){n(f)}).catch(o)}catch(c){o(c)}},i,r);function o(l){r?r(l):console.error(l),a.manager.itemError(e)}}}const Lj=new kt,Pj=new kt,Mp=new kt;class xbe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Xr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Xr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Mp.copy(e.projectionMatrix);const r=n.eyeSep/2,a=r*n.near/n.focus,s=n.near*Math.tan(Am*n.fov*.5)/n.zoom;let o,l;Pj.elements[12]=-r,Lj.elements[12]=r,o=-s*n.aspect+a,l=s*n.aspect+a,Mp.elements[0]=2*n.near/(l-o),Mp.elements[8]=(l+o)/(l-o),this.cameraL.projectionMatrix.copy(Mp),o=-s*n.aspect-a,l=s*n.aspect-a,Mp.elements[0]=2*n.near/(l-o),Mp.elements[8]=(l+o)/(l-o),this.cameraR.projectionMatrix.copy(Mp)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Pj),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Lj)}}class vJ extends Xr{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class EP{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=performance.now();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}const Ap=new Q,rk=new Hn,_be=new Q,Tp=new Q,Cp=new Q;class Sbe extends Ei{constructor(){super(),this.type="AudioListener",this.context=wP.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new EP}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Ap,rk,_be),Tp.set(0,0,-1).applyQuaternion(rk),Cp.set(0,1,0).applyQuaternion(rk),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Ap.x,i),n.positionY.linearRampToValueAtTime(Ap.y,i),n.positionZ.linearRampToValueAtTime(Ap.z,i),n.forwardX.linearRampToValueAtTime(Tp.x,i),n.forwardY.linearRampToValueAtTime(Tp.y,i),n.forwardZ.linearRampToValueAtTime(Tp.z,i),n.upX.linearRampToValueAtTime(Cp.x,i),n.upY.linearRampToValueAtTime(Cp.y,i),n.upZ.linearRampToValueAtTime(Cp.z,i)}else n.setPosition(Ap.x,Ap.y,Ap.z),n.setOrientation(Tp.x,Tp.y,Tp.z,Cp.x,Cp.y,Cp.z)}}class xJ extends Ei{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,n){return super.copy(e,n),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Rp=new Q,Uj=new Hn,wbe=new Q,kp=new Q;class Ebe extends xJ{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Rp,Uj,wbe),kp.set(0,0,1).applyQuaternion(Uj);const n=this.panner;if(n.positionX){const i=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Rp.x,i),n.positionY.linearRampToValueAtTime(Rp.y,i),n.positionZ.linearRampToValueAtTime(Rp.z,i),n.orientationX.linearRampToValueAtTime(kp.x,i),n.orientationY.linearRampToValueAtTime(kp.y,i),n.orientationZ.linearRampToValueAtTime(kp.z,i)}else n.setPosition(Rp.x,Rp.y,Rp.z),n.setOrientation(kp.x,kp.y,kp.z)}}class Mbe{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let i=0;i<n.length;i++)e+=n[i];return e/n.length}}class _J{constructor(e,n,i){this.binding=e,this.valueSize=i;let r,a,s;switch(n){case"quaternion":r=this._slerp,a=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,a=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,a=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=a,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const i=this.buffer,r=this.valueSize,a=e*r+r;let s=this.cumulativeWeight;if(s===0){for(let o=0;o!==r;++o)i[a+o]=i[o];s=n}else{s+=n;const o=n/s;this._mixBufferRegion(i,a,0,o,r)}this.cumulativeWeight=s}accumulateAdditive(e){const n=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,i=this.buffer,r=e*n+n,a=this.cumulativeWeight,s=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const l=n*this._origIndex;this._mixBufferRegion(i,r,l,1-a,n)}s>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(i[l]!==i[l+n]){o.setValue(i,r);break}}saveOriginalState(){const e=this.binding,n=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(n,r);for(let a=i,s=r;a!==s;++a)n[a]=n[r+a%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let i=e;i<n;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[n+i]=this.buffer[e+i]}_select(e,n,i,r,a){if(r>=.5)for(let s=0;s!==a;++s)e[n+s]=e[i+s]}_slerp(e,n,i,r){Hn.slerpFlat(e,n,e,n,e,i,r)}_slerpAdditive(e,n,i,r,a){const s=this._workIndex*a;Hn.multiplyQuaternionsFlat(e,s,e,n,e,i),Hn.slerpFlat(e,n,e,n,e,s,r)}_lerp(e,n,i,r,a){const s=1-r;for(let o=0;o!==a;++o){const l=n+o;e[l]=e[l]*s+e[i+o]*r}}_lerpAdditive(e,n,i,r,a){for(let s=0;s!==a;++s){const o=n+s;e[o]=e[o]+e[i+s]*r}}}const MP="\\[\\]\\.:\\/",Abe=new RegExp("["+MP+"]","g"),AP="[^"+MP+"]",Tbe="[^"+MP.replace("\\.","")+"]",Cbe=/((?:WC+[\/:])*)/.source.replace("WC",AP),Rbe=/(WCOD+)?/.source.replace("WCOD",Tbe),kbe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",AP),Dbe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",AP),Nbe=new RegExp("^"+Cbe+Rbe+kbe+Dbe+"$"),Ibe=["material","materials","bones","map"];class Obe{constructor(e,n,i){const r=i||Ci.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,r)}getValue(e,n){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,n)}setValue(e,n){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,a=i.length;r!==a;++r)i[r].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].unbind()}}class Ci{constructor(e,n,i){this.path=n,this.parsedPath=i||Ci.parseTrackName(n),this.node=Ci.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,i){return e&&e.isAnimationObjectGroup?new Ci.Composite(e,n,i):new Ci(e,n,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Abe,"")}static parseTrackName(e){const n=Nbe.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const a=i.nodeName.substring(r+1);Ibe.indexOf(a)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=a)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(n);if(i!==void 0)return i}if(e.children){const i=function(a){for(let s=0;s<a.length;s++){const o=a[s];if(o.name===n||o.uuid===n)return o;const l=i(o.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)e[n++]=i[r]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,i=n.objectName,r=n.propertyName;let a=n.propertyIndex;if(e||(e=Ci.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let c=n.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const s=e[r];if(s===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?o=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(a!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=a}else s.fromArray!==void 0&&s.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Ci.Composite=Obe;Ci.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Ci.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Ci.prototype.GetterByBindingType=[Ci.prototype._getValue_direct,Ci.prototype._getValue_array,Ci.prototype._getValue_arrayElement,Ci.prototype._getValue_toArray];Ci.prototype.SetterByBindingTypeAndVersioning=[[Ci.prototype._setValue_direct,Ci.prototype._setValue_direct_setNeedsUpdate,Ci.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Ci.prototype._setValue_array,Ci.prototype._setValue_array_setNeedsUpdate,Ci.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Ci.prototype._setValue_arrayElement,Ci.prototype._setValue_arrayElement_setNeedsUpdate,Ci.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Ci.prototype._setValue_fromArray,Ci.prototype._setValue_fromArray_setNeedsUpdate,Ci.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Lbe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=dl(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,i=this._paths,r=this._parsedPaths,a=this._bindings,s=a.length;let o,l=e.length,c=this.nCachedObjects_;for(let u=0,f=arguments.length;u!==f;++u){const h=arguments[u],d=h.uuid;let b=n[d];if(b===void 0){b=l++,n[d]=b,e.push(h);for(let y=0,v=s;y!==v;++y)a[y].push(new Ci(h,i[y],r[y]))}else if(b<c){o=e[b];const y=--c,v=e[y];n[v.uuid]=b,e[b]=v,n[d]=y,e[y]=h;for(let m=0,x=s;m!==x;++m){const _=a[m],E=_[y];let A=_[b];_[b]=E,A===void 0&&(A=new Ci(h,i[m],r[m])),_[y]=A}}else e[b]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,r=i.length;let a=this.nCachedObjects_;for(let s=0,o=arguments.length;s!==o;++s){const l=arguments[s],c=l.uuid,u=n[c];if(u!==void 0&&u>=a){const f=a++,h=e[f];n[h.uuid]=u,e[u]=h,n[c]=f,e[f]=l;for(let d=0,b=r;d!==b;++d){const y=i[d],v=y[f],m=y[u];y[u]=v,y[f]=m}}}this.nCachedObjects_=a}uncache(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,r=i.length;let a=this.nCachedObjects_,s=e.length;for(let o=0,l=arguments.length;o!==l;++o){const c=arguments[o],u=c.uuid,f=n[u];if(f!==void 0)if(delete n[u],f<a){const h=--a,d=e[h],b=--s,y=e[b];n[d.uuid]=f,e[f]=d,n[y.uuid]=h,e[h]=y,e.pop();for(let v=0,m=r;v!==m;++v){const x=i[v],_=x[h],E=x[b];x[f]=_,x[h]=E,x.pop()}}else{const h=--s,d=e[h];h>0&&(n[d.uuid]=f),e[f]=d,e.pop();for(let b=0,y=r;b!==y;++b){const v=i[b];v[f]=v[h],v.pop()}}}this.nCachedObjects_=a}subscribe_(e,n){const i=this._bindingsIndicesByPath;let r=i[e];const a=this._bindings;if(r!==void 0)return a[r];const s=this._paths,o=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,f=new Array(c);r=a.length,i[e]=r,s.push(e),o.push(n),a.push(f);for(let h=u,d=l.length;h!==d;++h){const b=l[h];f[h]=new Ci(b,e,n)}return f}unsubscribe_(e){const n=this._bindingsIndicesByPath,i=n[e];if(i!==void 0){const r=this._paths,a=this._parsedPaths,s=this._bindings,o=s.length-1,l=s[o],c=e[o];n[c]=i,s[i]=l,s.pop(),a[i]=a[o],a.pop(),r[i]=r[o],r.pop()}}}class SJ{constructor(e,n,i=null,r=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=i,this.blendMode=r;const a=n.tracks,s=a.length,o=new Array(s),l={endingStart:rm,endingEnd:rm};for(let c=0;c!==s;++c){const u=a[c].createInterpolant(null);o[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=o,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=vY,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,i=!1){if(e.fadeOut(n),this.fadeIn(n),i===!0){const r=this._clip.duration,a=e._clip.duration,s=a/r,o=r/a;e.warp(1,s,n),this.warp(o,1,n)}return this}crossFadeTo(e,n,i=!1){return e.crossFadeFrom(this,n,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,i){const r=this._mixer,a=r.time,s=this.timeScale;let o=this._timeScaleInterpolant;o===null&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);const l=o.parameterPositions,c=o.sampleValues;return l[0]=a,l[1]=a+i,c[0]=e/s,c[1]=n/s,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,i,r){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const l=(e-a)*i;l<0||i===0?n=0:(this._startTime=null,n=i*l)}n*=this._updateTimeScale(e);const s=this._updateTime(n),o=this._updateWeight(e);if(o>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case XL:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(s),c[u].accumulateAdditive(o);break;case pC:default:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(s),c[u].accumulate(r,o)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];n*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];n*=r,e>i.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,i=this.loop;let r=this.time+e,a=this._loopCount;const s=i===xY;if(e===0)return a===-1?r:s&&(a&1)===1?n-r:r;if(i===yY){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=n)r=n;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),r>=n||r<0){const o=Math.floor(r/n);r-=n*o,a+=Math.abs(o);const l=this.repetitions-a;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?n:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,s)}else this._setEndings(!1,!1,s);this._loopCount=a,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=r;if(s&&(a&1)===1)return n-r}return r}_setEndings(e,n,i){const r=this._interpolantSettings;i?(r.endingStart=am,r.endingEnd=am):(e?r.endingStart=this.zeroSlopeAtStart?am:rm:r.endingStart=A1,n?r.endingEnd=this.zeroSlopeAtEnd?am:rm:r.endingEnd=A1)}_scheduleFading(e,n,i){const r=this._mixer,a=r.time;let s=this._weightInterpolant;s===null&&(s=r._lendControlInterpolant(),this._weightInterpolant=s);const o=s.parameterPositions,l=s.sampleValues;return o[0]=a,l[0]=n,o[1]=a+e,l[1]=i,this}}const Pbe=new Float32Array(1);class wJ extends sf{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const i=e._localRoot||this._root,r=e._clip.tracks,a=r.length,s=e._propertyBindings,o=e._interpolants,l=i.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let f=0;f!==a;++f){const h=r[f],d=h.name;let b=u[d];if(b!==void 0)++b.referenceCount,s[f]=b;else{if(b=s[f],b!==void 0){b._cacheIndex===null&&(++b.referenceCount,this._addInactiveBinding(b,l,d));continue}const y=n&&n._propertyBindings[f].binding.parsedPath;b=new _J(Ci.create(i,d,y),h.ValueTypeName,h.getValueSize()),++b.referenceCount,this._addInactiveBinding(b,l,d),s[f]=b}o[f].resultBuffer=b.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,a=this._actionsByClip[r];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,r,i)}const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const a=n[i];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const a=n[i];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,i){const r=this._actions,a=this._actionsByClip;let s=a[n];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[n]=s;else{const o=s.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),s.actionByRoot[i]=e}_removeInactiveAction(e){const n=this._actions,i=n[n.length-1],r=e._cacheIndex;i._cacheIndex=r,n[r]=i,n.pop(),e._cacheIndex=null;const a=e._clip.uuid,s=this._actionsByClip,o=s[a],l=o.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const f=o.actionByRoot,h=(e._localRoot||this._root).uuid;delete f[h],l.length===0&&delete s[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const a=n[i];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const n=this._actions,i=e._cacheIndex,r=this._nActiveActions++,a=n[r];e._cacheIndex=r,n[r]=e,a._cacheIndex=i,n[i]=a}_takeBackAction(e){const n=this._actions,i=e._cacheIndex,r=--this._nActiveActions,a=n[r];e._cacheIndex=r,n[r]=e,a._cacheIndex=i,n[i]=a}_addInactiveBinding(e,n,i){const r=this._bindingsByRootAndName,a=this._bindings;let s=r[n];s===void 0&&(s={},r[n]=s),s[i]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const n=this._bindings,i=e.binding,r=i.rootNode.uuid,a=i.path,s=this._bindingsByRootAndName,o=s[r],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete o[a],Object.keys(o).length===0&&delete s[r]}_lendBinding(e){const n=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,a=n[r];e._cacheIndex=r,n[r]=e,a._cacheIndex=i,n[i]=a}_takeBackBinding(e){const n=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,a=n[r];e._cacheIndex=r,n[r]=e,a._cacheIndex=i,n[i]=a}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let i=e[n];return i===void 0&&(i=new bP(new Float32Array(2),new Float32Array(2),1,Pbe),i.__cacheIndex=n,e[n]=i),i}_takeBackControlInterpolant(e){const n=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,a=n[r];e.__cacheIndex=r,n[r]=e,a.__cacheIndex=i,n[i]=a}clipAction(e,n,i){const r=n||this._root,a=r.uuid;let s=typeof e=="string"?ny.findByName(r,e):e;const o=s!==null?s.uuid:e,l=this._actionsByClip[o];let c=null;if(i===void 0&&(s!==null?i=s.blendMode:i=pC),l!==void 0){const f=l.actionByRoot[a];if(f!==void 0&&f.blendMode===i)return f;c=l.knownActions[0],s===null&&(s=c._clip)}if(s===null)return null;const u=new SJ(this,s,n,i);return this._bindAction(u,c),this._addInactiveAction(u,o,a),u}existingAction(e,n){const i=n||this._root,r=i.uuid,a=typeof e=="string"?ny.findByName(i,e):e,s=a?a.uuid:e,o=this._actionsByClip[s];return o!==void 0&&o.actionByRoot[r]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let i=n-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const n=this._actions,i=this._nActiveActions,r=this.time+=e,a=Math.sign(e),s=this._accuIndex^=1;for(let c=0;c!==i;++c)n[c]._update(r,e,a,s);const o=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)o[c].apply(s);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,i=e.uuid,r=this._actionsByClip,a=r[i];if(a!==void 0){const s=a.knownActions;for(let o=0,l=s.length;o!==l;++o){const c=s[o];this._deactivateAction(c);const u=c._cacheIndex,f=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,f._cacheIndex=u,n[u]=f,n.pop(),this._removeInactiveBindingsForAction(c)}delete r[i]}}uncacheRoot(e){const n=e.uuid,i=this._actionsByClip;for(const s in i){const o=i[s].actionByRoot,l=o[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,a=r[n];if(a!==void 0)for(const s in a){const o=a[s];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,n){const i=this.existingAction(e,n);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class Ube extends $L{constructor(e=1,n=1,i=1,r={}){super(e,n,r),this.isRenderTarget3D=!0,this.depth=i,this.texture=new gC(null,e,n,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class BC{constructor(e){this.value=e}clone(){return new BC(this.value.clone===void 0?this.value:this.value.clone())}}let Fbe=0;class zbe extends sf{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Fbe++}),this.name="",this.usage=C1,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let i=0,r=n.length;i<r;i++){const a=Array.isArray(n[i])?n[i]:[n[i]];for(let s=0;s<a.length;s++)this.uniforms.push(a[s].clone())}return this}clone(){return new this.constructor().copy(this)}}class kA extends w_{constructor(e,n,i=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class EJ{constructor(e,n,i,r,a,s=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=i,this.elementSize=r,this.count=a,this.normalized=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const Fj=new kt;class T_{constructor(e,n,i=0,r=1/0){this.ray=new of(e,n),this.near=i,this.far=r,this.camera=null,this.layers=new Q0,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return Fj.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(Fj),this}intersectObject(e,n=!0,i=[]){return vN(e,this,i,n),i.sort(zj),i}intersectObjects(e,n=!0,i=[]){for(let r=0,a=e.length;r<a;r++)vN(e[r],this,i,n);return i.sort(zj),i}}function zj(t,e){return t.distance-e.distance}function vN(t,e,n,i){let r=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(r=!1),r===!0&&i===!0){const a=t.children;for(let s=0,o=a.length;s<o;s++)vN(a[s],e,n,!0)}}class jbe{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=Bbe.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function Bbe(){this._document.hidden===!1&&this.reset()}class MJ{constructor(e=1,n=0,i=0){this.radius=e,this.phi=n,this.theta=i}set(e,n,i){return this.radius=e,this.phi=n,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Rn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+n*n+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Rn(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Hbe{constructor(e=1,n=0,i=0){this.radius=e,this.theta=n,this.y=i}set(e,n,i){return this.radius=e,this.theta=n,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=n,this}clone(){return new this.constructor().copy(this)}}class TP{constructor(e,n,i,r){TP.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,n,i,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,n=0){for(let i=0;i<4;i++)this.elements[i]=e[i+n];return this}set(e,n,i,r){const a=this.elements;return a[0]=e,a[2]=n,a[1]=i,a[3]=r,this}}const jj=new yt;class Vbe{constructor(e=new yt(1/0,1/0),n=new yt(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=jj.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,jj).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Bj=new Q,ww=new Q,cb=new Q,ub=new Q,ak=new Q,Gbe=new Q,Wbe=new Q;class AJ{constructor(e=new Q,n=new Q){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){Bj.subVectors(e,this.start),ww.subVectors(this.end,this.start);const i=ww.dot(ww);let a=ww.dot(Bj)/i;return n&&(a=Rn(a,0,1)),a}closestPointToPoint(e,n,i){const r=this.closestPointToPointParameter(e,n);return this.delta(i).multiplyScalar(r).add(this.start)}distanceSqToLine3(e,n=Gbe,i=Wbe){const r=10000000000000001e-32;let a,s;const o=this.start,l=e.start,c=this.end,u=e.end;cb.subVectors(c,o),ub.subVectors(u,l),ak.subVectors(o,l);const f=cb.dot(cb),h=ub.dot(ub),d=ub.dot(ak);if(f<=r&&h<=r)return n.copy(o),i.copy(l),n.sub(i),n.dot(n);if(f<=r)a=0,s=d/h,s=Rn(s,0,1);else{const b=cb.dot(ak);if(h<=r)s=0,a=Rn(-b/f,0,1);else{const y=cb.dot(ub),v=f*h-y*y;v!==0?a=Rn((y*d-b*h)/v,0,1):a=0,s=(y*a+d)/h,s<0?(s=0,a=Rn(-b/f,0,1)):s>1&&(s=1,a=Rn((y-b)/f,0,1))}}return n.copy(o).add(cb.multiplyScalar(a)),i.copy(l).add(ub.multiplyScalar(s)),n.sub(i),n.dot(n)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const Hj=new Q;class qbe extends Ei{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const i=new An,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let s=0,o=1,l=32;s<l;s++,o++){const c=s/l*Math.PI*2,u=o/l*Math.PI*2;r.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}i.setAttribute("position",new ln(r,3));const a=new Bs({fog:!1,toneMapped:!1});this.cone=new hu(i,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),Hj.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Hj),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Wh=new Q,Ew=new kt,sk=new kt;class Xbe extends hu{constructor(e){const n=TJ(e),i=new An,r=[],a=[];for(let c=0;c<n.length;c++){const u=n[c];u.parent&&u.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),a.push(0,0,0),a.push(0,0,0))}i.setAttribute("position",new ln(r,3)),i.setAttribute("color",new ln(a,3));const s=new Bs({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,s),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const o=new Ut(255),l=new Ut(65280);this.setColors(o,l)}updateMatrixWorld(e){const n=this.bones,i=this.geometry,r=i.getAttribute("position");sk.copy(this.root.matrixWorld).invert();for(let a=0,s=0;a<n.length;a++){const o=n[a];o.parent&&o.parent.isBone&&(Ew.multiplyMatrices(sk,o.matrixWorld),Wh.setFromMatrixPosition(Ew),r.setXYZ(s,Wh.x,Wh.y,Wh.z),Ew.multiplyMatrices(sk,o.parent.matrixWorld),Wh.setFromMatrixPosition(Ew),r.setXYZ(s+1,Wh.x,Wh.y,Wh.z),s+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,n){const r=this.geometry.getAttribute("color");for(let a=0;a<r.count;a+=2)r.setXYZ(a,e.r,e.g,e.b),r.setXYZ(a+1,n.r,n.g,n.b);return r.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function TJ(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push(...TJ(t.children[n]));return e}class Kbe extends Di{constructor(e,n,i){const r=new jy(n,4,2),a=new uo({wireframe:!0,fog:!1,toneMapped:!1});super(r,a),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Ybe=new Q,Vj=new Ut,Gj=new Ut;class Jbe extends Ei{constructor(e,n,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new A_(n);r.rotateY(Math.PI*.5),this.material=new uo({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=r.getAttribute("position"),s=new Float32Array(a.count*3);r.setAttribute("color",new In(s,3)),this.add(new Di(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");Vj.copy(this.light.color),Gj.copy(this.light.groundColor);for(let i=0,r=n.count;i<r;i++){const a=i<r/2?Vj:Gj;n.setXYZ(i,a.r,a.g,a.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Ybe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class $be extends hu{constructor(e=10,n=10,i=4473924,r=8947848){i=new Ut(i),r=new Ut(r);const a=n/2,s=e/n,o=e/2,l=[],c=[];for(let h=0,d=0,b=-o;h<=n;h++,b+=s){l.push(-o,0,b,o,0,b),l.push(b,0,-o,b,0,o);const y=h===a?i:r;y.toArray(c,d),d+=3,y.toArray(c,d),d+=3,y.toArray(c,d),d+=3,y.toArray(c,d),d+=3}const u=new An;u.setAttribute("position",new ln(l,3)),u.setAttribute("color",new ln(c,3));const f=new Bs({vertexColors:!0,toneMapped:!1});super(u,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Zbe extends hu{constructor(e=10,n=16,i=8,r=64,a=4473924,s=8947848){a=new Ut(a),s=new Ut(s);const o=[],l=[];if(n>1)for(let f=0;f<n;f++){const h=f/n*(Math.PI*2),d=Math.sin(h)*e,b=Math.cos(h)*e;o.push(0,0,0),o.push(d,0,b);const y=f&1?a:s;l.push(y.r,y.g,y.b),l.push(y.r,y.g,y.b)}for(let f=0;f<i;f++){const h=f&1?a:s,d=e-e/i*f;for(let b=0;b<r;b++){let y=b/r*(Math.PI*2),v=Math.sin(y)*d,m=Math.cos(y)*d;o.push(v,0,m),l.push(h.r,h.g,h.b),y=(b+1)/r*(Math.PI*2),v=Math.sin(y)*d,m=Math.cos(y)*d,o.push(v,0,m),l.push(h.r,h.g,h.b)}}const c=new An;c.setAttribute("position",new ln(o,3)),c.setAttribute("color",new ln(l,3));const u=new Bs({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const Wj=new Q,Mw=new Q,qj=new Q;class Qbe extends Ei{constructor(e,n,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",n===void 0&&(n=1);let r=new An;r.setAttribute("position",new ln([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const a=new Bs({fog:!1,toneMapped:!1});this.lightPlane=new fh(r,a),this.add(this.lightPlane),r=new An,r.setAttribute("position",new ln([0,0,0,0,0,1],3)),this.targetLine=new fh(r,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),Wj.setFromMatrixPosition(this.light.matrixWorld),Mw.setFromMatrixPosition(this.light.target.matrixWorld),qj.subVectors(Mw,Wj),this.lightPlane.lookAt(Mw),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Mw),this.targetLine.scale.z=qj.length()}}const Aw=new Q,ra=new bC;class e0e extends hu{constructor(e){const n=new An,i=new Bs({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],a=[],s={};o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4");function o(b,y){l(b),l(y)}function l(b){r.push(0,0,0),a.push(0,0,0),s[b]===void 0&&(s[b]=[]),s[b].push(r.length/3-1)}n.setAttribute("position",new ln(r,3)),n.setAttribute("color",new ln(a,3)),super(n,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update();const c=new Ut(16755200),u=new Ut(16711680),f=new Ut(43775),h=new Ut(16777215),d=new Ut(3355443);this.setColors(c,u,f,h,d)}setColors(e,n,i,r,a){const o=this.geometry.getAttribute("color");return o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,n.r,n.g,n.b),o.setXYZ(25,n.r,n.g,n.b),o.setXYZ(26,n.r,n.g,n.b),o.setXYZ(27,n.r,n.g,n.b),o.setXYZ(28,n.r,n.g,n.b),o.setXYZ(29,n.r,n.g,n.b),o.setXYZ(30,n.r,n.g,n.b),o.setXYZ(31,n.r,n.g,n.b),o.setXYZ(32,i.r,i.g,i.b),o.setXYZ(33,i.r,i.g,i.b),o.setXYZ(34,i.r,i.g,i.b),o.setXYZ(35,i.r,i.g,i.b),o.setXYZ(36,i.r,i.g,i.b),o.setXYZ(37,i.r,i.g,i.b),o.setXYZ(38,r.r,r.g,r.b),o.setXYZ(39,r.r,r.g,r.b),o.setXYZ(40,a.r,a.g,a.b),o.setXYZ(41,a.r,a.g,a.b),o.setXYZ(42,a.r,a.g,a.b),o.setXYZ(43,a.r,a.g,a.b),o.setXYZ(44,a.r,a.g,a.b),o.setXYZ(45,a.r,a.g,a.b),o.setXYZ(46,a.r,a.g,a.b),o.setXYZ(47,a.r,a.g,a.b),o.setXYZ(48,a.r,a.g,a.b),o.setXYZ(49,a.r,a.g,a.b),o.needsUpdate=!0,this}update(){const e=this.geometry,n=this.pointMap,i=1,r=1;let a,s;if(ra.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)a=1,s=0;else if(this.camera.coordinateSystem===ll)a=-1,s=1;else if(this.camera.coordinateSystem===$0)a=0,s=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);ha("c",n,e,ra,0,0,a),ha("t",n,e,ra,0,0,s),ha("n1",n,e,ra,-i,-r,a),ha("n2",n,e,ra,i,-r,a),ha("n3",n,e,ra,-i,r,a),ha("n4",n,e,ra,i,r,a),ha("f1",n,e,ra,-i,-r,s),ha("f2",n,e,ra,i,-r,s),ha("f3",n,e,ra,-i,r,s),ha("f4",n,e,ra,i,r,s),ha("u1",n,e,ra,i*.7,r*1.1,a),ha("u2",n,e,ra,-i*.7,r*1.1,a),ha("u3",n,e,ra,0,r*2,a),ha("cf1",n,e,ra,-i,0,s),ha("cf2",n,e,ra,i,0,s),ha("cf3",n,e,ra,0,-r,s),ha("cf4",n,e,ra,0,r,s),ha("cn1",n,e,ra,-i,0,a),ha("cn2",n,e,ra,i,0,a),ha("cn3",n,e,ra,0,-r,a),ha("cn4",n,e,ra,0,r,a),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function ha(t,e,n,i,r,a,s){Aw.set(r,a,s).unproject(i);const o=e[t];if(o!==void 0){const l=n.getAttribute("position");for(let c=0,u=o.length;c<u;c++)l.setXYZ(o[c],Aw.x,Aw.y,Aw.z)}}const Tw=new vr;class t0e extends hu{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),a=new An;a.setIndex(new In(i,1)),a.setAttribute("position",new In(r,3)),super(a,new Bs({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&Tw.setFromObject(this.object),Tw.isEmpty())return;const e=Tw.min,n=Tw.max,i=this.geometry.attributes.position,r=i.array;r[0]=n.x,r[1]=n.y,r[2]=n.z,r[3]=e.x,r[4]=n.y,r[5]=n.z,r[6]=e.x,r[7]=e.y,r[8]=n.z,r[9]=n.x,r[10]=e.y,r[11]=n.z,r[12]=n.x,r[13]=n.y,r[14]=e.z,r[15]=e.x,r[16]=n.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=n.x,r[22]=e.y,r[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class n0e extends hu{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new An;a.setIndex(new In(i,1)),a.setAttribute("position",new ln(r,3)),super(a,new Bs({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class i0e extends fh{constructor(e,n=1,i=16776960){const r=i,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],s=new An;s.setAttribute("position",new ln(a,3)),s.computeBoundingSphere(),super(s,new Bs({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const o=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new An;l.setAttribute("position",new ln(o,3)),l.computeBoundingSphere(),this.add(new Di(l,new uo({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const Xj=new Q;let Cw,ok;class r0e extends Ei{constructor(e=new Q(0,0,1),n=new Q(0,0,0),i=1,r=16776960,a=i*.2,s=a*.2){super(),this.type="ArrowHelper",Cw===void 0&&(Cw=new An,Cw.setAttribute("position",new ln([0,0,0,0,1,0],3)),ok=new M_(.5,1,5,1),ok.translate(0,-.5,0)),this.position.copy(n),this.line=new fh(Cw,new Bs({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Di(ok,new uo({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,a,s)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{Xj.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(Xj,n)}}setLength(e,n=e*.2,i=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(i,n,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class a0e extends hu{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new An;r.setAttribute("position",new ln(n,3)),r.setAttribute("color",new ln(i,3));const a=new Bs({vertexColors:!0,toneMapped:!1});super(r,a),this.type="AxesHelper"}setColors(e,n,i){const r=new Ut,a=this.geometry.attributes.color.array;return r.set(e),r.toArray(a,0),r.toArray(a,3),r.set(n),r.toArray(a,6),r.toArray(a,9),r.set(i),r.toArray(a,12),r.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class s0e{constructor(){this.type="ShapePath",this.color=new Ut,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new CA,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,i,r){return this.currentPath.quadraticCurveTo(e,n,i,r),this}bezierCurveTo(e,n,i,r,a,s){return this.currentPath.bezierCurveTo(e,n,i,r,a,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(m){const x=[];for(let _=0,E=m.length;_<E;_++){const A=m[_],w=new Tm;w.curves=A.curves,x.push(w)}return x}function i(m,x){const _=x.length;let E=!1;for(let A=_-1,w=0;w<_;A=w++){let T=x[A],k=x[w],N=k.x-T.x,D=k.y-T.y;if(Math.abs(D)>Number.EPSILON){if(D<0&&(T=x[w],N=-N,k=x[A],D=-D),m.y<T.y||m.y>k.y)continue;if(m.y===T.y){if(m.x===T.x)return!0}else{const P=D*(m.x-T.x)-N*(m.y-T.y);if(P===0)return!0;if(P<0)continue;E=!E}}else{if(m.y!==T.y)continue;if(k.x<=m.x&&m.x<=T.x||T.x<=m.x&&m.x<=k.x)return!0}}return E}const r=Qc.isClockWise,a=this.subPaths;if(a.length===0)return[];let s,o,l;const c=[];if(a.length===1)return o=a[0],l=new Tm,l.curves=o.curves,c.push(l),c;let u=!r(a[0].getPoints());u=e?!u:u;const f=[],h=[];let d=[],b=0,y;h[b]=void 0,d[b]=[];for(let m=0,x=a.length;m<x;m++)o=a[m],y=o.getPoints(),s=r(y),s=e?!s:s,s?(!u&&h[b]&&b++,h[b]={s:new Tm,p:y},h[b].s.curves=o.curves,u&&b++,d[b]=[]):d[b].push({h:o,p:y[0]});if(!h[0])return n(a);if(h.length>1){let m=!1,x=0;for(let _=0,E=h.length;_<E;_++)f[_]=[];for(let _=0,E=h.length;_<E;_++){const A=d[_];for(let w=0;w<A.length;w++){const T=A[w];let k=!0;for(let N=0;N<h.length;N++)i(T.p,h[N].p)&&(_!==N&&x++,k?(k=!1,f[N].push(T)):m=!0);k&&f[_].push(T)}}x>0&&m===!1&&(d=f)}let v;for(let m=0,x=h.length;m<x;m++){l=h[m].s,c.push(l),v=d[m];for(let _=0,E=v.length;_<E;_++)l.holes.push(v[_].h)}return c}}class o0e extends sf{constructor(e,n=null){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function l0e(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2):(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0),t}function c0e(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0):(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2),t}function u0e(t){return t.repeat.x=1,t.repeat.y=1,t.offset.x=0,t.offset.y=0,t}function xN(t,e,n,i){const r=f0e(i);switch(n){case GL:return t*e;case yh:return t*e/r.components*r.byteLength;case Ly:return t*e/r.components*r.byteLength;case dC:return t*e*2/r.components*r.byteLength;case __:return t*e*2/r.components*r.byteLength;case WL:return t*e*3/r.components*r.byteLength;case Yr:return t*e*4/r.components*r.byteLength;case Py:return t*e*4/r.components*r.byteLength;case Bx:case Hx:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case Vx:case Gx:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case ZM:case eA:return Math.max(t,16)*Math.max(e,8)/4;case $M:case QM:return Math.max(t,8)*Math.max(e,8)/2;case tA:case nA:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case iA:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case rA:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case aA:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case sA:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case oA:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case lA:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case cA:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case uA:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case fA:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case hA:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case dA:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case pA:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case mA:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case gA:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case bA:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case Wx:case yA:case vA:return Math.ceil(t/4)*Math.ceil(e/4)*16;case qL:case xA:return Math.ceil(t/4)*Math.ceil(e/4)*8;case _A:case SA:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function f0e(t){switch(t){case ho:case cC:return{byteLength:1,components:1};case W0:case uC:case Ka:return{byteLength:2,components:1};case fC:case hC:return{byteLength:2,components:4};case dc:case Oy:case yr:return{byteLength:4,components:1};case VL:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}class h0e{static contain(e,n){return l0e(e,n)}static cover(e,n){return c0e(e,n)}static fill(e){return u0e(e)}static getByteLength(e,n,i,r){return xN(e,n,i,r)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Ny}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Ny);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function CJ(){let t=null,e=!1,n=null,i=null;function r(a,s){n(a,s),i=t.requestAnimationFrame(r)}return{start:function(){e!==!0&&n!==null&&(i=t.requestAnimationFrame(r),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(a){n=a},setContext:function(a){t=a}}}function d0e(t){const e=new WeakMap;function n(o,l){const c=o.array,u=o.usage,f=c.byteLength,h=t.createBuffer();t.bindBuffer(l,h),t.bufferData(l,c,u),o.onUploadCallback();let d;if(c instanceof Float32Array)d=t.FLOAT;else if(typeof Float16Array<"u"&&c instanceof Float16Array)d=t.HALF_FLOAT;else if(c instanceof Uint16Array)o.isFloat16BufferAttribute?d=t.HALF_FLOAT:d=t.UNSIGNED_SHORT;else if(c instanceof Int16Array)d=t.SHORT;else if(c instanceof Uint32Array)d=t.UNSIGNED_INT;else if(c instanceof Int32Array)d=t.INT;else if(c instanceof Int8Array)d=t.BYTE;else if(c instanceof Uint8Array)d=t.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)d=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:h,type:d,bytesPerElement:c.BYTES_PER_ELEMENT,version:o.version,size:f}}function i(o,l,c){const u=l.array,f=l.updateRanges;if(t.bindBuffer(c,o),f.length===0)t.bufferSubData(c,0,u);else{f.sort((d,b)=>d.start-b.start);let h=0;for(let d=1;d<f.length;d++){const b=f[h],y=f[d];y.start<=b.start+b.count+1?b.count=Math.max(b.count,y.start+y.count-b.start):(++h,f[h]=y)}f.length=h+1;for(let d=0,b=f.length;d<b;d++){const y=f[d];t.bufferSubData(c,y.start*u.BYTES_PER_ELEMENT,u,y.start,y.count)}l.clearUpdateRanges()}l.onUploadCallback()}function r(o){return o.isInterleavedBufferAttribute&&(o=o.data),e.get(o)}function a(o){o.isInterleavedBufferAttribute&&(o=o.data);const l=e.get(o);l&&(t.deleteBuffer(l.buffer),e.delete(o))}function s(o,l){if(o.isInterleavedBufferAttribute&&(o=o.data),o.isGLBufferAttribute){const u=e.get(o);(!u||u.version<o.version)&&e.set(o,{buffer:o.buffer,type:o.type,bytesPerElement:o.elementSize,version:o.version});return}const c=e.get(o);if(c===void 0)e.set(o,n(o,l));else if(c.version<o.version){if(c.size!==o.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(c.buffer,o,l),c.version=o.version}}return{get:r,remove:a,update:s}}var p0e=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,m0e=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,g0e=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,b0e=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,y0e=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,v0e=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,x0e=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,_0e=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,S0e=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,w0e=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,E0e=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,M0e=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,A0e=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,T0e=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,C0e=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,R0e=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,k0e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,D0e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,N0e=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,I0e=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,O0e=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,L0e=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,P0e=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,U0e=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,F0e=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,z0e=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,j0e=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,B0e=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,H0e=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,V0e=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,G0e="gl_FragColor = linearToOutputTexel( gl_FragColor );",W0e=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,q0e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,X0e=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,K0e=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Y0e=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,J0e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,$0e=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Z0e=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Q0e=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,eye=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,tye=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,nye=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,iye=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,rye=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,aye=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,sye=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,oye=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lye=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,cye=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,uye=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,fye=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,hye=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,dye=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,pye=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,mye=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,gye=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,bye=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,yye=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,vye=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,xye=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,_ye=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Sye=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,wye=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Eye=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Mye=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Aye=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Tye=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Cye=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Rye=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,kye=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Dye=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Nye=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Iye=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Oye=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Lye=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Pye=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Uye=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,Fye=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,zye=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,jye=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Bye=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Hye=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Vye=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Gye=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Wye=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,qye=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Xye=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Kye=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Yye=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSEDEPTHBUF
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSEDEPTHBUF
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare , distribution.x );
		#endif
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,Jye=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,$ye=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Zye=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Qye=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,eve=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,tve=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,nve=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,ive=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,rve=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,ave=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,sve=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,ove=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,lve=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,cve=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uve=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,fve=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,hve=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const dve=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,pve=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,mve=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,gve=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,bve=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,yve=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vve=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,xve=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSEDEPTHBUF
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,_ve=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Sve=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,wve=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Eve=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Mve=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Ave=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Tve=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Cve=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Rve=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,kve=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Dve=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Nve=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ive=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Ove=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Lve=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Pve=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Uve=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Fve=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,zve=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,jve=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Bve=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Hve=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Vve=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Gve=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Wve=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,qve=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,on={alphahash_fragment:p0e,alphahash_pars_fragment:m0e,alphamap_fragment:g0e,alphamap_pars_fragment:b0e,alphatest_fragment:y0e,alphatest_pars_fragment:v0e,aomap_fragment:x0e,aomap_pars_fragment:_0e,batching_pars_vertex:S0e,batching_vertex:w0e,begin_vertex:E0e,beginnormal_vertex:M0e,bsdfs:A0e,iridescence_fragment:T0e,bumpmap_pars_fragment:C0e,clipping_planes_fragment:R0e,clipping_planes_pars_fragment:k0e,clipping_planes_pars_vertex:D0e,clipping_planes_vertex:N0e,color_fragment:I0e,color_pars_fragment:O0e,color_pars_vertex:L0e,color_vertex:P0e,common:U0e,cube_uv_reflection_fragment:F0e,defaultnormal_vertex:z0e,displacementmap_pars_vertex:j0e,displacementmap_vertex:B0e,emissivemap_fragment:H0e,emissivemap_pars_fragment:V0e,colorspace_fragment:G0e,colorspace_pars_fragment:W0e,envmap_fragment:q0e,envmap_common_pars_fragment:X0e,envmap_pars_fragment:K0e,envmap_pars_vertex:Y0e,envmap_physical_pars_fragment:sye,envmap_vertex:J0e,fog_vertex:$0e,fog_pars_vertex:Z0e,fog_fragment:Q0e,fog_pars_fragment:eye,gradientmap_pars_fragment:tye,lightmap_pars_fragment:nye,lights_lambert_fragment:iye,lights_lambert_pars_fragment:rye,lights_pars_begin:aye,lights_toon_fragment:oye,lights_toon_pars_fragment:lye,lights_phong_fragment:cye,lights_phong_pars_fragment:uye,lights_physical_fragment:fye,lights_physical_pars_fragment:hye,lights_fragment_begin:dye,lights_fragment_maps:pye,lights_fragment_end:mye,logdepthbuf_fragment:gye,logdepthbuf_pars_fragment:bye,logdepthbuf_pars_vertex:yye,logdepthbuf_vertex:vye,map_fragment:xye,map_pars_fragment:_ye,map_particle_fragment:Sye,map_particle_pars_fragment:wye,metalnessmap_fragment:Eye,metalnessmap_pars_fragment:Mye,morphinstance_vertex:Aye,morphcolor_vertex:Tye,morphnormal_vertex:Cye,morphtarget_pars_vertex:Rye,morphtarget_vertex:kye,normal_fragment_begin:Dye,normal_fragment_maps:Nye,normal_pars_fragment:Iye,normal_pars_vertex:Oye,normal_vertex:Lye,normalmap_pars_fragment:Pye,clearcoat_normal_fragment_begin:Uye,clearcoat_normal_fragment_maps:Fye,clearcoat_pars_fragment:zye,iridescence_pars_fragment:jye,opaque_fragment:Bye,packing:Hye,premultiplied_alpha_fragment:Vye,project_vertex:Gye,dithering_fragment:Wye,dithering_pars_fragment:qye,roughnessmap_fragment:Xye,roughnessmap_pars_fragment:Kye,shadowmap_pars_fragment:Yye,shadowmap_pars_vertex:Jye,shadowmap_vertex:$ye,shadowmask_pars_fragment:Zye,skinbase_vertex:Qye,skinning_pars_vertex:eve,skinning_vertex:tve,skinnormal_vertex:nve,specularmap_fragment:ive,specularmap_pars_fragment:rve,tonemapping_fragment:ave,tonemapping_pars_fragment:sve,transmission_fragment:ove,transmission_pars_fragment:lve,uv_pars_fragment:cve,uv_pars_vertex:uve,uv_vertex:fve,worldpos_vertex:hve,background_vert:dve,background_frag:pve,backgroundCube_vert:mve,backgroundCube_frag:gve,cube_vert:bve,cube_frag:yve,depth_vert:vve,depth_frag:xve,distanceRGBA_vert:_ve,distanceRGBA_frag:Sve,equirect_vert:wve,equirect_frag:Eve,linedashed_vert:Mve,linedashed_frag:Ave,meshbasic_vert:Tve,meshbasic_frag:Cve,meshlambert_vert:Rve,meshlambert_frag:kve,meshmatcap_vert:Dve,meshmatcap_frag:Nve,meshnormal_vert:Ive,meshnormal_frag:Ove,meshphong_vert:Lve,meshphong_frag:Pve,meshphysical_vert:Uve,meshphysical_frag:Fve,meshtoon_vert:zve,meshtoon_frag:jve,points_vert:Bve,points_frag:Hve,shadow_vert:Vve,shadow_frag:Gve,sprite_vert:Wve,sprite_frag:qve},Zt={common:{diffuse:{value:new Ut(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new qn},alphaMap:{value:null},alphaMapTransform:{value:new qn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new qn}},envmap:{envMap:{value:null},envMapRotation:{value:new qn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new qn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new qn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new qn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new qn},normalScale:{value:new yt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new qn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new qn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new qn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new qn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ut(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ut(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new qn},alphaTest:{value:0},uvTransform:{value:new qn}},sprite:{diffuse:{value:new Ut(16777215)},opacity:{value:1},center:{value:new yt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new qn},alphaMap:{value:null},alphaMapTransform:{value:new qn},alphaTest:{value:0}}},Vc={basic:{uniforms:no([Zt.common,Zt.specularmap,Zt.envmap,Zt.aomap,Zt.lightmap,Zt.fog]),vertexShader:on.meshbasic_vert,fragmentShader:on.meshbasic_frag},lambert:{uniforms:no([Zt.common,Zt.specularmap,Zt.envmap,Zt.aomap,Zt.lightmap,Zt.emissivemap,Zt.bumpmap,Zt.normalmap,Zt.displacementmap,Zt.fog,Zt.lights,{emissive:{value:new Ut(0)}}]),vertexShader:on.meshlambert_vert,fragmentShader:on.meshlambert_frag},phong:{uniforms:no([Zt.common,Zt.specularmap,Zt.envmap,Zt.aomap,Zt.lightmap,Zt.emissivemap,Zt.bumpmap,Zt.normalmap,Zt.displacementmap,Zt.fog,Zt.lights,{emissive:{value:new Ut(0)},specular:{value:new Ut(1118481)},shininess:{value:30}}]),vertexShader:on.meshphong_vert,fragmentShader:on.meshphong_frag},standard:{uniforms:no([Zt.common,Zt.envmap,Zt.aomap,Zt.lightmap,Zt.emissivemap,Zt.bumpmap,Zt.normalmap,Zt.displacementmap,Zt.roughnessmap,Zt.metalnessmap,Zt.fog,Zt.lights,{emissive:{value:new Ut(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:on.meshphysical_vert,fragmentShader:on.meshphysical_frag},toon:{uniforms:no([Zt.common,Zt.aomap,Zt.lightmap,Zt.emissivemap,Zt.bumpmap,Zt.normalmap,Zt.displacementmap,Zt.gradientmap,Zt.fog,Zt.lights,{emissive:{value:new Ut(0)}}]),vertexShader:on.meshtoon_vert,fragmentShader:on.meshtoon_frag},matcap:{uniforms:no([Zt.common,Zt.bumpmap,Zt.normalmap,Zt.displacementmap,Zt.fog,{matcap:{value:null}}]),vertexShader:on.meshmatcap_vert,fragmentShader:on.meshmatcap_frag},points:{uniforms:no([Zt.points,Zt.fog]),vertexShader:on.points_vert,fragmentShader:on.points_frag},dashed:{uniforms:no([Zt.common,Zt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:on.linedashed_vert,fragmentShader:on.linedashed_frag},depth:{uniforms:no([Zt.common,Zt.displacementmap]),vertexShader:on.depth_vert,fragmentShader:on.depth_frag},normal:{uniforms:no([Zt.common,Zt.bumpmap,Zt.normalmap,Zt.displacementmap,{opacity:{value:1}}]),vertexShader:on.meshnormal_vert,fragmentShader:on.meshnormal_frag},sprite:{uniforms:no([Zt.sprite,Zt.fog]),vertexShader:on.sprite_vert,fragmentShader:on.sprite_frag},background:{uniforms:{uvTransform:{value:new qn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:on.background_vert,fragmentShader:on.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new qn}},vertexShader:on.backgroundCube_vert,fragmentShader:on.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:on.cube_vert,fragmentShader:on.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:on.equirect_vert,fragmentShader:on.equirect_frag},distanceRGBA:{uniforms:no([Zt.common,Zt.displacementmap,{referencePosition:{value:new Q},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:on.distanceRGBA_vert,fragmentShader:on.distanceRGBA_frag},shadow:{uniforms:no([Zt.lights,Zt.fog,{color:{value:new Ut(0)},opacity:{value:1}}]),vertexShader:on.shadow_vert,fragmentShader:on.shadow_frag}};Vc.physical={uniforms:no([Vc.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new qn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new qn},clearcoatNormalScale:{value:new yt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new qn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new qn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new qn},sheen:{value:0},sheenColor:{value:new Ut(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new qn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new qn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new qn},transmissionSamplerSize:{value:new yt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new qn},attenuationDistance:{value:0},attenuationColor:{value:new Ut(0)},specularColor:{value:new Ut(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new qn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new qn},anisotropyVector:{value:new yt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new qn}}]),vertexShader:on.meshphysical_vert,fragmentShader:on.meshphysical_frag};const Rw={r:0,b:0,g:0},Dp=new li,Xve=new kt;function Kve(t,e,n,i,r,a,s){const o=new Ut(0);let l=a===!0?0:1,c,u,f=null,h=0,d=null;function b(_){let E=_.isScene===!0?_.background:null;return E&&E.isTexture&&(E=(_.backgroundBlurriness>0?n:e).get(E)),E}function y(_){let E=!1;const A=b(_);A===null?m(o,l):A&&A.isColor&&(m(A,1),E=!0);const w=t.xr.getEnvironmentBlendMode();w==="additive"?i.buffers.color.setClear(0,0,0,1,s):w==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,s),(t.autoClear||E)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function v(_,E){const A=b(E);A&&(A.isCubeTexture||A.mapping===Iy)?(u===void 0&&(u=new Di(new Wd(1,1,1),new Za({name:"BackgroundCubeMaterial",uniforms:ey(Vc.backgroundCube.uniforms),vertexShader:Vc.backgroundCube.vertexShader,fragmentShader:Vc.backgroundCube.fragmentShader,side:Aa,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(w,T,k){this.matrixWorld.copyPosition(k.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(u)),Dp.copy(E.backgroundRotation),Dp.x*=-1,Dp.y*=-1,Dp.z*=-1,A.isCubeTexture&&A.isRenderTargetTexture===!1&&(Dp.y*=-1,Dp.z*=-1),u.material.uniforms.envMap.value=A,u.material.uniforms.flipEnvMap.value=A.isCubeTexture&&A.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=E.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=E.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(Xve.makeRotationFromEuler(Dp)),u.material.toneMapped=oi.getTransfer(A.colorSpace)!==ar,(f!==A||h!==A.version||d!==t.toneMapping)&&(u.material.needsUpdate=!0,f=A,h=A.version,d=t.toneMapping),u.layers.enableAll(),_.unshift(u,u.geometry,u.material,0,0,null)):A&&A.isTexture&&(c===void 0&&(c=new Di(new Xd(2,2),new Za({name:"BackgroundMaterial",uniforms:ey(Vc.background.uniforms),vertexShader:Vc.background.vertexShader,fragmentShader:Vc.background.fragmentShader,side:ou,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=A,c.material.uniforms.backgroundIntensity.value=E.backgroundIntensity,c.material.toneMapped=oi.getTransfer(A.colorSpace)!==ar,A.matrixAutoUpdate===!0&&A.updateMatrix(),c.material.uniforms.uvTransform.value.copy(A.matrix),(f!==A||h!==A.version||d!==t.toneMapping)&&(c.material.needsUpdate=!0,f=A,h=A.version,d=t.toneMapping),c.layers.enableAll(),_.unshift(c,c.geometry,c.material,0,0,null))}function m(_,E){_.getRGB(Rw,UY(t)),i.buffers.color.setClear(Rw.r,Rw.g,Rw.b,E,s)}function x(){u!==void 0&&(u.geometry.dispose(),u.material.dispose(),u=void 0),c!==void 0&&(c.geometry.dispose(),c.material.dispose(),c=void 0)}return{getClearColor:function(){return o},setClearColor:function(_,E=1){o.set(_),l=E,m(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(_){l=_,m(o,l)},render:y,addToRenderList:v,dispose:x}}function Yve(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),i={},r=h(null);let a=r,s=!1;function o(D,P,B,G,H){let V=!1;const U=f(G,B,P);a!==U&&(a=U,c(a.object)),V=d(D,G,B,H),V&&b(D,G,B,H),H!==null&&e.update(H,t.ELEMENT_ARRAY_BUFFER),(V||s)&&(s=!1,E(D,P,B,G),H!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(H).buffer))}function l(){return t.createVertexArray()}function c(D){return t.bindVertexArray(D)}function u(D){return t.deleteVertexArray(D)}function f(D,P,B){const G=B.wireframe===!0;let H=i[D.id];H===void 0&&(H={},i[D.id]=H);let V=H[P.id];V===void 0&&(V={},H[P.id]=V);let U=V[G];return U===void 0&&(U=h(l()),V[G]=U),U}function h(D){const P=[],B=[],G=[];for(let H=0;H<n;H++)P[H]=0,B[H]=0,G[H]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:P,enabledAttributes:B,attributeDivisors:G,object:D,attributes:{},index:null}}function d(D,P,B,G){const H=a.attributes,V=P.attributes;let U=0;const F=B.getAttributes();for(const q in F)if(F[q].location>=0){const z=H[q];let oe=V[q];if(oe===void 0&&(q==="instanceMatrix"&&D.instanceMatrix&&(oe=D.instanceMatrix),q==="instanceColor"&&D.instanceColor&&(oe=D.instanceColor)),z===void 0||z.attribute!==oe||oe&&z.data!==oe.data)return!0;U++}return a.attributesNum!==U||a.index!==G}function b(D,P,B,G){const H={},V=P.attributes;let U=0;const F=B.getAttributes();for(const q in F)if(F[q].location>=0){let z=V[q];z===void 0&&(q==="instanceMatrix"&&D.instanceMatrix&&(z=D.instanceMatrix),q==="instanceColor"&&D.instanceColor&&(z=D.instanceColor));const oe={};oe.attribute=z,z&&z.data&&(oe.data=z.data),H[q]=oe,U++}a.attributes=H,a.attributesNum=U,a.index=G}function y(){const D=a.newAttributes;for(let P=0,B=D.length;P<B;P++)D[P]=0}function v(D){m(D,0)}function m(D,P){const B=a.newAttributes,G=a.enabledAttributes,H=a.attributeDivisors;B[D]=1,G[D]===0&&(t.enableVertexAttribArray(D),G[D]=1),H[D]!==P&&(t.vertexAttribDivisor(D,P),H[D]=P)}function x(){const D=a.newAttributes,P=a.enabledAttributes;for(let B=0,G=P.length;B<G;B++)P[B]!==D[B]&&(t.disableVertexAttribArray(B),P[B]=0)}function _(D,P,B,G,H,V,U){U===!0?t.vertexAttribIPointer(D,P,B,H,V):t.vertexAttribPointer(D,P,B,G,H,V)}function E(D,P,B,G){y();const H=G.attributes,V=B.getAttributes(),U=P.defaultAttributeValues;for(const F in V){const q=V[F];if(q.location>=0){let X=H[F];if(X===void 0&&(F==="instanceMatrix"&&D.instanceMatrix&&(X=D.instanceMatrix),F==="instanceColor"&&D.instanceColor&&(X=D.instanceColor)),X!==void 0){const z=X.normalized,oe=X.itemSize,fe=e.get(X);if(fe===void 0)continue;const K=fe.buffer,Me=fe.type,_e=fe.bytesPerElement,pe=Me===t.INT||Me===t.UNSIGNED_INT||X.gpuType===Oy;if(X.isInterleavedBufferAttribute){const xe=X.data,Oe=xe.stride,Ge=X.offset;if(xe.isInstancedInterleavedBuffer){for(let Ye=0;Ye<q.locationSize;Ye++)m(q.location+Ye,xe.meshPerAttribute);D.isInstancedMesh!==!0&&G._maxInstanceCount===void 0&&(G._maxInstanceCount=xe.meshPerAttribute*xe.count)}else for(let Ye=0;Ye<q.locationSize;Ye++)v(q.location+Ye);t.bindBuffer(t.ARRAY_BUFFER,K);for(let Ye=0;Ye<q.locationSize;Ye++)_(q.location+Ye,oe/q.locationSize,Me,z,Oe*_e,(Ge+oe/q.locationSize*Ye)*_e,pe)}else{if(X.isInstancedBufferAttribute){for(let xe=0;xe<q.locationSize;xe++)m(q.location+xe,X.meshPerAttribute);D.isInstancedMesh!==!0&&G._maxInstanceCount===void 0&&(G._maxInstanceCount=X.meshPerAttribute*X.count)}else for(let xe=0;xe<q.locationSize;xe++)v(q.location+xe);t.bindBuffer(t.ARRAY_BUFFER,K);for(let xe=0;xe<q.locationSize;xe++)_(q.location+xe,oe/q.locationSize,Me,z,oe*_e,oe/q.locationSize*xe*_e,pe)}}else if(U!==void 0){const z=U[F];if(z!==void 0)switch(z.length){case 2:t.vertexAttrib2fv(q.location,z);break;case 3:t.vertexAttrib3fv(q.location,z);break;case 4:t.vertexAttrib4fv(q.location,z);break;default:t.vertexAttrib1fv(q.location,z)}}}}x()}function A(){k();for(const D in i){const P=i[D];for(const B in P){const G=P[B];for(const H in G)u(G[H].object),delete G[H];delete P[B]}delete i[D]}}function w(D){if(i[D.id]===void 0)return;const P=i[D.id];for(const B in P){const G=P[B];for(const H in G)u(G[H].object),delete G[H];delete P[B]}delete i[D.id]}function T(D){for(const P in i){const B=i[P];if(B[D.id]===void 0)continue;const G=B[D.id];for(const H in G)u(G[H].object),delete G[H];delete B[D.id]}}function k(){N(),s=!0,a!==r&&(a=r,c(a.object))}function N(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:o,reset:k,resetDefaultState:N,dispose:A,releaseStatesOfGeometry:w,releaseStatesOfProgram:T,initAttributes:y,enableAttribute:v,disableUnusedAttributes:x}}function Jve(t,e,n){let i;function r(c){i=c}function a(c,u){t.drawArrays(i,c,u),n.update(u,i,1)}function s(c,u,f){f!==0&&(t.drawArraysInstanced(i,c,u,f),n.update(u,i,f))}function o(c,u,f){if(f===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,c,0,u,0,f);let d=0;for(let b=0;b<f;b++)d+=u[b];n.update(d,i,1)}function l(c,u,f,h){if(f===0)return;const d=e.get("WEBGL_multi_draw");if(d===null)for(let b=0;b<c.length;b++)s(c[b],u[b],h[b]);else{d.multiDrawArraysInstancedWEBGL(i,c,0,u,0,h,0,f);let b=0;for(let y=0;y<f;y++)b+=u[y]*h[y];n.update(b,i,1)}}this.setMode=r,this.render=a,this.renderInstances=s,this.renderMultiDraw=o,this.renderMultiDrawInstances=l}function $ve(t,e,n,i){let r;function a(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const T=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(T.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(T){return!(T!==Yr&&i.convert(T)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function o(T){const k=T===Ka&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(T!==ho&&i.convert(T)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&T!==yr&&!k)}function l(T){if(T==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";T="mediump"}return T==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=n.precision!==void 0?n.precision:"highp";const u=l(c);u!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",u,"instead."),c=u);const f=n.logarithmicDepthBuffer===!0,h=n.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),d=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),b=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),y=t.getParameter(t.MAX_TEXTURE_SIZE),v=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),m=t.getParameter(t.MAX_VERTEX_ATTRIBS),x=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),_=t.getParameter(t.MAX_VARYING_VECTORS),E=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),A=b>0,w=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:l,textureFormatReadable:s,textureTypeReadable:o,precision:c,logarithmicDepthBuffer:f,reversedDepthBuffer:h,maxTextures:d,maxVertexTextures:b,maxTextureSize:y,maxCubemapSize:v,maxAttributes:m,maxVertexUniforms:x,maxVaryings:_,maxFragmentUniforms:E,vertexTextures:A,maxSamples:w}}function Zve(t){const e=this;let n=null,i=0,r=!1,a=!1;const s=new Hc,o=new qn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,h){const d=f.length!==0||h||i!==0||r;return r=h,i=f.length,d},this.beginShadows=function(){a=!0,u(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(f,h){n=u(f,h,0)},this.setState=function(f,h,d){const b=f.clippingPlanes,y=f.clipIntersection,v=f.clipShadows,m=t.get(f);if(!r||b===null||b.length===0||a&&!v)a?u(null):c();else{const x=a?0:i,_=x*4;let E=m.clippingState||null;l.value=E,E=u(b,h,_,d);for(let A=0;A!==_;++A)E[A]=n[A];m.clippingState=E,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=x}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function u(f,h,d,b){const y=f!==null?f.length:0;let v=null;if(y!==0){if(v=l.value,b!==!0||v===null){const m=d+y*4,x=h.matrixWorldInverse;o.getNormalMatrix(x),(v===null||v.length<m)&&(v=new Float32Array(m));for(let _=0,E=d;_!==y;++_,E+=4)s.copy(f[_]).applyMatrix4(x,o),s.normal.toArray(v,E),v[E+3]=s.constant}l.value=v,l.needsUpdate=!0}return e.numPlanes=y,e.numIntersection=0,v}}function Qve(t){let e=new WeakMap;function n(s,o){return o===V0?s.mapping=Qu:o===M1&&(s.mapping=Ud),s}function i(s){if(s&&s.isTexture){const o=s.mapping;if(o===V0||o===M1)if(e.has(s)){const l=e.get(s).texture;return n(l,s.mapping)}else{const l=s.image;if(l&&l.height>0){const c=new eP(l.height);return c.fromEquirectangularTexture(t,s),e.set(s,c),s.addEventListener("dispose",r),n(c.texture,s.mapping)}else return null}}return s}function r(s){const o=s.target;o.removeEventListener("dispose",r);const l=e.get(o);l!==void 0&&(e.delete(o),l.dispose())}function a(){e=new WeakMap}return{get:i,dispose:a}}const Zb=4,Kj=[.125,.215,.35,.446,.526,.582],$p=20,lk=new vh,Yj=new Ut;let ck=null,uk=0,fk=0,hk=!1;const qp=(1+Math.sqrt(5))/2,fb=1/qp,Jj=[new Q(-qp,fb,0),new Q(qp,fb,0),new Q(-fb,0,qp),new Q(fb,0,qp),new Q(0,qp,-fb),new Q(0,qp,fb),new Q(-1,1,-1),new Q(1,1,-1),new Q(-1,1,1),new Q(1,1,1)],exe=new Q;class _N{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,i=.1,r=100,a={}){const{size:s=256,position:o=exe}=a;ck=this._renderer.getRenderTarget(),uk=this._renderer.getActiveCubeFace(),fk=this._renderer.getActiveMipmapLevel(),hk=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(s);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,i,r,l,o),n>0&&this._blur(l,0,0,n),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Qj(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=Zj(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(ck,uk,fk),this._renderer.xr.enabled=hk,e.scissorTest=!1,kw(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Qu||e.mapping===Ud?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),ck=this._renderer.getRenderTarget(),uk=this._renderer.getActiveCubeFace(),fk=this._renderer.getActiveMipmapLevel(),hk=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=n||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,i={magFilter:Gi,minFilter:Gi,generateMipmaps:!1,type:Ka,format:Yr,colorSpace:lu,depthBuffer:!1},r=$j(e,n,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=$j(e,n,i);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=txe(a)),this._blurMaterial=nxe(a,e,n)}return r}_compileMaterial(e){const n=new Di(this._lodPlanes[0],e);this._renderer.compile(n,lk)}_sceneToCubeUV(e,n,i,r,a){const l=new Xr(90,1,n,i),c=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],f=this._renderer,h=f.autoClear,d=f.toneMapping;f.getClearColor(Yj),f.toneMapping=Xu,f.autoClear=!1,f.state.buffers.depth.getReversed()&&(f.setRenderTarget(r),f.clearDepth(),f.setRenderTarget(null));const y=new uo({name:"PMREM.Background",side:Aa,depthWrite:!1,depthTest:!1}),v=new Di(new Wd,y);let m=!1;const x=e.background;x?x.isColor&&(y.color.copy(x),e.background=null,m=!0):(y.color.copy(Yj),m=!0);for(let _=0;_<6;_++){const E=_%3;E===0?(l.up.set(0,c[_],0),l.position.set(a.x,a.y,a.z),l.lookAt(a.x+u[_],a.y,a.z)):E===1?(l.up.set(0,0,c[_]),l.position.set(a.x,a.y,a.z),l.lookAt(a.x,a.y+u[_],a.z)):(l.up.set(0,c[_],0),l.position.set(a.x,a.y,a.z),l.lookAt(a.x,a.y,a.z+u[_]));const A=this._cubeSize;kw(r,E*A,_>2?A:0,A,A),f.setRenderTarget(r),m&&f.render(v,l),f.render(e,l)}v.geometry.dispose(),v.material.dispose(),f.toneMapping=d,f.autoClear=h,e.background=x}_textureToCubeUV(e,n){const i=this._renderer,r=e.mapping===Qu||e.mapping===Ud;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=Qj()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=Zj());const a=r?this._cubemapMaterial:this._equirectMaterial,s=new Di(this._lodPlanes[0],a),o=a.uniforms;o.envMap.value=e;const l=this._cubeSize;kw(n,0,0,3*l,2*l),i.setRenderTarget(n),i.render(s,lk)}_applyPMREM(e){const n=this._renderer,i=n.autoClear;n.autoClear=!1;const r=this._lodPlanes.length;for(let a=1;a<r;a++){const s=Math.sqrt(this._sigmas[a]*this._sigmas[a]-this._sigmas[a-1]*this._sigmas[a-1]),o=Jj[(r-a-1)%Jj.length];this._blur(e,a-1,a,s,o)}n.autoClear=i}_blur(e,n,i,r,a){const s=this._pingPongRenderTarget;this._halfBlur(e,s,n,i,r,"latitudinal",a),this._halfBlur(s,e,i,i,r,"longitudinal",a)}_halfBlur(e,n,i,r,a,s,o){const l=this._renderer,c=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,f=new Di(this._lodPlanes[r],c),h=c.uniforms,d=this._sizeLods[i]-1,b=isFinite(a)?Math.PI/(2*d):2*Math.PI/(2*$p-1),y=a/b,v=isFinite(a)?1+Math.floor(u*y):$p;v>$p&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${v} samples when the maximum is set to ${$p}`);const m=[];let x=0;for(let T=0;T<$p;++T){const k=T/y,N=Math.exp(-k*k/2);m.push(N),T===0?x+=N:T<v&&(x+=2*N)}for(let T=0;T<m.length;T++)m[T]=m[T]/x;h.envMap.value=e.texture,h.samples.value=v,h.weights.value=m,h.latitudinal.value=s==="latitudinal",o&&(h.poleAxis.value=o);const{_lodMax:_}=this;h.dTheta.value=b,h.mipInt.value=_-i;const E=this._sizeLods[r],A=3*E*(r>_-Zb?r-_+Zb:0),w=4*(this._cubeSize-E);kw(n,A,w,3*E,2*E),l.setRenderTarget(n),l.render(f,lk)}}function txe(t){const e=[],n=[],i=[];let r=t;const a=t-Zb+1+Kj.length;for(let s=0;s<a;s++){const o=Math.pow(2,r);n.push(o);let l=1/o;s>t-Zb?l=Kj[s-t+Zb-1]:s===0&&(l=0),i.push(l);const c=1/(o-2),u=-c,f=1+c,h=[u,u,f,u,f,f,u,u,f,f,u,f],d=6,b=6,y=3,v=2,m=1,x=new Float32Array(y*b*d),_=new Float32Array(v*b*d),E=new Float32Array(m*b*d);for(let w=0;w<d;w++){const T=w%3*2/3-1,k=w>2?0:-1,N=[T,k,0,T+2/3,k,0,T+2/3,k+1,0,T,k,0,T+2/3,k+1,0,T,k+1,0];x.set(N,y*b*w),_.set(h,v*b*w);const D=[w,w,w,w,w,w];E.set(D,m*b*w)}const A=new An;A.setAttribute("position",new In(x,y)),A.setAttribute("uv",new In(_,v)),A.setAttribute("faceIndex",new In(E,m)),e.push(A),r>Zb&&r--}return{lodPlanes:e,sizeLods:n,sigmas:i}}function $j(t,e,n){const i=new pc(t,e,n);return i.texture.mapping=Iy,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function kw(t,e,n,i,r){t.viewport.set(e,n,i,r),t.scissor.set(e,n,i,r)}function nxe(t,e,n){const i=new Float32Array($p),r=new Q(0,1,0);return new Za({name:"SphericalGaussianBlur",defines:{n:$p,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:CP(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:qu,depthTest:!1,depthWrite:!1})}function Zj(){return new Za({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:CP(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:qu,depthTest:!1,depthWrite:!1})}function Qj(){return new Za({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:CP(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:qu,depthTest:!1,depthWrite:!1})}function CP(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function ixe(t){let e=new WeakMap,n=null;function i(o){if(o&&o.isTexture){const l=o.mapping,c=l===V0||l===M1,u=l===Qu||l===Ud;if(c||u){let f=e.get(o);const h=f!==void 0?f.texture.pmremVersion:0;if(o.isRenderTargetTexture&&o.pmremVersion!==h)return n===null&&(n=new _N(t)),f=c?n.fromEquirectangular(o,f):n.fromCubemap(o,f),f.texture.pmremVersion=o.pmremVersion,e.set(o,f),f.texture;if(f!==void 0)return f.texture;{const d=o.image;return c&&d&&d.height>0||u&&d&&r(d)?(n===null&&(n=new _N(t)),f=c?n.fromEquirectangular(o):n.fromCubemap(o),f.texture.pmremVersion=o.pmremVersion,e.set(o,f),o.addEventListener("dispose",a),f.texture):null}}}return o}function r(o){let l=0;const c=6;for(let u=0;u<c;u++)o[u]!==void 0&&l++;return l===c}function a(o){const l=o.target;l.removeEventListener("dispose",a);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function s(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:i,dispose:s}}function rxe(t){const e={};function n(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=t.getExtension(i)}return e[i]=r,r}return{has:function(i){return n(i)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(i){const r=n(i);return r===null&&p0("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function axe(t,e,n,i){const r={},a=new WeakMap;function s(f){const h=f.target;h.index!==null&&e.remove(h.index);for(const b in h.attributes)e.remove(h.attributes[b]);h.removeEventListener("dispose",s),delete r[h.id];const d=a.get(h);d&&(e.remove(d),a.delete(h)),i.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,n.memory.geometries--}function o(f,h){return r[h.id]===!0||(h.addEventListener("dispose",s),r[h.id]=!0,n.memory.geometries++),h}function l(f){const h=f.attributes;for(const d in h)e.update(h[d],t.ARRAY_BUFFER)}function c(f){const h=[],d=f.index,b=f.attributes.position;let y=0;if(d!==null){const x=d.array;y=d.version;for(let _=0,E=x.length;_<E;_+=3){const A=x[_+0],w=x[_+1],T=x[_+2];h.push(A,w,w,T,T,A)}}else if(b!==void 0){const x=b.array;y=b.version;for(let _=0,E=x.length/3-1;_<E;_+=3){const A=_+0,w=_+1,T=_+2;h.push(A,w,w,T,T,A)}}else return;const v=new(NY(h)?QL:ZL)(h,1);v.version=y;const m=a.get(f);m&&e.remove(m),a.set(f,v)}function u(f){const h=a.get(f);if(h){const d=f.index;d!==null&&h.version<d.version&&c(f)}else c(f);return a.get(f)}return{get:o,update:l,getWireframeAttribute:u}}function sxe(t,e,n){let i;function r(h){i=h}let a,s;function o(h){a=h.type,s=h.bytesPerElement}function l(h,d){t.drawElements(i,d,a,h*s),n.update(d,i,1)}function c(h,d,b){b!==0&&(t.drawElementsInstanced(i,d,a,h*s,b),n.update(d,i,b))}function u(h,d,b){if(b===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,d,0,a,h,0,b);let v=0;for(let m=0;m<b;m++)v+=d[m];n.update(v,i,1)}function f(h,d,b,y){if(b===0)return;const v=e.get("WEBGL_multi_draw");if(v===null)for(let m=0;m<h.length;m++)c(h[m]/s,d[m],y[m]);else{v.multiDrawElementsInstancedWEBGL(i,d,0,a,h,0,y,0,b);let m=0;for(let x=0;x<b;x++)m+=d[x]*y[x];n.update(m,i,1)}}this.setMode=r,this.setIndex=o,this.render=l,this.renderInstances=c,this.renderMultiDraw=u,this.renderMultiDrawInstances=f}function oxe(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(a,s,o){switch(n.calls++,s){case t.TRIANGLES:n.triangles+=o*(a/3);break;case t.LINES:n.lines+=o*(a/2);break;case t.LINE_STRIP:n.lines+=o*(a-1);break;case t.LINE_LOOP:n.lines+=o*a;break;case t.POINTS:n.points+=o*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function r(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:r,update:i}}function lxe(t,e,n){const i=new WeakMap,r=new ni;function a(s,o,l){const c=s.morphTargetInfluences,u=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,f=u!==void 0?u.length:0;let h=i.get(o);if(h===void 0||h.count!==f){let N=function(){T.dispose(),i.delete(o),o.removeEventListener("dispose",N)};h!==void 0&&h.texture.dispose();const d=o.morphAttributes.position!==void 0,b=o.morphAttributes.normal!==void 0,y=o.morphAttributes.color!==void 0,v=o.morphAttributes.position||[],m=o.morphAttributes.normal||[],x=o.morphAttributes.color||[];let _=0;d===!0&&(_=1),b===!0&&(_=2),y===!0&&(_=3);let E=o.attributes.position.count*_,A=1;E>e.maxTextureSize&&(A=Math.ceil(E/e.maxTextureSize),E=e.maxTextureSize);const w=new Float32Array(E*A*4*f),T=new mC(w,E,A,f);T.type=yr,T.needsUpdate=!0;const k=_*4;for(let D=0;D<f;D++){const P=v[D],B=m[D],G=x[D],H=E*A*4*D;for(let V=0;V<P.count;V++){const U=V*k;d===!0&&(r.fromBufferAttribute(P,V),w[H+U+0]=r.x,w[H+U+1]=r.y,w[H+U+2]=r.z,w[H+U+3]=0),b===!0&&(r.fromBufferAttribute(B,V),w[H+U+4]=r.x,w[H+U+5]=r.y,w[H+U+6]=r.z,w[H+U+7]=0),y===!0&&(r.fromBufferAttribute(G,V),w[H+U+8]=r.x,w[H+U+9]=r.y,w[H+U+10]=r.z,w[H+U+11]=G.itemSize===4?r.w:1)}}h={count:f,texture:T,size:new yt(E,A)},i.set(o,h),o.addEventListener("dispose",N)}if(s.isInstancedMesh===!0&&s.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",s.morphTexture,n);else{let d=0;for(let y=0;y<c.length;y++)d+=c[y];const b=o.morphTargetsRelative?1:1-d;l.getUniforms().setValue(t,"morphTargetBaseInfluence",b),l.getUniforms().setValue(t,"morphTargetInfluences",c)}l.getUniforms().setValue(t,"morphTargetsTexture",h.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",h.size)}return{update:a}}function cxe(t,e,n,i){let r=new WeakMap;function a(l){const c=i.render.frame,u=l.geometry,f=e.get(l,u);if(r.get(f)!==c&&(e.update(f),r.set(f,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),r.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),r.set(l,c))),l.isSkinnedMesh){const h=l.skeleton;r.get(h)!==c&&(h.update(),r.set(h,c))}return f}function s(){r=new WeakMap}function o(l){const c=l.target;c.removeEventListener("dispose",o),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:a,dispose:s}}const RJ=new er,eB=new rP(1,1),kJ=new mC,DJ=new gC,NJ=new S_,tB=[],nB=[],iB=new Float32Array(16),rB=new Float32Array(9),aB=new Float32Array(4);function Vy(t,e,n){const i=t[0];if(i<=0||i>0)return t;const r=e*n;let a=tB[r];if(a===void 0&&(a=new Float32Array(r),tB[r]=a),e!==0){i.toArray(a,0);for(let s=1,o=0;s!==e;++s)o+=n,t[s].toArray(a,o)}return a}function Oa(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function La(t,e){for(let n=0,i=e.length;n<i;n++)t[n]=e[n]}function HC(t,e){let n=nB[e];n===void 0&&(n=new Int32Array(e),nB[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function uxe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function fxe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Oa(n,e))return;t.uniform2fv(this.addr,e),La(n,e)}}function hxe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Oa(n,e))return;t.uniform3fv(this.addr,e),La(n,e)}}function dxe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Oa(n,e))return;t.uniform4fv(this.addr,e),La(n,e)}}function pxe(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Oa(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),La(n,e)}else{if(Oa(n,i))return;aB.set(i),t.uniformMatrix2fv(this.addr,!1,aB),La(n,i)}}function mxe(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Oa(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),La(n,e)}else{if(Oa(n,i))return;rB.set(i),t.uniformMatrix3fv(this.addr,!1,rB),La(n,i)}}function gxe(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Oa(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),La(n,e)}else{if(Oa(n,i))return;iB.set(i),t.uniformMatrix4fv(this.addr,!1,iB),La(n,i)}}function bxe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function yxe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Oa(n,e))return;t.uniform2iv(this.addr,e),La(n,e)}}function vxe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Oa(n,e))return;t.uniform3iv(this.addr,e),La(n,e)}}function xxe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Oa(n,e))return;t.uniform4iv(this.addr,e),La(n,e)}}function _xe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function Sxe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Oa(n,e))return;t.uniform2uiv(this.addr,e),La(n,e)}}function wxe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Oa(n,e))return;t.uniform3uiv(this.addr,e),La(n,e)}}function Exe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Oa(n,e))return;t.uniform4uiv(this.addr,e),La(n,e)}}function Mxe(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r);let a;this.type===t.SAMPLER_2D_SHADOW?(eB.compareFunction=YL,a=eB):a=RJ,n.setTexture2D(e||a,r)}function Axe(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(e||DJ,r)}function Txe(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTextureCube(e||NJ,r)}function Cxe(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(e||kJ,r)}function Rxe(t){switch(t){case 5126:return uxe;case 35664:return fxe;case 35665:return hxe;case 35666:return dxe;case 35674:return pxe;case 35675:return mxe;case 35676:return gxe;case 5124:case 35670:return bxe;case 35667:case 35671:return yxe;case 35668:case 35672:return vxe;case 35669:case 35673:return xxe;case 5125:return _xe;case 36294:return Sxe;case 36295:return wxe;case 36296:return Exe;case 35678:case 36198:case 36298:case 36306:case 35682:return Mxe;case 35679:case 36299:case 36307:return Axe;case 35680:case 36300:case 36308:case 36293:return Txe;case 36289:case 36303:case 36311:case 36292:return Cxe}}function kxe(t,e){t.uniform1fv(this.addr,e)}function Dxe(t,e){const n=Vy(e,this.size,2);t.uniform2fv(this.addr,n)}function Nxe(t,e){const n=Vy(e,this.size,3);t.uniform3fv(this.addr,n)}function Ixe(t,e){const n=Vy(e,this.size,4);t.uniform4fv(this.addr,n)}function Oxe(t,e){const n=Vy(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function Lxe(t,e){const n=Vy(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function Pxe(t,e){const n=Vy(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function Uxe(t,e){t.uniform1iv(this.addr,e)}function Fxe(t,e){t.uniform2iv(this.addr,e)}function zxe(t,e){t.uniform3iv(this.addr,e)}function jxe(t,e){t.uniform4iv(this.addr,e)}function Bxe(t,e){t.uniform1uiv(this.addr,e)}function Hxe(t,e){t.uniform2uiv(this.addr,e)}function Vxe(t,e){t.uniform3uiv(this.addr,e)}function Gxe(t,e){t.uniform4uiv(this.addr,e)}function Wxe(t,e,n){const i=this.cache,r=e.length,a=HC(n,r);Oa(i,a)||(t.uniform1iv(this.addr,a),La(i,a));for(let s=0;s!==r;++s)n.setTexture2D(e[s]||RJ,a[s])}function qxe(t,e,n){const i=this.cache,r=e.length,a=HC(n,r);Oa(i,a)||(t.uniform1iv(this.addr,a),La(i,a));for(let s=0;s!==r;++s)n.setTexture3D(e[s]||DJ,a[s])}function Xxe(t,e,n){const i=this.cache,r=e.length,a=HC(n,r);Oa(i,a)||(t.uniform1iv(this.addr,a),La(i,a));for(let s=0;s!==r;++s)n.setTextureCube(e[s]||NJ,a[s])}function Kxe(t,e,n){const i=this.cache,r=e.length,a=HC(n,r);Oa(i,a)||(t.uniform1iv(this.addr,a),La(i,a));for(let s=0;s!==r;++s)n.setTexture2DArray(e[s]||kJ,a[s])}function Yxe(t){switch(t){case 5126:return kxe;case 35664:return Dxe;case 35665:return Nxe;case 35666:return Ixe;case 35674:return Oxe;case 35675:return Lxe;case 35676:return Pxe;case 5124:case 35670:return Uxe;case 35667:case 35671:return Fxe;case 35668:case 35672:return zxe;case 35669:case 35673:return jxe;case 5125:return Bxe;case 36294:return Hxe;case 36295:return Vxe;case 36296:return Gxe;case 35678:case 36198:case 36298:case 36306:case 35682:return Wxe;case 35679:case 36299:case 36307:return qxe;case 35680:case 36300:case 36308:case 36293:return Xxe;case 36289:case 36303:case 36311:case 36292:return Kxe}}class Jxe{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.setValue=Rxe(n.type)}}class $xe{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=Yxe(n.type)}}class Zxe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,i){const r=this.seq;for(let a=0,s=r.length;a!==s;++a){const o=r[a];o.setValue(e,n[o.id],i)}}}const dk=/(\w+)(\])?(\[|\.)?/g;function sB(t,e){t.seq.push(e),t.map[e.id]=e}function Qxe(t,e,n){const i=t.name,r=i.length;for(dk.lastIndex=0;;){const a=dk.exec(i),s=dk.lastIndex;let o=a[1];const l=a[2]==="]",c=a[3];if(l&&(o=o|0),c===void 0||c==="["&&s+2===r){sB(n,c===void 0?new Jxe(o,t,e):new $xe(o,t,e));break}else{let f=n.map[o];f===void 0&&(f=new Zxe(o),sB(n,f)),n=f}}}class GE{constructor(e,n){this.seq=[],this.map={};const i=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const a=e.getActiveUniform(n,r),s=e.getUniformLocation(n,a.name);Qxe(a,s,this)}}setValue(e,n,i,r){const a=this.map[n];a!==void 0&&a.setValue(e,i,r)}setOptional(e,n,i){const r=n[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,n,i,r){for(let a=0,s=n.length;a!==s;++a){const o=n[a],l=i[o.id];l.needsUpdate!==!1&&o.setValue(e,l.value,r)}}static seqWithValue(e,n){const i=[];for(let r=0,a=e.length;r!==a;++r){const s=e[r];s.id in n&&i.push(s)}return i}}function oB(t,e,n){const i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}const e1e=37297;let t1e=0;function n1e(t,e){const n=t.split(`
`),i=[],r=Math.max(e-6,0),a=Math.min(e+6,n.length);for(let s=r;s<a;s++){const o=s+1;i.push(`${o===e?">":" "} ${o}: ${n[s]}`)}return i.join(`
`)}const lB=new qn;function i1e(t){oi._getMatrix(lB,oi.workingColorSpace,t);const e=`mat3( ${lB.elements.map(n=>n.toFixed(4))} )`;switch(oi.getTransfer(t)){case T1:return[e,"LinearTransferOETF"];case ar:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function cB(t,e,n){const i=t.getShaderParameter(e,t.COMPILE_STATUS),a=(t.getShaderInfoLog(e)||"").trim();if(i&&a==="")return"";const s=/ERROR: 0:(\d+)/.exec(a);if(s){const o=parseInt(s[1]);return n.toUpperCase()+`

`+a+`

`+n1e(t.getShaderSource(e),o)}else return a}function r1e(t,e){const n=i1e(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}function a1e(t,e){let n;switch(e){case hY:n="Linear";break;case dY:n="Reinhard";break;case pY:n="Cineon";break;case BL:n="ACESFilmic";break;case gY:n="AgX";break;case bY:n="Neutral";break;case mY:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const Dw=new Q;function s1e(){oi.getLuminanceCoefficients(Dw);const t=Dw.x.toFixed(4),e=Dw.y.toFixed(4),n=Dw.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function o1e(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(bx).join(`
`)}function l1e(t){const e=[];for(const n in t){const i=t[n];i!==!1&&e.push("#define "+n+" "+i)}return e.join(`
`)}function c1e(t,e){const n={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const a=t.getActiveAttrib(e,r),s=a.name;let o=1;a.type===t.FLOAT_MAT2&&(o=2),a.type===t.FLOAT_MAT3&&(o=3),a.type===t.FLOAT_MAT4&&(o=4),n[s]={type:a.type,location:t.getAttribLocation(e,s),locationSize:o}}return n}function bx(t){return t!==""}function uB(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function fB(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const u1e=/^[ \t]*#include +<([\w\d./]+)>/gm;function SN(t){return t.replace(u1e,h1e)}const f1e=new Map;function h1e(t,e){let n=on[e];if(n===void 0){const i=f1e.get(e);if(i!==void 0)n=on[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return SN(n)}const d1e=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function hB(t){return t.replace(d1e,p1e)}function p1e(t,e,n,i){let r="";for(let a=parseInt(e);a<parseInt(n);a++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return r}function dB(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function m1e(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===oC?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===jx?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Fc&&(e="SHADOWMAP_TYPE_VSM"),e}function g1e(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Qu:case Ud:e="ENVMAP_TYPE_CUBE";break;case Iy:e="ENVMAP_TYPE_CUBE_UV";break}return e}function b1e(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Ud:e="ENVMAP_MODE_REFRACTION";break}return e}function y1e(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case x_:e="ENVMAP_BLENDING_MULTIPLY";break;case uY:e="ENVMAP_BLENDING_MIX";break;case fY:e="ENVMAP_BLENDING_ADD";break}return e}function v1e(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:i,maxMip:n}}function x1e(t,e,n,i){const r=t.getContext(),a=n.defines;let s=n.vertexShader,o=n.fragmentShader;const l=m1e(n),c=g1e(n),u=b1e(n),f=y1e(n),h=v1e(n),d=o1e(n),b=l1e(a),y=r.createProgram();let v,m,x=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(v=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,b].filter(bx).join(`
`),v.length>0&&(v+=`
`),m=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,b].filter(bx).join(`
`),m.length>0&&(m+=`
`)):(v=[dB(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,b,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reversedDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(bx).join(`
`),m=[dB(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,b,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+f:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reversedDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Xu?"#define TONE_MAPPING":"",n.toneMapping!==Xu?on.tonemapping_pars_fragment:"",n.toneMapping!==Xu?a1e("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",on.colorspace_pars_fragment,r1e("linearToOutputTexel",n.outputColorSpace),s1e(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(bx).join(`
`)),s=SN(s),s=uB(s,n),s=fB(s,n),o=SN(o),o=uB(o,n),o=fB(o,n),s=hB(s),o=hB(o),n.isRawShaderMaterial!==!0&&(x=`#version 300 es
`,v=[d,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+v,m=["#define varying in",n.glslVersion===pN?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===pN?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+m);const _=x+v+s,E=x+m+o,A=oB(r,r.VERTEX_SHADER,_),w=oB(r,r.FRAGMENT_SHADER,E);r.attachShader(y,A),r.attachShader(y,w),n.index0AttributeName!==void 0?r.bindAttribLocation(y,0,n.index0AttributeName):n.morphTargets===!0&&r.bindAttribLocation(y,0,"position"),r.linkProgram(y);function T(P){if(t.debug.checkShaderErrors){const B=r.getProgramInfoLog(y)||"",G=r.getShaderInfoLog(A)||"",H=r.getShaderInfoLog(w)||"",V=B.trim(),U=G.trim(),F=H.trim();let q=!0,X=!0;if(r.getProgramParameter(y,r.LINK_STATUS)===!1)if(q=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(r,y,A,w);else{const z=cB(r,A,"vertex"),oe=cB(r,w,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(y,r.VALIDATE_STATUS)+`

Material Name: `+P.name+`
Material Type: `+P.type+`

Program Info Log: `+V+`
`+z+`
`+oe)}else V!==""?console.warn("THREE.WebGLProgram: Program Info Log:",V):(U===""||F==="")&&(X=!1);X&&(P.diagnostics={runnable:q,programLog:V,vertexShader:{log:U,prefix:v},fragmentShader:{log:F,prefix:m}})}r.deleteShader(A),r.deleteShader(w),k=new GE(r,y),N=c1e(r,y)}let k;this.getUniforms=function(){return k===void 0&&T(this),k};let N;this.getAttributes=function(){return N===void 0&&T(this),N};let D=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return D===!1&&(D=r.getProgramParameter(y,e1e)),D},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(y),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=t1e++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=A,this.fragmentShader=w,this}let _1e=0;class S1e{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(n),a=this._getShaderStage(i),s=this._getShaderCacheForMaterial(e);return s.has(r)===!1&&(s.add(r),r.usedTimes++),s.has(a)===!1&&(s.add(a),a.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const i of n)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let i=n.get(e);return i===void 0&&(i=new Set,n.set(e,i)),i}_getShaderStage(e){const n=this.shaderCache;let i=n.get(e);return i===void 0&&(i=new w1e(e),n.set(e,i)),i}}class w1e{constructor(e){this.id=_1e++,this.code=e,this.usedTimes=0}}function E1e(t,e,n,i,r,a,s){const o=new Q0,l=new S1e,c=new Set,u=[],f=r.logarithmicDepthBuffer,h=r.vertexTextures;let d=r.precision;const b={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function y(N){return c.add(N),N===0?"uv":`uv${N}`}function v(N,D,P,B,G){const H=B.fog,V=G.geometry,U=N.isMeshStandardMaterial?B.environment:null,F=(N.isMeshStandardMaterial?n:e).get(N.envMap||U),q=F&&F.mapping===Iy?F.image.height:null,X=b[N.type];N.precision!==null&&(d=r.getMaxPrecision(N.precision),d!==N.precision&&console.warn("THREE.WebGLProgram.getParameters:",N.precision,"not supported, using",d,"instead."));const z=V.morphAttributes.position||V.morphAttributes.normal||V.morphAttributes.color,oe=z!==void 0?z.length:0;let fe=0;V.morphAttributes.position!==void 0&&(fe=1),V.morphAttributes.normal!==void 0&&(fe=2),V.morphAttributes.color!==void 0&&(fe=3);let K,Me,_e,pe;if(X){const jn=Vc[X];K=jn.vertexShader,Me=jn.fragmentShader}else K=N.vertexShader,Me=N.fragmentShader,l.update(N),_e=l.getVertexShaderID(N),pe=l.getFragmentShaderID(N);const xe=t.getRenderTarget(),Oe=t.state.buffers.depth.getReversed(),Ge=G.isInstancedMesh===!0,Ye=G.isBatchedMesh===!0,ct=!!N.map,Tt=!!N.matcap,he=!!F,Ve=!!N.aoMap,Be=!!N.lightMap,ot=!!N.bumpMap,Ae=!!N.normalMap,Ue=!!N.displacementMap,Ne=!!N.emissiveMap,We=!!N.metalnessMap,Et=!!N.roughnessMap,vt=N.anisotropy>0,re=N.clearcoat>0,J=N.dispersion>0,ue=N.iridescence>0,se=N.sheen>0,be=N.transmission>0,$=vt&&!!N.anisotropyMap,Ke=re&&!!N.clearcoatMap,tt=re&&!!N.clearcoatNormalMap,pt=re&&!!N.clearcoatRoughnessMap,ze=ue&&!!N.iridescenceMap,rt=ue&&!!N.iridescenceThicknessMap,$e=se&&!!N.sheenColorMap,Xt=se&&!!N.sheenRoughnessMap,Ot=!!N.specularMap,ft=!!N.specularColorMap,jt=!!N.specularIntensityMap,Re=be&&!!N.transmissionMap,Fe=be&&!!N.thicknessMap,wt=!!N.gradientMap,Wt=!!N.alphaMap,ut=N.alphaTest>0,mt=!!N.alphaHash,Mt=!!N.extensions;let gn=Xu;N.toneMapped&&(xe===null||xe.isXRRenderTarget===!0)&&(gn=t.toneMapping);const Gn={shaderID:X,shaderType:N.type,shaderName:N.name,vertexShader:K,fragmentShader:Me,defines:N.defines,customVertexShaderID:_e,customFragmentShaderID:pe,isRawShaderMaterial:N.isRawShaderMaterial===!0,glslVersion:N.glslVersion,precision:d,batching:Ye,batchingColor:Ye&&G._colorsTexture!==null,instancing:Ge,instancingColor:Ge&&G.instanceColor!==null,instancingMorph:Ge&&G.morphTexture!==null,supportsVertexTextures:h,outputColorSpace:xe===null?t.outputColorSpace:xe.isXRRenderTarget===!0?xe.texture.colorSpace:lu,alphaToCoverage:!!N.alphaToCoverage,map:ct,matcap:Tt,envMap:he,envMapMode:he&&F.mapping,envMapCubeUVHeight:q,aoMap:Ve,lightMap:Be,bumpMap:ot,normalMap:Ae,displacementMap:h&&Ue,emissiveMap:Ne,normalMapObjectSpace:Ae&&N.normalMapType===EY,normalMapTangentSpace:Ae&&N.normalMapType===Gd,metalnessMap:We,roughnessMap:Et,anisotropy:vt,anisotropyMap:$,clearcoat:re,clearcoatMap:Ke,clearcoatNormalMap:tt,clearcoatRoughnessMap:pt,dispersion:J,iridescence:ue,iridescenceMap:ze,iridescenceThicknessMap:rt,sheen:se,sheenColorMap:$e,sheenRoughnessMap:Xt,specularMap:Ot,specularColorMap:ft,specularIntensityMap:jt,transmission:be,transmissionMap:Re,thicknessMap:Fe,gradientMap:wt,opaque:N.transparent===!1&&N.blending===Mm&&N.alphaToCoverage===!1,alphaMap:Wt,alphaTest:ut,alphaHash:mt,combine:N.combine,mapUv:ct&&y(N.map.channel),aoMapUv:Ve&&y(N.aoMap.channel),lightMapUv:Be&&y(N.lightMap.channel),bumpMapUv:ot&&y(N.bumpMap.channel),normalMapUv:Ae&&y(N.normalMap.channel),displacementMapUv:Ue&&y(N.displacementMap.channel),emissiveMapUv:Ne&&y(N.emissiveMap.channel),metalnessMapUv:We&&y(N.metalnessMap.channel),roughnessMapUv:Et&&y(N.roughnessMap.channel),anisotropyMapUv:$&&y(N.anisotropyMap.channel),clearcoatMapUv:Ke&&y(N.clearcoatMap.channel),clearcoatNormalMapUv:tt&&y(N.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:pt&&y(N.clearcoatRoughnessMap.channel),iridescenceMapUv:ze&&y(N.iridescenceMap.channel),iridescenceThicknessMapUv:rt&&y(N.iridescenceThicknessMap.channel),sheenColorMapUv:$e&&y(N.sheenColorMap.channel),sheenRoughnessMapUv:Xt&&y(N.sheenRoughnessMap.channel),specularMapUv:Ot&&y(N.specularMap.channel),specularColorMapUv:ft&&y(N.specularColorMap.channel),specularIntensityMapUv:jt&&y(N.specularIntensityMap.channel),transmissionMapUv:Re&&y(N.transmissionMap.channel),thicknessMapUv:Fe&&y(N.thicknessMap.channel),alphaMapUv:Wt&&y(N.alphaMap.channel),vertexTangents:!!V.attributes.tangent&&(Ae||vt),vertexColors:N.vertexColors,vertexAlphas:N.vertexColors===!0&&!!V.attributes.color&&V.attributes.color.itemSize===4,pointsUvs:G.isPoints===!0&&!!V.attributes.uv&&(ct||Wt),fog:!!H,useFog:N.fog===!0,fogExp2:!!H&&H.isFogExp2,flatShading:N.flatShading===!0&&N.wireframe===!1,sizeAttenuation:N.sizeAttenuation===!0,logarithmicDepthBuffer:f,reversedDepthBuffer:Oe,skinning:G.isSkinnedMesh===!0,morphTargets:V.morphAttributes.position!==void 0,morphNormals:V.morphAttributes.normal!==void 0,morphColors:V.morphAttributes.color!==void 0,morphTargetsCount:oe,morphTextureStride:fe,numDirLights:D.directional.length,numPointLights:D.point.length,numSpotLights:D.spot.length,numSpotLightMaps:D.spotLightMap.length,numRectAreaLights:D.rectArea.length,numHemiLights:D.hemi.length,numDirLightShadows:D.directionalShadowMap.length,numPointLightShadows:D.pointShadowMap.length,numSpotLightShadows:D.spotShadowMap.length,numSpotLightShadowsWithMaps:D.numSpotLightShadowsWithMaps,numLightProbes:D.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:N.dithering,shadowMapEnabled:t.shadowMap.enabled&&P.length>0,shadowMapType:t.shadowMap.type,toneMapping:gn,decodeVideoTexture:ct&&N.map.isVideoTexture===!0&&oi.getTransfer(N.map.colorSpace)===ar,decodeVideoTextureEmissive:Ne&&N.emissiveMap.isVideoTexture===!0&&oi.getTransfer(N.emissiveMap.colorSpace)===ar,premultipliedAlpha:N.premultipliedAlpha,doubleSided:N.side===oa,flipSided:N.side===Aa,useDepthPacking:N.depthPacking>=0,depthPacking:N.depthPacking||0,index0AttributeName:N.index0AttributeName,extensionClipCullDistance:Mt&&N.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Mt&&N.extensions.multiDraw===!0||Ye)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:N.customProgramCacheKey()};return Gn.vertexUv1s=c.has(1),Gn.vertexUv2s=c.has(2),Gn.vertexUv3s=c.has(3),c.clear(),Gn}function m(N){const D=[];if(N.shaderID?D.push(N.shaderID):(D.push(N.customVertexShaderID),D.push(N.customFragmentShaderID)),N.defines!==void 0)for(const P in N.defines)D.push(P),D.push(N.defines[P]);return N.isRawShaderMaterial===!1&&(x(D,N),_(D,N),D.push(t.outputColorSpace)),D.push(N.customProgramCacheKey),D.join()}function x(N,D){N.push(D.precision),N.push(D.outputColorSpace),N.push(D.envMapMode),N.push(D.envMapCubeUVHeight),N.push(D.mapUv),N.push(D.alphaMapUv),N.push(D.lightMapUv),N.push(D.aoMapUv),N.push(D.bumpMapUv),N.push(D.normalMapUv),N.push(D.displacementMapUv),N.push(D.emissiveMapUv),N.push(D.metalnessMapUv),N.push(D.roughnessMapUv),N.push(D.anisotropyMapUv),N.push(D.clearcoatMapUv),N.push(D.clearcoatNormalMapUv),N.push(D.clearcoatRoughnessMapUv),N.push(D.iridescenceMapUv),N.push(D.iridescenceThicknessMapUv),N.push(D.sheenColorMapUv),N.push(D.sheenRoughnessMapUv),N.push(D.specularMapUv),N.push(D.specularColorMapUv),N.push(D.specularIntensityMapUv),N.push(D.transmissionMapUv),N.push(D.thicknessMapUv),N.push(D.combine),N.push(D.fogExp2),N.push(D.sizeAttenuation),N.push(D.morphTargetsCount),N.push(D.morphAttributeCount),N.push(D.numDirLights),N.push(D.numPointLights),N.push(D.numSpotLights),N.push(D.numSpotLightMaps),N.push(D.numHemiLights),N.push(D.numRectAreaLights),N.push(D.numDirLightShadows),N.push(D.numPointLightShadows),N.push(D.numSpotLightShadows),N.push(D.numSpotLightShadowsWithMaps),N.push(D.numLightProbes),N.push(D.shadowMapType),N.push(D.toneMapping),N.push(D.numClippingPlanes),N.push(D.numClipIntersection),N.push(D.depthPacking)}function _(N,D){o.disableAll(),D.supportsVertexTextures&&o.enable(0),D.instancing&&o.enable(1),D.instancingColor&&o.enable(2),D.instancingMorph&&o.enable(3),D.matcap&&o.enable(4),D.envMap&&o.enable(5),D.normalMapObjectSpace&&o.enable(6),D.normalMapTangentSpace&&o.enable(7),D.clearcoat&&o.enable(8),D.iridescence&&o.enable(9),D.alphaTest&&o.enable(10),D.vertexColors&&o.enable(11),D.vertexAlphas&&o.enable(12),D.vertexUv1s&&o.enable(13),D.vertexUv2s&&o.enable(14),D.vertexUv3s&&o.enable(15),D.vertexTangents&&o.enable(16),D.anisotropy&&o.enable(17),D.alphaHash&&o.enable(18),D.batching&&o.enable(19),D.dispersion&&o.enable(20),D.batchingColor&&o.enable(21),D.gradientMap&&o.enable(22),N.push(o.mask),o.disableAll(),D.fog&&o.enable(0),D.useFog&&o.enable(1),D.flatShading&&o.enable(2),D.logarithmicDepthBuffer&&o.enable(3),D.reversedDepthBuffer&&o.enable(4),D.skinning&&o.enable(5),D.morphTargets&&o.enable(6),D.morphNormals&&o.enable(7),D.morphColors&&o.enable(8),D.premultipliedAlpha&&o.enable(9),D.shadowMapEnabled&&o.enable(10),D.doubleSided&&o.enable(11),D.flipSided&&o.enable(12),D.useDepthPacking&&o.enable(13),D.dithering&&o.enable(14),D.transmission&&o.enable(15),D.sheen&&o.enable(16),D.opaque&&o.enable(17),D.pointsUvs&&o.enable(18),D.decodeVideoTexture&&o.enable(19),D.decodeVideoTextureEmissive&&o.enable(20),D.alphaToCoverage&&o.enable(21),N.push(o.mask)}function E(N){const D=b[N.type];let P;if(D){const B=Vc[D];P=k1.clone(B.uniforms)}else P=N.uniforms;return P}function A(N,D){let P;for(let B=0,G=u.length;B<G;B++){const H=u[B];if(H.cacheKey===D){P=H,++P.usedTimes;break}}return P===void 0&&(P=new x1e(t,D,N,a),u.push(P)),P}function w(N){if(--N.usedTimes===0){const D=u.indexOf(N);u[D]=u[u.length-1],u.pop(),N.destroy()}}function T(N){l.remove(N)}function k(){l.dispose()}return{getParameters:v,getProgramCacheKey:m,getUniforms:E,acquireProgram:A,releaseProgram:w,releaseShaderCache:T,programs:u,dispose:k}}function M1e(){let t=new WeakMap;function e(s){return t.has(s)}function n(s){let o=t.get(s);return o===void 0&&(o={},t.set(s,o)),o}function i(s){t.delete(s)}function r(s,o,l){t.get(s)[o]=l}function a(){t=new WeakMap}return{has:e,get:n,remove:i,update:r,dispose:a}}function A1e(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function pB(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function mB(){const t=[];let e=0;const n=[],i=[],r=[];function a(){e=0,n.length=0,i.length=0,r.length=0}function s(f,h,d,b,y,v){let m=t[e];return m===void 0?(m={id:f.id,object:f,geometry:h,material:d,groupOrder:b,renderOrder:f.renderOrder,z:y,group:v},t[e]=m):(m.id=f.id,m.object=f,m.geometry=h,m.material=d,m.groupOrder=b,m.renderOrder=f.renderOrder,m.z=y,m.group=v),e++,m}function o(f,h,d,b,y,v){const m=s(f,h,d,b,y,v);d.transmission>0?i.push(m):d.transparent===!0?r.push(m):n.push(m)}function l(f,h,d,b,y,v){const m=s(f,h,d,b,y,v);d.transmission>0?i.unshift(m):d.transparent===!0?r.unshift(m):n.unshift(m)}function c(f,h){n.length>1&&n.sort(f||A1e),i.length>1&&i.sort(h||pB),r.length>1&&r.sort(h||pB)}function u(){for(let f=e,h=t.length;f<h;f++){const d=t[f];if(d.id===null)break;d.id=null,d.object=null,d.geometry=null,d.material=null,d.group=null}}return{opaque:n,transmissive:i,transparent:r,init:a,push:o,unshift:l,finish:u,sort:c}}function T1e(){let t=new WeakMap;function e(i,r){const a=t.get(i);let s;return a===void 0?(s=new mB,t.set(i,[s])):r>=a.length?(s=new mB,a.push(s)):s=a[r],s}function n(){t=new WeakMap}return{get:e,dispose:n}}function C1e(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new Q,color:new Ut};break;case"SpotLight":n={position:new Q,direction:new Q,color:new Ut,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Q,color:new Ut,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Q,skyColor:new Ut,groundColor:new Ut};break;case"RectAreaLight":n={color:new Ut,position:new Q,halfWidth:new Q,halfHeight:new Q};break}return t[e.id]=n,n}}}function R1e(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new yt};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new yt};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new yt,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let k1e=0;function D1e(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function N1e(t){const e=new C1e,n=R1e(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)i.probe.push(new Q);const r=new Q,a=new kt,s=new kt;function o(c){let u=0,f=0,h=0;for(let N=0;N<9;N++)i.probe[N].set(0,0,0);let d=0,b=0,y=0,v=0,m=0,x=0,_=0,E=0,A=0,w=0,T=0;c.sort(D1e);for(let N=0,D=c.length;N<D;N++){const P=c[N],B=P.color,G=P.intensity,H=P.distance,V=P.shadow&&P.shadow.map?P.shadow.map.texture:null;if(P.isAmbientLight)u+=B.r*G,f+=B.g*G,h+=B.b*G;else if(P.isLightProbe){for(let U=0;U<9;U++)i.probe[U].addScaledVector(P.sh.coefficients[U],G);T++}else if(P.isDirectionalLight){const U=e.get(P);if(U.color.copy(P.color).multiplyScalar(P.intensity),P.castShadow){const F=P.shadow,q=n.get(P);q.shadowIntensity=F.intensity,q.shadowBias=F.bias,q.shadowNormalBias=F.normalBias,q.shadowRadius=F.radius,q.shadowMapSize=F.mapSize,i.directionalShadow[d]=q,i.directionalShadowMap[d]=V,i.directionalShadowMatrix[d]=P.shadow.matrix,x++}i.directional[d]=U,d++}else if(P.isSpotLight){const U=e.get(P);U.position.setFromMatrixPosition(P.matrixWorld),U.color.copy(B).multiplyScalar(G),U.distance=H,U.coneCos=Math.cos(P.angle),U.penumbraCos=Math.cos(P.angle*(1-P.penumbra)),U.decay=P.decay,i.spot[y]=U;const F=P.shadow;if(P.map&&(i.spotLightMap[A]=P.map,A++,F.updateMatrices(P),P.castShadow&&w++),i.spotLightMatrix[y]=F.matrix,P.castShadow){const q=n.get(P);q.shadowIntensity=F.intensity,q.shadowBias=F.bias,q.shadowNormalBias=F.normalBias,q.shadowRadius=F.radius,q.shadowMapSize=F.mapSize,i.spotShadow[y]=q,i.spotShadowMap[y]=V,E++}y++}else if(P.isRectAreaLight){const U=e.get(P);U.color.copy(B).multiplyScalar(G),U.halfWidth.set(P.width*.5,0,0),U.halfHeight.set(0,P.height*.5,0),i.rectArea[v]=U,v++}else if(P.isPointLight){const U=e.get(P);if(U.color.copy(P.color).multiplyScalar(P.intensity),U.distance=P.distance,U.decay=P.decay,P.castShadow){const F=P.shadow,q=n.get(P);q.shadowIntensity=F.intensity,q.shadowBias=F.bias,q.shadowNormalBias=F.normalBias,q.shadowRadius=F.radius,q.shadowMapSize=F.mapSize,q.shadowCameraNear=F.camera.near,q.shadowCameraFar=F.camera.far,i.pointShadow[b]=q,i.pointShadowMap[b]=V,i.pointShadowMatrix[b]=P.shadow.matrix,_++}i.point[b]=U,b++}else if(P.isHemisphereLight){const U=e.get(P);U.skyColor.copy(P.color).multiplyScalar(G),U.groundColor.copy(P.groundColor).multiplyScalar(G),i.hemi[m]=U,m++}}v>0&&(t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Zt.LTC_FLOAT_1,i.rectAreaLTC2=Zt.LTC_FLOAT_2):(i.rectAreaLTC1=Zt.LTC_HALF_1,i.rectAreaLTC2=Zt.LTC_HALF_2)),i.ambient[0]=u,i.ambient[1]=f,i.ambient[2]=h;const k=i.hash;(k.directionalLength!==d||k.pointLength!==b||k.spotLength!==y||k.rectAreaLength!==v||k.hemiLength!==m||k.numDirectionalShadows!==x||k.numPointShadows!==_||k.numSpotShadows!==E||k.numSpotMaps!==A||k.numLightProbes!==T)&&(i.directional.length=d,i.spot.length=y,i.rectArea.length=v,i.point.length=b,i.hemi.length=m,i.directionalShadow.length=x,i.directionalShadowMap.length=x,i.pointShadow.length=_,i.pointShadowMap.length=_,i.spotShadow.length=E,i.spotShadowMap.length=E,i.directionalShadowMatrix.length=x,i.pointShadowMatrix.length=_,i.spotLightMatrix.length=E+A-w,i.spotLightMap.length=A,i.numSpotLightShadowsWithMaps=w,i.numLightProbes=T,k.directionalLength=d,k.pointLength=b,k.spotLength=y,k.rectAreaLength=v,k.hemiLength=m,k.numDirectionalShadows=x,k.numPointShadows=_,k.numSpotShadows=E,k.numSpotMaps=A,k.numLightProbes=T,i.version=k1e++)}function l(c,u){let f=0,h=0,d=0,b=0,y=0;const v=u.matrixWorldInverse;for(let m=0,x=c.length;m<x;m++){const _=c[m];if(_.isDirectionalLight){const E=i.directional[f];E.direction.setFromMatrixPosition(_.matrixWorld),r.setFromMatrixPosition(_.target.matrixWorld),E.direction.sub(r),E.direction.transformDirection(v),f++}else if(_.isSpotLight){const E=i.spot[d];E.position.setFromMatrixPosition(_.matrixWorld),E.position.applyMatrix4(v),E.direction.setFromMatrixPosition(_.matrixWorld),r.setFromMatrixPosition(_.target.matrixWorld),E.direction.sub(r),E.direction.transformDirection(v),d++}else if(_.isRectAreaLight){const E=i.rectArea[b];E.position.setFromMatrixPosition(_.matrixWorld),E.position.applyMatrix4(v),s.identity(),a.copy(_.matrixWorld),a.premultiply(v),s.extractRotation(a),E.halfWidth.set(_.width*.5,0,0),E.halfHeight.set(0,_.height*.5,0),E.halfWidth.applyMatrix4(s),E.halfHeight.applyMatrix4(s),b++}else if(_.isPointLight){const E=i.point[h];E.position.setFromMatrixPosition(_.matrixWorld),E.position.applyMatrix4(v),h++}else if(_.isHemisphereLight){const E=i.hemi[y];E.direction.setFromMatrixPosition(_.matrixWorld),E.direction.transformDirection(v),y++}}}return{setup:o,setupView:l,state:i}}function gB(t){const e=new N1e(t),n=[],i=[];function r(u){c.camera=u,n.length=0,i.length=0}function a(u){n.push(u)}function s(u){i.push(u)}function o(){e.setup(n)}function l(u){e.setupView(n,u)}const c={lightsArray:n,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:c,setupLights:o,setupLightsView:l,pushLight:a,pushShadow:s}}function I1e(t){let e=new WeakMap;function n(r,a=0){const s=e.get(r);let o;return s===void 0?(o=new gB(t),e.set(r,[o])):a>=s.length?(o=new gB(t),s.push(o)):o=s[a],o}function i(){e=new WeakMap}return{get:n,dispose:i}}const O1e=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,L1e=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function P1e(t,e,n){let i=new og;const r=new yt,a=new yt,s=new ni,o=new pP({depthPacking:wY}),l=new mP,c={},u=n.maxTextureSize,f={[ou]:Aa,[Aa]:ou,[oa]:oa},h=new Za({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new yt},radius:{value:4}},vertexShader:O1e,fragmentShader:L1e}),d=h.clone();d.defines.HORIZONTAL_PASS=1;const b=new An;b.setAttribute("position",new In(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const y=new Di(b,h),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=oC;let m=this.type;this.render=function(w,T,k){if(v.enabled===!1||v.autoUpdate===!1&&v.needsUpdate===!1||w.length===0)return;const N=t.getRenderTarget(),D=t.getActiveCubeFace(),P=t.getActiveMipmapLevel(),B=t.state;B.setBlending(qu),B.buffers.depth.getReversed()?B.buffers.color.setClear(0,0,0,0):B.buffers.color.setClear(1,1,1,1),B.buffers.depth.setTest(!0),B.setScissorTest(!1);const G=m!==Fc&&this.type===Fc,H=m===Fc&&this.type!==Fc;for(let V=0,U=w.length;V<U;V++){const F=w[V],q=F.shadow;if(q===void 0){console.warn("THREE.WebGLShadowMap:",F,"has no shadow.");continue}if(q.autoUpdate===!1&&q.needsUpdate===!1)continue;r.copy(q.mapSize);const X=q.getFrameExtents();if(r.multiply(X),a.copy(q.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(a.x=Math.floor(u/X.x),r.x=a.x*X.x,q.mapSize.x=a.x),r.y>u&&(a.y=Math.floor(u/X.y),r.y=a.y*X.y,q.mapSize.y=a.y)),q.map===null||G===!0||H===!0){const oe=this.type!==Fc?{minFilter:Ja,magFilter:Ja}:{};q.map!==null&&q.map.dispose(),q.map=new pc(r.x,r.y,oe),q.map.texture.name=F.name+".shadowMap",q.camera.updateProjectionMatrix()}t.setRenderTarget(q.map),t.clear();const z=q.getViewportCount();for(let oe=0;oe<z;oe++){const fe=q.getViewport(oe);s.set(a.x*fe.x,a.y*fe.y,a.x*fe.z,a.y*fe.w),B.viewport(s),q.updateMatrices(F,oe),i=q.getFrustum(),E(T,k,q.camera,F,this.type)}q.isPointLightShadow!==!0&&this.type===Fc&&x(q,k),q.needsUpdate=!1}m=this.type,v.needsUpdate=!1,t.setRenderTarget(N,D,P)};function x(w,T){const k=e.update(y);h.defines.VSM_SAMPLES!==w.blurSamples&&(h.defines.VSM_SAMPLES=w.blurSamples,d.defines.VSM_SAMPLES=w.blurSamples,h.needsUpdate=!0,d.needsUpdate=!0),w.mapPass===null&&(w.mapPass=new pc(r.x,r.y)),h.uniforms.shadow_pass.value=w.map.texture,h.uniforms.resolution.value=w.mapSize,h.uniforms.radius.value=w.radius,t.setRenderTarget(w.mapPass),t.clear(),t.renderBufferDirect(T,null,k,h,y,null),d.uniforms.shadow_pass.value=w.mapPass.texture,d.uniforms.resolution.value=w.mapSize,d.uniforms.radius.value=w.radius,t.setRenderTarget(w.map),t.clear(),t.renderBufferDirect(T,null,k,d,y,null)}function _(w,T,k,N){let D=null;const P=k.isPointLight===!0?w.customDistanceMaterial:w.customDepthMaterial;if(P!==void 0)D=P;else if(D=k.isPointLight===!0?l:o,t.localClippingEnabled&&T.clipShadows===!0&&Array.isArray(T.clippingPlanes)&&T.clippingPlanes.length!==0||T.displacementMap&&T.displacementScale!==0||T.alphaMap&&T.alphaTest>0||T.map&&T.alphaTest>0||T.alphaToCoverage===!0){const B=D.uuid,G=T.uuid;let H=c[B];H===void 0&&(H={},c[B]=H);let V=H[G];V===void 0&&(V=D.clone(),H[G]=V,T.addEventListener("dispose",A)),D=V}if(D.visible=T.visible,D.wireframe=T.wireframe,N===Fc?D.side=T.shadowSide!==null?T.shadowSide:T.side:D.side=T.shadowSide!==null?T.shadowSide:f[T.side],D.alphaMap=T.alphaMap,D.alphaTest=T.alphaToCoverage===!0?.5:T.alphaTest,D.map=T.map,D.clipShadows=T.clipShadows,D.clippingPlanes=T.clippingPlanes,D.clipIntersection=T.clipIntersection,D.displacementMap=T.displacementMap,D.displacementScale=T.displacementScale,D.displacementBias=T.displacementBias,D.wireframeLinewidth=T.wireframeLinewidth,D.linewidth=T.linewidth,k.isPointLight===!0&&D.isMeshDistanceMaterial===!0){const B=t.properties.get(D);B.light=k}return D}function E(w,T,k,N,D){if(w.visible===!1)return;if(w.layers.test(T.layers)&&(w.isMesh||w.isLine||w.isPoints)&&(w.castShadow||w.receiveShadow&&D===Fc)&&(!w.frustumCulled||i.intersectsObject(w))){w.modelViewMatrix.multiplyMatrices(k.matrixWorldInverse,w.matrixWorld);const G=e.update(w),H=w.material;if(Array.isArray(H)){const V=G.groups;for(let U=0,F=V.length;U<F;U++){const q=V[U],X=H[q.materialIndex];if(X&&X.visible){const z=_(w,X,N,D);w.onBeforeShadow(t,w,T,k,G,z,q),t.renderBufferDirect(k,null,G,z,w,q),w.onAfterShadow(t,w,T,k,G,z,q)}}}else if(H.visible){const V=_(w,H,N,D);w.onBeforeShadow(t,w,T,k,G,V,null),t.renderBufferDirect(k,null,G,V,w,null),w.onAfterShadow(t,w,T,k,G,V,null)}}const B=w.children;for(let G=0,H=B.length;G<H;G++)E(B[G],T,k,N,D)}function A(w){w.target.removeEventListener("dispose",A);for(const k in c){const N=c[k],D=w.target.uuid;D in N&&(N[D].dispose(),delete N[D])}}}const U1e={[GM]:WM,[qM]:YM,[XM]:JM,[Fm]:KM,[WM]:GM,[YM]:qM,[JM]:XM,[KM]:Fm};function F1e(t,e){function n(){let Re=!1;const Fe=new ni;let wt=null;const Wt=new ni(0,0,0,0);return{setMask:function(ut){wt!==ut&&!Re&&(t.colorMask(ut,ut,ut,ut),wt=ut)},setLocked:function(ut){Re=ut},setClear:function(ut,mt,Mt,gn,Gn){Gn===!0&&(ut*=gn,mt*=gn,Mt*=gn),Fe.set(ut,mt,Mt,gn),Wt.equals(Fe)===!1&&(t.clearColor(ut,mt,Mt,gn),Wt.copy(Fe))},reset:function(){Re=!1,wt=null,Wt.set(-1,0,0,0)}}}function i(){let Re=!1,Fe=!1,wt=null,Wt=null,ut=null;return{setReversed:function(mt){if(Fe!==mt){const Mt=e.get("EXT_clip_control");mt?Mt.clipControlEXT(Mt.LOWER_LEFT_EXT,Mt.ZERO_TO_ONE_EXT):Mt.clipControlEXT(Mt.LOWER_LEFT_EXT,Mt.NEGATIVE_ONE_TO_ONE_EXT),Fe=mt;const gn=ut;ut=null,this.setClear(gn)}},getReversed:function(){return Fe},setTest:function(mt){mt?xe(t.DEPTH_TEST):Oe(t.DEPTH_TEST)},setMask:function(mt){wt!==mt&&!Re&&(t.depthMask(mt),wt=mt)},setFunc:function(mt){if(Fe&&(mt=U1e[mt]),Wt!==mt){switch(mt){case GM:t.depthFunc(t.NEVER);break;case WM:t.depthFunc(t.ALWAYS);break;case qM:t.depthFunc(t.LESS);break;case Fm:t.depthFunc(t.LEQUAL);break;case XM:t.depthFunc(t.EQUAL);break;case KM:t.depthFunc(t.GEQUAL);break;case YM:t.depthFunc(t.GREATER);break;case JM:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Wt=mt}},setLocked:function(mt){Re=mt},setClear:function(mt){ut!==mt&&(Fe&&(mt=1-mt),t.clearDepth(mt),ut=mt)},reset:function(){Re=!1,wt=null,Wt=null,ut=null,Fe=!1}}}function r(){let Re=!1,Fe=null,wt=null,Wt=null,ut=null,mt=null,Mt=null,gn=null,Gn=null;return{setTest:function(jn){Re||(jn?xe(t.STENCIL_TEST):Oe(t.STENCIL_TEST))},setMask:function(jn){Fe!==jn&&!Re&&(t.stencilMask(jn),Fe=jn)},setFunc:function(jn,Xi,Wn){(wt!==jn||Wt!==Xi||ut!==Wn)&&(t.stencilFunc(jn,Xi,Wn),wt=jn,Wt=Xi,ut=Wn)},setOp:function(jn,Xi,Wn){(mt!==jn||Mt!==Xi||gn!==Wn)&&(t.stencilOp(jn,Xi,Wn),mt=jn,Mt=Xi,gn=Wn)},setLocked:function(jn){Re=jn},setClear:function(jn){Gn!==jn&&(t.clearStencil(jn),Gn=jn)},reset:function(){Re=!1,Fe=null,wt=null,Wt=null,ut=null,mt=null,Mt=null,gn=null,Gn=null}}}const a=new n,s=new i,o=new r,l=new WeakMap,c=new WeakMap;let u={},f={},h=new WeakMap,d=[],b=null,y=!1,v=null,m=null,x=null,_=null,E=null,A=null,w=null,T=new Ut(0,0,0),k=0,N=!1,D=null,P=null,B=null,G=null,H=null;const V=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let U=!1,F=0;const q=t.getParameter(t.VERSION);q.indexOf("WebGL")!==-1?(F=parseFloat(/^WebGL (\d)/.exec(q)[1]),U=F>=1):q.indexOf("OpenGL ES")!==-1&&(F=parseFloat(/^OpenGL ES (\d)/.exec(q)[1]),U=F>=2);let X=null,z={};const oe=t.getParameter(t.SCISSOR_BOX),fe=t.getParameter(t.VIEWPORT),K=new ni().fromArray(oe),Me=new ni().fromArray(fe);function _e(Re,Fe,wt,Wt){const ut=new Uint8Array(4),mt=t.createTexture();t.bindTexture(Re,mt),t.texParameteri(Re,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(Re,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let Mt=0;Mt<wt;Mt++)Re===t.TEXTURE_3D||Re===t.TEXTURE_2D_ARRAY?t.texImage3D(Fe,0,t.RGBA,1,1,Wt,0,t.RGBA,t.UNSIGNED_BYTE,ut):t.texImage2D(Fe+Mt,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,ut);return mt}const pe={};pe[t.TEXTURE_2D]=_e(t.TEXTURE_2D,t.TEXTURE_2D,1),pe[t.TEXTURE_CUBE_MAP]=_e(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),pe[t.TEXTURE_2D_ARRAY]=_e(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),pe[t.TEXTURE_3D]=_e(t.TEXTURE_3D,t.TEXTURE_3D,1,1),a.setClear(0,0,0,1),s.setClear(1),o.setClear(0),xe(t.DEPTH_TEST),s.setFunc(Fm),ot(!1),Ae(lN),xe(t.CULL_FACE),Ve(qu);function xe(Re){u[Re]!==!0&&(t.enable(Re),u[Re]=!0)}function Oe(Re){u[Re]!==!1&&(t.disable(Re),u[Re]=!1)}function Ge(Re,Fe){return f[Re]!==Fe?(t.bindFramebuffer(Re,Fe),f[Re]=Fe,Re===t.DRAW_FRAMEBUFFER&&(f[t.FRAMEBUFFER]=Fe),Re===t.FRAMEBUFFER&&(f[t.DRAW_FRAMEBUFFER]=Fe),!0):!1}function Ye(Re,Fe){let wt=d,Wt=!1;if(Re){wt=h.get(Fe),wt===void 0&&(wt=[],h.set(Fe,wt));const ut=Re.textures;if(wt.length!==ut.length||wt[0]!==t.COLOR_ATTACHMENT0){for(let mt=0,Mt=ut.length;mt<Mt;mt++)wt[mt]=t.COLOR_ATTACHMENT0+mt;wt.length=ut.length,Wt=!0}}else wt[0]!==t.BACK&&(wt[0]=t.BACK,Wt=!0);Wt&&t.drawBuffers(wt)}function ct(Re){return b!==Re?(t.useProgram(Re),b=Re,!0):!1}const Tt={[hd]:t.FUNC_ADD,[XK]:t.FUNC_SUBTRACT,[KK]:t.FUNC_REVERSE_SUBTRACT};Tt[YK]=t.MIN,Tt[JK]=t.MAX;const he={[$K]:t.ZERO,[ZK]:t.ONE,[QK]:t.SRC_COLOR,[HM]:t.SRC_ALPHA,[aY]:t.SRC_ALPHA_SATURATE,[iY]:t.DST_COLOR,[tY]:t.DST_ALPHA,[eY]:t.ONE_MINUS_SRC_COLOR,[VM]:t.ONE_MINUS_SRC_ALPHA,[rY]:t.ONE_MINUS_DST_COLOR,[nY]:t.ONE_MINUS_DST_ALPHA,[sY]:t.CONSTANT_COLOR,[oY]:t.ONE_MINUS_CONSTANT_COLOR,[lY]:t.CONSTANT_ALPHA,[cY]:t.ONE_MINUS_CONSTANT_ALPHA};function Ve(Re,Fe,wt,Wt,ut,mt,Mt,gn,Gn,jn){if(Re===qu){y===!0&&(Oe(t.BLEND),y=!1);return}if(y===!1&&(xe(t.BLEND),y=!0),Re!==qK){if(Re!==v||jn!==N){if((m!==hd||E!==hd)&&(t.blendEquation(t.FUNC_ADD),m=hd,E=hd),jn)switch(Re){case Mm:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case cN:t.blendFunc(t.ONE,t.ONE);break;case uN:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case fN:t.blendFuncSeparate(t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ZERO,t.ONE);break;default:console.error("THREE.WebGLState: Invalid blending: ",Re);break}else switch(Re){case Mm:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case cN:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE,t.ONE,t.ONE);break;case uN:console.error("THREE.WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case fN:console.error("THREE.WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:console.error("THREE.WebGLState: Invalid blending: ",Re);break}x=null,_=null,A=null,w=null,T.set(0,0,0),k=0,v=Re,N=jn}return}ut=ut||Fe,mt=mt||wt,Mt=Mt||Wt,(Fe!==m||ut!==E)&&(t.blendEquationSeparate(Tt[Fe],Tt[ut]),m=Fe,E=ut),(wt!==x||Wt!==_||mt!==A||Mt!==w)&&(t.blendFuncSeparate(he[wt],he[Wt],he[mt],he[Mt]),x=wt,_=Wt,A=mt,w=Mt),(gn.equals(T)===!1||Gn!==k)&&(t.blendColor(gn.r,gn.g,gn.b,Gn),T.copy(gn),k=Gn),v=Re,N=!1}function Be(Re,Fe){Re.side===oa?Oe(t.CULL_FACE):xe(t.CULL_FACE);let wt=Re.side===Aa;Fe&&(wt=!wt),ot(wt),Re.blending===Mm&&Re.transparent===!1?Ve(qu):Ve(Re.blending,Re.blendEquation,Re.blendSrc,Re.blendDst,Re.blendEquationAlpha,Re.blendSrcAlpha,Re.blendDstAlpha,Re.blendColor,Re.blendAlpha,Re.premultipliedAlpha),s.setFunc(Re.depthFunc),s.setTest(Re.depthTest),s.setMask(Re.depthWrite),a.setMask(Re.colorWrite);const Wt=Re.stencilWrite;o.setTest(Wt),Wt&&(o.setMask(Re.stencilWriteMask),o.setFunc(Re.stencilFunc,Re.stencilRef,Re.stencilFuncMask),o.setOp(Re.stencilFail,Re.stencilZFail,Re.stencilZPass)),Ne(Re.polygonOffset,Re.polygonOffsetFactor,Re.polygonOffsetUnits),Re.alphaToCoverage===!0?xe(t.SAMPLE_ALPHA_TO_COVERAGE):Oe(t.SAMPLE_ALPHA_TO_COVERAGE)}function ot(Re){D!==Re&&(Re?t.frontFace(t.CW):t.frontFace(t.CCW),D=Re)}function Ae(Re){Re!==VK?(xe(t.CULL_FACE),Re!==P&&(Re===lN?t.cullFace(t.BACK):Re===GK?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Oe(t.CULL_FACE),P=Re}function Ue(Re){Re!==B&&(U&&t.lineWidth(Re),B=Re)}function Ne(Re,Fe,wt){Re?(xe(t.POLYGON_OFFSET_FILL),(G!==Fe||H!==wt)&&(t.polygonOffset(Fe,wt),G=Fe,H=wt)):Oe(t.POLYGON_OFFSET_FILL)}function We(Re){Re?xe(t.SCISSOR_TEST):Oe(t.SCISSOR_TEST)}function Et(Re){Re===void 0&&(Re=t.TEXTURE0+V-1),X!==Re&&(t.activeTexture(Re),X=Re)}function vt(Re,Fe,wt){wt===void 0&&(X===null?wt=t.TEXTURE0+V-1:wt=X);let Wt=z[wt];Wt===void 0&&(Wt={type:void 0,texture:void 0},z[wt]=Wt),(Wt.type!==Re||Wt.texture!==Fe)&&(X!==wt&&(t.activeTexture(wt),X=wt),t.bindTexture(Re,Fe||pe[Re]),Wt.type=Re,Wt.texture=Fe)}function re(){const Re=z[X];Re!==void 0&&Re.type!==void 0&&(t.bindTexture(Re.type,null),Re.type=void 0,Re.texture=void 0)}function J(){try{t.compressedTexImage2D(...arguments)}catch(Re){console.error("THREE.WebGLState:",Re)}}function ue(){try{t.compressedTexImage3D(...arguments)}catch(Re){console.error("THREE.WebGLState:",Re)}}function se(){try{t.texSubImage2D(...arguments)}catch(Re){console.error("THREE.WebGLState:",Re)}}function be(){try{t.texSubImage3D(...arguments)}catch(Re){console.error("THREE.WebGLState:",Re)}}function $(){try{t.compressedTexSubImage2D(...arguments)}catch(Re){console.error("THREE.WebGLState:",Re)}}function Ke(){try{t.compressedTexSubImage3D(...arguments)}catch(Re){console.error("THREE.WebGLState:",Re)}}function tt(){try{t.texStorage2D(...arguments)}catch(Re){console.error("THREE.WebGLState:",Re)}}function pt(){try{t.texStorage3D(...arguments)}catch(Re){console.error("THREE.WebGLState:",Re)}}function ze(){try{t.texImage2D(...arguments)}catch(Re){console.error("THREE.WebGLState:",Re)}}function rt(){try{t.texImage3D(...arguments)}catch(Re){console.error("THREE.WebGLState:",Re)}}function $e(Re){K.equals(Re)===!1&&(t.scissor(Re.x,Re.y,Re.z,Re.w),K.copy(Re))}function Xt(Re){Me.equals(Re)===!1&&(t.viewport(Re.x,Re.y,Re.z,Re.w),Me.copy(Re))}function Ot(Re,Fe){let wt=c.get(Fe);wt===void 0&&(wt=new WeakMap,c.set(Fe,wt));let Wt=wt.get(Re);Wt===void 0&&(Wt=t.getUniformBlockIndex(Fe,Re.name),wt.set(Re,Wt))}function ft(Re,Fe){const Wt=c.get(Fe).get(Re);l.get(Fe)!==Wt&&(t.uniformBlockBinding(Fe,Wt,Re.__bindingPointIndex),l.set(Fe,Wt))}function jt(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),s.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),u={},X=null,z={},f={},h=new WeakMap,d=[],b=null,y=!1,v=null,m=null,x=null,_=null,E=null,A=null,w=null,T=new Ut(0,0,0),k=0,N=!1,D=null,P=null,B=null,G=null,H=null,K.set(0,0,t.canvas.width,t.canvas.height),Me.set(0,0,t.canvas.width,t.canvas.height),a.reset(),s.reset(),o.reset()}return{buffers:{color:a,depth:s,stencil:o},enable:xe,disable:Oe,bindFramebuffer:Ge,drawBuffers:Ye,useProgram:ct,setBlending:Ve,setMaterial:Be,setFlipSided:ot,setCullFace:Ae,setLineWidth:Ue,setPolygonOffset:Ne,setScissorTest:We,activeTexture:Et,bindTexture:vt,unbindTexture:re,compressedTexImage2D:J,compressedTexImage3D:ue,texImage2D:ze,texImage3D:rt,updateUBOMapping:Ot,uniformBlockBinding:ft,texStorage2D:tt,texStorage3D:pt,texSubImage2D:se,texSubImage3D:be,compressedTexSubImage2D:$,compressedTexSubImage3D:Ke,scissor:$e,viewport:Xt,reset:jt}}function z1e(t,e,n,i,r,a,s){const o=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new yt,u=new WeakMap;let f;const h=new WeakMap;let d=!1;try{d=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function b(re,J){return d?new OffscreenCanvas(re,J):R1("canvas")}function y(re,J,ue){let se=1;const be=vt(re);if((be.width>ue||be.height>ue)&&(se=ue/Math.max(be.width,be.height)),se<1)if(typeof HTMLImageElement<"u"&&re instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&re instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&re instanceof ImageBitmap||typeof VideoFrame<"u"&&re instanceof VideoFrame){const $=Math.floor(se*be.width),Ke=Math.floor(se*be.height);f===void 0&&(f=b($,Ke));const tt=J?b($,Ke):f;return tt.width=$,tt.height=Ke,tt.getContext("2d").drawImage(re,0,0,$,Ke),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+be.width+"x"+be.height+") to ("+$+"x"+Ke+")."),tt}else return"data"in re&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+be.width+"x"+be.height+")."),re;return re}function v(re){return re.generateMipmaps}function m(re){t.generateMipmap(re)}function x(re){return re.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:re.isWebGL3DRenderTarget?t.TEXTURE_3D:re.isWebGLArrayRenderTarget||re.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function _(re,J,ue,se,be=!1){if(re!==null){if(t[re]!==void 0)return t[re];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+re+"'")}let $=J;if(J===t.RED&&(ue===t.FLOAT&&($=t.R32F),ue===t.HALF_FLOAT&&($=t.R16F),ue===t.UNSIGNED_BYTE&&($=t.R8)),J===t.RED_INTEGER&&(ue===t.UNSIGNED_BYTE&&($=t.R8UI),ue===t.UNSIGNED_SHORT&&($=t.R16UI),ue===t.UNSIGNED_INT&&($=t.R32UI),ue===t.BYTE&&($=t.R8I),ue===t.SHORT&&($=t.R16I),ue===t.INT&&($=t.R32I)),J===t.RG&&(ue===t.FLOAT&&($=t.RG32F),ue===t.HALF_FLOAT&&($=t.RG16F),ue===t.UNSIGNED_BYTE&&($=t.RG8)),J===t.RG_INTEGER&&(ue===t.UNSIGNED_BYTE&&($=t.RG8UI),ue===t.UNSIGNED_SHORT&&($=t.RG16UI),ue===t.UNSIGNED_INT&&($=t.RG32UI),ue===t.BYTE&&($=t.RG8I),ue===t.SHORT&&($=t.RG16I),ue===t.INT&&($=t.RG32I)),J===t.RGB_INTEGER&&(ue===t.UNSIGNED_BYTE&&($=t.RGB8UI),ue===t.UNSIGNED_SHORT&&($=t.RGB16UI),ue===t.UNSIGNED_INT&&($=t.RGB32UI),ue===t.BYTE&&($=t.RGB8I),ue===t.SHORT&&($=t.RGB16I),ue===t.INT&&($=t.RGB32I)),J===t.RGBA_INTEGER&&(ue===t.UNSIGNED_BYTE&&($=t.RGBA8UI),ue===t.UNSIGNED_SHORT&&($=t.RGBA16UI),ue===t.UNSIGNED_INT&&($=t.RGBA32UI),ue===t.BYTE&&($=t.RGBA8I),ue===t.SHORT&&($=t.RGBA16I),ue===t.INT&&($=t.RGBA32I)),J===t.RGB&&ue===t.UNSIGNED_INT_5_9_9_9_REV&&($=t.RGB9_E5),J===t.RGBA){const Ke=be?T1:oi.getTransfer(se);ue===t.FLOAT&&($=t.RGBA32F),ue===t.HALF_FLOAT&&($=t.RGBA16F),ue===t.UNSIGNED_BYTE&&($=Ke===ar?t.SRGB8_ALPHA8:t.RGBA8),ue===t.UNSIGNED_SHORT_4_4_4_4&&($=t.RGBA4),ue===t.UNSIGNED_SHORT_5_5_5_1&&($=t.RGB5_A1)}return($===t.R16F||$===t.R32F||$===t.RG16F||$===t.RG32F||$===t.RGBA16F||$===t.RGBA32F)&&e.get("EXT_color_buffer_float"),$}function E(re,J){let ue;return re?J===null||J===dc||J===q0?ue=t.DEPTH24_STENCIL8:J===yr?ue=t.DEPTH32F_STENCIL8:J===W0&&(ue=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):J===null||J===dc||J===q0?ue=t.DEPTH_COMPONENT24:J===yr?ue=t.DEPTH_COMPONENT32F:J===W0&&(ue=t.DEPTH_COMPONENT16),ue}function A(re,J){return v(re)===!0||re.isFramebufferTexture&&re.minFilter!==Ja&&re.minFilter!==Gi?Math.log2(Math.max(J.width,J.height))+1:re.mipmaps!==void 0&&re.mipmaps.length>0?re.mipmaps.length:re.isCompressedTexture&&Array.isArray(re.image)?J.mipmaps.length:1}function w(re){const J=re.target;J.removeEventListener("dispose",w),k(J),J.isVideoTexture&&u.delete(J)}function T(re){const J=re.target;J.removeEventListener("dispose",T),D(J)}function k(re){const J=i.get(re);if(J.__webglInit===void 0)return;const ue=re.source,se=h.get(ue);if(se){const be=se[J.__cacheKey];be.usedTimes--,be.usedTimes===0&&N(re),Object.keys(se).length===0&&h.delete(ue)}i.remove(re)}function N(re){const J=i.get(re);t.deleteTexture(J.__webglTexture);const ue=re.source,se=h.get(ue);delete se[J.__cacheKey],s.memory.textures--}function D(re){const J=i.get(re);if(re.depthTexture&&(re.depthTexture.dispose(),i.remove(re.depthTexture)),re.isWebGLCubeRenderTarget)for(let se=0;se<6;se++){if(Array.isArray(J.__webglFramebuffer[se]))for(let be=0;be<J.__webglFramebuffer[se].length;be++)t.deleteFramebuffer(J.__webglFramebuffer[se][be]);else t.deleteFramebuffer(J.__webglFramebuffer[se]);J.__webglDepthbuffer&&t.deleteRenderbuffer(J.__webglDepthbuffer[se])}else{if(Array.isArray(J.__webglFramebuffer))for(let se=0;se<J.__webglFramebuffer.length;se++)t.deleteFramebuffer(J.__webglFramebuffer[se]);else t.deleteFramebuffer(J.__webglFramebuffer);if(J.__webglDepthbuffer&&t.deleteRenderbuffer(J.__webglDepthbuffer),J.__webglMultisampledFramebuffer&&t.deleteFramebuffer(J.__webglMultisampledFramebuffer),J.__webglColorRenderbuffer)for(let se=0;se<J.__webglColorRenderbuffer.length;se++)J.__webglColorRenderbuffer[se]&&t.deleteRenderbuffer(J.__webglColorRenderbuffer[se]);J.__webglDepthRenderbuffer&&t.deleteRenderbuffer(J.__webglDepthRenderbuffer)}const ue=re.textures;for(let se=0,be=ue.length;se<be;se++){const $=i.get(ue[se]);$.__webglTexture&&(t.deleteTexture($.__webglTexture),s.memory.textures--),i.remove(ue[se])}i.remove(re)}let P=0;function B(){P=0}function G(){const re=P;return re>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+re+" texture units while this GPU supports only "+r.maxTextures),P+=1,re}function H(re){const J=[];return J.push(re.wrapS),J.push(re.wrapT),J.push(re.wrapR||0),J.push(re.magFilter),J.push(re.minFilter),J.push(re.anisotropy),J.push(re.internalFormat),J.push(re.format),J.push(re.type),J.push(re.generateMipmaps),J.push(re.premultiplyAlpha),J.push(re.flipY),J.push(re.unpackAlignment),J.push(re.colorSpace),J.join()}function V(re,J){const ue=i.get(re);if(re.isVideoTexture&&We(re),re.isRenderTargetTexture===!1&&re.isExternalTexture!==!0&&re.version>0&&ue.__version!==re.version){const se=re.image;if(se===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(se.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{pe(ue,re,J);return}}else re.isExternalTexture&&(ue.__webglTexture=re.sourceTexture?re.sourceTexture:null);n.bindTexture(t.TEXTURE_2D,ue.__webglTexture,t.TEXTURE0+J)}function U(re,J){const ue=i.get(re);if(re.isRenderTargetTexture===!1&&re.version>0&&ue.__version!==re.version){pe(ue,re,J);return}n.bindTexture(t.TEXTURE_2D_ARRAY,ue.__webglTexture,t.TEXTURE0+J)}function F(re,J){const ue=i.get(re);if(re.isRenderTargetTexture===!1&&re.version>0&&ue.__version!==re.version){pe(ue,re,J);return}n.bindTexture(t.TEXTURE_3D,ue.__webglTexture,t.TEXTURE0+J)}function q(re,J){const ue=i.get(re);if(re.version>0&&ue.__version!==re.version){xe(ue,re,J);return}n.bindTexture(t.TEXTURE_CUBE_MAP,ue.__webglTexture,t.TEXTURE0+J)}const X={[Fd]:t.REPEAT,[pa]:t.CLAMP_TO_EDGE,[G0]:t.MIRRORED_REPEAT},z={[Ja]:t.NEAREST,[lC]:t.NEAREST_MIPMAP_NEAREST,[im]:t.NEAREST_MIPMAP_LINEAR,[Gi]:t.LINEAR,[d0]:t.LINEAR_MIPMAP_NEAREST,[rc]:t.LINEAR_MIPMAP_LINEAR},oe={[MY]:t.NEVER,[DY]:t.ALWAYS,[AY]:t.LESS,[YL]:t.LEQUAL,[TY]:t.EQUAL,[kY]:t.GEQUAL,[CY]:t.GREATER,[RY]:t.NOTEQUAL};function fe(re,J){if(J.type===yr&&e.has("OES_texture_float_linear")===!1&&(J.magFilter===Gi||J.magFilter===d0||J.magFilter===im||J.magFilter===rc||J.minFilter===Gi||J.minFilter===d0||J.minFilter===im||J.minFilter===rc)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(re,t.TEXTURE_WRAP_S,X[J.wrapS]),t.texParameteri(re,t.TEXTURE_WRAP_T,X[J.wrapT]),(re===t.TEXTURE_3D||re===t.TEXTURE_2D_ARRAY)&&t.texParameteri(re,t.TEXTURE_WRAP_R,X[J.wrapR]),t.texParameteri(re,t.TEXTURE_MAG_FILTER,z[J.magFilter]),t.texParameteri(re,t.TEXTURE_MIN_FILTER,z[J.minFilter]),J.compareFunction&&(t.texParameteri(re,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(re,t.TEXTURE_COMPARE_FUNC,oe[J.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(J.magFilter===Ja||J.minFilter!==im&&J.minFilter!==rc||J.type===yr&&e.has("OES_texture_float_linear")===!1)return;if(J.anisotropy>1||i.get(J).__currentAnisotropy){const ue=e.get("EXT_texture_filter_anisotropic");t.texParameterf(re,ue.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(J.anisotropy,r.getMaxAnisotropy())),i.get(J).__currentAnisotropy=J.anisotropy}}}function K(re,J){let ue=!1;re.__webglInit===void 0&&(re.__webglInit=!0,J.addEventListener("dispose",w));const se=J.source;let be=h.get(se);be===void 0&&(be={},h.set(se,be));const $=H(J);if($!==re.__cacheKey){be[$]===void 0&&(be[$]={texture:t.createTexture(),usedTimes:0},s.memory.textures++,ue=!0),be[$].usedTimes++;const Ke=be[re.__cacheKey];Ke!==void 0&&(be[re.__cacheKey].usedTimes--,Ke.usedTimes===0&&N(J)),re.__cacheKey=$,re.__webglTexture=be[$].texture}return ue}function Me(re,J,ue){return Math.floor(Math.floor(re/ue)/J)}function _e(re,J,ue,se){const $=re.updateRanges;if($.length===0)n.texSubImage2D(t.TEXTURE_2D,0,0,0,J.width,J.height,ue,se,J.data);else{$.sort((rt,$e)=>rt.start-$e.start);let Ke=0;for(let rt=1;rt<$.length;rt++){const $e=$[Ke],Xt=$[rt],Ot=$e.start+$e.count,ft=Me(Xt.start,J.width,4),jt=Me($e.start,J.width,4);Xt.start<=Ot+1&&ft===jt&&Me(Xt.start+Xt.count-1,J.width,4)===ft?$e.count=Math.max($e.count,Xt.start+Xt.count-$e.start):(++Ke,$[Ke]=Xt)}$.length=Ke+1;const tt=t.getParameter(t.UNPACK_ROW_LENGTH),pt=t.getParameter(t.UNPACK_SKIP_PIXELS),ze=t.getParameter(t.UNPACK_SKIP_ROWS);t.pixelStorei(t.UNPACK_ROW_LENGTH,J.width);for(let rt=0,$e=$.length;rt<$e;rt++){const Xt=$[rt],Ot=Math.floor(Xt.start/4),ft=Math.ceil(Xt.count/4),jt=Ot%J.width,Re=Math.floor(Ot/J.width),Fe=ft,wt=1;t.pixelStorei(t.UNPACK_SKIP_PIXELS,jt),t.pixelStorei(t.UNPACK_SKIP_ROWS,Re),n.texSubImage2D(t.TEXTURE_2D,0,jt,Re,Fe,wt,ue,se,J.data)}re.clearUpdateRanges(),t.pixelStorei(t.UNPACK_ROW_LENGTH,tt),t.pixelStorei(t.UNPACK_SKIP_PIXELS,pt),t.pixelStorei(t.UNPACK_SKIP_ROWS,ze)}}function pe(re,J,ue){let se=t.TEXTURE_2D;(J.isDataArrayTexture||J.isCompressedArrayTexture)&&(se=t.TEXTURE_2D_ARRAY),J.isData3DTexture&&(se=t.TEXTURE_3D);const be=K(re,J),$=J.source;n.bindTexture(se,re.__webglTexture,t.TEXTURE0+ue);const Ke=i.get($);if($.version!==Ke.__version||be===!0){n.activeTexture(t.TEXTURE0+ue);const tt=oi.getPrimaries(oi.workingColorSpace),pt=J.colorSpace===qc?null:oi.getPrimaries(J.colorSpace),ze=J.colorSpace===qc||tt===pt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,J.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,J.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,J.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,ze);let rt=y(J.image,!1,r.maxTextureSize);rt=Et(J,rt);const $e=a.convert(J.format,J.colorSpace),Xt=a.convert(J.type);let Ot=_(J.internalFormat,$e,Xt,J.colorSpace,J.isVideoTexture);fe(se,J);let ft;const jt=J.mipmaps,Re=J.isVideoTexture!==!0,Fe=Ke.__version===void 0||be===!0,wt=$.dataReady,Wt=A(J,rt);if(J.isDepthTexture)Ot=E(J.format===K0,J.type),Fe&&(Re?n.texStorage2D(t.TEXTURE_2D,1,Ot,rt.width,rt.height):n.texImage2D(t.TEXTURE_2D,0,Ot,rt.width,rt.height,0,$e,Xt,null));else if(J.isDataTexture)if(jt.length>0){Re&&Fe&&n.texStorage2D(t.TEXTURE_2D,Wt,Ot,jt[0].width,jt[0].height);for(let ut=0,mt=jt.length;ut<mt;ut++)ft=jt[ut],Re?wt&&n.texSubImage2D(t.TEXTURE_2D,ut,0,0,ft.width,ft.height,$e,Xt,ft.data):n.texImage2D(t.TEXTURE_2D,ut,Ot,ft.width,ft.height,0,$e,Xt,ft.data);J.generateMipmaps=!1}else Re?(Fe&&n.texStorage2D(t.TEXTURE_2D,Wt,Ot,rt.width,rt.height),wt&&_e(J,rt,$e,Xt)):n.texImage2D(t.TEXTURE_2D,0,Ot,rt.width,rt.height,0,$e,Xt,rt.data);else if(J.isCompressedTexture)if(J.isCompressedArrayTexture){Re&&Fe&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Wt,Ot,jt[0].width,jt[0].height,rt.depth);for(let ut=0,mt=jt.length;ut<mt;ut++)if(ft=jt[ut],J.format!==Yr)if($e!==null)if(Re){if(wt)if(J.layerUpdates.size>0){const Mt=xN(ft.width,ft.height,J.format,J.type);for(const gn of J.layerUpdates){const Gn=ft.data.subarray(gn*Mt/ft.data.BYTES_PER_ELEMENT,(gn+1)*Mt/ft.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,ut,0,0,gn,ft.width,ft.height,1,$e,Gn)}J.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,ut,0,0,0,ft.width,ft.height,rt.depth,$e,ft.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,ut,Ot,ft.width,ft.height,rt.depth,0,ft.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Re?wt&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,ut,0,0,0,ft.width,ft.height,rt.depth,$e,Xt,ft.data):n.texImage3D(t.TEXTURE_2D_ARRAY,ut,Ot,ft.width,ft.height,rt.depth,0,$e,Xt,ft.data)}else{Re&&Fe&&n.texStorage2D(t.TEXTURE_2D,Wt,Ot,jt[0].width,jt[0].height);for(let ut=0,mt=jt.length;ut<mt;ut++)ft=jt[ut],J.format!==Yr?$e!==null?Re?wt&&n.compressedTexSubImage2D(t.TEXTURE_2D,ut,0,0,ft.width,ft.height,$e,ft.data):n.compressedTexImage2D(t.TEXTURE_2D,ut,Ot,ft.width,ft.height,0,ft.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Re?wt&&n.texSubImage2D(t.TEXTURE_2D,ut,0,0,ft.width,ft.height,$e,Xt,ft.data):n.texImage2D(t.TEXTURE_2D,ut,Ot,ft.width,ft.height,0,$e,Xt,ft.data)}else if(J.isDataArrayTexture)if(Re){if(Fe&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Wt,Ot,rt.width,rt.height,rt.depth),wt)if(J.layerUpdates.size>0){const ut=xN(rt.width,rt.height,J.format,J.type);for(const mt of J.layerUpdates){const Mt=rt.data.subarray(mt*ut/rt.data.BYTES_PER_ELEMENT,(mt+1)*ut/rt.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,mt,rt.width,rt.height,1,$e,Xt,Mt)}J.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,rt.width,rt.height,rt.depth,$e,Xt,rt.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,Ot,rt.width,rt.height,rt.depth,0,$e,Xt,rt.data);else if(J.isData3DTexture)Re?(Fe&&n.texStorage3D(t.TEXTURE_3D,Wt,Ot,rt.width,rt.height,rt.depth),wt&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,rt.width,rt.height,rt.depth,$e,Xt,rt.data)):n.texImage3D(t.TEXTURE_3D,0,Ot,rt.width,rt.height,rt.depth,0,$e,Xt,rt.data);else if(J.isFramebufferTexture){if(Fe)if(Re)n.texStorage2D(t.TEXTURE_2D,Wt,Ot,rt.width,rt.height);else{let ut=rt.width,mt=rt.height;for(let Mt=0;Mt<Wt;Mt++)n.texImage2D(t.TEXTURE_2D,Mt,Ot,ut,mt,0,$e,Xt,null),ut>>=1,mt>>=1}}else if(jt.length>0){if(Re&&Fe){const ut=vt(jt[0]);n.texStorage2D(t.TEXTURE_2D,Wt,Ot,ut.width,ut.height)}for(let ut=0,mt=jt.length;ut<mt;ut++)ft=jt[ut],Re?wt&&n.texSubImage2D(t.TEXTURE_2D,ut,0,0,$e,Xt,ft):n.texImage2D(t.TEXTURE_2D,ut,Ot,$e,Xt,ft);J.generateMipmaps=!1}else if(Re){if(Fe){const ut=vt(rt);n.texStorage2D(t.TEXTURE_2D,Wt,Ot,ut.width,ut.height)}wt&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,$e,Xt,rt)}else n.texImage2D(t.TEXTURE_2D,0,Ot,$e,Xt,rt);v(J)&&m(se),Ke.__version=$.version,J.onUpdate&&J.onUpdate(J)}re.__version=J.version}function xe(re,J,ue){if(J.image.length!==6)return;const se=K(re,J),be=J.source;n.bindTexture(t.TEXTURE_CUBE_MAP,re.__webglTexture,t.TEXTURE0+ue);const $=i.get(be);if(be.version!==$.__version||se===!0){n.activeTexture(t.TEXTURE0+ue);const Ke=oi.getPrimaries(oi.workingColorSpace),tt=J.colorSpace===qc?null:oi.getPrimaries(J.colorSpace),pt=J.colorSpace===qc||Ke===tt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,J.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,J.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,J.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,pt);const ze=J.isCompressedTexture||J.image[0].isCompressedTexture,rt=J.image[0]&&J.image[0].isDataTexture,$e=[];for(let mt=0;mt<6;mt++)!ze&&!rt?$e[mt]=y(J.image[mt],!0,r.maxCubemapSize):$e[mt]=rt?J.image[mt].image:J.image[mt],$e[mt]=Et(J,$e[mt]);const Xt=$e[0],Ot=a.convert(J.format,J.colorSpace),ft=a.convert(J.type),jt=_(J.internalFormat,Ot,ft,J.colorSpace),Re=J.isVideoTexture!==!0,Fe=$.__version===void 0||se===!0,wt=be.dataReady;let Wt=A(J,Xt);fe(t.TEXTURE_CUBE_MAP,J);let ut;if(ze){Re&&Fe&&n.texStorage2D(t.TEXTURE_CUBE_MAP,Wt,jt,Xt.width,Xt.height);for(let mt=0;mt<6;mt++){ut=$e[mt].mipmaps;for(let Mt=0;Mt<ut.length;Mt++){const gn=ut[Mt];J.format!==Yr?Ot!==null?Re?wt&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+mt,Mt,0,0,gn.width,gn.height,Ot,gn.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+mt,Mt,jt,gn.width,gn.height,0,gn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Re?wt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+mt,Mt,0,0,gn.width,gn.height,Ot,ft,gn.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+mt,Mt,jt,gn.width,gn.height,0,Ot,ft,gn.data)}}}else{if(ut=J.mipmaps,Re&&Fe){ut.length>0&&Wt++;const mt=vt($e[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,Wt,jt,mt.width,mt.height)}for(let mt=0;mt<6;mt++)if(rt){Re?wt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+mt,0,0,0,$e[mt].width,$e[mt].height,Ot,ft,$e[mt].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+mt,0,jt,$e[mt].width,$e[mt].height,0,Ot,ft,$e[mt].data);for(let Mt=0;Mt<ut.length;Mt++){const Gn=ut[Mt].image[mt].image;Re?wt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+mt,Mt+1,0,0,Gn.width,Gn.height,Ot,ft,Gn.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+mt,Mt+1,jt,Gn.width,Gn.height,0,Ot,ft,Gn.data)}}else{Re?wt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+mt,0,0,0,Ot,ft,$e[mt]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+mt,0,jt,Ot,ft,$e[mt]);for(let Mt=0;Mt<ut.length;Mt++){const gn=ut[Mt];Re?wt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+mt,Mt+1,0,0,Ot,ft,gn.image[mt]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+mt,Mt+1,jt,Ot,ft,gn.image[mt])}}}v(J)&&m(t.TEXTURE_CUBE_MAP),$.__version=be.version,J.onUpdate&&J.onUpdate(J)}re.__version=J.version}function Oe(re,J,ue,se,be,$){const Ke=a.convert(ue.format,ue.colorSpace),tt=a.convert(ue.type),pt=_(ue.internalFormat,Ke,tt,ue.colorSpace),ze=i.get(J),rt=i.get(ue);if(rt.__renderTarget=J,!ze.__hasExternalTextures){const $e=Math.max(1,J.width>>$),Xt=Math.max(1,J.height>>$);be===t.TEXTURE_3D||be===t.TEXTURE_2D_ARRAY?n.texImage3D(be,$,pt,$e,Xt,J.depth,0,Ke,tt,null):n.texImage2D(be,$,pt,$e,Xt,0,Ke,tt,null)}n.bindFramebuffer(t.FRAMEBUFFER,re),Ne(J)?o.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,se,be,rt.__webglTexture,0,Ue(J)):(be===t.TEXTURE_2D||be>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&be<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,se,be,rt.__webglTexture,$),n.bindFramebuffer(t.FRAMEBUFFER,null)}function Ge(re,J,ue){if(t.bindRenderbuffer(t.RENDERBUFFER,re),J.depthBuffer){const se=J.depthTexture,be=se&&se.isDepthTexture?se.type:null,$=E(J.stencilBuffer,be),Ke=J.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,tt=Ue(J);Ne(J)?o.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,tt,$,J.width,J.height):ue?t.renderbufferStorageMultisample(t.RENDERBUFFER,tt,$,J.width,J.height):t.renderbufferStorage(t.RENDERBUFFER,$,J.width,J.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,Ke,t.RENDERBUFFER,re)}else{const se=J.textures;for(let be=0;be<se.length;be++){const $=se[be],Ke=a.convert($.format,$.colorSpace),tt=a.convert($.type),pt=_($.internalFormat,Ke,tt,$.colorSpace),ze=Ue(J);ue&&Ne(J)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,ze,pt,J.width,J.height):Ne(J)?o.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ze,pt,J.width,J.height):t.renderbufferStorage(t.RENDERBUFFER,pt,J.width,J.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Ye(re,J){if(J&&J.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,re),!(J.depthTexture&&J.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const se=i.get(J.depthTexture);se.__renderTarget=J,(!se.__webglTexture||J.depthTexture.image.width!==J.width||J.depthTexture.image.height!==J.height)&&(J.depthTexture.image.width=J.width,J.depthTexture.image.height=J.height,J.depthTexture.needsUpdate=!0),V(J.depthTexture,0);const be=se.__webglTexture,$=Ue(J);if(J.depthTexture.format===X0)Ne(J)?o.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,be,0,$):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,be,0);else if(J.depthTexture.format===K0)Ne(J)?o.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,be,0,$):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,be,0);else throw new Error("Unknown depthTexture format")}function ct(re){const J=i.get(re),ue=re.isWebGLCubeRenderTarget===!0;if(J.__boundDepthTexture!==re.depthTexture){const se=re.depthTexture;if(J.__depthDisposeCallback&&J.__depthDisposeCallback(),se){const be=()=>{delete J.__boundDepthTexture,delete J.__depthDisposeCallback,se.removeEventListener("dispose",be)};se.addEventListener("dispose",be),J.__depthDisposeCallback=be}J.__boundDepthTexture=se}if(re.depthTexture&&!J.__autoAllocateDepthBuffer){if(ue)throw new Error("target.depthTexture not supported in Cube render targets");const se=re.texture.mipmaps;se&&se.length>0?Ye(J.__webglFramebuffer[0],re):Ye(J.__webglFramebuffer,re)}else if(ue){J.__webglDepthbuffer=[];for(let se=0;se<6;se++)if(n.bindFramebuffer(t.FRAMEBUFFER,J.__webglFramebuffer[se]),J.__webglDepthbuffer[se]===void 0)J.__webglDepthbuffer[se]=t.createRenderbuffer(),Ge(J.__webglDepthbuffer[se],re,!1);else{const be=re.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,$=J.__webglDepthbuffer[se];t.bindRenderbuffer(t.RENDERBUFFER,$),t.framebufferRenderbuffer(t.FRAMEBUFFER,be,t.RENDERBUFFER,$)}}else{const se=re.texture.mipmaps;if(se&&se.length>0?n.bindFramebuffer(t.FRAMEBUFFER,J.__webglFramebuffer[0]):n.bindFramebuffer(t.FRAMEBUFFER,J.__webglFramebuffer),J.__webglDepthbuffer===void 0)J.__webglDepthbuffer=t.createRenderbuffer(),Ge(J.__webglDepthbuffer,re,!1);else{const be=re.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,$=J.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,$),t.framebufferRenderbuffer(t.FRAMEBUFFER,be,t.RENDERBUFFER,$)}}n.bindFramebuffer(t.FRAMEBUFFER,null)}function Tt(re,J,ue){const se=i.get(re);J!==void 0&&Oe(se.__webglFramebuffer,re,re.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),ue!==void 0&&ct(re)}function he(re){const J=re.texture,ue=i.get(re),se=i.get(J);re.addEventListener("dispose",T);const be=re.textures,$=re.isWebGLCubeRenderTarget===!0,Ke=be.length>1;if(Ke||(se.__webglTexture===void 0&&(se.__webglTexture=t.createTexture()),se.__version=J.version,s.memory.textures++),$){ue.__webglFramebuffer=[];for(let tt=0;tt<6;tt++)if(J.mipmaps&&J.mipmaps.length>0){ue.__webglFramebuffer[tt]=[];for(let pt=0;pt<J.mipmaps.length;pt++)ue.__webglFramebuffer[tt][pt]=t.createFramebuffer()}else ue.__webglFramebuffer[tt]=t.createFramebuffer()}else{if(J.mipmaps&&J.mipmaps.length>0){ue.__webglFramebuffer=[];for(let tt=0;tt<J.mipmaps.length;tt++)ue.__webglFramebuffer[tt]=t.createFramebuffer()}else ue.__webglFramebuffer=t.createFramebuffer();if(Ke)for(let tt=0,pt=be.length;tt<pt;tt++){const ze=i.get(be[tt]);ze.__webglTexture===void 0&&(ze.__webglTexture=t.createTexture(),s.memory.textures++)}if(re.samples>0&&Ne(re)===!1){ue.__webglMultisampledFramebuffer=t.createFramebuffer(),ue.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,ue.__webglMultisampledFramebuffer);for(let tt=0;tt<be.length;tt++){const pt=be[tt];ue.__webglColorRenderbuffer[tt]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,ue.__webglColorRenderbuffer[tt]);const ze=a.convert(pt.format,pt.colorSpace),rt=a.convert(pt.type),$e=_(pt.internalFormat,ze,rt,pt.colorSpace,re.isXRRenderTarget===!0),Xt=Ue(re);t.renderbufferStorageMultisample(t.RENDERBUFFER,Xt,$e,re.width,re.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+tt,t.RENDERBUFFER,ue.__webglColorRenderbuffer[tt])}t.bindRenderbuffer(t.RENDERBUFFER,null),re.depthBuffer&&(ue.__webglDepthRenderbuffer=t.createRenderbuffer(),Ge(ue.__webglDepthRenderbuffer,re,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if($){n.bindTexture(t.TEXTURE_CUBE_MAP,se.__webglTexture),fe(t.TEXTURE_CUBE_MAP,J);for(let tt=0;tt<6;tt++)if(J.mipmaps&&J.mipmaps.length>0)for(let pt=0;pt<J.mipmaps.length;pt++)Oe(ue.__webglFramebuffer[tt][pt],re,J,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+tt,pt);else Oe(ue.__webglFramebuffer[tt],re,J,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+tt,0);v(J)&&m(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Ke){for(let tt=0,pt=be.length;tt<pt;tt++){const ze=be[tt],rt=i.get(ze);let $e=t.TEXTURE_2D;(re.isWebGL3DRenderTarget||re.isWebGLArrayRenderTarget)&&($e=re.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture($e,rt.__webglTexture),fe($e,ze),Oe(ue.__webglFramebuffer,re,ze,t.COLOR_ATTACHMENT0+tt,$e,0),v(ze)&&m($e)}n.unbindTexture()}else{let tt=t.TEXTURE_2D;if((re.isWebGL3DRenderTarget||re.isWebGLArrayRenderTarget)&&(tt=re.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(tt,se.__webglTexture),fe(tt,J),J.mipmaps&&J.mipmaps.length>0)for(let pt=0;pt<J.mipmaps.length;pt++)Oe(ue.__webglFramebuffer[pt],re,J,t.COLOR_ATTACHMENT0,tt,pt);else Oe(ue.__webglFramebuffer,re,J,t.COLOR_ATTACHMENT0,tt,0);v(J)&&m(tt),n.unbindTexture()}re.depthBuffer&&ct(re)}function Ve(re){const J=re.textures;for(let ue=0,se=J.length;ue<se;ue++){const be=J[ue];if(v(be)){const $=x(re),Ke=i.get(be).__webglTexture;n.bindTexture($,Ke),m($),n.unbindTexture()}}}const Be=[],ot=[];function Ae(re){if(re.samples>0){if(Ne(re)===!1){const J=re.textures,ue=re.width,se=re.height;let be=t.COLOR_BUFFER_BIT;const $=re.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Ke=i.get(re),tt=J.length>1;if(tt)for(let ze=0;ze<J.length;ze++)n.bindFramebuffer(t.FRAMEBUFFER,Ke.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ze,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Ke.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+ze,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Ke.__webglMultisampledFramebuffer);const pt=re.texture.mipmaps;pt&&pt.length>0?n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Ke.__webglFramebuffer[0]):n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Ke.__webglFramebuffer);for(let ze=0;ze<J.length;ze++){if(re.resolveDepthBuffer&&(re.depthBuffer&&(be|=t.DEPTH_BUFFER_BIT),re.stencilBuffer&&re.resolveStencilBuffer&&(be|=t.STENCIL_BUFFER_BIT)),tt){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Ke.__webglColorRenderbuffer[ze]);const rt=i.get(J[ze]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,rt,0)}t.blitFramebuffer(0,0,ue,se,0,0,ue,se,be,t.NEAREST),l===!0&&(Be.length=0,ot.length=0,Be.push(t.COLOR_ATTACHMENT0+ze),re.depthBuffer&&re.resolveDepthBuffer===!1&&(Be.push($),ot.push($),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,ot)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Be))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),tt)for(let ze=0;ze<J.length;ze++){n.bindFramebuffer(t.FRAMEBUFFER,Ke.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ze,t.RENDERBUFFER,Ke.__webglColorRenderbuffer[ze]);const rt=i.get(J[ze]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Ke.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+ze,t.TEXTURE_2D,rt,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Ke.__webglMultisampledFramebuffer)}else if(re.depthBuffer&&re.resolveDepthBuffer===!1&&l){const J=re.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[J])}}}function Ue(re){return Math.min(r.maxSamples,re.samples)}function Ne(re){const J=i.get(re);return re.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&J.__useRenderToTexture!==!1}function We(re){const J=s.render.frame;u.get(re)!==J&&(u.set(re,J),re.update())}function Et(re,J){const ue=re.colorSpace,se=re.format,be=re.type;return re.isCompressedTexture===!0||re.isVideoTexture===!0||ue!==lu&&ue!==qc&&(oi.getTransfer(ue)===ar?(se!==Yr||be!==ho)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ue)),J}function vt(re){return typeof HTMLImageElement<"u"&&re instanceof HTMLImageElement?(c.width=re.naturalWidth||re.width,c.height=re.naturalHeight||re.height):typeof VideoFrame<"u"&&re instanceof VideoFrame?(c.width=re.displayWidth,c.height=re.displayHeight):(c.width=re.width,c.height=re.height),c}this.allocateTextureUnit=G,this.resetTextureUnits=B,this.setTexture2D=V,this.setTexture2DArray=U,this.setTexture3D=F,this.setTextureCube=q,this.rebindTextures=Tt,this.setupRenderTarget=he,this.updateRenderTargetMipmap=Ve,this.updateMultisampleRenderTarget=Ae,this.setupDepthRenderbuffer=ct,this.setupFrameBufferTexture=Oe,this.useMultisampledRTT=Ne}function RP(t,e){function n(i,r=qc){let a;const s=oi.getTransfer(r);if(i===ho)return t.UNSIGNED_BYTE;if(i===fC)return t.UNSIGNED_SHORT_4_4_4_4;if(i===hC)return t.UNSIGNED_SHORT_5_5_5_1;if(i===VL)return t.UNSIGNED_INT_5_9_9_9_REV;if(i===cC)return t.BYTE;if(i===uC)return t.SHORT;if(i===W0)return t.UNSIGNED_SHORT;if(i===Oy)return t.INT;if(i===dc)return t.UNSIGNED_INT;if(i===yr)return t.FLOAT;if(i===Ka)return t.HALF_FLOAT;if(i===GL)return t.ALPHA;if(i===WL)return t.RGB;if(i===Yr)return t.RGBA;if(i===X0)return t.DEPTH_COMPONENT;if(i===K0)return t.DEPTH_STENCIL;if(i===yh)return t.RED;if(i===Ly)return t.RED_INTEGER;if(i===dC)return t.RG;if(i===__)return t.RG_INTEGER;if(i===Py)return t.RGBA_INTEGER;if(i===Bx||i===Hx||i===Vx||i===Gx)if(s===ar)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(i===Bx)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===Hx)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===Vx)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===Gx)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(i===Bx)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===Hx)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===Vx)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===Gx)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===$M||i===ZM||i===QM||i===eA)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(i===$M)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===ZM)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===QM)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===eA)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===tA||i===nA||i===iA)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(i===tA||i===nA)return s===ar?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(i===iA)return s===ar?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===rA||i===aA||i===sA||i===oA||i===lA||i===cA||i===uA||i===fA||i===hA||i===dA||i===pA||i===mA||i===gA||i===bA)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(i===rA)return s===ar?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===aA)return s===ar?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===sA)return s===ar?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===oA)return s===ar?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===lA)return s===ar?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===cA)return s===ar?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===uA)return s===ar?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===fA)return s===ar?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===hA)return s===ar?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===dA)return s===ar?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===pA)return s===ar?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===mA)return s===ar?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===gA)return s===ar?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===bA)return s===ar?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===Wx||i===yA||i===vA)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(i===Wx)return s===ar?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===yA)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===vA)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===qL||i===xA||i===_A||i===SA)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(i===Wx)return a.COMPRESSED_RED_RGTC1_EXT;if(i===xA)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===_A)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===SA)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===q0?t.UNSIGNED_INT_24_8:t[i]!==void 0?t[i]:null}return{convert:n}}class IJ extends er{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}}const j1e=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,B1e=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class H1e{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n){if(this.texture===null){const i=new IJ(e.texture);(e.depthNear!==n.depthNear||e.depthFar!==n.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,i=new Za({vertexShader:j1e,fragmentShader:B1e,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new Di(new Xd(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class V1e extends sf{constructor(e,n){super();const i=this;let r=null,a=1,s=null,o="local-floor",l=1,c=null,u=null,f=null,h=null,d=null,b=null;const y=new H1e,v={},m=n.getContextAttributes();let x=null,_=null;const E=[],A=[],w=new yt;let T=null;const k=new Xr;k.viewport=new ni;const N=new Xr;N.viewport=new ni;const D=[k,N],P=new vJ;let B=null,G=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(_e){let pe=E[_e];return pe===void 0&&(pe=new VE,E[_e]=pe),pe.getTargetRaySpace()},this.getControllerGrip=function(_e){let pe=E[_e];return pe===void 0&&(pe=new VE,E[_e]=pe),pe.getGripSpace()},this.getHand=function(_e){let pe=E[_e];return pe===void 0&&(pe=new VE,E[_e]=pe),pe.getHandSpace()};function H(_e){const pe=A.indexOf(_e.inputSource);if(pe===-1)return;const xe=E[pe];xe!==void 0&&(xe.update(_e.inputSource,_e.frame,c||s),xe.dispatchEvent({type:_e.type,data:_e.inputSource}))}function V(){r.removeEventListener("select",H),r.removeEventListener("selectstart",H),r.removeEventListener("selectend",H),r.removeEventListener("squeeze",H),r.removeEventListener("squeezestart",H),r.removeEventListener("squeezeend",H),r.removeEventListener("end",V),r.removeEventListener("inputsourceschange",U);for(let _e=0;_e<E.length;_e++){const pe=A[_e];pe!==null&&(A[_e]=null,E[_e].disconnect(pe))}B=null,G=null,y.reset();for(const _e in v)delete v[_e];e.setRenderTarget(x),d=null,h=null,f=null,r=null,_=null,Me.stop(),i.isPresenting=!1,e.setPixelRatio(T),e.setSize(w.width,w.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(_e){a=_e,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(_e){o=_e,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||s},this.setReferenceSpace=function(_e){c=_e},this.getBaseLayer=function(){return h!==null?h:d},this.getBinding=function(){return f},this.getFrame=function(){return b},this.getSession=function(){return r},this.setSession=async function(_e){if(r=_e,r!==null){if(x=e.getRenderTarget(),r.addEventListener("select",H),r.addEventListener("selectstart",H),r.addEventListener("selectend",H),r.addEventListener("squeeze",H),r.addEventListener("squeezestart",H),r.addEventListener("squeezeend",H),r.addEventListener("end",V),r.addEventListener("inputsourceschange",U),m.xrCompatible!==!0&&await n.makeXRCompatible(),T=e.getPixelRatio(),e.getSize(w),typeof XRWebGLBinding<"u"&&(f=new XRWebGLBinding(r,n)),f!==null&&"createProjectionLayer"in XRWebGLBinding.prototype){let xe=null,Oe=null,Ge=null;m.depth&&(Ge=m.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,xe=m.stencil?K0:X0,Oe=m.stencil?q0:dc);const Ye={colorFormat:n.RGBA8,depthFormat:Ge,scaleFactor:a};h=f.createProjectionLayer(Ye),r.updateRenderState({layers:[h]}),e.setPixelRatio(1),e.setSize(h.textureWidth,h.textureHeight,!1),_=new pc(h.textureWidth,h.textureHeight,{format:Yr,type:ho,depthTexture:new rP(h.textureWidth,h.textureHeight,Oe,void 0,void 0,void 0,void 0,void 0,void 0,xe),stencilBuffer:m.stencil,colorSpace:e.outputColorSpace,samples:m.antialias?4:0,resolveDepthBuffer:h.ignoreDepthValues===!1,resolveStencilBuffer:h.ignoreDepthValues===!1})}else{const xe={antialias:m.antialias,alpha:!0,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:a};d=new XRWebGLLayer(r,n,xe),r.updateRenderState({baseLayer:d}),e.setPixelRatio(1),e.setSize(d.framebufferWidth,d.framebufferHeight,!1),_=new pc(d.framebufferWidth,d.framebufferHeight,{format:Yr,type:ho,colorSpace:e.outputColorSpace,stencilBuffer:m.stencil,resolveDepthBuffer:d.ignoreDepthValues===!1,resolveStencilBuffer:d.ignoreDepthValues===!1})}_.isXRRenderTarget=!0,this.setFoveation(l),c=null,s=await r.requestReferenceSpace(o),Me.setContext(r),Me.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return y.getDepthTexture()};function U(_e){for(let pe=0;pe<_e.removed.length;pe++){const xe=_e.removed[pe],Oe=A.indexOf(xe);Oe>=0&&(A[Oe]=null,E[Oe].disconnect(xe))}for(let pe=0;pe<_e.added.length;pe++){const xe=_e.added[pe];let Oe=A.indexOf(xe);if(Oe===-1){for(let Ye=0;Ye<E.length;Ye++)if(Ye>=A.length){A.push(xe),Oe=Ye;break}else if(A[Ye]===null){A[Ye]=xe,Oe=Ye;break}if(Oe===-1)break}const Ge=E[Oe];Ge&&Ge.connect(xe)}}const F=new Q,q=new Q;function X(_e,pe,xe){F.setFromMatrixPosition(pe.matrixWorld),q.setFromMatrixPosition(xe.matrixWorld);const Oe=F.distanceTo(q),Ge=pe.projectionMatrix.elements,Ye=xe.projectionMatrix.elements,ct=Ge[14]/(Ge[10]-1),Tt=Ge[14]/(Ge[10]+1),he=(Ge[9]+1)/Ge[5],Ve=(Ge[9]-1)/Ge[5],Be=(Ge[8]-1)/Ge[0],ot=(Ye[8]+1)/Ye[0],Ae=ct*Be,Ue=ct*ot,Ne=Oe/(-Be+ot),We=Ne*-Be;if(pe.matrixWorld.decompose(_e.position,_e.quaternion,_e.scale),_e.translateX(We),_e.translateZ(Ne),_e.matrixWorld.compose(_e.position,_e.quaternion,_e.scale),_e.matrixWorldInverse.copy(_e.matrixWorld).invert(),Ge[10]===-1)_e.projectionMatrix.copy(pe.projectionMatrix),_e.projectionMatrixInverse.copy(pe.projectionMatrixInverse);else{const Et=ct+Ne,vt=Tt+Ne,re=Ae-We,J=Ue+(Oe-We),ue=he*Tt/vt*Et,se=Ve*Tt/vt*Et;_e.projectionMatrix.makePerspective(re,J,ue,se,Et,vt),_e.projectionMatrixInverse.copy(_e.projectionMatrix).invert()}}function z(_e,pe){pe===null?_e.matrixWorld.copy(_e.matrix):_e.matrixWorld.multiplyMatrices(pe.matrixWorld,_e.matrix),_e.matrixWorldInverse.copy(_e.matrixWorld).invert()}this.updateCamera=function(_e){if(r===null)return;let pe=_e.near,xe=_e.far;y.texture!==null&&(y.depthNear>0&&(pe=y.depthNear),y.depthFar>0&&(xe=y.depthFar)),P.near=N.near=k.near=pe,P.far=N.far=k.far=xe,(B!==P.near||G!==P.far)&&(r.updateRenderState({depthNear:P.near,depthFar:P.far}),B=P.near,G=P.far),P.layers.mask=_e.layers.mask|6,k.layers.mask=P.layers.mask&3,N.layers.mask=P.layers.mask&5;const Oe=_e.parent,Ge=P.cameras;z(P,Oe);for(let Ye=0;Ye<Ge.length;Ye++)z(Ge[Ye],Oe);Ge.length===2?X(P,k,N):P.projectionMatrix.copy(k.projectionMatrix),oe(_e,P,Oe)};function oe(_e,pe,xe){xe===null?_e.matrix.copy(pe.matrixWorld):(_e.matrix.copy(xe.matrixWorld),_e.matrix.invert(),_e.matrix.multiply(pe.matrixWorld)),_e.matrix.decompose(_e.position,_e.quaternion,_e.scale),_e.updateMatrixWorld(!0),_e.projectionMatrix.copy(pe.projectionMatrix),_e.projectionMatrixInverse.copy(pe.projectionMatrixInverse),_e.isPerspectiveCamera&&(_e.fov=Z0*2*Math.atan(1/_e.projectionMatrix.elements[5]),_e.zoom=1)}this.getCamera=function(){return P},this.getFoveation=function(){if(!(h===null&&d===null))return l},this.setFoveation=function(_e){l=_e,h!==null&&(h.fixedFoveation=_e),d!==null&&d.fixedFoveation!==void 0&&(d.fixedFoveation=_e)},this.hasDepthSensing=function(){return y.texture!==null},this.getDepthSensingMesh=function(){return y.getMesh(P)},this.getCameraTexture=function(_e){return v[_e]};let fe=null;function K(_e,pe){if(u=pe.getViewerPose(c||s),b=pe,u!==null){const xe=u.views;d!==null&&(e.setRenderTargetFramebuffer(_,d.framebuffer),e.setRenderTarget(_));let Oe=!1;xe.length!==P.cameras.length&&(P.cameras.length=0,Oe=!0);for(let Tt=0;Tt<xe.length;Tt++){const he=xe[Tt];let Ve=null;if(d!==null)Ve=d.getViewport(he);else{const ot=f.getViewSubImage(h,he);Ve=ot.viewport,Tt===0&&(e.setRenderTargetTextures(_,ot.colorTexture,ot.depthStencilTexture),e.setRenderTarget(_))}let Be=D[Tt];Be===void 0&&(Be=new Xr,Be.layers.enable(Tt),Be.viewport=new ni,D[Tt]=Be),Be.matrix.fromArray(he.transform.matrix),Be.matrix.decompose(Be.position,Be.quaternion,Be.scale),Be.projectionMatrix.fromArray(he.projectionMatrix),Be.projectionMatrixInverse.copy(Be.projectionMatrix).invert(),Be.viewport.set(Ve.x,Ve.y,Ve.width,Ve.height),Tt===0&&(P.matrix.copy(Be.matrix),P.matrix.decompose(P.position,P.quaternion,P.scale)),Oe===!0&&P.cameras.push(Be)}const Ge=r.enabledFeatures;if(Ge&&Ge.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&f){const Tt=f.getDepthInformation(xe[0]);Tt&&Tt.isValid&&Tt.texture&&y.init(Tt,r.renderState)}if(Ge&&Ge.includes("camera-access")&&(e.state.unbindTexture(),f))for(let Tt=0;Tt<xe.length;Tt++){const he=xe[Tt].camera;if(he){let Ve=v[he];Ve||(Ve=new IJ,v[he]=Ve);const Be=f.getCameraImage(he);Ve.sourceTexture=Be}}}for(let xe=0;xe<E.length;xe++){const Oe=A[xe],Ge=E[xe];Oe!==null&&Ge!==void 0&&Ge.update(Oe,pe,c||s)}fe&&fe(_e,pe),pe.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:pe}),b=null}const Me=new CJ;Me.setAnimationLoop(K),this.setAnimationLoop=function(_e){fe=_e},this.dispose=function(){}}}const Np=new li,G1e=new kt;function W1e(t,e){function n(v,m){v.matrixAutoUpdate===!0&&v.updateMatrix(),m.value.copy(v.matrix)}function i(v,m){m.color.getRGB(v.fogColor.value,UY(t)),m.isFog?(v.fogNear.value=m.near,v.fogFar.value=m.far):m.isFogExp2&&(v.fogDensity.value=m.density)}function r(v,m,x,_,E){m.isMeshBasicMaterial||m.isMeshLambertMaterial?a(v,m):m.isMeshToonMaterial?(a(v,m),f(v,m)):m.isMeshPhongMaterial?(a(v,m),u(v,m)):m.isMeshStandardMaterial?(a(v,m),h(v,m),m.isMeshPhysicalMaterial&&d(v,m,E)):m.isMeshMatcapMaterial?(a(v,m),b(v,m)):m.isMeshDepthMaterial?a(v,m):m.isMeshDistanceMaterial?(a(v,m),y(v,m)):m.isMeshNormalMaterial?a(v,m):m.isLineBasicMaterial?(s(v,m),m.isLineDashedMaterial&&o(v,m)):m.isPointsMaterial?l(v,m,x,_):m.isSpriteMaterial?c(v,m):m.isShadowMaterial?(v.color.value.copy(m.color),v.opacity.value=m.opacity):m.isShaderMaterial&&(m.uniformsNeedUpdate=!1)}function a(v,m){v.opacity.value=m.opacity,m.color&&v.diffuse.value.copy(m.color),m.emissive&&v.emissive.value.copy(m.emissive).multiplyScalar(m.emissiveIntensity),m.map&&(v.map.value=m.map,n(m.map,v.mapTransform)),m.alphaMap&&(v.alphaMap.value=m.alphaMap,n(m.alphaMap,v.alphaMapTransform)),m.bumpMap&&(v.bumpMap.value=m.bumpMap,n(m.bumpMap,v.bumpMapTransform),v.bumpScale.value=m.bumpScale,m.side===Aa&&(v.bumpScale.value*=-1)),m.normalMap&&(v.normalMap.value=m.normalMap,n(m.normalMap,v.normalMapTransform),v.normalScale.value.copy(m.normalScale),m.side===Aa&&v.normalScale.value.negate()),m.displacementMap&&(v.displacementMap.value=m.displacementMap,n(m.displacementMap,v.displacementMapTransform),v.displacementScale.value=m.displacementScale,v.displacementBias.value=m.displacementBias),m.emissiveMap&&(v.emissiveMap.value=m.emissiveMap,n(m.emissiveMap,v.emissiveMapTransform)),m.specularMap&&(v.specularMap.value=m.specularMap,n(m.specularMap,v.specularMapTransform)),m.alphaTest>0&&(v.alphaTest.value=m.alphaTest);const x=e.get(m),_=x.envMap,E=x.envMapRotation;_&&(v.envMap.value=_,Np.copy(E),Np.x*=-1,Np.y*=-1,Np.z*=-1,_.isCubeTexture&&_.isRenderTargetTexture===!1&&(Np.y*=-1,Np.z*=-1),v.envMapRotation.value.setFromMatrix4(G1e.makeRotationFromEuler(Np)),v.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,v.reflectivity.value=m.reflectivity,v.ior.value=m.ior,v.refractionRatio.value=m.refractionRatio),m.lightMap&&(v.lightMap.value=m.lightMap,v.lightMapIntensity.value=m.lightMapIntensity,n(m.lightMap,v.lightMapTransform)),m.aoMap&&(v.aoMap.value=m.aoMap,v.aoMapIntensity.value=m.aoMapIntensity,n(m.aoMap,v.aoMapTransform))}function s(v,m){v.diffuse.value.copy(m.color),v.opacity.value=m.opacity,m.map&&(v.map.value=m.map,n(m.map,v.mapTransform))}function o(v,m){v.dashSize.value=m.dashSize,v.totalSize.value=m.dashSize+m.gapSize,v.scale.value=m.scale}function l(v,m,x,_){v.diffuse.value.copy(m.color),v.opacity.value=m.opacity,v.size.value=m.size*x,v.scale.value=_*.5,m.map&&(v.map.value=m.map,n(m.map,v.uvTransform)),m.alphaMap&&(v.alphaMap.value=m.alphaMap,n(m.alphaMap,v.alphaMapTransform)),m.alphaTest>0&&(v.alphaTest.value=m.alphaTest)}function c(v,m){v.diffuse.value.copy(m.color),v.opacity.value=m.opacity,v.rotation.value=m.rotation,m.map&&(v.map.value=m.map,n(m.map,v.mapTransform)),m.alphaMap&&(v.alphaMap.value=m.alphaMap,n(m.alphaMap,v.alphaMapTransform)),m.alphaTest>0&&(v.alphaTest.value=m.alphaTest)}function u(v,m){v.specular.value.copy(m.specular),v.shininess.value=Math.max(m.shininess,1e-4)}function f(v,m){m.gradientMap&&(v.gradientMap.value=m.gradientMap)}function h(v,m){v.metalness.value=m.metalness,m.metalnessMap&&(v.metalnessMap.value=m.metalnessMap,n(m.metalnessMap,v.metalnessMapTransform)),v.roughness.value=m.roughness,m.roughnessMap&&(v.roughnessMap.value=m.roughnessMap,n(m.roughnessMap,v.roughnessMapTransform)),m.envMap&&(v.envMapIntensity.value=m.envMapIntensity)}function d(v,m,x){v.ior.value=m.ior,m.sheen>0&&(v.sheenColor.value.copy(m.sheenColor).multiplyScalar(m.sheen),v.sheenRoughness.value=m.sheenRoughness,m.sheenColorMap&&(v.sheenColorMap.value=m.sheenColorMap,n(m.sheenColorMap,v.sheenColorMapTransform)),m.sheenRoughnessMap&&(v.sheenRoughnessMap.value=m.sheenRoughnessMap,n(m.sheenRoughnessMap,v.sheenRoughnessMapTransform))),m.clearcoat>0&&(v.clearcoat.value=m.clearcoat,v.clearcoatRoughness.value=m.clearcoatRoughness,m.clearcoatMap&&(v.clearcoatMap.value=m.clearcoatMap,n(m.clearcoatMap,v.clearcoatMapTransform)),m.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=m.clearcoatRoughnessMap,n(m.clearcoatRoughnessMap,v.clearcoatRoughnessMapTransform)),m.clearcoatNormalMap&&(v.clearcoatNormalMap.value=m.clearcoatNormalMap,n(m.clearcoatNormalMap,v.clearcoatNormalMapTransform),v.clearcoatNormalScale.value.copy(m.clearcoatNormalScale),m.side===Aa&&v.clearcoatNormalScale.value.negate())),m.dispersion>0&&(v.dispersion.value=m.dispersion),m.iridescence>0&&(v.iridescence.value=m.iridescence,v.iridescenceIOR.value=m.iridescenceIOR,v.iridescenceThicknessMinimum.value=m.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=m.iridescenceThicknessRange[1],m.iridescenceMap&&(v.iridescenceMap.value=m.iridescenceMap,n(m.iridescenceMap,v.iridescenceMapTransform)),m.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=m.iridescenceThicknessMap,n(m.iridescenceThicknessMap,v.iridescenceThicknessMapTransform))),m.transmission>0&&(v.transmission.value=m.transmission,v.transmissionSamplerMap.value=x.texture,v.transmissionSamplerSize.value.set(x.width,x.height),m.transmissionMap&&(v.transmissionMap.value=m.transmissionMap,n(m.transmissionMap,v.transmissionMapTransform)),v.thickness.value=m.thickness,m.thicknessMap&&(v.thicknessMap.value=m.thicknessMap,n(m.thicknessMap,v.thicknessMapTransform)),v.attenuationDistance.value=m.attenuationDistance,v.attenuationColor.value.copy(m.attenuationColor)),m.anisotropy>0&&(v.anisotropyVector.value.set(m.anisotropy*Math.cos(m.anisotropyRotation),m.anisotropy*Math.sin(m.anisotropyRotation)),m.anisotropyMap&&(v.anisotropyMap.value=m.anisotropyMap,n(m.anisotropyMap,v.anisotropyMapTransform))),v.specularIntensity.value=m.specularIntensity,v.specularColor.value.copy(m.specularColor),m.specularColorMap&&(v.specularColorMap.value=m.specularColorMap,n(m.specularColorMap,v.specularColorMapTransform)),m.specularIntensityMap&&(v.specularIntensityMap.value=m.specularIntensityMap,n(m.specularIntensityMap,v.specularIntensityMapTransform))}function b(v,m){m.matcap&&(v.matcap.value=m.matcap)}function y(v,m){const x=e.get(m).light;v.referencePosition.value.setFromMatrixPosition(x.matrixWorld),v.nearDistance.value=x.shadow.camera.near,v.farDistance.value=x.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function q1e(t,e,n,i){let r={},a={},s=[];const o=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(x,_){const E=_.program;i.uniformBlockBinding(x,E)}function c(x,_){let E=r[x.id];E===void 0&&(b(x),E=u(x),r[x.id]=E,x.addEventListener("dispose",v));const A=_.program;i.updateUBOMapping(x,A);const w=e.render.frame;a[x.id]!==w&&(h(x),a[x.id]=w)}function u(x){const _=f();x.__bindingPointIndex=_;const E=t.createBuffer(),A=x.__size,w=x.usage;return t.bindBuffer(t.UNIFORM_BUFFER,E),t.bufferData(t.UNIFORM_BUFFER,A,w),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,_,E),E}function f(){for(let x=0;x<o;x++)if(s.indexOf(x)===-1)return s.push(x),x;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(x){const _=r[x.id],E=x.uniforms,A=x.__cache;t.bindBuffer(t.UNIFORM_BUFFER,_);for(let w=0,T=E.length;w<T;w++){const k=Array.isArray(E[w])?E[w]:[E[w]];for(let N=0,D=k.length;N<D;N++){const P=k[N];if(d(P,w,N,A)===!0){const B=P.__offset,G=Array.isArray(P.value)?P.value:[P.value];let H=0;for(let V=0;V<G.length;V++){const U=G[V],F=y(U);typeof U=="number"||typeof U=="boolean"?(P.__data[0]=U,t.bufferSubData(t.UNIFORM_BUFFER,B+H,P.__data)):U.isMatrix3?(P.__data[0]=U.elements[0],P.__data[1]=U.elements[1],P.__data[2]=U.elements[2],P.__data[3]=0,P.__data[4]=U.elements[3],P.__data[5]=U.elements[4],P.__data[6]=U.elements[5],P.__data[7]=0,P.__data[8]=U.elements[6],P.__data[9]=U.elements[7],P.__data[10]=U.elements[8],P.__data[11]=0):(U.toArray(P.__data,H),H+=F.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,B,P.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function d(x,_,E,A){const w=x.value,T=_+"_"+E;if(A[T]===void 0)return typeof w=="number"||typeof w=="boolean"?A[T]=w:A[T]=w.clone(),!0;{const k=A[T];if(typeof w=="number"||typeof w=="boolean"){if(k!==w)return A[T]=w,!0}else if(k.equals(w)===!1)return k.copy(w),!0}return!1}function b(x){const _=x.uniforms;let E=0;const A=16;for(let T=0,k=_.length;T<k;T++){const N=Array.isArray(_[T])?_[T]:[_[T]];for(let D=0,P=N.length;D<P;D++){const B=N[D],G=Array.isArray(B.value)?B.value:[B.value];for(let H=0,V=G.length;H<V;H++){const U=G[H],F=y(U),q=E%A,X=q%F.boundary,z=q+X;E+=X,z!==0&&A-z<F.storage&&(E+=A-z),B.__data=new Float32Array(F.storage/Float32Array.BYTES_PER_ELEMENT),B.__offset=E,E+=F.storage}}}const w=E%A;return w>0&&(E+=A-w),x.__size=E,x.__cache={},this}function y(x){const _={boundary:0,storage:0};return typeof x=="number"||typeof x=="boolean"?(_.boundary=4,_.storage=4):x.isVector2?(_.boundary=8,_.storage=8):x.isVector3||x.isColor?(_.boundary=16,_.storage=12):x.isVector4?(_.boundary=16,_.storage=16):x.isMatrix3?(_.boundary=48,_.storage=48):x.isMatrix4?(_.boundary=64,_.storage=64):x.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",x),_}function v(x){const _=x.target;_.removeEventListener("dispose",v);const E=s.indexOf(_.__bindingPointIndex);s.splice(E,1),t.deleteBuffer(r[_.id]),delete r[_.id],delete a[_.id]}function m(){for(const x in r)t.deleteBuffer(r[x]);s=[],r={},a={}}return{bind:l,update:c,dispose:m}}class kP{constructor(e={}){const{canvas:n=IY(),context:i=null,depth:r=!0,stencil:a=!1,alpha:s=!1,antialias:o=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:f=!1,reversedDepthBuffer:h=!1}=e;this.isWebGLRenderer=!0;let d;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");d=i.getContextAttributes().alpha}else d=s;const b=new Uint32Array(4),y=new Int32Array(4);let v=null,m=null;const x=[],_=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Xu,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const E=this;let A=!1;this._outputColorSpace=us;let w=0,T=0,k=null,N=-1,D=null;const P=new ni,B=new ni;let G=null;const H=new Ut(0);let V=0,U=n.width,F=n.height,q=1,X=null,z=null;const oe=new ni(0,0,U,F),fe=new ni(0,0,U,F);let K=!1;const Me=new og;let _e=!1,pe=!1;const xe=new kt,Oe=new Q,Ge=new ni,Ye={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let ct=!1;function Tt(){return k===null?q:1}let he=i;function Ve(Z,me){return n.getContext(Z,me)}try{const Z={alpha:!0,depth:r,stencil:a,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:f};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${Ny}`),n.addEventListener("webglcontextlost",wt,!1),n.addEventListener("webglcontextrestored",Wt,!1),n.addEventListener("webglcontextcreationerror",ut,!1),he===null){const me="webgl2";if(he=Ve(me,Z),he===null)throw Ve(me)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(Z){throw console.error("THREE.WebGLRenderer: "+Z.message),Z}let Be,ot,Ae,Ue,Ne,We,Et,vt,re,J,ue,se,be,$,Ke,tt,pt,ze,rt,$e,Xt,Ot,ft,jt;function Re(){Be=new rxe(he),Be.init(),Ot=new RP(he,Be),ot=new $ve(he,Be,e,Ot),Ae=new F1e(he,Be),ot.reversedDepthBuffer&&h&&Ae.buffers.depth.setReversed(!0),Ue=new oxe(he),Ne=new M1e,We=new z1e(he,Be,Ae,Ne,ot,Ot,Ue),Et=new Qve(E),vt=new ixe(E),re=new d0e(he),ft=new Yve(he,re),J=new axe(he,re,Ue,ft),ue=new cxe(he,J,re,Ue),rt=new lxe(he,ot,We),tt=new Zve(Ne),se=new E1e(E,Et,vt,Be,ot,ft,tt),be=new W1e(E,Ne),$=new T1e,Ke=new I1e(Be),ze=new Kve(E,Et,vt,Ae,ue,d,l),pt=new P1e(E,ue,ot),jt=new q1e(he,Ue,ot,Ae),$e=new Jve(he,Be,Ue),Xt=new sxe(he,Be,Ue),Ue.programs=se.programs,E.capabilities=ot,E.extensions=Be,E.properties=Ne,E.renderLists=$,E.shadowMap=pt,E.state=Ae,E.info=Ue}Re();const Fe=new V1e(E,he);this.xr=Fe,this.getContext=function(){return he},this.getContextAttributes=function(){return he.getContextAttributes()},this.forceContextLoss=function(){const Z=Be.get("WEBGL_lose_context");Z&&Z.loseContext()},this.forceContextRestore=function(){const Z=Be.get("WEBGL_lose_context");Z&&Z.restoreContext()},this.getPixelRatio=function(){return q},this.setPixelRatio=function(Z){Z!==void 0&&(q=Z,this.setSize(U,F,!1))},this.getSize=function(Z){return Z.set(U,F)},this.setSize=function(Z,me,Se=!0){if(Fe.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}U=Z,F=me,n.width=Math.floor(Z*q),n.height=Math.floor(me*q),Se===!0&&(n.style.width=Z+"px",n.style.height=me+"px"),this.setViewport(0,0,Z,me)},this.getDrawingBufferSize=function(Z){return Z.set(U*q,F*q).floor()},this.setDrawingBufferSize=function(Z,me,Se){U=Z,F=me,q=Se,n.width=Math.floor(Z*Se),n.height=Math.floor(me*Se),this.setViewport(0,0,Z,me)},this.getCurrentViewport=function(Z){return Z.copy(P)},this.getViewport=function(Z){return Z.copy(oe)},this.setViewport=function(Z,me,Se,Ee){Z.isVector4?oe.set(Z.x,Z.y,Z.z,Z.w):oe.set(Z,me,Se,Ee),Ae.viewport(P.copy(oe).multiplyScalar(q).round())},this.getScissor=function(Z){return Z.copy(fe)},this.setScissor=function(Z,me,Se,Ee){Z.isVector4?fe.set(Z.x,Z.y,Z.z,Z.w):fe.set(Z,me,Se,Ee),Ae.scissor(B.copy(fe).multiplyScalar(q).round())},this.getScissorTest=function(){return K},this.setScissorTest=function(Z){Ae.setScissorTest(K=Z)},this.setOpaqueSort=function(Z){X=Z},this.setTransparentSort=function(Z){z=Z},this.getClearColor=function(Z){return Z.copy(ze.getClearColor())},this.setClearColor=function(){ze.setClearColor(...arguments)},this.getClearAlpha=function(){return ze.getClearAlpha()},this.setClearAlpha=function(){ze.setClearAlpha(...arguments)},this.clear=function(Z=!0,me=!0,Se=!0){let Ee=0;if(Z){let ye=!1;if(k!==null){const dt=k.texture.format;ye=dt===Py||dt===__||dt===Ly}if(ye){const dt=k.texture.type,it=dt===ho||dt===dc||dt===W0||dt===q0||dt===fC||dt===hC,ht=ze.getClearColor(),bt=ze.getClearAlpha(),Dt=ht.r,qt=ht.g,Je=ht.b;it?(b[0]=Dt,b[1]=qt,b[2]=Je,b[3]=bt,he.clearBufferuiv(he.COLOR,0,b)):(y[0]=Dt,y[1]=qt,y[2]=Je,y[3]=bt,he.clearBufferiv(he.COLOR,0,y))}else Ee|=he.COLOR_BUFFER_BIT}me&&(Ee|=he.DEPTH_BUFFER_BIT),Se&&(Ee|=he.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),he.clear(Ee)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",wt,!1),n.removeEventListener("webglcontextrestored",Wt,!1),n.removeEventListener("webglcontextcreationerror",ut,!1),ze.dispose(),$.dispose(),Ke.dispose(),Ne.dispose(),Et.dispose(),vt.dispose(),ue.dispose(),ft.dispose(),jt.dispose(),se.dispose(),Fe.dispose(),Fe.removeEventListener("sessionstart",Wn),Fe.removeEventListener("sessionend",Zr),Ii.stop()};function wt(Z){Z.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),A=!0}function Wt(){console.log("THREE.WebGLRenderer: Context Restored."),A=!1;const Z=Ue.autoReset,me=pt.enabled,Se=pt.autoUpdate,Ee=pt.needsUpdate,ye=pt.type;Re(),Ue.autoReset=Z,pt.enabled=me,pt.autoUpdate=Se,pt.needsUpdate=Ee,pt.type=ye}function ut(Z){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Z.statusMessage)}function mt(Z){const me=Z.target;me.removeEventListener("dispose",mt),Mt(me)}function Mt(Z){gn(Z),Ne.remove(Z)}function gn(Z){const me=Ne.get(Z).programs;me!==void 0&&(me.forEach(function(Se){se.releaseProgram(Se)}),Z.isShaderMaterial&&se.releaseShaderCache(Z))}this.renderBufferDirect=function(Z,me,Se,Ee,ye,dt){me===null&&(me=Ye);const it=ye.isMesh&&ye.matrixWorld.determinant()<0,ht=le(Z,me,Se,Ee,ye);Ae.setMaterial(Ee,it);let bt=Se.index,Dt=1;if(Ee.wireframe===!0){if(bt=J.getWireframeAttribute(Se),bt===void 0)return;Dt=2}const qt=Se.drawRange,Je=Se.attributes.position;let nn=qt.start*Dt,cn=(qt.start+qt.count)*Dt;dt!==null&&(nn=Math.max(nn,dt.start*Dt),cn=Math.min(cn,(dt.start+dt.count)*Dt)),bt!==null?(nn=Math.max(nn,0),cn=Math.min(cn,bt.count)):Je!=null&&(nn=Math.max(nn,0),cn=Math.min(cn,Je.count));const un=cn-nn;if(un<0||un===1/0)return;ft.setup(ye,Ee,ht,Se,bt);let kn,Jt=$e;if(bt!==null&&(kn=re.get(bt),Jt=Xt,Jt.setIndex(kn)),ye.isMesh)Ee.wireframe===!0?(Ae.setLineWidth(Ee.wireframeLinewidth*Tt()),Jt.setMode(he.LINES)):Jt.setMode(he.TRIANGLES);else if(ye.isLine){let Kt=Ee.linewidth;Kt===void 0&&(Kt=1),Ae.setLineWidth(Kt*Tt()),ye.isLineSegments?Jt.setMode(he.LINES):ye.isLineLoop?Jt.setMode(he.LINE_LOOP):Jt.setMode(he.LINE_STRIP)}else ye.isPoints?Jt.setMode(he.POINTS):ye.isSprite&&Jt.setMode(he.TRIANGLES);if(ye.isBatchedMesh)if(ye._multiDrawInstances!==null)p0("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Jt.renderMultiDrawInstances(ye._multiDrawStarts,ye._multiDrawCounts,ye._multiDrawCount,ye._multiDrawInstances);else if(Be.get("WEBGL_multi_draw"))Jt.renderMultiDraw(ye._multiDrawStarts,ye._multiDrawCounts,ye._multiDrawCount);else{const Kt=ye._multiDrawStarts,Xn=ye._multiDrawCounts,yn=ye._multiDrawCount,yi=bt?re.get(bt).bytesPerElement:1,Fn=Ne.get(Ee).currentProgram.getUniforms();for(let Tn=0;Tn<yn;Tn++)Fn.setValue(he,"_gl_DrawID",Tn),Jt.render(Kt[Tn]/yi,Xn[Tn])}else if(ye.isInstancedMesh)Jt.renderInstances(nn,un,ye.count);else if(Se.isInstancedBufferGeometry){const Kt=Se._maxInstanceCount!==void 0?Se._maxInstanceCount:1/0,Xn=Math.min(Se.instanceCount,Kt);Jt.renderInstances(nn,un,Xn)}else Jt.render(nn,un)};function Gn(Z,me,Se){Z.transparent===!0&&Z.side===oa&&Z.forceSinglePass===!1?(Z.side=Aa,Z.needsUpdate=!0,ga(Z,me,Se),Z.side=ou,Z.needsUpdate=!0,ga(Z,me,Se),Z.side=oa):ga(Z,me,Se)}this.compile=function(Z,me,Se=null){Se===null&&(Se=Z),m=Ke.get(Se),m.init(me),_.push(m),Se.traverseVisible(function(ye){ye.isLight&&ye.layers.test(me.layers)&&(m.pushLight(ye),ye.castShadow&&m.pushShadow(ye))}),Z!==Se&&Z.traverseVisible(function(ye){ye.isLight&&ye.layers.test(me.layers)&&(m.pushLight(ye),ye.castShadow&&m.pushShadow(ye))}),m.setupLights();const Ee=new Set;return Z.traverse(function(ye){if(!(ye.isMesh||ye.isPoints||ye.isLine||ye.isSprite))return;const dt=ye.material;if(dt)if(Array.isArray(dt))for(let it=0;it<dt.length;it++){const ht=dt[it];Gn(ht,Se,ye),Ee.add(ht)}else Gn(dt,Se,ye),Ee.add(dt)}),m=_.pop(),Ee},this.compileAsync=function(Z,me,Se=null){const Ee=this.compile(Z,me,Se);return new Promise(ye=>{function dt(){if(Ee.forEach(function(it){Ne.get(it).currentProgram.isReady()&&Ee.delete(it)}),Ee.size===0){ye(Z);return}setTimeout(dt,10)}Be.get("KHR_parallel_shader_compile")!==null?dt():setTimeout(dt,10)})};let jn=null;function Xi(Z){jn&&jn(Z)}function Wn(){Ii.stop()}function Zr(){Ii.start()}const Ii=new CJ;Ii.setAnimationLoop(Xi),typeof self<"u"&&Ii.setContext(self),this.setAnimationLoop=function(Z){jn=Z,Fe.setAnimationLoop(Z),Z===null?Ii.stop():Ii.start()},Fe.addEventListener("sessionstart",Wn),Fe.addEventListener("sessionend",Zr),this.render=function(Z,me){if(me!==void 0&&me.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(A===!0)return;if(Z.matrixWorldAutoUpdate===!0&&Z.updateMatrixWorld(),me.parent===null&&me.matrixWorldAutoUpdate===!0&&me.updateMatrixWorld(),Fe.enabled===!0&&Fe.isPresenting===!0&&(Fe.cameraAutoUpdate===!0&&Fe.updateCamera(me),me=Fe.getCamera()),Z.isScene===!0&&Z.onBeforeRender(E,Z,me,k),m=Ke.get(Z,_.length),m.init(me),_.push(m),xe.multiplyMatrices(me.projectionMatrix,me.matrixWorldInverse),Me.setFromProjectionMatrix(xe,ll,me.reversedDepth),pe=this.localClippingEnabled,_e=tt.init(this.clippingPlanes,pe),v=$.get(Z,x.length),v.init(),x.push(v),Fe.enabled===!0&&Fe.isPresenting===!0){const dt=E.xr.getDepthSensingMesh();dt!==null&&tr(dt,me,-1/0,E.sortObjects)}tr(Z,me,0,E.sortObjects),v.finish(),E.sortObjects===!0&&v.sort(X,z),ct=Fe.enabled===!1||Fe.isPresenting===!1||Fe.hasDepthSensing()===!1,ct&&ze.addToRenderList(v,Z),this.info.render.frame++,_e===!0&&tt.beginShadows();const Se=m.state.shadowsArray;pt.render(Se,Z,me),_e===!0&&tt.endShadows(),this.info.autoReset===!0&&this.info.reset();const Ee=v.opaque,ye=v.transmissive;if(m.setupLights(),me.isArrayCamera){const dt=me.cameras;if(ye.length>0)for(let it=0,ht=dt.length;it<ht;it++){const bt=dt[it];Qr(Ee,ye,Z,bt)}ct&&ze.render(Z);for(let it=0,ht=dt.length;it<ht;it++){const bt=dt[it];_i(v,Z,bt,bt.viewport)}}else ye.length>0&&Qr(Ee,ye,Z,me),ct&&ze.render(Z),_i(v,Z,me);k!==null&&T===0&&(We.updateMultisampleRenderTarget(k),We.updateRenderTargetMipmap(k)),Z.isScene===!0&&Z.onAfterRender(E,Z,me),ft.resetDefaultState(),N=-1,D=null,_.pop(),_.length>0?(m=_[_.length-1],_e===!0&&tt.setGlobalState(E.clippingPlanes,m.state.camera)):m=null,x.pop(),x.length>0?v=x[x.length-1]:v=null};function tr(Z,me,Se,Ee){if(Z.visible===!1)return;if(Z.layers.test(me.layers)){if(Z.isGroup)Se=Z.renderOrder;else if(Z.isLOD)Z.autoUpdate===!0&&Z.update(me);else if(Z.isLight)m.pushLight(Z),Z.castShadow&&m.pushShadow(Z);else if(Z.isSprite){if(!Z.frustumCulled||Me.intersectsSprite(Z)){Ee&&Ge.setFromMatrixPosition(Z.matrixWorld).applyMatrix4(xe);const it=ue.update(Z),ht=Z.material;ht.visible&&v.push(Z,it,ht,Se,Ge.z,null)}}else if((Z.isMesh||Z.isLine||Z.isPoints)&&(!Z.frustumCulled||Me.intersectsObject(Z))){const it=ue.update(Z),ht=Z.material;if(Ee&&(Z.boundingSphere!==void 0?(Z.boundingSphere===null&&Z.computeBoundingSphere(),Ge.copy(Z.boundingSphere.center)):(it.boundingSphere===null&&it.computeBoundingSphere(),Ge.copy(it.boundingSphere.center)),Ge.applyMatrix4(Z.matrixWorld).applyMatrix4(xe)),Array.isArray(ht)){const bt=it.groups;for(let Dt=0,qt=bt.length;Dt<qt;Dt++){const Je=bt[Dt],nn=ht[Je.materialIndex];nn&&nn.visible&&v.push(Z,it,nn,Se,Ge.z,Je)}}else ht.visible&&v.push(Z,it,ht,Se,Ge.z,null)}}const dt=Z.children;for(let it=0,ht=dt.length;it<ht;it++)tr(dt[it],me,Se,Ee)}function _i(Z,me,Se,Ee){const ye=Z.opaque,dt=Z.transmissive,it=Z.transparent;m.setupLightsView(Se),_e===!0&&tt.setGlobalState(E.clippingPlanes,Se),Ee&&Ae.viewport(P.copy(Ee)),ye.length>0&&zi(ye,me,Se),dt.length>0&&zi(dt,me,Se),it.length>0&&zi(it,me,Se),Ae.buffers.depth.setTest(!0),Ae.buffers.depth.setMask(!0),Ae.buffers.color.setMask(!0),Ae.setPolygonOffset(!1)}function Qr(Z,me,Se,Ee){if((Se.isScene===!0?Se.overrideMaterial:null)!==null)return;m.state.transmissionRenderTarget[Ee.id]===void 0&&(m.state.transmissionRenderTarget[Ee.id]=new pc(1,1,{generateMipmaps:!0,type:Be.has("EXT_color_buffer_half_float")||Be.has("EXT_color_buffer_float")?Ka:ho,minFilter:rc,samples:4,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:oi.workingColorSpace}));const dt=m.state.transmissionRenderTarget[Ee.id],it=Ee.viewport||P;dt.setSize(it.z*E.transmissionResolutionScale,it.w*E.transmissionResolutionScale);const ht=E.getRenderTarget(),bt=E.getActiveCubeFace(),Dt=E.getActiveMipmapLevel();E.setRenderTarget(dt),E.getClearColor(H),V=E.getClearAlpha(),V<1&&E.setClearColor(16777215,.5),E.clear(),ct&&ze.render(Se);const qt=E.toneMapping;E.toneMapping=Xu;const Je=Ee.viewport;if(Ee.viewport!==void 0&&(Ee.viewport=void 0),m.setupLightsView(Ee),_e===!0&&tt.setGlobalState(E.clippingPlanes,Ee),zi(Z,Se,Ee),We.updateMultisampleRenderTarget(dt),We.updateRenderTargetMipmap(dt),Be.has("WEBGL_multisampled_render_to_texture")===!1){let nn=!1;for(let cn=0,un=me.length;cn<un;cn++){const kn=me[cn],Jt=kn.object,Kt=kn.geometry,Xn=kn.material,yn=kn.group;if(Xn.side===oa&&Jt.layers.test(Ee.layers)){const yi=Xn.side;Xn.side=Aa,Xn.needsUpdate=!0,dn(Jt,Se,Ee,Kt,Xn,yn),Xn.side=yi,Xn.needsUpdate=!0,nn=!0}}nn===!0&&(We.updateMultisampleRenderTarget(dt),We.updateRenderTargetMipmap(dt))}E.setRenderTarget(ht,bt,Dt),E.setClearColor(H,V),Je!==void 0&&(Ee.viewport=Je),E.toneMapping=qt}function zi(Z,me,Se){const Ee=me.isScene===!0?me.overrideMaterial:null;for(let ye=0,dt=Z.length;ye<dt;ye++){const it=Z[ye],ht=it.object,bt=it.geometry,Dt=it.group;let qt=it.material;qt.allowOverride===!0&&Ee!==null&&(qt=Ee),ht.layers.test(Se.layers)&&dn(ht,me,Se,bt,qt,Dt)}}function dn(Z,me,Se,Ee,ye,dt){Z.onBeforeRender(E,me,Se,Ee,ye,dt),Z.modelViewMatrix.multiplyMatrices(Se.matrixWorldInverse,Z.matrixWorld),Z.normalMatrix.getNormalMatrix(Z.modelViewMatrix),ye.onBeforeRender(E,me,Se,Ee,Z,dt),ye.transparent===!0&&ye.side===oa&&ye.forceSinglePass===!1?(ye.side=Aa,ye.needsUpdate=!0,E.renderBufferDirect(Se,me,Ee,ye,Z,dt),ye.side=ou,ye.needsUpdate=!0,E.renderBufferDirect(Se,me,Ee,ye,Z,dt),ye.side=oa):E.renderBufferDirect(Se,me,Ee,ye,Z,dt),Z.onAfterRender(E,me,Se,Ee,ye,dt)}function ga(Z,me,Se){me.isScene!==!0&&(me=Ye);const Ee=Ne.get(Z),ye=m.state.lights,dt=m.state.shadowsArray,it=ye.state.version,ht=se.getParameters(Z,ye.state,dt,me,Se),bt=se.getProgramCacheKey(ht);let Dt=Ee.programs;Ee.environment=Z.isMeshStandardMaterial?me.environment:null,Ee.fog=me.fog,Ee.envMap=(Z.isMeshStandardMaterial?vt:Et).get(Z.envMap||Ee.environment),Ee.envMapRotation=Ee.environment!==null&&Z.envMap===null?me.environmentRotation:Z.envMapRotation,Dt===void 0&&(Z.addEventListener("dispose",mt),Dt=new Map,Ee.programs=Dt);let qt=Dt.get(bt);if(qt!==void 0){if(Ee.currentProgram===qt&&Ee.lightsStateVersion===it)return ie(Z,ht),qt}else ht.uniforms=se.getUniforms(Z),Z.onBeforeCompile(ht,E),qt=se.acquireProgram(ht,bt),Dt.set(bt,qt),Ee.uniforms=ht.uniforms;const Je=Ee.uniforms;return(!Z.isShaderMaterial&&!Z.isRawShaderMaterial||Z.clipping===!0)&&(Je.clippingPlanes=tt.uniform),ie(Z,ht),Ee.needsLights=qe(Z),Ee.lightsStateVersion=it,Ee.needsLights&&(Je.ambientLightColor.value=ye.state.ambient,Je.lightProbe.value=ye.state.probe,Je.directionalLights.value=ye.state.directional,Je.directionalLightShadows.value=ye.state.directionalShadow,Je.spotLights.value=ye.state.spot,Je.spotLightShadows.value=ye.state.spotShadow,Je.rectAreaLights.value=ye.state.rectArea,Je.ltc_1.value=ye.state.rectAreaLTC1,Je.ltc_2.value=ye.state.rectAreaLTC2,Je.pointLights.value=ye.state.point,Je.pointLightShadows.value=ye.state.pointShadow,Je.hemisphereLights.value=ye.state.hemi,Je.directionalShadowMap.value=ye.state.directionalShadowMap,Je.directionalShadowMatrix.value=ye.state.directionalShadowMatrix,Je.spotShadowMap.value=ye.state.spotShadowMap,Je.spotLightMatrix.value=ye.state.spotLightMatrix,Je.spotLightMap.value=ye.state.spotLightMap,Je.pointShadowMap.value=ye.state.pointShadowMap,Je.pointShadowMatrix.value=ye.state.pointShadowMatrix),Ee.currentProgram=qt,Ee.uniformsList=null,qt}function Ni(Z){if(Z.uniformsList===null){const me=Z.currentProgram.getUniforms();Z.uniformsList=GE.seqWithValue(me.seq,Z.uniforms)}return Z.uniformsList}function ie(Z,me){const Se=Ne.get(Z);Se.outputColorSpace=me.outputColorSpace,Se.batching=me.batching,Se.batchingColor=me.batchingColor,Se.instancing=me.instancing,Se.instancingColor=me.instancingColor,Se.instancingMorph=me.instancingMorph,Se.skinning=me.skinning,Se.morphTargets=me.morphTargets,Se.morphNormals=me.morphNormals,Se.morphColors=me.morphColors,Se.morphTargetsCount=me.morphTargetsCount,Se.numClippingPlanes=me.numClippingPlanes,Se.numIntersection=me.numClipIntersection,Se.vertexAlphas=me.vertexAlphas,Se.vertexTangents=me.vertexTangents,Se.toneMapping=me.toneMapping}function le(Z,me,Se,Ee,ye){me.isScene!==!0&&(me=Ye),We.resetTextureUnits();const dt=me.fog,it=Ee.isMeshStandardMaterial?me.environment:null,ht=k===null?E.outputColorSpace:k.isXRRenderTarget===!0?k.texture.colorSpace:lu,bt=(Ee.isMeshStandardMaterial?vt:Et).get(Ee.envMap||it),Dt=Ee.vertexColors===!0&&!!Se.attributes.color&&Se.attributes.color.itemSize===4,qt=!!Se.attributes.tangent&&(!!Ee.normalMap||Ee.anisotropy>0),Je=!!Se.morphAttributes.position,nn=!!Se.morphAttributes.normal,cn=!!Se.morphAttributes.color;let un=Xu;Ee.toneMapped&&(k===null||k.isXRRenderTarget===!0)&&(un=E.toneMapping);const kn=Se.morphAttributes.position||Se.morphAttributes.normal||Se.morphAttributes.color,Jt=kn!==void 0?kn.length:0,Kt=Ne.get(Ee),Xn=m.state.lights;if(_e===!0&&(pe===!0||Z!==D)){const ei=Z===D&&Ee.id===N;tt.setState(Ee,Z,ei)}let yn=!1;Ee.version===Kt.__version?(Kt.needsLights&&Kt.lightsStateVersion!==Xn.state.version||Kt.outputColorSpace!==ht||ye.isBatchedMesh&&Kt.batching===!1||!ye.isBatchedMesh&&Kt.batching===!0||ye.isBatchedMesh&&Kt.batchingColor===!0&&ye.colorTexture===null||ye.isBatchedMesh&&Kt.batchingColor===!1&&ye.colorTexture!==null||ye.isInstancedMesh&&Kt.instancing===!1||!ye.isInstancedMesh&&Kt.instancing===!0||ye.isSkinnedMesh&&Kt.skinning===!1||!ye.isSkinnedMesh&&Kt.skinning===!0||ye.isInstancedMesh&&Kt.instancingColor===!0&&ye.instanceColor===null||ye.isInstancedMesh&&Kt.instancingColor===!1&&ye.instanceColor!==null||ye.isInstancedMesh&&Kt.instancingMorph===!0&&ye.morphTexture===null||ye.isInstancedMesh&&Kt.instancingMorph===!1&&ye.morphTexture!==null||Kt.envMap!==bt||Ee.fog===!0&&Kt.fog!==dt||Kt.numClippingPlanes!==void 0&&(Kt.numClippingPlanes!==tt.numPlanes||Kt.numIntersection!==tt.numIntersection)||Kt.vertexAlphas!==Dt||Kt.vertexTangents!==qt||Kt.morphTargets!==Je||Kt.morphNormals!==nn||Kt.morphColors!==cn||Kt.toneMapping!==un||Kt.morphTargetsCount!==Jt)&&(yn=!0):(yn=!0,Kt.__version=Ee.version);let yi=Kt.currentProgram;yn===!0&&(yi=ga(Ee,me,ye));let Fn=!1,Tn=!1,_n=!1;const fn=yi.getUniforms(),ui=Kt.uniforms;if(Ae.useProgram(yi.program)&&(Fn=!0,Tn=!0,_n=!0),Ee.id!==N&&(N=Ee.id,Tn=!0),Fn||D!==Z){Ae.buffers.depth.getReversed()&&Z.reversedDepth!==!0&&(Z._reversedDepth=!0,Z.updateProjectionMatrix()),fn.setValue(he,"projectionMatrix",Z.projectionMatrix),fn.setValue(he,"viewMatrix",Z.matrixWorldInverse);const Mi=fn.map.cameraPosition;Mi!==void 0&&Mi.setValue(he,Oe.setFromMatrixPosition(Z.matrixWorld)),ot.logarithmicDepthBuffer&&fn.setValue(he,"logDepthBufFC",2/(Math.log(Z.far+1)/Math.LN2)),(Ee.isMeshPhongMaterial||Ee.isMeshToonMaterial||Ee.isMeshLambertMaterial||Ee.isMeshBasicMaterial||Ee.isMeshStandardMaterial||Ee.isShaderMaterial)&&fn.setValue(he,"isOrthographic",Z.isOrthographicCamera===!0),D!==Z&&(D=Z,Tn=!0,_n=!0)}if(ye.isSkinnedMesh){fn.setOptional(he,ye,"bindMatrix"),fn.setOptional(he,ye,"bindMatrixInverse");const ei=ye.skeleton;ei&&(ei.boneTexture===null&&ei.computeBoneTexture(),fn.setValue(he,"boneTexture",ei.boneTexture,We))}ye.isBatchedMesh&&(fn.setOptional(he,ye,"batchingTexture"),fn.setValue(he,"batchingTexture",ye._matricesTexture,We),fn.setOptional(he,ye,"batchingIdTexture"),fn.setValue(he,"batchingIdTexture",ye._indirectTexture,We),fn.setOptional(he,ye,"batchingColorTexture"),ye._colorsTexture!==null&&fn.setValue(he,"batchingColorTexture",ye._colorsTexture,We));const Ki=Se.morphAttributes;if((Ki.position!==void 0||Ki.normal!==void 0||Ki.color!==void 0)&&rt.update(ye,Se,yi),(Tn||Kt.receiveShadow!==ye.receiveShadow)&&(Kt.receiveShadow=ye.receiveShadow,fn.setValue(he,"receiveShadow",ye.receiveShadow)),Ee.isMeshGouraudMaterial&&Ee.envMap!==null&&(ui.envMap.value=bt,ui.flipEnvMap.value=bt.isCubeTexture&&bt.isRenderTargetTexture===!1?-1:1),Ee.isMeshStandardMaterial&&Ee.envMap===null&&me.environment!==null&&(ui.envMapIntensity.value=me.environmentIntensity),Tn&&(fn.setValue(he,"toneMappingExposure",E.toneMappingExposure),Kt.needsLights&&Te(ui,_n),dt&&Ee.fog===!0&&be.refreshFogUniforms(ui,dt),be.refreshMaterialUniforms(ui,Ee,q,F,m.state.transmissionRenderTarget[Z.id]),GE.upload(he,Ni(Kt),ui,We)),Ee.isShaderMaterial&&Ee.uniformsNeedUpdate===!0&&(GE.upload(he,Ni(Kt),ui,We),Ee.uniformsNeedUpdate=!1),Ee.isSpriteMaterial&&fn.setValue(he,"center",ye.center),fn.setValue(he,"modelViewMatrix",ye.modelViewMatrix),fn.setValue(he,"normalMatrix",ye.normalMatrix),fn.setValue(he,"modelMatrix",ye.matrixWorld),Ee.isShaderMaterial||Ee.isRawShaderMaterial){const ei=Ee.uniformsGroups;for(let Mi=0,Hs=ei.length;Mi<Hs;Mi++){const pr=ei[Mi];jt.update(pr,yi),jt.bind(pr,yi)}}return yi}function Te(Z,me){Z.ambientLightColor.needsUpdate=me,Z.lightProbe.needsUpdate=me,Z.directionalLights.needsUpdate=me,Z.directionalLightShadows.needsUpdate=me,Z.pointLights.needsUpdate=me,Z.pointLightShadows.needsUpdate=me,Z.spotLights.needsUpdate=me,Z.spotLightShadows.needsUpdate=me,Z.rectAreaLights.needsUpdate=me,Z.hemisphereLights.needsUpdate=me}function qe(Z){return Z.isMeshLambertMaterial||Z.isMeshToonMaterial||Z.isMeshPhongMaterial||Z.isMeshStandardMaterial||Z.isShadowMaterial||Z.isShaderMaterial&&Z.lights===!0}this.getActiveCubeFace=function(){return w},this.getActiveMipmapLevel=function(){return T},this.getRenderTarget=function(){return k},this.setRenderTargetTextures=function(Z,me,Se){const Ee=Ne.get(Z);Ee.__autoAllocateDepthBuffer=Z.resolveDepthBuffer===!1,Ee.__autoAllocateDepthBuffer===!1&&(Ee.__useRenderToTexture=!1),Ne.get(Z.texture).__webglTexture=me,Ne.get(Z.depthTexture).__webglTexture=Ee.__autoAllocateDepthBuffer?void 0:Se,Ee.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(Z,me){const Se=Ne.get(Z);Se.__webglFramebuffer=me,Se.__useDefaultFramebuffer=me===void 0};const at=he.createFramebuffer();this.setRenderTarget=function(Z,me=0,Se=0){k=Z,w=me,T=Se;let Ee=!0,ye=null,dt=!1,it=!1;if(Z){const bt=Ne.get(Z);if(bt.__useDefaultFramebuffer!==void 0)Ae.bindFramebuffer(he.FRAMEBUFFER,null),Ee=!1;else if(bt.__webglFramebuffer===void 0)We.setupRenderTarget(Z);else if(bt.__hasExternalTextures)We.rebindTextures(Z,Ne.get(Z.texture).__webglTexture,Ne.get(Z.depthTexture).__webglTexture);else if(Z.depthBuffer){const Je=Z.depthTexture;if(bt.__boundDepthTexture!==Je){if(Je!==null&&Ne.has(Je)&&(Z.width!==Je.image.width||Z.height!==Je.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");We.setupDepthRenderbuffer(Z)}}const Dt=Z.texture;(Dt.isData3DTexture||Dt.isDataArrayTexture||Dt.isCompressedArrayTexture)&&(it=!0);const qt=Ne.get(Z).__webglFramebuffer;Z.isWebGLCubeRenderTarget?(Array.isArray(qt[me])?ye=qt[me][Se]:ye=qt[me],dt=!0):Z.samples>0&&We.useMultisampledRTT(Z)===!1?ye=Ne.get(Z).__webglMultisampledFramebuffer:Array.isArray(qt)?ye=qt[Se]:ye=qt,P.copy(Z.viewport),B.copy(Z.scissor),G=Z.scissorTest}else P.copy(oe).multiplyScalar(q).floor(),B.copy(fe).multiplyScalar(q).floor(),G=K;if(Se!==0&&(ye=at),Ae.bindFramebuffer(he.FRAMEBUFFER,ye)&&Ee&&Ae.drawBuffers(Z,ye),Ae.viewport(P),Ae.scissor(B),Ae.setScissorTest(G),dt){const bt=Ne.get(Z.texture);he.framebufferTexture2D(he.FRAMEBUFFER,he.COLOR_ATTACHMENT0,he.TEXTURE_CUBE_MAP_POSITIVE_X+me,bt.__webglTexture,Se)}else if(it){const bt=me;for(let Dt=0;Dt<Z.textures.length;Dt++){const qt=Ne.get(Z.textures[Dt]);he.framebufferTextureLayer(he.FRAMEBUFFER,he.COLOR_ATTACHMENT0+Dt,qt.__webglTexture,Se,bt)}}else if(Z!==null&&Se!==0){const bt=Ne.get(Z.texture);he.framebufferTexture2D(he.FRAMEBUFFER,he.COLOR_ATTACHMENT0,he.TEXTURE_2D,bt.__webglTexture,Se)}N=-1},this.readRenderTargetPixels=function(Z,me,Se,Ee,ye,dt,it,ht=0){if(!(Z&&Z.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let bt=Ne.get(Z).__webglFramebuffer;if(Z.isWebGLCubeRenderTarget&&it!==void 0&&(bt=bt[it]),bt){Ae.bindFramebuffer(he.FRAMEBUFFER,bt);try{const Dt=Z.textures[ht],qt=Dt.format,Je=Dt.type;if(!ot.textureFormatReadable(qt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!ot.textureTypeReadable(Je)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}me>=0&&me<=Z.width-Ee&&Se>=0&&Se<=Z.height-ye&&(Z.textures.length>1&&he.readBuffer(he.COLOR_ATTACHMENT0+ht),he.readPixels(me,Se,Ee,ye,Ot.convert(qt),Ot.convert(Je),dt))}finally{const Dt=k!==null?Ne.get(k).__webglFramebuffer:null;Ae.bindFramebuffer(he.FRAMEBUFFER,Dt)}}},this.readRenderTargetPixelsAsync=async function(Z,me,Se,Ee,ye,dt,it,ht=0){if(!(Z&&Z.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let bt=Ne.get(Z).__webglFramebuffer;if(Z.isWebGLCubeRenderTarget&&it!==void 0&&(bt=bt[it]),bt)if(me>=0&&me<=Z.width-Ee&&Se>=0&&Se<=Z.height-ye){Ae.bindFramebuffer(he.FRAMEBUFFER,bt);const Dt=Z.textures[ht],qt=Dt.format,Je=Dt.type;if(!ot.textureFormatReadable(qt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!ot.textureTypeReadable(Je))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const nn=he.createBuffer();he.bindBuffer(he.PIXEL_PACK_BUFFER,nn),he.bufferData(he.PIXEL_PACK_BUFFER,dt.byteLength,he.STREAM_READ),Z.textures.length>1&&he.readBuffer(he.COLOR_ATTACHMENT0+ht),he.readPixels(me,Se,Ee,ye,Ot.convert(qt),Ot.convert(Je),0);const cn=k!==null?Ne.get(k).__webglFramebuffer:null;Ae.bindFramebuffer(he.FRAMEBUFFER,cn);const un=he.fenceSync(he.SYNC_GPU_COMMANDS_COMPLETE,0);return he.flush(),await Bme(he,un,4),he.bindBuffer(he.PIXEL_PACK_BUFFER,nn),he.getBufferSubData(he.PIXEL_PACK_BUFFER,0,dt),he.deleteBuffer(nn),he.deleteSync(un),dt}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(Z,me=null,Se=0){const Ee=Math.pow(2,-Se),ye=Math.floor(Z.image.width*Ee),dt=Math.floor(Z.image.height*Ee),it=me!==null?me.x:0,ht=me!==null?me.y:0;We.setTexture2D(Z,0),he.copyTexSubImage2D(he.TEXTURE_2D,Se,0,0,it,ht,ye,dt),Ae.unbindTexture()};const Ze=he.createFramebuffer(),At=he.createFramebuffer();this.copyTextureToTexture=function(Z,me,Se=null,Ee=null,ye=0,dt=null){dt===null&&(ye!==0?(p0("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),dt=ye,ye=0):dt=0);let it,ht,bt,Dt,qt,Je,nn,cn,un;const kn=Z.isCompressedTexture?Z.mipmaps[dt]:Z.image;if(Se!==null)it=Se.max.x-Se.min.x,ht=Se.max.y-Se.min.y,bt=Se.isBox3?Se.max.z-Se.min.z:1,Dt=Se.min.x,qt=Se.min.y,Je=Se.isBox3?Se.min.z:0;else{const Ki=Math.pow(2,-ye);it=Math.floor(kn.width*Ki),ht=Math.floor(kn.height*Ki),Z.isDataArrayTexture?bt=kn.depth:Z.isData3DTexture?bt=Math.floor(kn.depth*Ki):bt=1,Dt=0,qt=0,Je=0}Ee!==null?(nn=Ee.x,cn=Ee.y,un=Ee.z):(nn=0,cn=0,un=0);const Jt=Ot.convert(me.format),Kt=Ot.convert(me.type);let Xn;me.isData3DTexture?(We.setTexture3D(me,0),Xn=he.TEXTURE_3D):me.isDataArrayTexture||me.isCompressedArrayTexture?(We.setTexture2DArray(me,0),Xn=he.TEXTURE_2D_ARRAY):(We.setTexture2D(me,0),Xn=he.TEXTURE_2D),he.pixelStorei(he.UNPACK_FLIP_Y_WEBGL,me.flipY),he.pixelStorei(he.UNPACK_PREMULTIPLY_ALPHA_WEBGL,me.premultiplyAlpha),he.pixelStorei(he.UNPACK_ALIGNMENT,me.unpackAlignment);const yn=he.getParameter(he.UNPACK_ROW_LENGTH),yi=he.getParameter(he.UNPACK_IMAGE_HEIGHT),Fn=he.getParameter(he.UNPACK_SKIP_PIXELS),Tn=he.getParameter(he.UNPACK_SKIP_ROWS),_n=he.getParameter(he.UNPACK_SKIP_IMAGES);he.pixelStorei(he.UNPACK_ROW_LENGTH,kn.width),he.pixelStorei(he.UNPACK_IMAGE_HEIGHT,kn.height),he.pixelStorei(he.UNPACK_SKIP_PIXELS,Dt),he.pixelStorei(he.UNPACK_SKIP_ROWS,qt),he.pixelStorei(he.UNPACK_SKIP_IMAGES,Je);const fn=Z.isDataArrayTexture||Z.isData3DTexture,ui=me.isDataArrayTexture||me.isData3DTexture;if(Z.isDepthTexture){const Ki=Ne.get(Z),ei=Ne.get(me),Mi=Ne.get(Ki.__renderTarget),Hs=Ne.get(ei.__renderTarget);Ae.bindFramebuffer(he.READ_FRAMEBUFFER,Mi.__webglFramebuffer),Ae.bindFramebuffer(he.DRAW_FRAMEBUFFER,Hs.__webglFramebuffer);for(let pr=0;pr<bt;pr++)fn&&(he.framebufferTextureLayer(he.READ_FRAMEBUFFER,he.COLOR_ATTACHMENT0,Ne.get(Z).__webglTexture,ye,Je+pr),he.framebufferTextureLayer(he.DRAW_FRAMEBUFFER,he.COLOR_ATTACHMENT0,Ne.get(me).__webglTexture,dt,un+pr)),he.blitFramebuffer(Dt,qt,it,ht,nn,cn,it,ht,he.DEPTH_BUFFER_BIT,he.NEAREST);Ae.bindFramebuffer(he.READ_FRAMEBUFFER,null),Ae.bindFramebuffer(he.DRAW_FRAMEBUFFER,null)}else if(ye!==0||Z.isRenderTargetTexture||Ne.has(Z)){const Ki=Ne.get(Z),ei=Ne.get(me);Ae.bindFramebuffer(he.READ_FRAMEBUFFER,Ze),Ae.bindFramebuffer(he.DRAW_FRAMEBUFFER,At);for(let Mi=0;Mi<bt;Mi++)fn?he.framebufferTextureLayer(he.READ_FRAMEBUFFER,he.COLOR_ATTACHMENT0,Ki.__webglTexture,ye,Je+Mi):he.framebufferTexture2D(he.READ_FRAMEBUFFER,he.COLOR_ATTACHMENT0,he.TEXTURE_2D,Ki.__webglTexture,ye),ui?he.framebufferTextureLayer(he.DRAW_FRAMEBUFFER,he.COLOR_ATTACHMENT0,ei.__webglTexture,dt,un+Mi):he.framebufferTexture2D(he.DRAW_FRAMEBUFFER,he.COLOR_ATTACHMENT0,he.TEXTURE_2D,ei.__webglTexture,dt),ye!==0?he.blitFramebuffer(Dt,qt,it,ht,nn,cn,it,ht,he.COLOR_BUFFER_BIT,he.NEAREST):ui?he.copyTexSubImage3D(Xn,dt,nn,cn,un+Mi,Dt,qt,it,ht):he.copyTexSubImage2D(Xn,dt,nn,cn,Dt,qt,it,ht);Ae.bindFramebuffer(he.READ_FRAMEBUFFER,null),Ae.bindFramebuffer(he.DRAW_FRAMEBUFFER,null)}else ui?Z.isDataTexture||Z.isData3DTexture?he.texSubImage3D(Xn,dt,nn,cn,un,it,ht,bt,Jt,Kt,kn.data):me.isCompressedArrayTexture?he.compressedTexSubImage3D(Xn,dt,nn,cn,un,it,ht,bt,Jt,kn.data):he.texSubImage3D(Xn,dt,nn,cn,un,it,ht,bt,Jt,Kt,kn):Z.isDataTexture?he.texSubImage2D(he.TEXTURE_2D,dt,nn,cn,it,ht,Jt,Kt,kn.data):Z.isCompressedTexture?he.compressedTexSubImage2D(he.TEXTURE_2D,dt,nn,cn,kn.width,kn.height,Jt,kn.data):he.texSubImage2D(he.TEXTURE_2D,dt,nn,cn,it,ht,Jt,Kt,kn);he.pixelStorei(he.UNPACK_ROW_LENGTH,yn),he.pixelStorei(he.UNPACK_IMAGE_HEIGHT,yi),he.pixelStorei(he.UNPACK_SKIP_PIXELS,Fn),he.pixelStorei(he.UNPACK_SKIP_ROWS,Tn),he.pixelStorei(he.UNPACK_SKIP_IMAGES,_n),dt===0&&me.generateMipmaps&&he.generateMipmap(Xn),Ae.unbindTexture()},this.copyTextureToTexture3D=function(Z,me,Se=null,Ee=null,ye=0){return p0('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(Z,me,Se,Ee,ye)},this.initRenderTarget=function(Z){Ne.get(Z).__webglFramebuffer===void 0&&We.setupRenderTarget(Z)},this.initTexture=function(Z){Z.isCubeTexture?We.setTextureCube(Z,0):Z.isData3DTexture?We.setTexture3D(Z,0):Z.isDataArrayTexture||Z.isCompressedArrayTexture?We.setTexture2DArray(Z,0):We.setTexture2D(Z,0),Ae.unbindTexture()},this.resetState=function(){w=0,T=0,k=null,Ae.reset(),ft.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return ll}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=oi._getDrawingBufferColorSpace(e),n.unpackColorSpace=oi._getUnpackColorSpace()}}const X1e=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:BL,AddEquation:hd,AddOperation:fY,AdditiveAnimationBlendMode:XL,AdditiveBlending:cN,AgXToneMapping:gY,AlphaFormat:GL,AlwaysCompare:DY,AlwaysDepth:WM,AlwaysStencilFunc:dN,AmbientLight:dJ,AnimationAction:SJ,AnimationClip:ny,AnimationLoader:hbe,AnimationMixer:wJ,AnimationObjectGroup:Lbe,AnimationUtils:lbe,ArcCurve:WY,ArrayCamera:vJ,ArrowHelper:r0e,AttachedBindMode:E1,Audio:xJ,AudioAnalyser:Mbe,AudioContext:wP,AudioListener:Sbe,AudioLoader:vbe,AxesHelper:a0e,BackSide:Aa,BasicDepthPacking:SY,BasicShadowMap:WK,BatchedMesh:HY,Bone:E_,BooleanKeyframeTrack:lg,Box2:Vbe,Box3:vr,Box3Helper:n0e,BoxGeometry:Wd,BoxHelper:t0e,BufferAttribute:In,BufferGeometry:An,BufferGeometryLoader:bJ,ByteType:cC,Cache:Fu,Camera:bC,CameraHelper:e0e,CanvasTexture:Dge,CapsuleGeometry:MC,CatmullRomCurve3:sP,CineonToneMapping:pY,CircleGeometry:AC,ClampToEdgeWrapping:pa,Clock:EP,Color:Ut,ColorKeyframeTrack:yP,ColorManagement:oi,CompressedArrayTexture:Rge,CompressedCubeTexture:kge,CompressedTexture:EC,CompressedTextureLoader:dbe,ConeGeometry:M_,ConstantAlphaFactor:lY,ConstantColorFactor:sY,Controls:o0e,CubeCamera:FY,CubeReflectionMapping:Qu,CubeRefractionMapping:Ud,CubeTexture:S_,CubeTextureLoader:fJ,CubeUVReflectionMapping:Iy,CubicBezierCurve:oP,CubicBezierCurve3:lP,CubicInterpolant:oJ,CullFaceBack:lN,CullFaceFront:GK,CullFaceFrontBack:qpe,CullFaceNone:VK,Curve:du,CurvePath:XY,CustomBlending:qK,CustomToneMapping:mY,CylinderGeometry:zm,Cylindrical:Hbe,Data3DTexture:gC,DataArrayTexture:mC,DataTexture:bs,DataTextureLoader:vP,DataUtils:sm,DecrementStencilOp:nme,DecrementWrapStencilOp:rme,DefaultLoadingManager:uJ,DepthFormat:X0,DepthStencilFormat:K0,DepthTexture:rP,DetachedBindMode:HL,DirectionalLight:FC,DirectionalLightHelper:Qbe,DiscreteInterpolant:lJ,DodecahedronGeometry:TC,DoubleSide:oa,DstAlphaFactor:tY,DstColorFactor:iY,DynamicCopyUsage:yme,DynamicDrawUsage:EA,DynamicReadUsage:mme,EdgesGeometry:GY,EllipseCurve:CC,EqualCompare:TY,EqualDepth:XM,EqualStencilFunc:lme,EquirectangularReflectionMapping:V0,EquirectangularRefractionMapping:M1,Euler:li,EventDispatcher:sf,ExtrudeGeometry:RC,FileLoader:ys,Float16BufferAttribute:PY,Float32BufferAttribute:ln,FloatType:yr,Fog:vC,FogExp2:yC,FramebufferTexture:Cge,FrontSide:ou,Frustum:og,FrustumArray:SC,GLBufferAttribute:EJ,GLSL1:xme,GLSL3:pN,GreaterCompare:CY,GreaterDepth:YM,GreaterEqualCompare:kY,GreaterEqualDepth:KM,GreaterEqualStencilFunc:hme,GreaterStencilFunc:ume,GridHelper:$be,Group:Uu,HalfFloatType:Ka,HemisphereLight:hJ,HemisphereLightHelper:Jbe,IcosahedronGeometry:zy,ImageBitmapLoader:yJ,ImageLoader:O1,ImageUtils:OY,IncrementStencilOp:tme,IncrementWrapStencilOp:ime,InstancedBufferAttribute:uh,InstancedBufferGeometry:jC,InstancedInterleavedBuffer:kA,InstancedMesh:_C,Int16BufferAttribute:sge,Int32BufferAttribute:oge,Int8BufferAttribute:ige,IntType:Oy,InterleavedBuffer:w_,InterleavedBufferAttribute:To,Interpolant:Hy,InterpolateDiscrete:Y0,InterpolateLinear:J0,InterpolateSmooth:HE,InterpolationSamplingMode:wme,InterpolationSamplingType:Sme,InvertStencilOp:ame,KeepStencilOp:Wp,KeyframeTrack:Sc,LOD:BY,LatheGeometry:kC,Layers:Q0,LessCompare:AY,LessDepth:qM,LessEqualCompare:YL,LessEqualDepth:Fm,LessEqualStencilFunc:cme,LessStencilFunc:ome,Light:Kd,LightProbe:gJ,Line:fh,Line3:AJ,LineBasicMaterial:Bs,LineCurve:cP,LineCurve3:qY,LineDashedMaterial:rJ,LineLoop:nP,LineSegments:hu,LinearFilter:Gi,LinearInterpolant:bP,LinearMipMapLinearFilter:hN,LinearMipMapNearestFilter:Ype,LinearMipmapLinearFilter:rc,LinearMipmapNearestFilter:d0,LinearSRGBColorSpace:lu,LinearToneMapping:hY,LinearTransfer:T1,Loader:ws,LoaderUtils:Cd,LoadingManager:UC,LoopOnce:yY,LoopPingPong:xY,LoopRepeat:vY,MOUSE:Gpe,Material:Ta,MaterialLoader:zC,MathUtils:ac,Matrix2:TP,Matrix3:qn,Matrix4:kt,MaxEquation:JK,Mesh:Di,MeshBasicMaterial:uo,MeshDepthMaterial:pP,MeshDistanceMaterial:mP,MeshLambertMaterial:nJ,MeshMatcapMaterial:iJ,MeshNormalMaterial:tJ,MeshPhongMaterial:eJ,MeshPhysicalMaterial:_c,MeshStandardMaterial:By,MeshToonMaterial:RA,MinEquation:YK,MirroredRepeatWrapping:G0,MixOperation:uY,MultiplyBlending:fN,MultiplyOperation:x_,NearestFilter:Ja,NearestMipMapLinearFilter:Kpe,NearestMipMapNearestFilter:Xpe,NearestMipmapLinearFilter:im,NearestMipmapNearestFilter:lC,NeutralToneMapping:bY,NeverCompare:MY,NeverDepth:GM,NeverStencilFunc:sme,NoBlending:qu,NoColorSpace:qc,NoToneMapping:Xu,NormalAnimationBlendMode:pC,NormalBlending:Mm,NotEqualCompare:RY,NotEqualDepth:JM,NotEqualStencilFunc:fme,NumberKeyframeTrack:Bm,Object3D:Ei,ObjectLoader:bbe,ObjectSpaceNormalMap:EY,OctahedronGeometry:A_,OneFactor:ZK,OneMinusConstantAlphaFactor:cY,OneMinusConstantColorFactor:oY,OneMinusDstAlphaFactor:nY,OneMinusDstColorFactor:rY,OneMinusSrcAlphaFactor:VM,OneMinusSrcColorFactor:eY,OrthographicCamera:vh,PCFShadowMap:oC,PCFSoftShadowMap:jx,PMREMGenerator:_N,Path:CA,PerspectiveCamera:Xr,Plane:Hc,PlaneGeometry:Xd,PlaneHelper:i0e,PointLight:SP,PointLightHelper:Kbe,Points:iP,PointsMaterial:wC,PolarGridHelper:Zbe,PolyhedronGeometry:qd,PositionalAudio:Ebe,PropertyBinding:Ci,PropertyMixer:_J,QuadraticBezierCurve:uP,QuadraticBezierCurve3:fP,Quaternion:Hn,QuaternionKeyframeTrack:Hm,QuaternionLinearInterpolant:cJ,RED_GREEN_RGTC2_Format:_A,RED_RGTC1_Format:qL,REVISION:Ny,RGBADepthPacking:wY,RGBAFormat:Yr,RGBAIntegerFormat:Py,RGBA_ASTC_10x10_Format:mA,RGBA_ASTC_10x5_Format:hA,RGBA_ASTC_10x6_Format:dA,RGBA_ASTC_10x8_Format:pA,RGBA_ASTC_12x10_Format:gA,RGBA_ASTC_12x12_Format:bA,RGBA_ASTC_4x4_Format:rA,RGBA_ASTC_5x4_Format:aA,RGBA_ASTC_5x5_Format:sA,RGBA_ASTC_6x5_Format:oA,RGBA_ASTC_6x6_Format:lA,RGBA_ASTC_8x5_Format:cA,RGBA_ASTC_8x6_Format:uA,RGBA_ASTC_8x8_Format:fA,RGBA_BPTC_Format:Wx,RGBA_ETC2_EAC_Format:iA,RGBA_PVRTC_2BPPV1_Format:eA,RGBA_PVRTC_4BPPV1_Format:QM,RGBA_S3TC_DXT1_Format:Hx,RGBA_S3TC_DXT3_Format:Vx,RGBA_S3TC_DXT5_Format:Gx,RGBDepthPacking:$pe,RGBFormat:WL,RGBIntegerFormat:Jpe,RGB_BPTC_SIGNED_Format:yA,RGB_BPTC_UNSIGNED_Format:vA,RGB_ETC1_Format:tA,RGB_ETC2_Format:nA,RGB_PVRTC_2BPPV1_Format:ZM,RGB_PVRTC_4BPPV1_Format:$M,RGB_S3TC_DXT1_Format:Bx,RGDepthPacking:Zpe,RGFormat:dC,RGIntegerFormat:__,RawShaderMaterial:QY,Ray:of,Raycaster:T_,RectAreaLight:pJ,RedFormat:yh,RedIntegerFormat:Ly,ReinhardToneMapping:dY,RenderTarget:$L,RenderTarget3D:Ube,RepeatWrapping:Fd,ReplaceStencilOp:eme,ReverseSubtractEquation:KK,RingGeometry:DC,SIGNED_RED_GREEN_RGTC2_Format:SA,SIGNED_RED_RGTC1_Format:xA,SRGBColorSpace:us,SRGBTransfer:ar,Scene:Uy,ShaderChunk:on,ShaderLib:Vc,ShaderMaterial:Za,ShadowMaterial:ZY,Shape:Tm,ShapeGeometry:NC,ShapePath:s0e,ShapeUtils:Qc,ShortType:uC,Skeleton:Fy,SkeletonHelper:Xbe,SkinnedMesh:xC,Source:bd,Sphere:Or,SphereGeometry:jy,Spherical:MJ,SphericalHarmonics3:mJ,SplineCurve:hP,SpotLight:_P,SpotLightHelper:qbe,Sprite:jY,SpriteMaterial:tP,SrcAlphaFactor:HM,SrcAlphaSaturateFactor:aY,SrcColorFactor:QK,StaticCopyUsage:bme,StaticDrawUsage:C1,StaticReadUsage:pme,StereoCamera:xbe,StreamCopyUsage:vme,StreamDrawUsage:dme,StreamReadUsage:gme,StringKeyframeTrack:cg,SubtractEquation:XK,SubtractiveBlending:uN,TOUCH:Wpe,TangentSpaceNormalMap:Gd,TetrahedronGeometry:IC,Texture:er,TextureLoader:iy,TextureUtils:h0e,Timer:jbe,TimestampQuery:_me,TorusGeometry:OC,TorusKnotGeometry:LC,Triangle:Ao,TriangleFanDrawMode:wA,TriangleStripDrawMode:KL,TrianglesDrawMode:_Y,TubeGeometry:PC,UVMapping:Pd,Uint16BufferAttribute:ZL,Uint32BufferAttribute:QL,Uint8BufferAttribute:rge,Uint8ClampedBufferAttribute:age,Uniform:BC,UniformsGroup:zbe,UniformsLib:Zt,UniformsUtils:k1,UnsignedByteType:ho,UnsignedInt248Type:q0,UnsignedInt5999Type:VL,UnsignedIntType:dc,UnsignedShort4444Type:fC,UnsignedShort5551Type:hC,UnsignedShortType:W0,VSMShadowMap:Fc,Vector2:yt,Vector3:Q,Vector4:ni,VectorKeyframeTrack:Vm,VideoFrameTexture:Tge,VideoTexture:VY,WebGL3DRenderTarget:qme,WebGLArrayRenderTarget:Wme,WebGLCoordinateSystem:ll,WebGLCubeRenderTarget:eP,WebGLRenderTarget:pc,WebGLRenderer:kP,WebGLUtils:RP,WebGPUCoordinateSystem:$0,WebXRController:VE,WireframeGeometry:dP,WrapAroundEnding:A1,ZeroCurvatureEnding:rm,ZeroFactor:$K,ZeroSlopeEnding:am,ZeroStencilOp:Qpe,createCanvasElement:IY},Symbol.toStringTag,{value:"Module"}));var OJ={exports:{}},Yd={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Yd.ConcurrentRoot=1;Yd.ContinuousEventPriority=8;Yd.DefaultEventPriority=32;Yd.DiscreteEventPriority=2;Yd.IdleEventPriority=268435456;Yd.LegacyRoot=0;Yd.NoEventPriority=0;OJ.exports=Yd;var WE=OJ.exports,LJ={exports:{}},PJ={},UJ={exports:{}},FJ={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry=I;function K1e(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Y1e=typeof Object.is=="function"?Object.is:K1e,J1e=ry.useState,$1e=ry.useEffect,Z1e=ry.useLayoutEffect,Q1e=ry.useDebugValue;function e_e(t,e){var n=e(),i=J1e({inst:{value:n,getSnapshot:e}}),r=i[0].inst,a=i[1];return Z1e(function(){r.value=n,r.getSnapshot=e,pk(r)&&a({inst:r})},[t,n,e]),$1e(function(){return pk(r)&&a({inst:r}),t(function(){pk(r)&&a({inst:r})})},[t]),Q1e(n),n}function pk(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Y1e(t,n)}catch{return!0}}function t_e(t,e){return e()}var n_e=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?t_e:e_e;FJ.useSyncExternalStore=ry.useSyncExternalStore!==void 0?ry.useSyncExternalStore:n_e;UJ.exports=FJ;var i_e=UJ.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VC=I,r_e=i_e;function a_e(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var s_e=typeof Object.is=="function"?Object.is:a_e,o_e=r_e.useSyncExternalStore,l_e=VC.useRef,c_e=VC.useEffect,u_e=VC.useMemo,f_e=VC.useDebugValue;PJ.useSyncExternalStoreWithSelector=function(t,e,n,i,r){var a=l_e(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=u_e(function(){function l(d){if(!c){if(c=!0,u=d,d=i(d),r!==void 0&&s.hasValue){var b=s.value;if(r(b,d))return f=b}return f=d}if(b=f,s_e(u,d))return b;var y=i(d);return r!==void 0&&r(b,y)?(u=d,b):(u=d,f=y)}var c=!1,u,f,h=n===void 0?null:n;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,n,i,r]);var o=o_e(t,a[0],a[1]);return c_e(function(){s.hasValue=!0,s.value=o},[o]),f_e(o),o};LJ.exports=PJ;var h_e=LJ.exports;const zJ=mc(h_e),bB=t=>{let e;const n=new Set,i=(c,u)=>{const f=typeof c=="function"?c(e):c;if(!Object.is(f,e)){const h=e;e=u??(typeof f!="object"||f===null)?f:Object.assign({},e,f),n.forEach(d=>d(e,h))}},r=()=>e,o={setState:i,getState:r,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c))},l=e=t(i,r,o);return o},d_e=t=>t?bB(t):bB,{useSyncExternalStoreWithSelector:p_e}=zJ,m_e=t=>t;function g_e(t,e=m_e,n){const i=p_e(t.subscribe,t.getState,t.getInitialState,e,n);return ke.useDebugValue(i),i}const yB=(t,e)=>{const n=d_e(t),i=(r,a=e)=>g_e(n,r,a);return Object.assign(i,n),i},jJ=(t,e)=>t?yB(t,e):yB,b_e=t=>typeof t=="object"&&typeof t.then=="function",lm=[];function BJ(t,e,n=(i,r)=>i===r){if(t===e)return!0;if(!t||!e)return!1;const i=t.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!n(t[r],e[r]))return!1;return!0}function HJ(t,e=null,n=!1,i={}){e===null&&(e=[t]);for(const a of lm)if(BJ(e,a.keys,a.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(a,"error"))throw a.error;if(Object.prototype.hasOwnProperty.call(a,"response"))return i.lifespan&&i.lifespan>0&&(a.timeout&&clearTimeout(a.timeout),a.timeout=setTimeout(a.remove,i.lifespan)),a.response;if(!n)throw a.promise}const r={keys:e,equal:i.equal,remove:()=>{const a=lm.indexOf(r);a!==-1&&lm.splice(a,1)},promise:(b_e(t)?t:t(...e)).then(a=>{r.response=a,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(a=>r.error=a)};if(lm.push(r),!n)throw r.promise}const y_e=(t,e,n)=>HJ(t,e,!1,n),v_e=(t,e,n)=>void HJ(t,e,!0,n),x_e=t=>{if(t===void 0||t.length===0)lm.splice(0,lm.length);else{const e=lm.find(n=>BJ(t,n.keys,n.equal));e&&e.remove()}};var VJ={exports:{}},GJ={exports:{}},WJ={exports:{}},qJ={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,F){var q=U.length;U.push(F);e:for(;0<q;){var X=q-1>>>1,z=U[X];if(0<r(z,F))U[X]=F,U[q]=z,q=X;else break e}}function n(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var F=U[0],q=U.pop();if(q!==F){U[0]=q;e:for(var X=0,z=U.length,oe=z>>>1;X<oe;){var fe=2*(X+1)-1,K=U[fe],Me=fe+1,_e=U[Me];if(0>r(K,q))Me<z&&0>r(_e,K)?(U[X]=_e,U[Me]=q,X=Me):(U[X]=K,U[fe]=q,X=fe);else if(Me<z&&0>r(_e,q))U[X]=_e,U[Me]=q,X=Me;else break e}}return F}function r(U,F){var q=U.sortIndex-F.sortIndex;return q!==0?q:U.id-F.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,f=null,h=3,d=!1,b=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function _(U){for(var F=n(c);F!==null;){if(F.callback===null)i(c);else if(F.startTime<=U)i(c),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(c)}}function E(U){if(y=!1,_(U),!b)if(n(l)!==null)b=!0,H();else{var F=n(c);F!==null&&V(E,F.startTime-U)}}var A=!1,w=-1,T=5,k=-1;function N(){return!(t.unstable_now()-k<T)}function D(){if(A){var U=t.unstable_now();k=U;var F=!0;try{e:{b=!1,y&&(y=!1,m(w),w=-1),d=!0;var q=h;try{t:{for(_(U),f=n(l);f!==null&&!(f.expirationTime>U&&N());){var X=f.callback;if(typeof X=="function"){f.callback=null,h=f.priorityLevel;var z=X(f.expirationTime<=U);if(U=t.unstable_now(),typeof z=="function"){f.callback=z,_(U),F=!0;break t}f===n(l)&&i(l),_(U)}else i(l);f=n(l)}if(f!==null)F=!0;else{var oe=n(c);oe!==null&&V(E,oe.startTime-U),F=!1}}break e}finally{f=null,h=q,d=!1}F=void 0}}finally{F?P():A=!1}}}var P;if(typeof x=="function")P=function(){x(D)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,G=B.port2;B.port1.onmessage=D,P=function(){G.postMessage(null)}}else P=function(){v(D,0)};function H(){A||(A=!0,P())}function V(U,F){w=v(function(){U(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){b||d||(b=!0,H())},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var q=h;h=F;try{return U()}finally{h=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,F){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var q=h;h=U;try{return F()}finally{h=q}},t.unstable_scheduleCallback=function(U,F,q){var X=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?X+q:X):q=X,U){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=q+z,U={id:u++,callback:F,priorityLevel:U,startTime:q,expirationTime:z,sortIndex:-1},q>X?(U.sortIndex=q,e(c,U),n(l)===null&&U===n(c)&&(y?(m(w),w=-1):y=!0,V(E,q-X))):(U.sortIndex=z,e(l,U),b||d||(b=!0,H())),U},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(U){var F=h;return function(){var q=h;h=F;try{return U.apply(this,arguments)}finally{h=q}}}})(qJ);WJ.exports=qJ;var wN=WJ.exports;/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){t.exports=function(e){function n(p,g,M,R){return new yte(p,g,M,R)}function i(){}function r(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var M=2;M<arguments.length;M++)g+="&args[]="+encodeURIComponent(arguments[M])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(p){return p===null||typeof p!="object"?null:(p=x9&&p[x9]||p["@@iterator"],typeof p=="function"?p:null)}function s(p){if(p==null)return null;if(typeof p=="function")return p.$$typeof===Ete?null:p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case yg:return"Fragment";case bg:return"Portal";case B2:return"Profiler";case b9:return"StrictMode";case V2:return"Suspense";case G2:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case Th:return(p.displayName||"Context")+".Provider";case y9:return(p._context.displayName||"Context")+".Consumer";case H2:var g=p.render;return p=p.displayName,p||(p=g.displayName||g.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case W2:return g=p.displayName||null,g!==null?g:s(p.type)||"Memo";case Ch:g=p._payload,p=p._init;try{return s(p(g))}catch{}}return null}function o(p){if(q2===void 0)try{throw Error()}catch(M){var g=M.stack.trim().match(/\n( *(at )?)/);q2=g&&g[1]||"",_9=-1<M.stack.indexOf(`
    at`)?" (<anonymous>)":-1<M.stack.indexOf("@")?"@unknown:0:0":""}return`
`+q2+p+_9}function l(p,g){if(!p||X2)return"";X2=!0;var M=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var R={DetermineComponentFrameRoot:function(){try{if(g){var tn=function(){throw Error()};if(Object.defineProperty(tn.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tn,[])}catch(Kn){var an=Kn}Reflect.construct(p,[],tn)}else{try{tn.call()}catch(Kn){an=Kn}p.call(tn.prototype)}}else{try{throw Error()}catch(Kn){an=Kn}(tn=p())&&typeof tn.catch=="function"&&tn.catch(function(){})}}catch(Kn){if(Kn&&an&&typeof Kn.stack=="string")return[Kn.stack,an.stack]}return[null,null]}};R.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var L=Object.getOwnPropertyDescriptor(R.DetermineComponentFrameRoot,"name");L&&L.configurable&&Object.defineProperty(R.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var j=R.DetermineComponentFrameRoot(),ce=j[0],Ce=j[1];if(ce&&Ce){var He=ce.split(`
`),St=Ce.split(`
`);for(L=R=0;R<He.length&&!He[R].includes("DetermineComponentFrameRoot");)R++;for(;L<St.length&&!St[L].includes("DetermineComponentFrameRoot");)L++;if(R===He.length||L===St.length)for(R=He.length-1,L=St.length-1;1<=R&&0<=L&&He[R]!==St[L];)L--;for(;1<=R&&0<=L;R--,L--)if(He[R]!==St[L]){if(R!==1||L!==1)do if(R--,L--,0>L||He[R]!==St[L]){var Gt=`
`+He[R].replace(" at new "," at ");return p.displayName&&Gt.includes("<anonymous>")&&(Gt=Gt.replace("<anonymous>",p.displayName)),Gt}while(1<=R&&0<=L);break}}}finally{X2=!1,Error.prepareStackTrace=M}return(M=p?p.displayName||p.name:"")?o(M):""}function c(p){switch(p.tag){case 26:case 27:case 5:return o(p.type);case 16:return o("Lazy");case 13:return o("Suspense");case 19:return o("SuspenseList");case 0:case 15:return p=l(p.type,!1),p;case 11:return p=l(p.type.render,!1),p;case 1:return p=l(p.type,!0),p;default:return""}}function u(p){try{var g="";do g+=c(p),p=p.return;while(p);return g}catch(M){return`
Error generating stack: `+M.message+`
`+M.stack}}function f(p){var g=p,M=p;if(p.alternate)for(;g.return;)g=g.return;else{p=g;do g=p,g.flags&4098&&(M=g.return),p=g.return;while(p)}return g.tag===3?M:null}function h(p){if(f(p)!==p)throw Error(r(188))}function d(p){var g=p.alternate;if(!g){if(g=f(p),g===null)throw Error(r(188));return g!==p?null:p}for(var M=p,R=g;;){var L=M.return;if(L===null)break;var j=L.alternate;if(j===null){if(R=L.return,R!==null){M=R;continue}break}if(L.child===j.child){for(j=L.child;j;){if(j===M)return h(L),p;if(j===R)return h(L),g;j=j.sibling}throw Error(r(188))}if(M.return!==R.return)M=L,R=j;else{for(var ce=!1,Ce=L.child;Ce;){if(Ce===M){ce=!0,M=L,R=j;break}if(Ce===R){ce=!0,R=L,M=j;break}Ce=Ce.sibling}if(!ce){for(Ce=j.child;Ce;){if(Ce===M){ce=!0,M=j,R=L;break}if(Ce===R){ce=!0,R=j,M=L;break}Ce=Ce.sibling}if(!ce)throw Error(r(189))}}if(M.alternate!==R)throw Error(r(190))}if(M.tag!==3)throw Error(r(188));return M.stateNode.current===M?p:g}function b(p){var g=p.tag;if(g===5||g===26||g===27||g===6)return p;for(p=p.child;p!==null;){if(g=b(p),g!==null)return g;p=p.sibling}return null}function y(p){var g=p.tag;if(g===5||g===26||g===27||g===6)return p;for(p=p.child;p!==null;){if(p.tag!==4&&(g=y(p),g!==null))return g;p=p.sibling}return null}function v(p){return{current:p}}function m(p){0>xg||(p.current=Q2[xg],Q2[xg]=null,xg--)}function x(p,g){xg++,Q2[xg]=p.current,p.current=g}function _(p){return p>>>=0,p===0?32:31-(zne(p)/jne|0)|0}function E(p){var g=p&42;if(g!==0)return g;switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return p&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return p}}function A(p,g){var M=p.pendingLanes;if(M===0)return 0;var R=0,L=p.suspendedLanes,j=p.pingedLanes,ce=p.warmLanes;p=p.finishedLanes!==0;var Ce=M&134217727;return Ce!==0?(M=Ce&~L,M!==0?R=E(M):(j&=Ce,j!==0?R=E(j):p||(ce=Ce&~ce,ce!==0&&(R=E(ce))))):(Ce=M&~L,Ce!==0?R=E(Ce):j!==0?R=E(j):p||(ce=M&~ce,ce!==0&&(R=E(ce)))),R===0?0:g!==0&&g!==R&&!(g&L)&&(L=R&-R,ce=g&-g,L>=ce||L===32&&(ce&4194176)!==0)?g:R}function w(p,g){return(p.pendingLanes&~(p.suspendedLanes&~p.pingedLanes)&g)===0}function T(p,g){switch(p){case 1:case 2:case 4:case 8:return g+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function k(){var p=Z_;return Z_<<=1,!(Z_&4194176)&&(Z_=128),p}function N(){var p=Q_;return Q_<<=1,!(Q_&62914560)&&(Q_=4194304),p}function D(p){for(var g=[],M=0;31>M;M++)g.push(p);return g}function P(p,g){p.pendingLanes|=g,g!==268435456&&(p.suspendedLanes=0,p.pingedLanes=0,p.warmLanes=0)}function B(p,g,M,R,L,j){var ce=p.pendingLanes;p.pendingLanes=M,p.suspendedLanes=0,p.pingedLanes=0,p.warmLanes=0,p.expiredLanes&=M,p.entangledLanes&=M,p.errorRecoveryDisabledLanes&=M,p.shellSuspendCounter=0;var Ce=p.entanglements,He=p.expirationTimes,St=p.hiddenUpdates;for(M=ce&~M;0<M;){var Gt=31-qo(M),tn=1<<Gt;Ce[Gt]=0,He[Gt]=-1;var an=St[Gt];if(an!==null)for(St[Gt]=null,Gt=0;Gt<an.length;Gt++){var Kn=an[Gt];Kn!==null&&(Kn.lane&=-536870913)}M&=~tn}R!==0&&G(p,R,0),j!==0&&L===0&&p.tag!==0&&(p.suspendedLanes|=j&~(ce&~g))}function G(p,g,M){p.pendingLanes|=g,p.suspendedLanes&=~g;var R=31-qo(g);p.entangledLanes|=g,p.entanglements[R]=p.entanglements[R]|1073741824|M&4194218}function H(p,g){var M=p.entangledLanes|=g;for(p=p.entanglements;M;){var R=31-qo(M),L=1<<R;L&g|p[R]&g&&(p[R]|=g),M&=~L}}function V(p){return p&=-p,2<p?8<p?p&134217727?32:268435456:8:2}function U(p){if(Xo&&typeof Xo.onCommitFiberRoot=="function")try{Xo.onCommitFiberRoot(rv,p,void 0,(p.current.flags&128)===128)}catch{}}function F(p){if(typeof Wne=="function"&&qne(p),Xo&&typeof Xo.setStrictMode=="function")try{Xo.setStrictMode(rv,p)}catch{}}function q(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}function X(p,g){if(typeof p=="object"&&p!==null){var M=X9.get(p);return M!==void 0?M:(g={value:p,source:g,stack:u(g)},X9.set(p,g),g)}return{value:p,source:g,stack:u(g)}}function z(p,g){Sg[wg++]=nS,Sg[wg++]=tS,tS=p,nS=g}function oe(p,g,M){Rl[kl++]=gf,Rl[kl++]=bf,Rl[kl++]=lp,lp=p;var R=gf;p=bf;var L=32-qo(R)-1;R&=~(1<<L),M+=1;var j=32-qo(g)+L;if(30<j){var ce=L-L%5;j=(R&(1<<ce)-1).toString(32),R>>=ce,L-=ce,gf=1<<32-qo(g)+L|M<<L|R,bf=j+p}else gf=1<<j|M<<L|R,bf=p}function fe(p){p.return!==null&&(z(p,1),oe(p,1,0))}function K(p){for(;p===tS;)tS=Sg[--wg],Sg[wg]=null,nS=Sg[--wg],Sg[wg]=null;for(;p===lp;)lp=Rl[--kl],Rl[kl]=null,bf=Rl[--kl],Rl[kl]=null,gf=Rl[--kl],Rl[kl]=null}function Me(p,g){x(kh,g),x(av,p),x(es,null),p=Tte(g),m(es),x(es,p)}function _e(){m(es),m(av),m(kh)}function pe(p){p.memoizedState!==null&&x(iS,p);var g=es.current,M=Cte(g,p.type);g!==M&&(x(av,p),x(es,M))}function xe(p){av.current===p&&(m(es),m(av)),iS.current===p&&(m(iS),mf?op._currentValue=vg:op._currentValue2=vg)}function Oe(p){var g=Error(r(418,""));throw he(X(g,p)),nR}function Ge(p,g){if(!Tl)throw Error(r(175));_ne(p.stateNode,p.type,p.memoizedProps,g,p)||Oe(p)}function Ye(p){for(Zs=p.return;Zs;)switch(Zs.tag){case 3:case 27:bu=!0;return;case 5:case 13:bu=!1;return;default:Zs=Zs.return}}function ct(p){if(!Tl||p!==Zs)return!1;if(!Oi)return Ye(p),Oi=!0,!1;var g=!1;if(ks?p.tag!==3&&p.tag!==27&&(p.tag!==5||P9(p.type)&&!$_(p.type,p.memoizedProps))&&(g=!0):p.tag!==3&&(p.tag!==5||P9(p.type)&&!$_(p.type,p.memoizedProps))&&(g=!0),g&&Ds&&Oe(p),Ye(p),p.tag===13){if(!Tl)throw Error(r(316));if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));Ds=Ene(p)}else Ds=Zs?O9(p.stateNode):null;return!0}function Tt(){Tl&&(Ds=Zs=null,Oi=!1)}function he(p){Rc===null?Rc=[p]:Rc.push(p)}function Ve(){for(var p=Eg,g=iR=Eg=0;g<p;){var M=Dl[g];Dl[g++]=null;var R=Dl[g];Dl[g++]=null;var L=Dl[g];Dl[g++]=null;var j=Dl[g];if(Dl[g++]=null,R!==null&&L!==null){var ce=R.pending;ce===null?L.next=L:(L.next=ce.next,ce.next=L),R.pending=L}j!==0&&Ue(M,L,j)}}function Be(p,g,M,R){Dl[Eg++]=p,Dl[Eg++]=g,Dl[Eg++]=M,Dl[Eg++]=R,iR|=R,p.lanes|=R,p=p.alternate,p!==null&&(p.lanes|=R)}function ot(p,g,M,R){return Be(p,g,M,R),Ne(p)}function Ae(p,g){return Be(p,null,null,g),Ne(p)}function Ue(p,g,M){p.lanes|=M;var R=p.alternate;R!==null&&(R.lanes|=M);for(var L=!1,j=p.return;j!==null;)j.childLanes|=M,R=j.alternate,R!==null&&(R.childLanes|=M),j.tag===22&&(p=j.stateNode,p===null||p._visibility&1||(L=!0)),p=j,j=j.return;L&&g!==null&&p.tag===3&&(j=p.stateNode,L=31-qo(M),j=j.hiddenUpdates,p=j[L],p===null?j[L]=[g]:p.push(g),g.lane=M|536870912)}function Ne(p){if(50<pv)throw pv=0,vR=null,Error(r(185));for(var g=p.return;g!==null;)p=g,g=p.return;return p.tag===3?p.stateNode:null}function We(p){p!==Mg&&p.next===null&&(Mg===null?rS=Mg=p:Mg=Mg.next=p),aS=!0,rR||(rR=!0,se(vt))}function Et(p,g){if(!aR&&aS){aR=!0;do for(var M=!1,R=rS;R!==null;){if(p!==0){var L=R.pendingLanes;if(L===0)var j=0;else{var ce=R.suspendedLanes,Ce=R.pingedLanes;j=(1<<31-qo(42|p)+1)-1,j&=L&~(ce&~Ce),j=j&201326677?j&201326677|1:j?j|2:0}j!==0&&(M=!0,ue(R,j))}else j=Ti,j=A(R,R===Sr?j:0),!(j&3)||w(R,j)||(M=!0,ue(R,j));R=R.next}while(M);aR=!1}}function vt(){aS=rR=!1;var p=0;Ag!==0&&(Pte()&&(p=Ag),Ag=0);for(var g=Cc(),M=null,R=rS;R!==null;){var L=R.next,j=re(R,g);j===0?(R.next=null,M===null?rS=L:M.next=L,L===null&&(Mg=M)):(M=R,(p!==0||j&3)&&(aS=!0)),R=L}Et(p)}function re(p,g){for(var M=p.suspendedLanes,R=p.pingedLanes,L=p.expirationTimes,j=p.pendingLanes&-62914561;0<j;){var ce=31-qo(j),Ce=1<<ce,He=L[ce];He===-1?(!(Ce&M)||Ce&R)&&(L[ce]=T(Ce,g)):He<=g&&(p.expiredLanes|=Ce),j&=~Ce}if(g=Sr,M=Ti,M=A(p,p===g?M:0),R=p.callbackNode,M===0||p===g&&wr===2||p.cancelPendingCommit!==null)return R!==null&&R!==null&&eR(R),p.callbackNode=null,p.callbackPriority=0;if(!(M&3)||w(p,M)){if(g=M&-M,g===p.callbackPriority)return g;switch(R!==null&&eR(R),V(M)){case 2:case 8:M=Vne;break;case 32:M=tR;break;case 268435456:M=Gne;break;default:M=tR}return R=J.bind(null,p),M=eS(M,R),p.callbackPriority=g,p.callbackNode=M,g}return R!==null&&R!==null&&eR(R),p.callbackPriority=2,p.callbackNode=null,2}function J(p,g){var M=p.callbackNode;if(rp()&&p.callbackNode!==M)return null;var R=Ti;return R=A(p,p===Sr?R:0),R===0?null:(JU(p,R,g),re(p,Cc()),p.callbackNode!=null&&p.callbackNode===M?J.bind(null,p):null)}function ue(p,g){if(rp())return null;JU(p,g,!0)}function se(p){Hte?Vte(function(){ur&6?eS(q9,p):p()}):eS(q9,p)}function be(){return Ag===0&&(Ag=k()),Ag}function $(p,g){if(sv===null){var M=sv=[];sR=0,Tg=be(),Cg={status:"pending",value:void 0,then:function(R){M.push(R)}}}return sR++,g.then(Ke,Ke),g}function Ke(){if(--sR===0&&sv!==null){Cg!==null&&(Cg.status="fulfilled");var p=sv;sv=null,Tg=0,Cg=null;for(var g=0;g<p.length;g++)(0,p[g])()}}function tt(p,g){var M=[],R={status:"pending",value:null,reason:null,then:function(L){M.push(L)}};return p.then(function(){R.status="fulfilled",R.value=g;for(var L=0;L<M.length;L++)(0,M[L])(g)},function(L){for(R.status="rejected",R.reason=L,L=0;L<M.length;L++)(0,M[L])(void 0)}),R}function pt(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ze(p,g){p=p.updateQueue,g.updateQueue===p&&(g.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,callbacks:null})}function rt(p){return{lane:p,tag:0,payload:null,callback:null,next:null}}function $e(p,g,M){var R=p.updateQueue;if(R===null)return null;if(R=R.shared,ur&2){var L=R.pending;return L===null?g.next=g:(g.next=L.next,L.next=g),R.pending=g,g=Ne(p),Ue(p,null,M),g}return Be(p,R,g,M),Ne(p)}function Xt(p,g,M){if(g=g.updateQueue,g!==null&&(g=g.shared,(M&4194176)!==0)){var R=g.lanes;R&=p.pendingLanes,M|=R,g.lanes=M,H(p,M)}}function Ot(p,g){var M=p.updateQueue,R=p.alternate;if(R!==null&&(R=R.updateQueue,M===R)){var L=null,j=null;if(M=M.firstBaseUpdate,M!==null){do{var ce={lane:M.lane,tag:M.tag,payload:M.payload,callback:null,next:null};j===null?L=j=ce:j=j.next=ce,M=M.next}while(M!==null);j===null?L=j=g:j=j.next=g}else L=j=g;M={baseState:R.baseState,firstBaseUpdate:L,lastBaseUpdate:j,shared:R.shared,callbacks:R.callbacks},p.updateQueue=M;return}p=M.lastBaseUpdate,p===null?M.firstBaseUpdate=g:p.next=g,M.lastBaseUpdate=g}function ft(){if(oR){var p=Cg;if(p!==null)throw p}}function jt(p,g,M,R){oR=!1;var L=p.updateQueue;Dh=!1;var j=L.firstBaseUpdate,ce=L.lastBaseUpdate,Ce=L.shared.pending;if(Ce!==null){L.shared.pending=null;var He=Ce,St=He.next;He.next=null,ce===null?j=St:ce.next=St,ce=He;var Gt=p.alternate;Gt!==null&&(Gt=Gt.updateQueue,Ce=Gt.lastBaseUpdate,Ce!==ce&&(Ce===null?Gt.firstBaseUpdate=St:Ce.next=St,Gt.lastBaseUpdate=He))}if(j!==null){var tn=L.baseState;ce=0,Gt=St=He=null,Ce=j;do{var an=Ce.lane&-536870913,Kn=an!==Ce.lane;if(Kn?(Ti&an)===an:(R&an)===an){an!==0&&an===Tg&&(oR=!0),Gt!==null&&(Gt=Gt.next={lane:0,tag:Ce.tag,payload:Ce.payload,callback:null,next:null});e:{var Ol=p,mv=Ce;an=g;var bp=M;switch(mv.tag){case 1:if(Ol=mv.payload,typeof Ol=="function"){tn=Ol.call(bp,tn,an);break e}tn=Ol;break e;case 3:Ol.flags=Ol.flags&-65537|128;case 0:if(Ol=mv.payload,an=typeof Ol=="function"?Ol.call(bp,tn,an):Ol,an==null)break e;tn=j2({},tn,an);break e;case 2:Dh=!0}}an=Ce.callback,an!==null&&(p.flags|=64,Kn&&(p.flags|=8192),Kn=L.callbacks,Kn===null?L.callbacks=[an]:Kn.push(an))}else Kn={lane:an,tag:Ce.tag,payload:Ce.payload,callback:Ce.callback,next:null},Gt===null?(St=Gt=Kn,He=tn):Gt=Gt.next=Kn,ce|=an;if(Ce=Ce.next,Ce===null){if(Ce=L.shared.pending,Ce===null)break;Kn=Ce,Ce=Kn.next,Kn.next=null,L.lastBaseUpdate=Kn,L.shared.pending=null}}while(!0);Gt===null&&(He=tn),L.baseState=He,L.firstBaseUpdate=St,L.lastBaseUpdate=Gt,j===null&&(L.shared.lanes=0),Oh|=ce,p.lanes=ce,p.memoizedState=tn}}function Re(p,g){if(typeof p!="function")throw Error(r(191,p));p.call(g)}function Fe(p,g){var M=p.callbacks;if(M!==null)for(p.callbacks=null,p=0;p<M.length;p++)Re(M[p],g)}function wt(p,g){if(Ko(p,g))return!0;if(typeof p!="object"||p===null||typeof g!="object"||g===null)return!1;var M=Object.keys(p),R=Object.keys(g);if(M.length!==R.length)return!1;for(R=0;R<M.length;R++){var L=M[R];if(!Xne.call(g,L)||!Ko(p[L],g[L]))return!1}return!0}function Wt(p){return p=p.status,p==="fulfilled"||p==="rejected"}function ut(){}function mt(p,g,M){switch(M=p[M],M===void 0?p.push(g):M!==g&&(g.then(ut,ut),g=M),g.status){case"fulfilled":return g.value;case"rejected":throw p=g.reason,p===ov?Error(r(483)):p;default:if(typeof g.status=="string")g.then(ut,ut);else{if(p=Sr,p!==null&&100<p.shellSuspendCounter)throw Error(r(482));p=g,p.status="pending",p.then(function(R){if(g.status==="pending"){var L=g;L.status="fulfilled",L.value=R}},function(R){if(g.status==="pending"){var L=g;L.status="rejected",L.reason=R}})}switch(g.status){case"fulfilled":return g.value;case"rejected":throw p=g.reason,p===ov?Error(r(483)):p}throw Rg=g,ov}}function Mt(){if(Rg===null)throw Error(r(459));var p=Rg;return Rg=null,p}function gn(p){var g=lv;return lv+=1,kg===null&&(kg=[]),mt(kg,p,g)}function Gn(p,g){g=g.props.ref,p.ref=g!==void 0?g:null}function jn(p,g){throw g.$$typeof===_te?Error(r(525)):(p=Object.prototype.toString.call(g),Error(r(31,p==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":p)))}function Xi(p){var g=p._init;return g(p._payload)}function Wn(p){function g(Qe,je){if(p){var st=Qe.deletions;st===null?(Qe.deletions=[je],Qe.flags|=16):st.push(je)}}function M(Qe,je){if(!p)return null;for(;je!==null;)g(Qe,je),je=je.sibling;return null}function R(Qe){for(var je=new Map;Qe!==null;)Qe.key!==null?je.set(Qe.key,Qe):je.set(Qe.index,Qe),Qe=Qe.sibling;return je}function L(Qe,je){return Qe=Ah(Qe,je),Qe.index=0,Qe.sibling=null,Qe}function j(Qe,je,st){return Qe.index=st,p?(st=Qe.alternate,st!==null?(st=st.index,st<je?(Qe.flags|=33554434,je):st):(Qe.flags|=33554434,je)):(Qe.flags|=1048576,je)}function ce(Qe){return p&&Qe.alternate===null&&(Qe.flags|=33554434),Qe}function Ce(Qe,je,st,zt){return je===null||je.tag!==6?(je=U2(st,Qe.mode,zt),je.return=Qe,je):(je=L(je,st),je.return=Qe,je)}function He(Qe,je,st,zt){var vn=st.type;return vn===yg?Gt(Qe,je,st.props.children,zt,st.key):je!==null&&(je.elementType===vn||typeof vn=="object"&&vn!==null&&vn.$$typeof===Ch&&Xi(vn)===je.type)?(je=L(je,st.props),Gn(je,st),je.return=Qe,je):(je=K_(st.type,st.key,st.props,null,Qe.mode,zt),Gn(je,st),je.return=Qe,je)}function St(Qe,je,st,zt){return je===null||je.tag!==4||je.stateNode.containerInfo!==st.containerInfo||je.stateNode.implementation!==st.implementation?(je=F2(st,Qe.mode,zt),je.return=Qe,je):(je=L(je,st.children||[]),je.return=Qe,je)}function Gt(Qe,je,st,zt,vn){return je===null||je.tag!==7?(je=ap(st,Qe.mode,zt,vn),je.return=Qe,je):(je=L(je,st),je.return=Qe,je)}function tn(Qe,je,st){if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return je=U2(""+je,Qe.mode,st),je.return=Qe,je;if(typeof je=="object"&&je!==null){switch(je.$$typeof){case Y_:return st=K_(je.type,je.key,je.props,null,Qe.mode,st),Gn(st,je),st.return=Qe,st;case bg:return je=F2(je,Qe.mode,st),je.return=Qe,je;case Ch:var zt=je._init;return je=zt(je._payload),tn(Qe,je,st)}if(J_(je)||a(je))return je=ap(je,Qe.mode,st,null),je.return=Qe,je;if(typeof je.then=="function")return tn(Qe,gn(je),st);if(je.$$typeof===Th)return tn(Qe,en(Qe,je),st);jn(Qe,je)}return null}function an(Qe,je,st,zt){var vn=je!==null?je.key:null;if(typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint")return vn!==null?null:Ce(Qe,je,""+st,zt);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case Y_:return st.key===vn?He(Qe,je,st,zt):null;case bg:return st.key===vn?St(Qe,je,st,zt):null;case Ch:return vn=st._init,st=vn(st._payload),an(Qe,je,st,zt)}if(J_(st)||a(st))return vn!==null?null:Gt(Qe,je,st,zt,null);if(typeof st.then=="function")return an(Qe,je,gn(st),zt);if(st.$$typeof===Th)return an(Qe,je,en(Qe,st),zt);jn(Qe,st)}return null}function Kn(Qe,je,st,zt,vn){if(typeof zt=="string"&&zt!==""||typeof zt=="number"||typeof zt=="bigint")return Qe=Qe.get(st)||null,Ce(je,Qe,""+zt,vn);if(typeof zt=="object"&&zt!==null){switch(zt.$$typeof){case Y_:return Qe=Qe.get(zt.key===null?st:zt.key)||null,He(je,Qe,zt,vn);case bg:return Qe=Qe.get(zt.key===null?st:zt.key)||null,St(je,Qe,zt,vn);case Ch:var Rr=zt._init;return zt=Rr(zt._payload),Kn(Qe,je,st,zt,vn)}if(J_(zt)||a(zt))return Qe=Qe.get(st)||null,Gt(je,Qe,zt,vn,null);if(typeof zt.then=="function")return Kn(Qe,je,st,gn(zt),vn);if(zt.$$typeof===Th)return Kn(Qe,je,st,en(je,zt),vn);jn(je,zt)}return null}function Ol(Qe,je,st,zt){for(var vn=null,Rr=null,On=je,Li=je=0,Ba=null;On!==null&&Li<st.length;Li++){On.index>Li?(Ba=On,On=null):Ba=On.sibling;var Pi=an(Qe,On,st[Li],zt);if(Pi===null){On===null&&(On=Ba);break}p&&On&&Pi.alternate===null&&g(Qe,On),je=j(Pi,je,Li),Rr===null?vn=Pi:Rr.sibling=Pi,Rr=Pi,On=Ba}if(Li===st.length)return M(Qe,On),Oi&&z(Qe,Li),vn;if(On===null){for(;Li<st.length;Li++)On=tn(Qe,st[Li],zt),On!==null&&(je=j(On,je,Li),Rr===null?vn=On:Rr.sibling=On,Rr=On);return Oi&&z(Qe,Li),vn}for(On=R(On);Li<st.length;Li++)Ba=Kn(On,Qe,Li,st[Li],zt),Ba!==null&&(p&&Ba.alternate!==null&&On.delete(Ba.key===null?Li:Ba.key),je=j(Ba,je,Li),Rr===null?vn=Ba:Rr.sibling=Ba,Rr=Ba);return p&&On.forEach(function(Ph){return g(Qe,Ph)}),Oi&&z(Qe,Li),vn}function mv(Qe,je,st,zt){if(st==null)throw Error(r(151));for(var vn=null,Rr=null,On=je,Li=je=0,Ba=null,Pi=st.next();On!==null&&!Pi.done;Li++,Pi=st.next()){On.index>Li?(Ba=On,On=null):Ba=On.sibling;var Ph=an(Qe,On,Pi.value,zt);if(Ph===null){On===null&&(On=Ba);break}p&&On&&Ph.alternate===null&&g(Qe,On),je=j(Ph,je,Li),Rr===null?vn=Ph:Rr.sibling=Ph,Rr=Ph,On=Ba}if(Pi.done)return M(Qe,On),Oi&&z(Qe,Li),vn;if(On===null){for(;!Pi.done;Li++,Pi=st.next())Pi=tn(Qe,Pi.value,zt),Pi!==null&&(je=j(Pi,je,Li),Rr===null?vn=Pi:Rr.sibling=Pi,Rr=Pi);return Oi&&z(Qe,Li),vn}for(On=R(On);!Pi.done;Li++,Pi=st.next())Pi=Kn(On,Qe,Li,Pi.value,zt),Pi!==null&&(p&&Pi.alternate!==null&&On.delete(Pi.key===null?Li:Pi.key),je=j(Pi,je,Li),Rr===null?vn=Pi:Rr.sibling=Pi,Rr=Pi);return p&&On.forEach(function(eie){return g(Qe,eie)}),Oi&&z(Qe,Li),vn}function bp(Qe,je,st,zt){if(typeof st=="object"&&st!==null&&st.type===yg&&st.key===null&&(st=st.props.children),typeof st=="object"&&st!==null){switch(st.$$typeof){case Y_:e:{for(var vn=st.key;je!==null;){if(je.key===vn){if(vn=st.type,vn===yg){if(je.tag===7){M(Qe,je.sibling),zt=L(je,st.props.children),zt.return=Qe,Qe=zt;break e}}else if(je.elementType===vn||typeof vn=="object"&&vn!==null&&vn.$$typeof===Ch&&Xi(vn)===je.type){M(Qe,je.sibling),zt=L(je,st.props),Gn(zt,st),zt.return=Qe,Qe=zt;break e}M(Qe,je);break}else g(Qe,je);je=je.sibling}st.type===yg?(zt=ap(st.props.children,Qe.mode,zt,st.key),zt.return=Qe,Qe=zt):(zt=K_(st.type,st.key,st.props,null,Qe.mode,zt),Gn(zt,st),zt.return=Qe,Qe=zt)}return ce(Qe);case bg:e:{for(vn=st.key;je!==null;){if(je.key===vn)if(je.tag===4&&je.stateNode.containerInfo===st.containerInfo&&je.stateNode.implementation===st.implementation){M(Qe,je.sibling),zt=L(je,st.children||[]),zt.return=Qe,Qe=zt;break e}else{M(Qe,je);break}else g(Qe,je);je=je.sibling}zt=F2(st,Qe.mode,zt),zt.return=Qe,Qe=zt}return ce(Qe);case Ch:return vn=st._init,st=vn(st._payload),bp(Qe,je,st,zt)}if(J_(st))return Ol(Qe,je,st,zt);if(a(st)){if(vn=a(st),typeof vn!="function")throw Error(r(150));return st=vn.call(st),mv(Qe,je,st,zt)}if(typeof st.then=="function")return bp(Qe,je,gn(st),zt);if(st.$$typeof===Th)return bp(Qe,je,en(Qe,st),zt);jn(Qe,st)}return typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint"?(st=""+st,je!==null&&je.tag===6?(M(Qe,je.sibling),zt=L(je,st),zt.return=Qe,Qe=zt):(M(Qe,je),zt=U2(st,Qe.mode,zt),zt.return=Qe,Qe=zt),ce(Qe)):M(Qe,je)}return function(Qe,je,st,zt){try{lv=0;var vn=bp(Qe,je,st,zt);return kg=null,vn}catch(On){if(On===ov)throw On;var Rr=n(29,On,null,Qe.mode);return Rr.lanes=zt,Rr.return=Qe,Rr}finally{}}}function Zr(p,g){p=_f,x(oS,p),x(Dg,g),_f=p|g.baseLanes}function Ii(){x(oS,_f),x(Dg,Dg.current)}function tr(){_f=oS.current,m(Dg),m(oS)}function _i(p){var g=p.alternate;x(Ca,Ca.current&1),x(Nl,p),yu===null&&(g===null||Dg.current!==null||g.memoizedState!==null)&&(yu=p)}function Qr(p){if(p.tag===22){if(x(Ca,Ca.current),x(Nl,p),yu===null){var g=p.alternate;g!==null&&g.memoizedState!==null&&(yu=p)}}else zi()}function zi(){x(Ca,Ca.current),x(Nl,Nl.current)}function dn(p){m(Nl),yu===p&&(yu=null),m(Ca)}function ga(p){for(var g=p;g!==null;){if(g.tag===13){var M=g.memoizedState;if(M!==null&&(M=M.dehydrated,M===null||J2(M)||$2(M)))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if(g.flags&128)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===p)break;for(;g.sibling===null;){if(g.return===null||g.return===p)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}function Ni(){throw Error(r(321))}function ie(p,g){if(g===null)return!1;for(var M=0;M<g.length&&M<p.length;M++)if(!Ko(p[M],g[M]))return!1;return!0}function le(p,g,M,R,L,j){return Nh=j,si=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,zn.H=p===null||p.memoizedState===null?fp:Ih,up=!1,j=M(R,L),up=!1,Ng&&(j=qe(g,M,R,L)),Te(p),j}function Te(p){zn.H=vu;var g=cr!==null&&cr.next!==null;if(Nh=0,ya=cr=si=null,lS=!1,cv=0,Ig=null,g)throw Error(r(300));p===null||za||(p=p.dependencies,p!==null&&Bt(p)&&(za=!0))}function qe(p,g,M,R){si=p;var L=0;do{if(Ng&&(Ig=null),cv=0,Ng=!1,25<=L)throw Error(r(301));if(L+=1,ya=cr=null,p.updateQueue!=null){var j=p.updateQueue;j.lastEffect=null,j.events=null,j.stores=null,j.memoCache!=null&&(j.memoCache.index=0)}zn.H=hp,j=g(M,R)}while(Ng);return j}function at(){var p=zn.H,g=p.useState()[0];return g=typeof g.then=="function"?Ee(g):g,p=p.useState()[0],(cr!==null?cr.memoizedState:null)!==p&&(si.flags|=1024),g}function Ze(){var p=cS!==0;return cS=0,p}function At(p,g,M){g.updateQueue=p.updateQueue,g.flags&=-2053,p.lanes&=~M}function Z(p){if(lS){for(p=p.memoizedState;p!==null;){var g=p.queue;g!==null&&(g.pending=null),p=p.next}lS=!1}Nh=0,ya=cr=si=null,Ng=!1,cv=cS=0,Ig=null}function me(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ya===null?si.memoizedState=ya=p:ya=ya.next=p,ya}function Se(){if(cr===null){var p=si.alternate;p=p!==null?p.memoizedState:null}else p=cr.next;var g=ya===null?si.memoizedState:ya.next;if(g!==null)ya=g,cr=p;else{if(p===null)throw si.alternate===null?Error(r(467)):Error(r(310));cr=p,p={memoizedState:cr.memoizedState,baseState:cr.baseState,baseQueue:cr.baseQueue,queue:cr.queue,next:null},ya===null?si.memoizedState=ya=p:ya=ya.next=p}return ya}function Ee(p){var g=cv;return cv+=1,Ig===null&&(Ig=[]),p=mt(Ig,p,g),g=si,(ya===null?g.memoizedState:ya.next)===null&&(g=g.alternate,zn.H=g===null||g.memoizedState===null?fp:Ih),p}function ye(p){if(p!==null&&typeof p=="object"){if(typeof p.then=="function")return Ee(p);if(p.$$typeof===Th)return Pt(p)}throw Error(r(438,String(p)))}function dt(p){var g=null,M=si.updateQueue;if(M!==null&&(g=M.memoCache),g==null){var R=si.alternate;R!==null&&(R=R.updateQueue,R!==null&&(R=R.memoCache,R!=null&&(g={data:R.data.map(function(L){return L.slice()}),index:0})))}if(g==null&&(g={data:[],index:0}),M===null&&(M=cR(),si.updateQueue=M),M.memoCache=g,M=g.data[g.index],M===void 0)for(M=g.data[g.index]=Array(p),R=0;R<p;R++)M[R]=wte;return g.index++,M}function it(p,g){return typeof g=="function"?g(p):g}function ht(p){var g=Se();return bt(g,cr,p)}function bt(p,g,M){var R=p.queue;if(R===null)throw Error(r(311));R.lastRenderedReducer=M;var L=p.baseQueue,j=R.pending;if(j!==null){if(L!==null){var ce=L.next;L.next=j.next,j.next=ce}g.baseQueue=L=j,R.pending=null}if(j=p.baseState,L===null)p.memoizedState=j;else{g=L.next;var Ce=ce=null,He=null,St=g,Gt=!1;do{var tn=St.lane&-536870913;if(tn!==St.lane?(Ti&tn)===tn:(Nh&tn)===tn){var an=St.revertLane;if(an===0)He!==null&&(He=He.next={lane:0,revertLane:0,action:St.action,hasEagerState:St.hasEagerState,eagerState:St.eagerState,next:null}),tn===Tg&&(Gt=!0);else if((Nh&an)===an){St=St.next,an===Tg&&(Gt=!0);continue}else tn={lane:0,revertLane:St.revertLane,action:St.action,hasEagerState:St.hasEagerState,eagerState:St.eagerState,next:null},He===null?(Ce=He=tn,ce=j):He=He.next=tn,si.lanes|=an,Oh|=an;tn=St.action,up&&M(j,tn),j=St.hasEagerState?St.eagerState:M(j,tn)}else an={lane:tn,revertLane:St.revertLane,action:St.action,hasEagerState:St.hasEagerState,eagerState:St.eagerState,next:null},He===null?(Ce=He=an,ce=j):He=He.next=an,si.lanes|=tn,Oh|=tn;St=St.next}while(St!==null&&St!==g);if(He===null?ce=j:He.next=Ce,!Ko(j,p.memoizedState)&&(za=!0,Gt&&(M=Cg,M!==null)))throw M;p.memoizedState=j,p.baseState=ce,p.baseQueue=He,R.lastRenderedState=j}return L===null&&(R.lanes=0),[p.memoizedState,R.dispatch]}function Dt(p){var g=Se(),M=g.queue;if(M===null)throw Error(r(311));M.lastRenderedReducer=p;var R=M.dispatch,L=M.pending,j=g.memoizedState;if(L!==null){M.pending=null;var ce=L=L.next;do j=p(j,ce.action),ce=ce.next;while(ce!==L);Ko(j,g.memoizedState)||(za=!0),g.memoizedState=j,g.baseQueue===null&&(g.baseState=j),M.lastRenderedState=j}return[j,R]}function qt(p,g,M){var R=si,L=Se(),j=Oi;if(j){if(M===void 0)throw Error(r(407));M=M()}else M=g();var ce=!Ko((cr||L).memoizedState,M);if(ce&&(L.memoizedState=M,za=!0),L=L.queue,Sn(cn.bind(null,R,L,p),[p]),L.getSnapshot!==g||ce||ya!==null&&ya.memoizedState.tag&1){if(R.flags|=2048,pr(9,nn.bind(null,R,L,M,g),{destroy:void 0},null),Sr===null)throw Error(r(349));j||Nh&60||Je(R,g,M)}return M}function Je(p,g,M){p.flags|=16384,p={getSnapshot:g,value:M},g=si.updateQueue,g===null?(g=cR(),si.updateQueue=g,g.stores=[p]):(M=g.stores,M===null?g.stores=[p]:M.push(p))}function nn(p,g,M,R){g.value=M,g.getSnapshot=R,un(g)&&kn(p)}function cn(p,g,M){return M(function(){un(g)&&kn(p)})}function un(p){var g=p.getSnapshot;p=p.value;try{var M=g();return!Ko(p,M)}catch{return!0}}function kn(p){var g=Ae(p,2);g!==null&&$s(g,p,2)}function Jt(p){var g=me();if(typeof p=="function"){var M=p;if(p=M(),up){F(!0);try{M()}finally{F(!1)}}}return g.memoizedState=g.baseState=p,g.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:it,lastRenderedState:p},g}function Kt(p,g,M,R){return p.baseState=M,bt(p,cr,typeof R=="function"?R:it)}function Xn(p,g,M,R,L){if(Mn(p))throw Error(r(485));if(p=g.action,p!==null){var j={payload:L,action:p,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ce){j.listeners.push(ce)}};zn.T!==null?M(!0):j.isTransition=!1,R(j),M=g.pending,M===null?(j.next=g.pending=j,yn(g,j)):(j.next=M.next,g.pending=M.next=j)}}function yn(p,g){var M=g.action,R=g.payload,L=p.state;if(g.isTransition){var j=zn.T,ce={};zn.T=ce;try{var Ce=M(L,R),He=zn.S;He!==null&&He(ce,Ce),yi(p,g,Ce)}catch(St){Tn(p,g,St)}finally{zn.T=j}}else try{j=M(L,R),yi(p,g,j)}catch(St){Tn(p,g,St)}}function yi(p,g,M){M!==null&&typeof M=="object"&&typeof M.then=="function"?M.then(function(R){Fn(p,g,R)},function(R){return Tn(p,g,R)}):Fn(p,g,M)}function Fn(p,g,M){g.status="fulfilled",g.value=M,_n(g),p.state=M,g=p.pending,g!==null&&(M=g.next,M===g?p.pending=null:(M=M.next,g.next=M,yn(p,M)))}function Tn(p,g,M){var R=p.pending;if(p.pending=null,R!==null){R=R.next;do g.status="rejected",g.reason=M,_n(g),g=g.next;while(g!==R)}p.action=null}function _n(p){p=p.listeners;for(var g=0;g<p.length;g++)(0,p[g])()}function fn(p,g){return g}function ui(p,g){if(Oi){var M=Sr.formState;if(M!==null){e:{var R=si;if(Oi){if(Ds){var L=pne(Ds,bu);if(L){Ds=O9(L),R=mne(L);break e}}Oe(R)}R=!1}R&&(g=M[0])}}M=me(),M.memoizedState=M.baseState=g,R={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:g},M.queue=R,M=mn.bind(null,si,R),R.dispatch=M,R=Jt(!1);var j=Ai.bind(null,si,!1,R.queue);return R=me(),L={state:g,dispatch:null,action:p,pending:null},R.queue=L,M=Xn.bind(null,si,L,j,M),L.dispatch=M,R.memoizedState=p,[g,M,!1]}function Ki(p){var g=Se();return ei(g,cr,p)}function ei(p,g,M){g=bt(p,g,fn)[0],p=ht(it)[0],g=typeof g=="object"&&g!==null&&typeof g.then=="function"?Ee(g):g;var R=Se(),L=R.queue,j=L.dispatch;return M!==R.memoizedState&&(si.flags|=2048,pr(9,Mi.bind(null,L,M),{destroy:void 0},null)),[g,j,p]}function Mi(p,g){p.action=g}function Hs(p){var g=Se(),M=cr;if(M!==null)return ei(g,M,p);Se(),g=g.memoizedState,M=Se();var R=M.queue.dispatch;return M.memoizedState=p,[g,R,!1]}function pr(p,g,M,R){return p={tag:p,create:g,inst:M,deps:R,next:null},g=si.updateQueue,g===null&&(g=cR(),si.updateQueue=g),M=g.lastEffect,M===null?g.lastEffect=p.next=p:(R=M.next,M.next=p,p.next=R,g.lastEffect=p),p}function cf(){return Se().memoizedState}function Lo(p,g,M,R){var L=me();si.flags|=p,L.memoizedState=pr(1|g,M,{destroy:void 0},R===void 0?null:R)}function wc(p,g,M,R){var L=Se();R=R===void 0?null:R;var j=L.memoizedState.inst;cr!==null&&R!==null&&ie(R,cr.memoizedState.deps)?L.memoizedState=pr(g,M,j,R):(si.flags|=p,L.memoizedState=pr(1|g,M,j,R))}function Po(p,g){Lo(8390656,8,p,g)}function Sn(p,g){wc(2048,8,p,g)}function Vs(p,g){return wc(4,2,p,g)}function El(p,g){return wc(4,4,p,g)}function Ec(p,g){if(typeof g=="function"){p=p();var M=g(p);return function(){typeof M=="function"?M():g(null)}}if(g!=null)return p=p(),g.current=p,function(){g.current=null}}function Pr(p,g,M){M=M!=null?M.concat([p]):null,wc(4,4,Ec.bind(null,g,p),M)}function uf(){}function Uo(p,g){var M=Se();g=g===void 0?null:g;var R=M.memoizedState;return g!==null&&ie(g,R[1])?R[0]:(M.memoizedState=[p,g],p)}function mu(p,g){var M=Se();g=g===void 0?null:g;var R=M.memoizedState;if(g!==null&&ie(g,R[1]))return R[0];if(R=p(),up){F(!0);try{p()}finally{F(!1)}}return M.memoizedState=[R,g],R}function S(p,g,M){return M===void 0||Nh&1073741824?p.memoizedState=g:(p.memoizedState=M,p=YU(),si.lanes|=p,Oh|=p,M)}function O(p,g,M,R){return Ko(M,g)?M:Dg.current!==null?(p=S(p,M,R),Ko(p,g)||(za=!0),p):Nh&42?(p=YU(),si.lanes|=p,Oh|=p,g):(za=!0,p.memoizedState=M)}function W(p,g,M,R,L){var j=sp();yo(j!==0&&8>j?j:8);var ce=zn.T,Ce={};zn.T=Ce,Ai(p,!1,g,M);try{var He=L(),St=zn.S;if(St!==null&&St(Ce,He),He!==null&&typeof He=="object"&&typeof He.then=="function"){var Gt=tt(He,R);En(p,g,Gt,Go(p))}else En(p,g,R,Go(p))}catch(tn){En(p,g,{then:function(){},status:"rejected",reason:tn},Go())}finally{yo(j),zn.T=ce}}function ne(p){var g=p.memoizedState;if(g!==null)return g;g={memoizedState:vg,baseState:vg,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:it,lastRenderedState:vg},next:null};var M={};return g.next={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:it,lastRenderedState:M},next:null},p.memoizedState=g,p=p.alternate,p!==null&&(p.memoizedState=g),g}function de(){return Pt(op)}function Pe(){return Se().memoizedState}function Xe(){return Se().memoizedState}function It(p){for(var g=p.return;g!==null;){switch(g.tag){case 24:case 3:var M=Go();p=rt(M);var R=$e(g,p,M);R!==null&&($s(R,g,M),Xt(R,g,M)),g={cache:Bn()},p.payload=g;return}g=g.return}}function Ft(p,g,M){var R=Go();M={lane:R,revertLane:0,action:M,hasEagerState:!1,eagerState:null,next:null},Mn(p)?Si(g,M):(M=ot(p,g,M,R),M!==null&&($s(M,p,R),ba(M,g,R)))}function mn(p,g,M){var R=Go();En(p,g,M,R)}function En(p,g,M,R){var L={lane:R,revertLane:0,action:M,hasEagerState:!1,eagerState:null,next:null};if(Mn(p))Si(g,L);else{var j=p.alternate;if(p.lanes===0&&(j===null||j.lanes===0)&&(j=g.lastRenderedReducer,j!==null))try{var ce=g.lastRenderedState,Ce=j(ce,M);if(L.hasEagerState=!0,L.eagerState=Ce,Ko(Ce,ce))return Be(p,g,L,0),Sr===null&&Ve(),!1}catch{}finally{}if(M=ot(p,g,L,R),M!==null)return $s(M,p,R),ba(M,g,R),!0}return!1}function Ai(p,g,M,R){if(R={lane:2,revertLane:be(),action:R,hasEagerState:!1,eagerState:null,next:null},Mn(p)){if(g)throw Error(r(479))}else g=ot(p,M,R,2),g!==null&&$s(g,p,2)}function Mn(p){var g=p.alternate;return p===si||g!==null&&g===si}function Si(p,g){Ng=lS=!0;var M=p.pending;M===null?g.next=g:(g.next=M.next,M.next=g),p.pending=g}function ba(p,g,M){if(M&4194176){var R=g.lanes;R&=p.pendingLanes,M|=R,g.lanes=M,H(p,M)}}function lr(p,g,M,R){g=p.memoizedState,M=M(R,g),M=M==null?g:j2({},g,M),p.memoizedState=M,p.lanes===0&&(p.updateQueue.baseState=M)}function Yi(p,g,M,R,L,j,ce){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(R,j,ce):g.prototype&&g.prototype.isPureReactComponent?!wt(M,R)||!wt(L,j):!0}function Ji(p,g,M,R){p=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(M,R),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(M,R),g.state!==p&&uR.enqueueReplaceState(g,g.state,null)}function wi(p,g){var M=g;if("ref"in g){M={};for(var R in g)R!=="ref"&&(M[R]=g[R])}if(p=p.defaultProps){M===g&&(M=j2({},M));for(var L in p)M[L]===void 0&&(M[L]=p[L])}return M}function Fo(p,g){try{var M=p.onUncaughtError;M(g.value,{componentStack:g.stack})}catch(R){setTimeout(function(){throw R})}}function ff(p,g,M){try{var R=p.onCaughtError;R(M.value,{componentStack:M.stack,errorBoundary:g.tag===1?g.stateNode:null})}catch(L){setTimeout(function(){throw L})}}function Zd(p,g,M){return M=rt(M),M.tag=3,M.payload={element:null},M.callback=function(){Fo(p,g)},M}function Gs(p){return p=rt(p),p.tag=3,p}function Es(p,g,M,R){var L=M.type.getDerivedStateFromError;if(typeof L=="function"){var j=R.value;p.payload=function(){return L(j)},p.callback=function(){ff(g,M,R)}}var ce=M.stateNode;ce!==null&&typeof ce.componentDidCatch=="function"&&(p.callback=function(){ff(g,M,R),typeof L!="function"&&(Lh===null?Lh=new Set([this]):Lh.add(this));var Ce=R.stack;this.componentDidCatch(R.value,{componentStack:Ce!==null?Ce:""})})}function Zy(p,g,M,R,L){if(M.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){if(g=M.alternate,g!==null&&Ct(g,M,L,!0),M=Nl.current,M!==null){switch(M.tag){case 13:return yu===null?I2():M.alternate===null&&ia===0&&(ia=3),M.flags&=-257,M.flags|=65536,M.lanes=L,R===sS?M.flags|=16384:(g=M.updateQueue,g===null?M.updateQueue=new Set([R]):g.add(R),L2(p,R,L)),!1;case 22:return M.flags|=65536,R===sS?M.flags|=16384:(g=M.updateQueue,g===null?(g={transitions:null,markerInstances:null,retryQueue:new Set([R])},M.updateQueue=g):(M=g.retryQueue,M===null?g.retryQueue=new Set([R]):M.add(R)),L2(p,R,L)),!1}throw Error(r(435,M.tag))}return L2(p,R,L),I2(),!1}if(Oi)return g=Nl.current,g!==null?(!(g.flags&65536)&&(g.flags|=256),g.flags|=65536,g.lanes=L,R!==nR&&(p=Error(r(422),{cause:R}),he(X(p,M)))):(R!==nR&&(g=Error(r(423),{cause:R}),he(X(g,M))),p=p.current.alternate,p.flags|=65536,L&=-L,p.lanes|=L,R=X(R,M),L=Zd(p.stateNode,R,L),Ot(p,L),ia!==4&&(ia=2)),!1;var j=Error(r(520),{cause:R});if(j=X(j,M),fv===null?fv=[j]:fv.push(j),ia!==4&&(ia=2),g===null)return!0;R=X(R,M),M=g;do{switch(M.tag){case 3:return M.flags|=65536,p=L&-L,M.lanes|=p,p=Zd(M.stateNode,R,p),Ot(M,p),!1;case 1:if(g=M.type,j=M.stateNode,(M.flags&128)===0&&(typeof g.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Lh===null||!Lh.has(j))))return M.flags|=65536,L&=-L,M.lanes|=L,L=Gs(L),Es(L,p,M,R),Ot(M,L),!1}M=M.return}while(M!==null);return!1}function ua(p,g,M,R){g.child=p===null?K9(g,null,M,R):cp(g,p.child,M,R)}function Qd(p,g,M,R,L){M=M.render;var j=g.ref;if("ref"in R){var ce={};for(var Ce in R)Ce!=="ref"&&(ce[Ce]=R[Ce])}else ce=R;return xt(g),R=le(p,g,M,ce,j,L),Ce=Ze(),p!==null&&!za?(At(p,g,L),Xs(p,g,L)):(Oi&&Ce&&fe(g),g.flags|=1,ua(p,g,R,L),g.child)}function _h(p,g,M,R,L){if(p===null){var j=M.type;return typeof j=="function"&&!P2(j)&&j.defaultProps===void 0&&M.compare===null?(g.tag=15,g.type=j,go(p,g,j,R,L)):(p=K_(M.type,null,R,g,g.mode,L),p.ref=g.ref,p.return=g,g.child=p)}if(j=p.child,!Al(p,L)){var ce=j.memoizedProps;if(M=M.compare,M=M!==null?M:wt,M(ce,R)&&p.ref===g.ref)return Xs(p,g,L)}return g.flags|=1,p=Ah(j,R),p.ref=g.ref,p.return=g,g.child=p}function go(p,g,M,R,L){if(p!==null){var j=p.memoizedProps;if(wt(j,R)&&p.ref===g.ref)if(za=!1,g.pendingProps=R=j,Al(p,L))p.flags&131072&&(za=!0);else return g.lanes=p.lanes,Xs(p,g,L)}return ep(p,g,M,R,L)}function zo(p,g,M){var R=g.pendingProps,L=R.children,j=(g.stateNode._pendingVisibility&2)!==0,ce=p!==null?p.memoizedState:null;if(bo(p,g),R.mode==="hidden"||j){if(g.flags&128){if(R=ce!==null?ce.baseLanes|M:M,p!==null){for(L=g.child=p.child,j=0;L!==null;)j=j|L.lanes|L.childLanes,L=L.sibling;g.childLanes=j&~R}else g.childLanes=0,g.child=null;return Ml(p,g,R,M)}if(M&536870912)g.memoizedState={baseLanes:0,cachePool:null},p!==null&&$n(g,ce!==null?ce.cachePool:null),ce!==null?Zr(g,ce):Ii(),Qr(g);else return g.lanes=g.childLanes=536870912,Ml(p,g,ce!==null?ce.baseLanes|M:M,M)}else ce!==null?($n(g,ce.cachePool),Zr(g,ce),zi(),g.memoizedState=null):(p!==null&&$n(g,null),Ii(),zi());return ua(p,g,L,M),g.child}function Ml(p,g,M,R){var L=Vr();return L=L===null?null:{parent:mf?ta._currentValue:ta._currentValue2,pool:L},g.memoizedState={baseLanes:M,cachePool:L},p!==null&&$n(g,null),Ii(),Qr(g),p!==null&&Ct(p,g,R,!0),null}function bo(p,g){var M=g.ref;if(M===null)p!==null&&p.ref!==null&&(g.flags|=2097664);else{if(typeof M!="function"&&typeof M!="object")throw Error(r(284));(p===null||p.ref!==M)&&(g.flags|=2097664)}}function ep(p,g,M,R,L){return xt(g),M=le(p,g,M,R,void 0,L),R=Ze(),p!==null&&!za?(At(p,g,L),Xs(p,g,L)):(Oi&&R&&fe(g),g.flags|=1,ua(p,g,M,L),g.child)}function Ws(p,g,M,R,L,j){return xt(g),g.updateQueue=null,M=qe(g,R,M,L),Te(p),R=Ze(),p!==null&&!za?(At(p,g,j),Xs(p,g,j)):(Oi&&R&&fe(g),g.flags|=1,ua(p,g,M,j),g.child)}function dg(p,g,M,R,L){if(xt(g),g.stateNode===null){var j=_g,ce=M.contextType;typeof ce=="object"&&ce!==null&&(j=Pt(ce)),j=new M(R,j),g.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,j.updater=uR,g.stateNode=j,j._reactInternals=g,j=g.stateNode,j.props=R,j.state=g.memoizedState,j.refs={},pt(g),ce=M.contextType,j.context=typeof ce=="object"&&ce!==null?Pt(ce):_g,j.state=g.memoizedState,ce=M.getDerivedStateFromProps,typeof ce=="function"&&(lr(g,M,ce,R),j.state=g.memoizedState),typeof M.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(ce=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),ce!==j.state&&uR.enqueueReplaceState(j,j.state,null),jt(g,R,j,L),ft(),j.state=g.memoizedState),typeof j.componentDidMount=="function"&&(g.flags|=4194308),R=!0}else if(p===null){j=g.stateNode;var Ce=g.memoizedProps,He=wi(M,Ce);j.props=He;var St=j.context,Gt=M.contextType;ce=_g,typeof Gt=="object"&&Gt!==null&&(ce=Pt(Gt));var tn=M.getDerivedStateFromProps;Gt=typeof tn=="function"||typeof j.getSnapshotBeforeUpdate=="function",Ce=g.pendingProps!==Ce,Gt||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(Ce||St!==ce)&&Ji(g,j,R,ce),Dh=!1;var an=g.memoizedState;j.state=an,jt(g,R,j,L),ft(),St=g.memoizedState,Ce||an!==St||Dh?(typeof tn=="function"&&(lr(g,M,tn,R),St=g.memoizedState),(He=Dh||Yi(g,M,He,R,an,St,ce))?(Gt||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(g.flags|=4194308)):(typeof j.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=R,g.memoizedState=St),j.props=R,j.state=St,j.context=ce,R=He):(typeof j.componentDidMount=="function"&&(g.flags|=4194308),R=!1)}else{j=g.stateNode,ze(p,g),ce=g.memoizedProps,Gt=wi(M,ce),j.props=Gt,tn=g.pendingProps,an=j.context,St=M.contextType,He=_g,typeof St=="object"&&St!==null&&(He=Pt(St)),Ce=M.getDerivedStateFromProps,(St=typeof Ce=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(ce!==tn||an!==He)&&Ji(g,j,R,He),Dh=!1,an=g.memoizedState,j.state=an,jt(g,R,j,L),ft();var Kn=g.memoizedState;ce!==tn||an!==Kn||Dh||p!==null&&p.dependencies!==null&&Bt(p.dependencies)?(typeof Ce=="function"&&(lr(g,M,Ce,R),Kn=g.memoizedState),(Gt=Dh||Yi(g,M,Gt,R,an,Kn,He)||p!==null&&p.dependencies!==null&&Bt(p.dependencies))?(St||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(R,Kn,He),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(R,Kn,He)),typeof j.componentDidUpdate=="function"&&(g.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof j.componentDidUpdate!="function"||ce===p.memoizedProps&&an===p.memoizedState||(g.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||ce===p.memoizedProps&&an===p.memoizedState||(g.flags|=1024),g.memoizedProps=R,g.memoizedState=Kn),j.props=R,j.state=Kn,j.context=He,R=Gt):(typeof j.componentDidUpdate!="function"||ce===p.memoizedProps&&an===p.memoizedState||(g.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||ce===p.memoizedProps&&an===p.memoizedState||(g.flags|=1024),R=!1)}return j=R,bo(p,g),R=(g.flags&128)!==0,j||R?(j=g.stateNode,M=R&&typeof M.getDerivedStateFromError!="function"?null:j.render(),g.flags|=1,p!==null&&R?(g.child=cp(g,p.child,null,L),g.child=cp(g,null,M,L)):ua(p,g,M,L),g.memoizedState=j.state,p=g.child):p=Xs(p,g,L),p}function tp(p,g,M,R){return Tt(),g.flags|=256,ua(p,g,M,R),g.child}function Sh(p){return{baseLanes:p,cachePool:Ac()}}function Mc(p,g,M){return p=p!==null?p.childLanes&~M:0,g&&(p|=Il),p}function gu(p,g,M){var R=g.pendingProps,L=!1,j=(g.flags&128)!==0,ce;if((ce=j)||(ce=p!==null&&p.memoizedState===null?!1:(Ca.current&2)!==0),ce&&(L=!0,g.flags&=-129),ce=(g.flags&32)!==0,g.flags&=-33,p===null){if(Oi){if(L?_i(g):zi(),Oi){var Ce=Ds,He;(He=Ce)&&(Ce=xne(Ce,bu),Ce!==null?(g.memoizedState={dehydrated:Ce,treeContext:lp!==null?{id:gf,overflow:bf}:null,retryLane:536870912},He=n(18,null,null,0),He.stateNode=Ce,He.return=g,g.child=He,Zs=g,Ds=null,He=!0):He=!1),He||Oe(g)}if(Ce=g.memoizedState,Ce!==null&&(Ce=Ce.dehydrated,Ce!==null))return $2(Ce)?g.lanes=16:g.lanes=536870912,null;dn(g)}return Ce=R.children,R=R.fallback,L?(zi(),L=g.mode,Ce=hf({mode:"hidden",children:Ce},L),R=ap(R,L,M,null),Ce.return=g,R.return=g,Ce.sibling=R,g.child=Ce,L=g.child,L.memoizedState=Sh(M),L.childLanes=Mc(p,ce,M),g.memoizedState=fR,R):(_i(g),np(g,Ce))}if(He=p.memoizedState,He!==null&&(Ce=He.dehydrated,Ce!==null)){if(j)g.flags&256?(_i(g),g.flags&=-257,g=qs(p,g,M)):g.memoizedState!==null?(zi(),g.child=p.child,g.flags|=128,g=null):(zi(),L=R.fallback,Ce=g.mode,R=hf({mode:"visible",children:R.children},Ce),L=ap(L,Ce,M,null),L.flags|=2,R.return=g,L.return=g,R.sibling=L,g.child=R,cp(g,p.child,null,M),R=g.child,R.memoizedState=Sh(M),R.childLanes=Mc(p,ce,M),g.memoizedState=fR,g=L);else if(_i(g),$2(Ce))ce=hne(Ce).digest,R=Error(r(419)),R.stack="",R.digest=ce,he({value:R,source:null,stack:null}),g=qs(p,g,M);else if(za||Ct(p,g,M,!1),ce=(M&p.childLanes)!==0,za||ce){if(ce=Sr,ce!==null){if(R=M&-M,R&42)R=1;else switch(R){case 2:R=1;break;case 8:R=4;break;case 32:R=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:R=64;break;case 268435456:R=134217728;break;default:R=0}if(R=R&(ce.suspendedLanes|M)?0:R,R!==0&&R!==He.retryLane)throw He.retryLane=R,Ae(p,R),$s(ce,p,R),J9}J2(Ce)||I2(),g=qs(p,g,M)}else J2(Ce)?(g.flags|=128,g.child=p.child,g=mte.bind(null,p),dne(Ce,g),g=null):(p=He.treeContext,Tl&&(Ds=bne(Ce),Zs=g,Oi=!0,Rc=null,bu=!1,p!==null&&(Rl[kl++]=gf,Rl[kl++]=bf,Rl[kl++]=lp,gf=p.id,bf=p.overflow,lp=g)),g=np(g,R.children),g.flags|=4096);return g}return L?(zi(),L=R.fallback,Ce=g.mode,He=p.child,j=He.sibling,R=Ah(He,{mode:"hidden",children:R.children}),R.subtreeFlags=He.subtreeFlags&31457280,j!==null?L=Ah(j,L):(L=ap(L,Ce,M,null),L.flags|=2),L.return=g,R.return=g,R.sibling=L,g.child=R,R=L,L=g.child,Ce=p.child.memoizedState,Ce===null?Ce=Sh(M):(He=Ce.cachePool,He!==null?(j=mf?ta._currentValue:ta._currentValue2,He=He.parent!==j?{parent:j,pool:j}:He):He=Ac(),Ce={baseLanes:Ce.baseLanes|M,cachePool:He}),L.memoizedState=Ce,L.childLanes=Mc(p,ce,M),g.memoizedState=fR,R):(_i(g),M=p.child,p=M.sibling,M=Ah(M,{mode:"visible",children:R.children}),M.return=g,M.sibling=null,p!==null&&(ce=g.deletions,ce===null?(g.deletions=[p],g.flags|=16):ce.push(p)),g.child=M,g.memoizedState=null,M)}function np(p,g){return g=hf({mode:"visible",children:g},p.mode),g.return=p,p.child=g}function hf(p,g){return f9(p,g,0,null)}function qs(p,g,M){return cp(g,p.child,null,M),p=np(g,g.pendingProps.children),p.flags|=2,g.memoizedState=null,p}function jo(p,g,M){p.lanes|=g;var R=p.alternate;R!==null&&(R.lanes|=g),Ie(p.return,g,M)}function Ms(p,g,M,R,L){var j=p.memoizedState;j===null?p.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:R,tail:M,tailMode:L}:(j.isBackwards=g,j.rendering=null,j.renderingStartTime=0,j.last=R,j.tail=M,j.tailMode=L)}function Ua(p,g,M){var R=g.pendingProps,L=R.revealOrder,j=R.tail;if(ua(p,g,R.children,M),R=Ca.current,R&2)R=R&1|2,g.flags|=128;else{if(p!==null&&p.flags&128)e:for(p=g.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&jo(p,M,g);else if(p.tag===19)jo(p,M,g);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===g)break e;for(;p.sibling===null;){if(p.return===null||p.return===g)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}R&=1}switch(x(Ca,R),L){case"forwards":for(M=g.child,L=null;M!==null;)p=M.alternate,p!==null&&ga(p)===null&&(L=M),M=M.sibling;M=L,M===null?(L=g.child,g.child=null):(L=M.sibling,M.sibling=null),Ms(g,!1,L,M,j);break;case"backwards":for(M=null,L=g.child,g.child=null;L!==null;){if(p=L.alternate,p!==null&&ga(p)===null){g.child=L;break}p=L.sibling,L.sibling=M,M=L,L=p}Ms(g,!0,M,null,j);break;case"together":Ms(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function Xs(p,g,M){if(p!==null&&(g.dependencies=p.dependencies),Oh|=g.lanes,!(M&g.childLanes))if(p!==null){if(Ct(p,g,M,!1),(M&g.childLanes)===0)return null}else return null;if(p!==null&&g.child!==p.child)throw Error(r(153));if(g.child!==null){for(p=g.child,M=Ah(p,p.pendingProps),g.child=M,M.return=g;p.sibling!==null;)p=p.sibling,M=M.sibling=Ah(p,p.pendingProps),M.return=g;M.sibling=null}return g.child}function Al(p,g){return p.lanes&g?!0:(p=p.dependencies,!!(p!==null&&Bt(p)))}function wh(p,g,M){switch(g.tag){case 3:Me(g,g.stateNode.containerInfo),te(g,ta,p.memoizedState.cache),Tt();break;case 27:case 5:pe(g);break;case 4:Me(g,g.stateNode.containerInfo);break;case 10:te(g,g.type,g.memoizedProps.value);break;case 13:var R=g.memoizedState;if(R!==null)return R.dehydrated!==null?(_i(g),g.flags|=128,null):M&g.child.childLanes?gu(p,g,M):(_i(g),p=Xs(p,g,M),p!==null?p.sibling:null);_i(g);break;case 19:var L=(p.flags&128)!==0;if(R=(M&g.childLanes)!==0,R||(Ct(p,g,M,!1),R=(M&g.childLanes)!==0),L){if(R)return Ua(p,g,M);g.flags|=128}if(L=g.memoizedState,L!==null&&(L.rendering=null,L.tail=null,L.lastEffect=null),x(Ca,Ca.current),R)break;return null;case 22:case 23:return g.lanes=0,zo(p,g,M);case 24:te(g,ta,p.memoizedState.cache)}return Xs(p,g,M)}function ee(p,g,M){if(p!==null)if(p.memoizedProps!==g.pendingProps)za=!0;else{if(!Al(p,M)&&!(g.flags&128))return za=!1,wh(p,g,M);za=!!(p.flags&131072)}else za=!1,Oi&&g.flags&1048576&&oe(g,nS,g.index);switch(g.lanes=0,g.tag){case 16:e:{p=g.pendingProps;var R=g.elementType,L=R._init;if(R=L(R._payload),g.type=R,typeof R=="function")P2(R)?(p=wi(R,p),g.tag=1,g=dg(null,g,R,p,M)):(g.tag=0,g=ep(null,g,R,p,M));else{if(R!=null){if(L=R.$$typeof,L===H2){g.tag=11,g=Qd(null,g,R,p,M);break e}else if(L===W2){g.tag=14,g=_h(null,g,R,p,M);break e}}throw g=s(R)||R,Error(r(306,g,""))}}return g;case 0:return ep(p,g,g.type,g.pendingProps,M);case 1:return R=g.type,L=wi(R,g.pendingProps),dg(p,g,R,L,M);case 3:e:{if(Me(g,g.stateNode.containerInfo),p===null)throw Error(r(387));var j=g.pendingProps;L=g.memoizedState,R=L.element,ze(p,g),jt(g,j,null,M);var ce=g.memoizedState;if(j=ce.cache,te(g,ta,j),j!==L.cache&&lt(g,[ta],M,!0),ft(),j=ce.element,Tl&&L.isDehydrated)if(L={element:j,isDehydrated:!1,cache:ce.cache},g.updateQueue.baseState=L,g.memoizedState=L,g.flags&256){g=tp(p,g,j,M);break e}else if(j!==R){R=X(Error(r(424)),g),he(R),g=tp(p,g,j,M);break e}else for(Tl&&(Ds=gne(g.stateNode.containerInfo),Zs=g,Oi=!0,Rc=null,bu=!0),M=K9(g,null,j,M),g.child=M;M;)M.flags=M.flags&-3|4096,M=M.sibling;else{if(Tt(),j===R){g=Xs(p,g,M);break e}ua(p,g,j,M)}g=g.child}return g;case 26:if(Cl)return bo(p,g),p===null?(M=F9(g.type,null,g.pendingProps,null))?g.memoizedState=M:Oi||(g.stateNode=Nne(g.type,g.pendingProps,kh.current,g)):g.memoizedState=F9(g.type,p.memoizedProps,g.pendingProps,p.memoizedState),null;case 27:if(ks)return pe(g),p===null&&ks&&Oi&&(R=g.stateNode=G9(g.type,g.pendingProps,kh.current,es.current,!1),Zs=g,bu=!0,Ds=L9(R)),R=g.pendingProps.children,p!==null||Oi?ua(p,g,R,M):g.child=cp(g,null,R,M),bo(p,g),g.child;case 5:return p===null&&Oi&&(Rne(g.type,g.pendingProps,es.current),(L=R=Ds)&&(R=yne(R,g.type,g.pendingProps,bu),R!==null?(g.stateNode=R,Zs=g,Ds=L9(R),bu=!1,L=!0):L=!1),L||Oe(g)),pe(g),L=g.type,j=g.pendingProps,ce=p!==null?p.memoizedProps:null,R=j.children,$_(L,j)?R=null:ce!==null&&$_(L,ce)&&(g.flags|=32),g.memoizedState!==null&&(L=le(p,g,at,null,null,M),mf?op._currentValue=L:op._currentValue2=L),bo(p,g),ua(p,g,R,M),g.child;case 6:return p===null&&Oi&&(kne(g.pendingProps,es.current),(p=M=Ds)&&(M=vne(M,g.pendingProps,bu),M!==null?(g.stateNode=M,Zs=g,Ds=null,p=!0):p=!1),p||Oe(g)),null;case 13:return gu(p,g,M);case 4:return Me(g,g.stateNode.containerInfo),R=g.pendingProps,p===null?g.child=cp(g,null,R,M):ua(p,g,R,M),g.child;case 11:return Qd(p,g,g.type,g.pendingProps,M);case 7:return ua(p,g,g.pendingProps,M),g.child;case 8:return ua(p,g,g.pendingProps.children,M),g.child;case 12:return ua(p,g,g.pendingProps.children,M),g.child;case 10:return R=g.pendingProps,te(g,g.type,R.value),ua(p,g,R.children,M),g.child;case 9:return L=g.type._context,R=g.pendingProps.children,xt(g),L=Pt(L),R=R(L),g.flags|=1,ua(p,g,R,M),g.child;case 14:return _h(p,g,g.type,g.pendingProps,M);case 15:return go(p,g,g.type,g.pendingProps,M);case 19:return Ua(p,g,M);case 22:return zo(p,g,M);case 24:return xt(g),R=Pt(ta),p===null?(L=Vr(),L===null&&(L=Sr,j=Bn(),L.pooledCache=j,j.refCount++,j!==null&&(L.pooledCacheLanes|=M),L=j),g.memoizedState={parent:R,cache:L},pt(g),te(g,ta,L)):(p.lanes&M&&(ze(p,g),jt(g,null,null,M),ft()),L=p.memoizedState,j=g.memoizedState,L.parent!==R?(L={parent:R,cache:R},g.memoizedState=L,g.lanes===0&&(g.memoizedState=g.updateQueue.baseState=L),te(g,ta,R)):(R=j.cache,te(g,ta,R),R!==L.cache&&lt(g,[ta],M,!0))),ua(p,g,g.pendingProps.children,M),g.child;case 29:throw g.pendingProps}throw Error(r(156,g.tag))}function te(p,g,M){mf?(x(uS,g._currentValue),g._currentValue=M):(x(uS,g._currentValue2),g._currentValue2=M)}function we(p){var g=uS.current;mf?p._currentValue=g:p._currentValue2=g,m(uS)}function Ie(p,g,M){for(;p!==null;){var R=p.alternate;if((p.childLanes&g)!==g?(p.childLanes|=g,R!==null&&(R.childLanes|=g)):R!==null&&(R.childLanes&g)!==g&&(R.childLanes|=g),p===M)break;p=p.return}}function lt(p,g,M,R){var L=p.child;for(L!==null&&(L.return=p);L!==null;){var j=L.dependencies;if(j!==null){var ce=L.child;j=j.firstContext;e:for(;j!==null;){var Ce=j;j=L;for(var He=0;He<g.length;He++)if(Ce.context===g[He]){j.lanes|=M,Ce=j.alternate,Ce!==null&&(Ce.lanes|=M),Ie(j.return,M,p),R||(ce=null);break e}j=Ce.next}}else if(L.tag===18){if(ce=L.return,ce===null)throw Error(r(341));ce.lanes|=M,j=ce.alternate,j!==null&&(j.lanes|=M),Ie(ce,M,p),ce=null}else ce=L.child;if(ce!==null)ce.return=L;else for(ce=L;ce!==null;){if(ce===p){ce=null;break}if(L=ce.sibling,L!==null){L.return=ce.return,ce=L;break}ce=ce.return}L=ce}}function Ct(p,g,M,R){p=null;for(var L=g,j=!1;L!==null;){if(!j){if(L.flags&524288)j=!0;else if(L.flags&262144)break}if(L.tag===10){var ce=L.alternate;if(ce===null)throw Error(r(387));if(ce=ce.memoizedProps,ce!==null){var Ce=L.type;Ko(L.pendingProps.value,ce.value)||(p!==null?p.push(Ce):p=[Ce])}}else if(L===iS.current){if(ce=L.alternate,ce===null)throw Error(r(387));ce.memoizedState.memoizedState!==L.memoizedState.memoizedState&&(p!==null?p.push(op):p=[op])}L=L.return}p!==null&&lt(g,p,M,R),g.flags|=262144}function Bt(p){for(p=p.firstContext;p!==null;){var g=p.context;if(!Ko(mf?g._currentValue:g._currentValue2,p.memoizedValue))return!0;p=p.next}return!1}function xt(p){dp=p,yf=null,p=p.dependencies,p!==null&&(p.firstContext=null)}function Pt(p){return rn(dp,p)}function en(p,g){return dp===null&&xt(p),rn(p,g)}function rn(p,g){var M=mf?g._currentValue:g._currentValue2;if(g={context:g,memoizedValue:M,next:null},yf===null){if(p===null)throw Error(r(308));yf=g,p.dependencies={lanes:0,firstContext:g},p.flags|=524288}else yf=yf.next=g;return M}function Bn(){return{controller:new Yne,data:new Map,refCount:0}}function Cn(p){p.refCount--,p.refCount===0&&Jne($ne,function(){p.controller.abort()})}function Vr(){var p=pp.current;return p!==null?p:Sr.pooledCache}function $n(p,g){g===null?x(pp,pp.current):x(pp,g.pool)}function Ac(){var p=Vr();return p===null?null:{parent:mf?ta._currentValue:ta._currentValue2,pool:p}}function Cr(p){p.flags|=4}function Bo(p,g){if(p!==null&&p.child===g.child)return!1;if(g.flags&16)return!0;for(p=g.child;p!==null;){if(p.flags&13878||p.subtreeFlags&13878)return!0;p=p.sibling}return!1}function df(p,g,M,R){if(Rs)for(M=g.child;M!==null;){if(M.tag===5||M.tag===6)K2(p,M.stateNode);else if(!(M.tag===4||ks&&M.tag===27)&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===g)break;for(;M.sibling===null;){if(M.return===null||M.return===g)return;M=M.return}M.sibling.return=M.return,M=M.sibling}else if(Rh)for(var L=g.child;L!==null;){if(L.tag===5){var j=L.stateNode;M&&R&&(j=N9(j,L.type,L.memoizedProps)),K2(p,j)}else if(L.tag===6)j=L.stateNode,M&&R&&(j=I9(j,L.memoizedProps)),K2(p,j);else if(L.tag!==4){if(L.tag===22&&L.memoizedState!==null)j=L.child,j!==null&&(j.return=L),df(p,L,!0,!0);else if(L.child!==null){L.child.return=L,L=L.child;continue}}if(L===g)break;for(;L.sibling===null;){if(L.return===null||L.return===g)return;L=L.return}L.sibling.return=L.return,L=L.sibling}}function Ks(p,g,M,R){if(Rh)for(var L=g.child;L!==null;){if(L.tag===5){var j=L.stateNode;M&&R&&(j=N9(j,L.type,L.memoizedProps)),k9(p,j)}else if(L.tag===6)j=L.stateNode,M&&R&&(j=I9(j,L.memoizedProps)),k9(p,j);else if(L.tag!==4){if(L.tag===22&&L.memoizedState!==null)j=L.child,j!==null&&(j.return=L),Ks(p,L,!(L.memoizedProps!==null&&L.memoizedProps.mode==="manual"),!0);else if(L.child!==null){L.child.return=L,L=L.child;continue}}if(L===g)break;for(;L.sibling===null;){if(L.return===null||L.return===g)return;L=L.return}L.sibling.return=L.return,L=L.sibling}}function Eh(p,g){if(Rh&&Bo(p,g)){p=g.stateNode;var M=p.containerInfo,R=R9();Ks(R,g,!1,!1),p.pendingChildren=R,Cr(g),fne(M,R)}}function Y(p,g,M,R){if(Rs)p.memoizedProps!==R&&Cr(g);else if(Rh){var L=p.stateNode,j=p.memoizedProps;if((p=Bo(p,g))||j!==R){var ce=es.current;j=une(L,M,j,R,!p,null),j===L?g.stateNode=L:(w9(j,M,R,ce)&&Cr(g),g.stateNode=j,p?df(j,g,!1,!1):Cr(g))}else g.stateNode=L}}function ae(p,g,M){if(Fte(g,M)){if(p.flags|=16777216,!A9(g,M))if(e9())p.flags|=8192;else throw Rg=sS,lR}else p.flags&=-16777217}function ge(p,g){if(One(g)){if(p.flags|=16777216,!V9(g))if(e9())p.flags|=8192;else throw Rg=sS,lR}else p.flags&=-16777217}function ve(p,g){g!==null&&(p.flags|=4),p.flags&16384&&(g=p.tag!==22?N():536870912,p.lanes|=g,Pg|=g)}function De(p,g){if(!Oi)switch(p.tailMode){case"hidden":g=p.tail;for(var M=null;g!==null;)g.alternate!==null&&(M=g),g=g.sibling;M===null?p.tail=null:M.sibling=null;break;case"collapsed":M=p.tail;for(var R=null;M!==null;)M.alternate!==null&&(R=M),M=M.sibling;R===null?g||p.tail===null?p.tail=null:p.tail.sibling=null:R.sibling=null}}function Le(p){var g=p.alternate!==null&&p.alternate.child===p.child,M=0,R=0;if(g)for(var L=p.child;L!==null;)M|=L.lanes|L.childLanes,R|=L.subtreeFlags&31457280,R|=L.flags&31457280,L.return=p,L=L.sibling;else for(L=p.child;L!==null;)M|=L.lanes|L.childLanes,R|=L.subtreeFlags,R|=L.flags,L.return=p,L=L.sibling;return p.subtreeFlags|=R,p.childLanes=M,g}function _t(p,g,M){var R=g.pendingProps;switch(K(g),g.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(g),null;case 1:return Le(g),null;case 3:return M=g.stateNode,R=null,p!==null&&(R=p.memoizedState.cache),g.memoizedState.cache!==R&&(g.flags|=2048),we(ta),_e(),M.pendingContext&&(M.context=M.pendingContext,M.pendingContext=null),(p===null||p.child===null)&&(ct(g)?Cr(g):p===null||p.memoizedState.isDehydrated&&!(g.flags&256)||(g.flags|=1024,Rc!==null&&(D2(Rc),Rc=null))),Eh(p,g),Le(g),null;case 26:if(Cl){M=g.type;var L=g.memoizedState;return p===null?(Cr(g),L!==null?(Le(g),ge(g,L)):(Le(g),ae(g,M,R))):L?L!==p.memoizedState?(Cr(g),Le(g),ge(g,L)):(Le(g),g.flags&=-16777217):(Rs?p.memoizedProps!==R&&Cr(g):Y(p,g,M,R),Le(g),ae(g,M,R)),null}case 27:if(ks){if(xe(g),M=kh.current,L=g.type,p!==null&&g.stateNode!=null)Rs?p.memoizedProps!==R&&Cr(g):Y(p,g,L,R);else{if(!R){if(g.stateNode===null)throw Error(r(166));return Le(g),null}p=es.current,ct(g)?Ge(g,p):(p=G9(L,R,M,p,!0),g.stateNode=p,Cr(g))}return Le(g),null}case 5:if(xe(g),M=g.type,p!==null&&g.stateNode!=null)Y(p,g,M,R);else{if(!R){if(g.stateNode===null)throw Error(r(166));return Le(g),null}p=es.current,ct(g)?Ge(g,p):(L=Dte(M,R,kh.current,p,g),df(L,g,!1,!1),g.stateNode=L,w9(L,M,R,p)&&Cr(g))}return Le(g),ae(g,g.type,g.pendingProps),null;case 6:if(p&&g.stateNode!=null)M=p.memoizedProps,Rs?M!==R&&Cr(g):Rh&&(M!==R?(g.stateNode=E9(R,kh.current,es.current,g),Cr(g)):g.stateNode=p.stateNode);else{if(typeof R!="string"&&g.stateNode===null)throw Error(r(166));if(p=kh.current,M=es.current,ct(g)){if(!Tl)throw Error(r(176));if(p=g.stateNode,M=g.memoizedProps,R=null,L=Zs,L!==null)switch(L.tag){case 27:case 5:R=L.memoizedProps}Sne(p,M,g,R)||Oe(g)}else g.stateNode=E9(R,p,M,g)}return Le(g),null;case 13:if(R=g.memoizedState,p===null||p.memoizedState!==null&&p.memoizedState.dehydrated!==null){if(L=ct(g),R!==null&&R.dehydrated!==null){if(p===null){if(!L)throw Error(r(318));if(!Tl)throw Error(r(344));if(L=g.memoizedState,L=L!==null?L.dehydrated:null,!L)throw Error(r(317));wne(L,g)}else Tt(),!(g.flags&128)&&(g.memoizedState=null),g.flags|=4;Le(g),L=!1}else Rc!==null&&(D2(Rc),Rc=null),L=!0;if(!L)return g.flags&256?(dn(g),g):(dn(g),null)}if(dn(g),g.flags&128)return g.lanes=M,g;if(M=R!==null,p=p!==null&&p.memoizedState!==null,M){R=g.child,L=null,R.alternate!==null&&R.alternate.memoizedState!==null&&R.alternate.memoizedState.cachePool!==null&&(L=R.alternate.memoizedState.cachePool.pool);var j=null;R.memoizedState!==null&&R.memoizedState.cachePool!==null&&(j=R.memoizedState.cachePool.pool),j!==L&&(R.flags|=2048)}return M!==p&&M&&(g.child.flags|=8192),ve(g,g.updateQueue),Le(g),null;case 4:return _e(),Eh(p,g),p===null&&Ote(g.stateNode.containerInfo),Le(g),null;case 10:return we(g.type),Le(g),null;case 19:if(m(Ca),L=g.memoizedState,L===null)return Le(g),null;if(R=(g.flags&128)!==0,j=L.rendering,j===null)if(R)De(L,!1);else{if(ia!==0||p!==null&&p.flags&128)for(p=g.child;p!==null;){if(j=ga(p),j!==null){for(g.flags|=128,De(L,!1),p=j.updateQueue,g.updateQueue=p,ve(g,p),g.subtreeFlags=0,p=M,M=g.child;M!==null;)u9(M,p),M=M.sibling;return x(Ca,Ca.current&1|2),g.child}p=p.sibling}L.tail!==null&&Cc()>hv&&(g.flags|=128,R=!0,De(L,!1),g.lanes=4194304)}else{if(!R)if(p=ga(j),p!==null){if(g.flags|=128,R=!0,p=p.updateQueue,g.updateQueue=p,ve(g,p),De(L,!0),L.tail===null&&L.tailMode==="hidden"&&!j.alternate&&!Oi)return Le(g),null}else 2*Cc()-L.renderingStartTime>hv&&M!==536870912&&(g.flags|=128,R=!0,De(L,!1),g.lanes=4194304);L.isBackwards?(j.sibling=g.child,g.child=j):(p=L.last,p!==null?p.sibling=j:g.child=j,L.last=j)}return L.tail!==null?(g=L.tail,L.rendering=g,L.tail=g.sibling,L.renderingStartTime=Cc(),g.sibling=null,p=Ca.current,x(Ca,R?p&1|2:p&1),g):(Le(g),null);case 22:case 23:return dn(g),tr(),R=g.memoizedState!==null,p!==null?p.memoizedState!==null!==R&&(g.flags|=8192):R&&(g.flags|=8192),R?M&536870912&&!(g.flags&128)&&(Le(g),g.subtreeFlags&6&&(g.flags|=8192)):Le(g),M=g.updateQueue,M!==null&&ve(g,M.retryQueue),M=null,p!==null&&p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(M=p.memoizedState.cachePool.pool),R=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(R=g.memoizedState.cachePool.pool),R!==M&&(g.flags|=2048),p!==null&&m(pp),null;case 24:return M=null,p!==null&&(M=p.memoizedState.cache),g.memoizedState.cache!==M&&(g.flags|=2048),we(ta),Le(g),null;case 25:return null}throw Error(r(156,g.tag))}function Lt(p,g){switch(K(g),g.tag){case 1:return p=g.flags,p&65536?(g.flags=p&-65537|128,g):null;case 3:return we(ta),_e(),p=g.flags,p&65536&&!(p&128)?(g.flags=p&-65537|128,g):null;case 26:case 27:case 5:return xe(g),null;case 13:if(dn(g),p=g.memoizedState,p!==null&&p.dehydrated!==null){if(g.alternate===null)throw Error(r(340));Tt()}return p=g.flags,p&65536?(g.flags=p&-65537|128,g):null;case 19:return m(Ca),null;case 4:return _e(),null;case 10:return we(g.type),null;case 22:case 23:return dn(g),tr(),p!==null&&m(pp),p=g.flags,p&65536?(g.flags=p&-65537|128,g):null;case 24:return we(ta),null;case 25:return null;default:return null}}function Ht(p,g){switch(K(g),g.tag){case 3:we(ta),_e();break;case 26:case 27:case 5:xe(g);break;case 4:_e();break;case 13:dn(g);break;case 19:m(Ca);break;case 10:we(g.type);break;case 22:case 23:dn(g),tr(),p!==null&&m(pp);break;case 24:we(ta)}}function $t(p,g){try{var M=g.updateQueue,R=M!==null?M.lastEffect:null;if(R!==null){var L=R.next;M=L;do{if((M.tag&p)===p){R=void 0;var j=M.create,ce=M.inst;R=j(),ce.destroy=R}M=M.next}while(M!==L)}}catch(Ce){rr(g,g.return,Ce)}}function Yt(p,g,M){try{var R=g.updateQueue,L=R!==null?R.lastEffect:null;if(L!==null){var j=L.next;R=j;do{if((R.tag&p)===p){var ce=R.inst,Ce=ce.destroy;if(Ce!==void 0){ce.destroy=void 0,L=g;var He=M;try{Ce()}catch(St){rr(L,He,St)}}}R=R.next}while(R!==j)}}catch(St){rr(g,g.return,St)}}function sn(p){var g=p.updateQueue;if(g!==null){var M=p.stateNode;try{Fe(g,M)}catch(R){rr(p,p.return,R)}}}function Dn(p,g,M){M.props=wi(p.type,p.memoizedProps),M.state=p.memoizedState;try{M.componentWillUnmount()}catch(R){rr(p,g,R)}}function ai(p,g){try{var M=p.ref;if(M!==null){var R=p.stateNode;switch(p.tag){case 26:case 27:case 5:var L=tv(R);break;default:L=R}typeof M=="function"?p.refCleanup=M(L):M.current=L}}catch(j){rr(p,g,j)}}function Un(p,g){var M=p.ref,R=p.refCleanup;if(M!==null)if(typeof R=="function")try{R()}catch(L){rr(p,g,L)}finally{p.refCleanup=null,p=p.alternate,p!=null&&(p.refCleanup=null)}else if(typeof M=="function")try{M(null)}catch(L){rr(p,g,L)}else M.current=null}function ti(p){var g=p.type,M=p.memoizedProps,R=p.stateNode;try{Qte(R,g,M,p)}catch(L){rr(p,p.return,L)}}function wn(p,g,M){try{ene(p.stateNode,p.type,M,g,p)}catch(R){rr(p,p.return,R)}}function pn(p){return p.tag===5||p.tag===3||(Cl?p.tag===26:!1)||(ks?p.tag===27:!1)||p.tag===4}function nr(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||pn(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&(!ks||p.tag!==27)&&p.tag!==18;){if(p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function xr(p,g,M){var R=p.tag;if(R===5||R===6)p=p.stateNode,g?nne(M,p,g):$te(M,p);else if(!(R===4||ks&&R===27)&&(p=p.child,p!==null))for(xr(p,g,M),p=p.sibling;p!==null;)xr(p,g,M),p=p.sibling}function Gr(p,g,M){var R=p.tag;if(R===5||R===6)p=p.stateNode,g?tne(M,p,g):Jte(M,p);else if(!(R===4||ks&&R===27)&&(p=p.child,p!==null))for(Gr(p,g,M),p=p.sibling;p!==null;)Gr(p,g,M),p=p.sibling}function ji(p,g,M){p=p.containerInfo;try{D9(p,M)}catch(R){rr(g,g.return,R)}}function Ur(p,g){for(Rte(p.containerInfo),ja=g;ja!==null;)if(p=ja,g=p.child,(p.subtreeFlags&1028)!==0&&g!==null)g.return=p,ja=g;else for(;ja!==null;){p=ja;var M=p.alternate;switch(g=p.flags,p.tag){case 0:break;case 11:case 15:break;case 1:if(g&1024&&M!==null){g=void 0;var R=p,L=M.memoizedProps;M=M.memoizedState;var j=R.stateNode;try{var ce=wi(R.type,L,R.elementType===R.type);g=j.getSnapshotBeforeUpdate(ce,M),j.__reactInternalSnapshotBeforeUpdate=g}catch(Ce){rr(R,R.return,Ce)}}break;case 3:g&1024&&Rs&&cne(p.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(g&1024)throw Error(r(163))}if(g=p.sibling,g!==null){g.return=p.return,ja=g;break}ja=p.return}return ce=Q9,Q9=!1,ce}function As(p,g,M){var R=M.flags;switch(M.tag){case 0:case 11:case 15:Qa(p,M),R&4&&$t(5,M);break;case 1:if(Qa(p,M),R&4)if(p=M.stateNode,g===null)try{p.componentDidMount()}catch(Ce){rr(M,M.return,Ce)}else{var L=wi(M.type,g.memoizedProps);g=g.memoizedState;try{p.componentDidUpdate(L,g,p.__reactInternalSnapshotBeforeUpdate)}catch(Ce){rr(M,M.return,Ce)}}R&64&&sn(M),R&512&&ai(M,M.return);break;case 3:if(Qa(p,M),R&64&&(R=M.updateQueue,R!==null)){if(p=null,M.child!==null)switch(M.child.tag){case 27:case 5:p=tv(M.child.stateNode);break;case 1:p=M.child.stateNode}try{Fe(R,p)}catch(Ce){rr(M,M.return,Ce)}}break;case 26:if(Cl){Qa(p,M),R&512&&ai(M,M.return);break}case 27:case 5:Qa(p,M),g===null&&R&4&&ti(M),R&512&&ai(M,M.return);break;case 12:Qa(p,M);break;case 13:Qa(p,M),R&4&&Ho(p,M);break;case 22:if(L=M.memoizedState!==null||vf,!L){g=g!==null&&g.memoizedState!==null||na;var j=vf,ce=na;vf=L,(na=g)&&!ce?Tc(p,M,(M.subtreeFlags&8772)!==0):Qa(p,M),vf=j,na=ce}R&512&&(M.memoizedProps.mode==="manual"?ai(M,M.return):Un(M,M.return));break;default:Qa(p,M)}}function Fa(p){var g=p.alternate;g!==null&&(p.alternate=null,Fa(g)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(g=p.stateNode,g!==null&&Ute(g)),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}function Fr(p,g,M){for(M=M.child;M!==null;)Ys(p,g,M),M=M.sibling}function Ys(p,g,M){if(Xo&&typeof Xo.onCommitFiberUnmount=="function")try{Xo.onCommitFiberUnmount(rv,M)}catch{}switch(M.tag){case 26:if(Cl){na||Un(M,g),Fr(p,g,M),M.memoizedState?j9(M.memoizedState):M.stateNode&&H9(M.stateNode);break}case 27:if(ks){na||Un(M,g);var R=va,L=Yo;va=M.stateNode,Fr(p,g,M),Fne(M.stateNode),va=R,Yo=L;break}case 5:na||Un(M,g);case 6:if(Rs){if(R=va,L=Yo,va=null,Fr(p,g,M),va=R,Yo=L,va!==null)if(Yo)try{rne(va,M.stateNode)}catch(j){rr(M,g,j)}else try{ine(va,M.stateNode)}catch(j){rr(M,g,j)}}else Fr(p,g,M);break;case 18:Rs&&va!==null&&(Yo?Cne(va,M.stateNode):Tne(va,M.stateNode));break;case 4:Rs?(R=va,L=Yo,va=M.stateNode.containerInfo,Yo=!0,Fr(p,g,M),va=R,Yo=L):(Rh&&ji(M.stateNode,M,R9()),Fr(p,g,M));break;case 0:case 11:case 14:case 15:na||Yt(2,M,g),na||Yt(4,M,g),Fr(p,g,M);break;case 1:na||(Un(M,g),R=M.stateNode,typeof R.componentWillUnmount=="function"&&Dn(M,g,R)),Fr(p,g,M);break;case 21:Fr(p,g,M);break;case 22:na||Un(M,g),na=(R=na)||M.memoizedState!==null,Fr(p,g,M),na=R;break;default:Fr(p,g,M)}}function Ho(p,g){if(Tl&&g.memoizedState===null&&(p=g.alternate,p!==null&&(p=p.memoizedState,p!==null&&(p=p.dehydrated,p!==null))))try{Ane(p)}catch(M){rr(g,g.return,M)}}function Js(p){switch(p.tag){case 13:case 19:var g=p.stateNode;return g===null&&(g=p.stateNode=new Z9),g;case 22:return p=p.stateNode,g=p._retryCache,g===null&&(g=p._retryCache=new Z9),g;default:throw Error(r(435,p.tag))}}function Ts(p,g){var M=Js(p);g.forEach(function(R){var L=gte.bind(null,p,R);M.has(R)||(M.add(R),R.then(L,L))})}function _r(p,g){var M=g.deletions;if(M!==null)for(var R=0;R<M.length;R++){var L=M[R],j=p,ce=g;if(Rs){var Ce=ce;e:for(;Ce!==null;){switch(Ce.tag){case 27:case 5:va=Ce.stateNode,Yo=!1;break e;case 3:va=Ce.stateNode.containerInfo,Yo=!0;break e;case 4:va=Ce.stateNode.containerInfo,Yo=!0;break e}Ce=Ce.return}if(va===null)throw Error(r(160));Ys(j,ce,L),va=null,Yo=!1}else Ys(j,ce,L);j=L.alternate,j!==null&&(j.return=null),L.return=null}if(g.subtreeFlags&13878)for(g=g.child;g!==null;)Vo(g,p),g=g.sibling}function Vo(p,g){var M=p.alternate,R=p.flags;switch(p.tag){case 0:case 11:case 14:case 15:_r(g,p),ir(p),R&4&&(Yt(3,p,p.return),$t(3,p),Yt(5,p,p.return));break;case 1:_r(g,p),ir(p),R&512&&(na||M===null||Un(M,M.return)),R&64&&vf&&(p=p.updateQueue,p!==null&&(R=p.callbacks,R!==null&&(M=p.shared.hiddenCallbacks,p.shared.hiddenCallbacks=M===null?R:M.concat(R))));break;case 26:if(Cl){var L=kc;_r(g,p),ir(p),R&512&&(na||M===null||Un(M,M.return)),R&4&&(R=M!==null?M.memoizedState:null,g=p.memoizedState,M===null?g===null?p.stateNode===null?p.stateNode=Dne(L,p.type,p.memoizedProps,p):B9(L,p.type,p.stateNode):p.stateNode=z9(L,g,p.memoizedProps):R!==g?(R===null?M.stateNode!==null&&H9(M.stateNode):j9(R),g===null?B9(L,p.type,p.stateNode):z9(L,g,p.memoizedProps)):g===null&&p.stateNode!==null&&wn(p,p.memoizedProps,M.memoizedProps));break}case 27:if(ks&&R&4&&p.alternate===null){L=p.stateNode;var j=p.memoizedProps;try{Pne(L),Une(p.type,j,L,p)}catch(Gt){rr(p,p.return,Gt)}}case 5:if(_r(g,p),ir(p),R&512&&(na||M===null||Un(M,M.return)),Rs){if(p.flags&32){g=p.stateNode;try{C9(g)}catch(Gt){rr(p,p.return,Gt)}}R&4&&p.stateNode!=null&&(g=p.memoizedProps,wn(p,g,M!==null?M.memoizedProps:g)),R&1024&&(hR=!0)}break;case 6:if(_r(g,p),ir(p),R&4&&Rs){if(p.stateNode===null)throw Error(r(162));R=p.memoizedProps,M=M!==null?M.memoizedProps:R,g=p.stateNode;try{Zte(g,M,R)}catch(Gt){rr(p,p.return,Gt)}}break;case 3:if(Cl?(Ine(),L=kc,kc=Z2(g.containerInfo),_r(g,p),kc=L):_r(g,p),ir(p),R&4){if(Rs&&Tl&&M!==null&&M.memoizedState.isDehydrated)try{Mne(g.containerInfo)}catch(Gt){rr(p,p.return,Gt)}if(Rh){R=g.containerInfo,M=g.pendingChildren;try{D9(R,M)}catch(Gt){rr(p,p.return,Gt)}}}hR&&(hR=!1,Cs(p));break;case 4:Cl?(M=kc,kc=Z2(p.stateNode.containerInfo),_r(g,p),ir(p),kc=M):(_r(g,p),ir(p)),R&4&&Rh&&ji(p.stateNode,p,p.stateNode.pendingChildren);break;case 12:_r(g,p),ir(p);break;case 13:_r(g,p),ir(p),p.child.flags&8192&&p.memoizedState!==null!=(M!==null&&M.memoizedState!==null)&&(gR=Cc()),R&4&&(R=p.updateQueue,R!==null&&(p.updateQueue=null,Ts(p,R)));break;case 22:R&512&&(na||M===null||Un(M,M.return)),L=p.memoizedState!==null;var ce=M!==null&&M.memoizedState!==null,Ce=vf,He=na;if(vf=Ce||L,na=He||ce,_r(g,p),na=He,vf=Ce,ir(p),g=p.stateNode,g._current=p,g._visibility&=-3,g._visibility|=g._pendingVisibility&2,R&8192&&(g._visibility=L?g._visibility&-2:g._visibility|1,L&&(g=vf||na,M===null||ce||g||ea(p)),Rs&&(p.memoizedProps===null||p.memoizedProps.mode!=="manual"))){e:if(M=null,Rs)for(g=p;;){if(g.tag===5||Cl&&g.tag===26||ks&&g.tag===27){if(M===null){ce=M=g;try{j=ce.stateNode,L?ane(j):one(ce.stateNode,ce.memoizedProps)}catch(Gt){rr(ce,ce.return,Gt)}}}else if(g.tag===6){if(M===null){ce=g;try{var St=ce.stateNode;L?sne(St):lne(St,ce.memoizedProps)}catch(Gt){rr(ce,ce.return,Gt)}}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===p)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===p)break e;for(;g.sibling===null;){if(g.return===null||g.return===p)break e;M===g&&(M=null),g=g.return}M===g&&(M=null),g.sibling.return=g.return,g=g.sibling}}R&4&&(R=p.updateQueue,R!==null&&(M=R.retryQueue,M!==null&&(R.retryQueue=null,Ts(p,M))));break;case 19:_r(g,p),ir(p),R&4&&(R=p.updateQueue,R!==null&&(p.updateQueue=null,Ts(p,R)));break;case 21:break;default:_r(g,p),ir(p)}}function ir(p){var g=p.flags;if(g&2){try{if(Rs&&(!ks||p.tag!==27)){e:{for(var M=p.return;M!==null;){if(pn(M)){var R=M;break e}M=M.return}throw Error(r(160))}switch(R.tag){case 27:if(ks){var L=R.stateNode,j=nr(p);Gr(p,j,L);break}case 5:var ce=R.stateNode;R.flags&32&&(C9(ce),R.flags&=-33);var Ce=nr(p);Gr(p,Ce,ce);break;case 3:case 4:var He=R.stateNode.containerInfo,St=nr(p);xr(p,St,He);break;default:throw Error(r(161))}}}catch(Gt){rr(p,p.return,Gt)}p.flags&=-3}g&4096&&(p.flags&=-4097)}function Cs(p){if(p.subtreeFlags&1024)for(p=p.child;p!==null;){var g=p;Cs(g),g.tag===5&&g.flags&1024&&Bte(g.stateNode),p=p.sibling}}function Qa(p,g){if(g.subtreeFlags&8772)for(g=g.child;g!==null;)As(p,g.alternate,g),g=g.sibling}function ea(p){for(p=p.child;p!==null;){var g=p;switch(g.tag){case 0:case 11:case 14:case 15:Yt(4,g,g.return),ea(g);break;case 1:Un(g,g.return);var M=g.stateNode;typeof M.componentWillUnmount=="function"&&Dn(g,g.return,M),ea(g);break;case 26:case 27:case 5:Un(g,g.return),ea(g);break;case 22:Un(g,g.return),g.memoizedState===null&&ea(g);break;default:ea(g)}p=p.sibling}}function Tc(p,g,M){for(M=M&&(g.subtreeFlags&8772)!==0,g=g.child;g!==null;){var R=g.alternate,L=p,j=g,ce=j.flags;switch(j.tag){case 0:case 11:case 15:Tc(L,j,M),$t(4,j);break;case 1:if(Tc(L,j,M),R=j,L=R.stateNode,typeof L.componentDidMount=="function")try{L.componentDidMount()}catch(St){rr(R,R.return,St)}if(R=j,L=R.updateQueue,L!==null){var Ce=R.stateNode;try{var He=L.shared.hiddenCallbacks;if(He!==null)for(L.shared.hiddenCallbacks=null,L=0;L<He.length;L++)Re(He[L],Ce)}catch(St){rr(R,R.return,St)}}M&&ce&64&&sn(j),ai(j,j.return);break;case 26:case 27:case 5:Tc(L,j,M),M&&R===null&&ce&4&&ti(j),ai(j,j.return);break;case 12:Tc(L,j,M);break;case 13:Tc(L,j,M),M&&ce&4&&Ho(L,j);break;case 22:j.memoizedState===null&&Tc(L,j,M),ai(j,j.return);break;default:Tc(L,j,M)}g=g.sibling}}function M2(p,g){var M=null;p!==null&&p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(M=p.memoizedState.cachePool.pool),p=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(p=g.memoizedState.cachePool.pool),p!==M&&(p!=null&&p.refCount++,M!=null&&Cn(M))}function A2(p,g){p=null,g.alternate!==null&&(p=g.alternate.memoizedState.cache),g=g.memoizedState.cache,g!==p&&(g.refCount++,p!=null&&Cn(p))}function Mh(p,g,M,R){if(g.subtreeFlags&10256)for(g=g.child;g!==null;)VU(p,g,M,R),g=g.sibling}function VU(p,g,M,R){var L=g.flags;switch(g.tag){case 0:case 11:case 15:Mh(p,g,M,R),L&2048&&$t(9,g);break;case 3:Mh(p,g,M,R),L&2048&&(p=null,g.alternate!==null&&(p=g.alternate.memoizedState.cache),g=g.memoizedState.cache,g!==p&&(g.refCount++,p!=null&&Cn(p)));break;case 12:if(L&2048){Mh(p,g,M,R),p=g.stateNode;try{var j=g.memoizedProps,ce=j.id,Ce=j.onPostCommit;typeof Ce=="function"&&Ce(ce,g.alternate===null?"mount":"update",p.passiveEffectDuration,-0)}catch(He){rr(g,g.return,He)}}else Mh(p,g,M,R);break;case 23:break;case 22:j=g.stateNode,g.memoizedState!==null?j._visibility&4?Mh(p,g,M,R):Qy(p,g):j._visibility&4?Mh(p,g,M,R):(j._visibility|=4,pg(p,g,M,R,(g.subtreeFlags&10256)!==0)),L&2048&&M2(g.alternate,g);break;case 24:Mh(p,g,M,R),L&2048&&A2(g.alternate,g);break;default:Mh(p,g,M,R)}}function pg(p,g,M,R,L){for(L=L&&(g.subtreeFlags&10256)!==0,g=g.child;g!==null;){var j=p,ce=g,Ce=M,He=R,St=ce.flags;switch(ce.tag){case 0:case 11:case 15:pg(j,ce,Ce,He,L),$t(8,ce);break;case 23:break;case 22:var Gt=ce.stateNode;ce.memoizedState!==null?Gt._visibility&4?pg(j,ce,Ce,He,L):Qy(j,ce):(Gt._visibility|=4,pg(j,ce,Ce,He,L)),L&&St&2048&&M2(ce.alternate,ce);break;case 24:pg(j,ce,Ce,He,L),L&&St&2048&&A2(ce.alternate,ce);break;default:pg(j,ce,Ce,He,L)}g=g.sibling}}function Qy(p,g){if(g.subtreeFlags&10256)for(g=g.child;g!==null;){var M=p,R=g,L=R.flags;switch(R.tag){case 22:Qy(M,R),L&2048&&M2(R.alternate,R);break;case 24:Qy(M,R),L&2048&&A2(R.alternate,R);break;default:Qy(M,R)}g=g.sibling}}function ip(p){if(p.subtreeFlags&Og)for(p=p.child;p!==null;)GU(p),p=p.sibling}function GU(p){switch(p.tag){case 26:ip(p),p.flags&Og&&(p.memoizedState!==null?Lne(kc,p.memoizedState,p.memoizedProps):T9(p.type,p.memoizedProps));break;case 5:ip(p),p.flags&Og&&T9(p.type,p.memoizedProps);break;case 3:case 4:if(Cl){var g=kc;kc=Z2(p.stateNode.containerInfo),ip(p),kc=g}else ip(p);break;case 22:p.memoizedState===null&&(g=p.alternate,g!==null&&g.memoizedState!==null?(g=Og,Og=16777216,ip(p),Og=g):ip(p));break;default:ip(p)}}function WU(p){var g=p.alternate;if(g!==null&&(p=g.child,p!==null)){g.child=null;do g=p.sibling,p.sibling=null,p=g;while(p!==null)}}function ev(p){var g=p.deletions;if(p.flags&16){if(g!==null)for(var M=0;M<g.length;M++){var R=g[M];ja=R,XU(R,p)}WU(p)}if(p.subtreeFlags&10256)for(p=p.child;p!==null;)qU(p),p=p.sibling}function qU(p){switch(p.tag){case 0:case 11:case 15:ev(p),p.flags&2048&&Yt(9,p,p.return);break;case 3:ev(p);break;case 12:ev(p);break;case 22:var g=p.stateNode;p.memoizedState!==null&&g._visibility&4&&(p.return===null||p.return.tag!==13)?(g._visibility&=-5,q_(p)):ev(p);break;default:ev(p)}}function q_(p){var g=p.deletions;if(p.flags&16){if(g!==null)for(var M=0;M<g.length;M++){var R=g[M];ja=R,XU(R,p)}WU(p)}for(p=p.child;p!==null;){switch(g=p,g.tag){case 0:case 11:case 15:Yt(8,g,g.return),q_(g);break;case 22:M=g.stateNode,M._visibility&4&&(M._visibility&=-5,q_(g));break;default:q_(g)}p=p.sibling}}function XU(p,g){for(;ja!==null;){var M=ja;switch(M.tag){case 0:case 11:case 15:Yt(8,M,g);break;case 23:case 22:if(M.memoizedState!==null&&M.memoizedState.cachePool!==null){var R=M.memoizedState.cachePool.pool;R!=null&&R.refCount++}break;case 24:Cn(M.memoizedState.cache)}if(R=M.child,R!==null)R.return=M,ja=R;else e:for(M=p;ja!==null;){R=ja;var L=R.sibling,j=R.return;if(Fa(R),R===M){ja=null;break e}if(L!==null){L.return=j,ja=L;break e}ja=j}}}function T2(p){var g=M9(p);if(g!=null){if(typeof g.memoizedProps["data-testname"]!="string")throw Error(r(364));return g}if(p=Gte(p),p===null)throw Error(r(362));return p.stateNode.current}function C2(p,g){var M=p.tag;switch(g.$$typeof){case fS:if(p.type===g.value)return!0;break;case hS:e:{for(g=g.value,p=[p,0],M=0;M<p.length;){var R=p[M++],L=R.tag,j=p[M++],ce=g[j];if(L!==5&&L!==26&&L!==27||!iv(R)){for(;ce!=null&&C2(R,ce);)j++,ce=g[j];if(j===g.length){g=!0;break e}else for(R=R.child;R!==null;)p.push(R,j),R=R.sibling}}g=!1}return g;case dS:if((M===5||M===26||M===27)&&Xte(p.stateNode,g.value))return!0;break;case mS:if((M===5||M===6||M===26||M===27)&&(p=qte(p),p!==null&&0<=p.indexOf(g.value)))return!0;break;case pS:if((M===5||M===26||M===27)&&(p=p.memoizedProps["data-testname"],typeof p=="string"&&p.toLowerCase()===g.value.toLowerCase()))return!0;break;default:throw Error(r(365))}return!1}function R2(p){switch(p.$$typeof){case fS:return"<"+(s(p.value)||"Unknown")+">";case hS:return":has("+(R2(p)||"")+")";case dS:return'[role="'+p.value+'"]';case mS:return'"'+p.value+'"';case pS:return'[data-testname="'+p.value+'"]';default:throw Error(r(365))}}function KU(p,g){var M=[];p=[p,0];for(var R=0;R<p.length;){var L=p[R++],j=L.tag,ce=p[R++],Ce=g[ce];if(j!==5&&j!==26&&j!==27||!iv(L)){for(;Ce!=null&&C2(L,Ce);)ce++,Ce=g[ce];if(ce===g.length)M.push(L);else for(L=L.child;L!==null;)p.push(L,ce),L=L.sibling}}return M}function k2(p,g){if(!nv)throw Error(r(363));p=T2(p),p=KU(p,g),g=[],p=Array.from(p);for(var M=0;M<p.length;){var R=p[M++],L=R.tag;if(L===5||L===26||L===27)iv(R)||g.push(R.stateNode);else for(R=R.child;R!==null;)p.push(R),R=R.sibling}return g}function Go(){if(ur&2&&Ti!==0)return Ti&-Ti;if(zn.T!==null){var p=Tg;return p!==0?p:be()}return Lte()}function YU(){Il===0&&(Il=!(Ti&536870912)||Oi?k():536870912);var p=Nl.current;return p!==null&&(p.flags|=32),Il}function $s(p,g,M){(p===Sr&&wr===2||p.cancelPendingCommit!==null)&&(mg(p,0),pf(p,Ti,Il,!1)),P(p,M),(!(ur&2)||p!==Sr)&&(p===Sr&&(!(ur&2)&&(mp|=M),ia===4&&pf(p,Ti,Il,!1)),We(p))}function JU(p,g,M){if(ur&6)throw Error(r(327));var R=!M&&(g&60)===0&&(g&p.expiredLanes)===0||w(p,g),L=R?fte(p,g):O2(p,g,!0),j=R;do{if(L===0){Lg&&!R&&pf(p,g,0,!1);break}else if(L===6)pf(p,g,0,!xf);else{if(M=p.current.alternate,j&&!cte(M)){L=O2(p,g,!1),j=!1;continue}if(L===2){if(j=g,p.errorRecoveryDisabledLanes&j)var ce=0;else ce=p.pendingLanes&-536870913,ce=ce!==0?ce:ce&536870912?536870912:0;if(ce!==0){g=ce;e:{var Ce=p;L=fv;var He=Tl&&Ce.current.memoizedState.isDehydrated;if(He&&(mg(Ce,ce).flags|=256),ce=O2(Ce,ce,!1),ce!==2){if(dR&&!He){Ce.errorRecoveryDisabledLanes|=j,mp|=j,L=4;break e}j=xu,xu=L,j!==null&&D2(j)}L=ce}if(j=!1,L!==2)continue}}if(L===1){mg(p,0),pf(p,g,0,!0);break}e:{switch(R=p,L){case 0:case 1:throw Error(r(345));case 4:if((g&4194176)===g){pf(R,g,Il,!xf);break e}break;case 2:xu=null;break;case 3:case 5:break;default:throw Error(r(329))}if(R.finishedWork=M,R.finishedLanes=g,(g&62914560)===g&&(j=gR+300-Cc(),10<j)){if(pf(R,g,Il,!xf),A(R,0)!==0)break e;R.timeoutHandle=Nte($U.bind(null,R,M,xu,gS,mR,g,Il,mp,Pg,xf,2,-0,0),j);break e}$U(R,M,xu,gS,mR,g,Il,mp,Pg,xf,0,-0,0)}}break}while(!0);We(p)}function D2(p){xu===null?xu=p:xu.push.apply(xu,p)}function $U(p,g,M,R,L,j,ce,Ce,He,St,Gt,tn,an){var Kn=g.subtreeFlags;if((Kn&8192||(Kn&16785408)===16785408)&&(zte(),GU(g),g=jte(),g!==null)){p.cancelPendingCommit=g(s9.bind(null,p,M,R,L,ce,Ce,He,1,tn,an)),pf(p,j,ce,!St);return}s9(p,M,R,L,ce,Ce,He,Gt,tn,an)}function cte(p){for(var g=p;;){var M=g.tag;if((M===0||M===11||M===15)&&g.flags&16384&&(M=g.updateQueue,M!==null&&(M=M.stores,M!==null)))for(var R=0;R<M.length;R++){var L=M[R],j=L.getSnapshot;L=L.value;try{if(!Ko(j(),L))return!1}catch{return!1}}if(M=g.child,g.subtreeFlags&16384&&M!==null)M.return=g,g=M;else{if(g===p)break;for(;g.sibling===null;){if(g.return===null||g.return===p)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function pf(p,g,M,R){g&=~pR,g&=~mp,p.suspendedLanes|=g,p.pingedLanes&=~g,R&&(p.warmLanes|=g),R=p.expirationTimes;for(var L=g;0<L;){var j=31-qo(L),ce=1<<j;R[j]=-1,L&=~ce}M!==0&&G(p,M,g)}function ZU(){return ur&6?!0:(Et(0),!1)}function N2(){if(hi!==null){if(wr===0)var p=hi.return;else p=hi,yf=dp=null,Z(p),kg=null,lv=0,p=hi;for(;p!==null;)Ht(p.alternate,p),p=p.return;hi=null}}function mg(p,g){p.finishedWork=null,p.finishedLanes=0;var M=p.timeoutHandle;M!==Y2&&(p.timeoutHandle=Y2,Ite(M)),M=p.cancelPendingCommit,M!==null&&(p.cancelPendingCommit=null,M()),N2(),Sr=p,hi=M=Ah(p.current,null),Ti=g,wr=0,Jo=null,xf=!1,Lg=w(p,g),dR=!1,Pg=Il=pR=mp=Oh=ia=0,xu=fv=null,mR=!1,g&8&&(g|=g&32);var R=p.entangledLanes;if(R!==0)for(p=p.entanglements,R&=g;0<R;){var L=31-qo(R),j=1<<L;g|=p[L],R&=~j}return _f=g,Ve(),M}function QU(p,g){si=null,zn.H=vu,g===ov?(g=Mt(),wr=3):g===lR?(g=Mt(),wr=4):wr=g===J9?8:g!==null&&typeof g=="object"&&typeof g.then=="function"?6:1,Jo=g,hi===null&&(ia=1,Fo(p,X(g,p.current)))}function e9(){var p=Nl.current;return p===null?!0:(Ti&4194176)===Ti?yu===null:(Ti&62914560)===Ti||Ti&536870912?p===yu:!1}function t9(){var p=zn.H;return zn.H=vu,p===null?vu:p}function n9(){var p=zn.A;return zn.A=Zne,p}function I2(){ia=4,xf||(Ti&4194176)!==Ti&&Nl.current!==null||(Lg=!0),!(Oh&134217727)&&!(mp&134217727)||Sr===null||pf(Sr,Ti,Il,!1)}function O2(p,g,M){var R=ur;ur|=2;var L=t9(),j=n9();(Sr!==p||Ti!==g)&&(gS=null,mg(p,g)),g=!1;var ce=ia;e:do try{if(wr!==0&&hi!==null){var Ce=hi,He=Jo;switch(wr){case 8:N2(),ce=6;break e;case 3:case 2:case 6:Nl.current===null&&(g=!0);var St=wr;if(wr=0,Jo=null,gg(p,Ce,He,St),M&&Lg){ce=0;break e}break;default:St=wr,wr=0,Jo=null,gg(p,Ce,He,St)}}ute(),ce=ia;break}catch(Gt){QU(p,Gt)}while(!0);return g&&p.shellSuspendCounter++,yf=dp=null,ur=R,zn.H=L,zn.A=j,hi===null&&(Sr=null,Ti=0,Ve()),ce}function ute(){for(;hi!==null;)i9(hi)}function fte(p,g){var M=ur;ur|=2;var R=t9(),L=n9();Sr!==p||Ti!==g?(gS=null,hv=Cc()+500,mg(p,g)):Lg=w(p,g);e:do try{if(wr!==0&&hi!==null){g=hi;var j=Jo;t:switch(wr){case 1:wr=0,Jo=null,gg(p,g,j,1);break;case 2:if(Wt(j)){wr=0,Jo=null,r9(g);break}g=function(){wr===2&&Sr===p&&(wr=7),We(p)},j.then(g,g);break e;case 3:wr=7;break e;case 4:wr=5;break e;case 7:Wt(j)?(wr=0,Jo=null,r9(g)):(wr=0,Jo=null,gg(p,g,j,7));break;case 5:var ce=null;switch(hi.tag){case 26:ce=hi.memoizedState;case 5:case 27:var Ce=hi,He=Ce.type,St=Ce.pendingProps;if(ce?V9(ce):A9(He,St)){wr=0,Jo=null;var Gt=Ce.sibling;if(Gt!==null)hi=Gt;else{var tn=Ce.return;tn!==null?(hi=tn,X_(tn)):hi=null}break t}}wr=0,Jo=null,gg(p,g,j,5);break;case 6:wr=0,Jo=null,gg(p,g,j,6);break;case 8:N2(),ia=6;break e;default:throw Error(r(462))}}hte();break}catch(an){QU(p,an)}while(!0);return yf=dp=null,zn.H=R,zn.A=L,ur=M,hi!==null?0:(Sr=null,Ti=0,Ve(),ia)}function hte(){for(;hi!==null&&!Bne();)i9(hi)}function i9(p){var g=ee(p.alternate,p,_f);p.memoizedProps=p.pendingProps,g===null?X_(p):hi=g}function r9(p){var g=p,M=g.alternate;switch(g.tag){case 15:case 0:g=Ws(M,g,g.pendingProps,g.type,void 0,Ti);break;case 11:g=Ws(M,g,g.pendingProps,g.type.render,g.ref,Ti);break;case 5:Z(g);default:Ht(M,g),g=hi=u9(g,_f),g=ee(M,g,_f)}p.memoizedProps=p.pendingProps,g===null?X_(p):hi=g}function gg(p,g,M,R){yf=dp=null,Z(g),kg=null,lv=0;var L=g.return;try{if(Zy(p,L,g,M,Ti)){ia=1,Fo(p,X(M,p.current)),hi=null;return}}catch(j){if(L!==null)throw hi=L,j;ia=1,Fo(p,X(M,p.current)),hi=null;return}g.flags&32768?(Oi||R===1?p=!0:Lg||Ti&536870912?p=!1:(xf=p=!0,(R===2||R===3||R===6)&&(R=Nl.current,R!==null&&R.tag===13&&(R.flags|=16384))),a9(g,p)):X_(g)}function X_(p){var g=p;do{if(g.flags&32768){a9(g,xf);return}p=g.return;var M=_t(g.alternate,g,_f);if(M!==null){hi=M;return}if(g=g.sibling,g!==null){hi=g;return}hi=g=p}while(g!==null);ia===0&&(ia=5)}function a9(p,g){do{var M=Lt(p.alternate,p);if(M!==null){M.flags&=32767,hi=M;return}if(M=p.return,M!==null&&(M.flags|=32768,M.subtreeFlags=0,M.deletions=null),!g&&(p=p.sibling,p!==null)){hi=p;return}hi=p=M}while(p!==null);ia=6,hi=null}function s9(p,g,M,R,L,j,ce,Ce,He,St){var Gt=zn.T,tn=sp();try{yo(2),zn.T=null,dte(p,g,M,R,tn,L,j,ce,Ce,He,St)}finally{zn.T=Gt,yo(tn)}}function dte(p,g,M,R,L,j,ce,Ce){do rp();while(gp!==null);if(ur&6)throw Error(r(327));var He=p.finishedWork;if(R=p.finishedLanes,He===null)return null;if(p.finishedWork=null,p.finishedLanes=0,He===p.current)throw Error(r(177));p.callbackNode=null,p.callbackPriority=0,p.cancelPendingCommit=null;var St=He.lanes|He.childLanes;if(St|=iR,B(p,R,St,j,ce,Ce),p===Sr&&(hi=Sr=null,Ti=0),!(He.subtreeFlags&10256)&&!(He.flags&10256)||bS||(bS=!0,bR=St,yR=M,bte(tR,function(){return rp(),null})),M=(He.flags&15990)!==0,He.subtreeFlags&15990||M?(M=zn.T,zn.T=null,j=sp(),yo(2),ce=ur,ur|=4,Ur(p,He),Vo(He,p),kte(p.containerInfo),p.current=He,As(p,He.alternate,He),Hne(),ur=ce,yo(j),zn.T=M):p.current=He,bS?(bS=!1,gp=p,dv=R):o9(p,St),St=p.pendingLanes,St===0&&(Lh=null),U(He.stateNode),We(p),g!==null)for(L=p.onRecoverableError,He=0;He<g.length;He++)St=g[He],L(St.value,{componentStack:St.stack});return dv&3&&rp(),St=p.pendingLanes,R&4194218&&St&42?p===vR?pv++:(pv=0,vR=p):pv=0,Et(0),null}function o9(p,g){(p.pooledCacheLanes&=g)===0&&(g=p.pooledCache,g!=null&&(p.pooledCache=null,Cn(g)))}function rp(){if(gp!==null){var p=gp,g=bR;bR=0;var M=V(dv),R=32>M?32:M;M=zn.T;var L=sp();try{if(yo(R),zn.T=null,gp===null)var j=!1;else{R=yR,yR=null;var ce=gp,Ce=dv;if(gp=null,dv=0,ur&6)throw Error(r(331));var He=ur;if(ur|=4,qU(ce.current),VU(ce,ce.current,Ce,R),ur=He,Et(0,!1),Xo&&typeof Xo.onPostCommitFiberRoot=="function")try{Xo.onPostCommitFiberRoot(rv,ce)}catch{}j=!0}return j}finally{yo(L),zn.T=M,o9(p,g)}}return!1}function l9(p,g,M){g=X(M,g),g=Zd(p.stateNode,g,2),p=$e(p,g,2),p!==null&&(P(p,2),We(p))}function rr(p,g,M){if(p.tag===3)l9(p,p,M);else for(;g!==null;){if(g.tag===3){l9(g,p,M);break}else if(g.tag===1){var R=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof R.componentDidCatch=="function"&&(Lh===null||!Lh.has(R))){p=X(M,p),M=Gs(2),R=$e(g,M,2),R!==null&&(Es(M,R,g,p),P(R,2),We(R));break}}g=g.return}}function L2(p,g,M){var R=p.pingCache;if(R===null){R=p.pingCache=new Qne;var L=new Set;R.set(g,L)}else L=R.get(g),L===void 0&&(L=new Set,R.set(g,L));L.has(M)||(dR=!0,L.add(M),p=pte.bind(null,p,g,M),g.then(p,p))}function pte(p,g,M){var R=p.pingCache;R!==null&&R.delete(g),p.pingedLanes|=p.suspendedLanes&M,p.warmLanes&=~M,Sr===p&&(Ti&M)===M&&(ia===4||ia===3&&(Ti&62914560)===Ti&&300>Cc()-gR?!(ur&2)&&mg(p,0):pR|=M,Pg===Ti&&(Pg=0)),We(p)}function c9(p,g){g===0&&(g=N()),p=Ae(p,g),p!==null&&(P(p,g),We(p))}function mte(p){var g=p.memoizedState,M=0;g!==null&&(M=g.retryLane),c9(p,M)}function gte(p,g){var M=0;switch(p.tag){case 13:var R=p.stateNode,L=p.memoizedState;L!==null&&(M=L.retryLane);break;case 19:R=p.stateNode;break;case 22:R=p.stateNode._retryCache;break;default:throw Error(r(314))}R!==null&&R.delete(g),c9(p,M)}function bte(p,g){return eS(p,g)}function yte(p,g,M,R){this.tag=p,this.key=M,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=R,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function P2(p){return p=p.prototype,!(!p||!p.isReactComponent)}function Ah(p,g){var M=p.alternate;return M===null?(M=n(p.tag,g,p.key,p.mode),M.elementType=p.elementType,M.type=p.type,M.stateNode=p.stateNode,M.alternate=p,p.alternate=M):(M.pendingProps=g,M.type=p.type,M.flags=0,M.subtreeFlags=0,M.deletions=null),M.flags=p.flags&31457280,M.childLanes=p.childLanes,M.lanes=p.lanes,M.child=p.child,M.memoizedProps=p.memoizedProps,M.memoizedState=p.memoizedState,M.updateQueue=p.updateQueue,g=p.dependencies,M.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},M.sibling=p.sibling,M.index=p.index,M.ref=p.ref,M.refCleanup=p.refCleanup,M}function u9(p,g){p.flags&=31457282;var M=p.alternate;return M===null?(p.childLanes=0,p.lanes=g,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=M.childLanes,p.lanes=M.lanes,p.child=M.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=M.memoizedProps,p.memoizedState=M.memoizedState,p.updateQueue=M.updateQueue,p.type=M.type,g=M.dependencies,p.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext}),p}function K_(p,g,M,R,L,j){var ce=0;if(R=p,typeof p=="function")P2(p)&&(ce=1);else if(typeof p=="string")ce=Cl&&ks?U9(p,M,es.current)?26:W9(p)?27:5:Cl?U9(p,M,es.current)?26:5:ks&&W9(p)?27:5;else e:switch(p){case yg:return ap(M.children,L,j,g);case b9:ce=8,L|=24;break;case B2:return p=n(12,M,g,L|2),p.elementType=B2,p.lanes=j,p;case V2:return p=n(13,M,g,L),p.elementType=V2,p.lanes=j,p;case G2:return p=n(19,M,g,L),p.elementType=G2,p.lanes=j,p;case v9:return f9(M,L,j,g);default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case Ste:case Th:ce=10;break e;case y9:ce=9;break e;case H2:ce=11;break e;case W2:ce=14;break e;case Ch:ce=16,R=null;break e}ce=29,M=Error(r(130,p===null?"null":typeof p,"")),R=null}return g=n(ce,M,g,L),g.elementType=p,g.type=R,g.lanes=j,g}function ap(p,g,M,R){return p=n(7,p,R,g),p.lanes=M,p}function f9(p,g,M,R){p=n(22,p,R,g),p.elementType=v9,p.lanes=M;var L={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var j=L._current;if(j===null)throw Error(r(456));if(!(L._pendingVisibility&2)){var ce=Ae(j,2);ce!==null&&(L._pendingVisibility|=2,$s(ce,j,2))}},attach:function(){var j=L._current;if(j===null)throw Error(r(456));if(L._pendingVisibility&2){var ce=Ae(j,2);ce!==null&&(L._pendingVisibility&=-3,$s(ce,j,2))}}};return p.stateNode=L,p}function U2(p,g,M){return p=n(6,p,null,g),p.lanes=M,p}function F2(p,g,M){return g=n(4,p.children!==null?p.children:[],p.key,g),g.lanes=M,g.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},g}function vte(p,g,M,R,L,j,ce,Ce){this.tag=1,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Y2,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=D(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=D(0),this.hiddenUpdates=D(null),this.identifierPrefix=R,this.onUncaughtError=L,this.onCaughtError=j,this.onRecoverableError=ce,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ce,this.incompleteTransitions=new Map}function h9(p,g,M,R,L,j,ce,Ce,He,St,Gt,tn){return p=new vte(p,g,M,ce,Ce,He,St,tn),g=1,j===!0&&(g|=24),j=n(3,null,null,g),p.current=j,j.stateNode=p,g=Bn(),g.refCount++,p.pooledCache=g,g.refCount++,j.memoizedState={element:R,isDehydrated:M,cache:g},pt(j),p}function d9(p){return p?(p=_g,p):_g}function p9(p){var g=p._reactInternals;if(g===void 0)throw typeof p.render=="function"?Error(r(188)):(p=Object.keys(p).join(","),Error(r(268,p)));return p=d(g),p=p!==null?b(p):null,p===null?null:tv(p.stateNode)}function m9(p,g,M,R,L,j){L=d9(L),R.context===null?R.context=L:R.pendingContext=L,R=rt(g),R.payload={element:M},j=j===void 0?null:j,j!==null&&(R.callback=j),M=$e(p,R,g),M!==null&&($s(M,p,g),Xt(M,p,g))}function g9(p,g){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var M=p.retryLane;p.retryLane=M!==0&&M<g?M:g}}function z2(p,g){g9(p,g),(p=p.alternate)&&g9(p,g)}var fi={},xte=I,Wo=wN,j2=Object.assign,_te=Symbol.for("react.element"),Y_=Symbol.for("react.transitional.element"),bg=Symbol.for("react.portal"),yg=Symbol.for("react.fragment"),b9=Symbol.for("react.strict_mode"),B2=Symbol.for("react.profiler"),Ste=Symbol.for("react.provider"),y9=Symbol.for("react.consumer"),Th=Symbol.for("react.context"),H2=Symbol.for("react.forward_ref"),V2=Symbol.for("react.suspense"),G2=Symbol.for("react.suspense_list"),W2=Symbol.for("react.memo"),Ch=Symbol.for("react.lazy"),v9=Symbol.for("react.offscreen"),wte=Symbol.for("react.memo_cache_sentinel"),x9=Symbol.iterator,Ete=Symbol.for("react.client.reference"),zn=xte.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q2,_9,X2=!1,J_=Array.isArray,Mte=e.rendererVersion,Ate=e.rendererPackageName,S9=e.extraDevToolsConfig,tv=e.getPublicInstance,Tte=e.getRootHostContext,Cte=e.getChildHostContext,Rte=e.prepareForCommit,kte=e.resetAfterCommit,Dte=e.createInstance,K2=e.appendInitialChild,w9=e.finalizeInitialChildren,$_=e.shouldSetTextContent,E9=e.createTextInstance,Nte=e.scheduleTimeout,Ite=e.cancelTimeout,Y2=e.noTimeout,mf=e.isPrimaryRenderer;e.warnsIfNotActing;var Rs=e.supportsMutation,Rh=e.supportsPersistence,Tl=e.supportsHydration,M9=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var Ote=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var yo=e.setCurrentUpdatePriority,sp=e.getCurrentUpdatePriority,Lte=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var Pte=e.shouldAttemptEagerTransition,Ute=e.detachDeletedInstance;e.requestPostPaintCallback;var Fte=e.maySuspendCommit,A9=e.preloadInstance,zte=e.startSuspendingCommit,T9=e.suspendInstance,jte=e.waitForCommitToBeReady,vg=e.NotPendingTransition,op=e.HostTransitionContext,Bte=e.resetFormInstance;e.bindToConsole;var Hte=e.supportsMicrotasks,Vte=e.scheduleMicrotask,nv=e.supportsTestSelectors,Gte=e.findFiberRoot,Wte=e.getBoundingRect,qte=e.getTextContent,iv=e.isHiddenSubtree,Xte=e.matchAccessibilityRole,Kte=e.setFocusIfFocusable,Yte=e.setupIntersectionObserver,Jte=e.appendChild,$te=e.appendChildToContainer,Zte=e.commitTextUpdate,Qte=e.commitMount,ene=e.commitUpdate,tne=e.insertBefore,nne=e.insertInContainerBefore,ine=e.removeChild,rne=e.removeChildFromContainer,C9=e.resetTextContent,ane=e.hideInstance,sne=e.hideTextInstance,one=e.unhideInstance,lne=e.unhideTextInstance,cne=e.clearContainer,une=e.cloneInstance,R9=e.createContainerChildSet,k9=e.appendChildToContainerChildSet,fne=e.finalizeContainerChildren,D9=e.replaceContainerChildren,N9=e.cloneHiddenInstance,I9=e.cloneHiddenTextInstance,J2=e.isSuspenseInstancePending,$2=e.isSuspenseInstanceFallback,hne=e.getSuspenseInstanceFallbackErrorDetails,dne=e.registerSuspenseInstanceRetry,pne=e.canHydrateFormStateMarker,mne=e.isFormStateMarkerMatching,O9=e.getNextHydratableSibling,L9=e.getFirstHydratableChild,gne=e.getFirstHydratableChildWithinContainer,bne=e.getFirstHydratableChildWithinSuspenseInstance,yne=e.canHydrateInstance,vne=e.canHydrateTextInstance,xne=e.canHydrateSuspenseInstance,_ne=e.hydrateInstance,Sne=e.hydrateTextInstance,wne=e.hydrateSuspenseInstance,Ene=e.getNextHydratableInstanceAfterSuspenseInstance,Mne=e.commitHydratedContainer,Ane=e.commitHydratedSuspenseInstance,Tne=e.clearSuspenseBoundary,Cne=e.clearSuspenseBoundaryFromContainer,P9=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var Rne=e.validateHydratableInstance,kne=e.validateHydratableTextInstance,Cl=e.supportsResources,U9=e.isHostHoistableType,Z2=e.getHoistableRoot,F9=e.getResource,z9=e.acquireResource,j9=e.releaseResource,Dne=e.hydrateHoistable,B9=e.mountHoistable,H9=e.unmountHoistable,Nne=e.createHoistableInstance,Ine=e.prepareToCommitHoistables,One=e.mayResourceSuspendCommit,V9=e.preloadResource,Lne=e.suspendResource,ks=e.supportsSingletons,G9=e.resolveSingletonInstance,Pne=e.clearSingleton,Une=e.acquireSingletonInstance,Fne=e.releaseSingletonInstance,W9=e.isHostSingletonType,Q2=[],xg=-1,_g={},qo=Math.clz32?Math.clz32:_,zne=Math.log,jne=Math.LN2,Z_=128,Q_=4194304,eS=Wo.unstable_scheduleCallback,eR=Wo.unstable_cancelCallback,Bne=Wo.unstable_shouldYield,Hne=Wo.unstable_requestPaint,Cc=Wo.unstable_now,q9=Wo.unstable_ImmediatePriority,Vne=Wo.unstable_UserBlockingPriority,tR=Wo.unstable_NormalPriority,Gne=Wo.unstable_IdlePriority,Wne=Wo.log,qne=Wo.unstable_setDisableYieldValue,rv=null,Xo=null,Ko=typeof Object.is=="function"?Object.is:q,X9=new WeakMap,Sg=[],wg=0,tS=null,nS=0,Rl=[],kl=0,lp=null,gf=1,bf="",es=v(null),av=v(null),kh=v(null),iS=v(null),Zs=null,Ds=null,Oi=!1,Rc=null,bu=!1,nR=Error(r(519)),Dl=[],Eg=0,iR=0,rS=null,Mg=null,rR=!1,aS=!1,aR=!1,Ag=0,sv=null,sR=0,Tg=0,Cg=null,Dh=!1,oR=!1,Xne=Object.prototype.hasOwnProperty,ov=Error(r(460)),lR=Error(r(474)),sS={then:function(){}},Rg=null,kg=null,lv=0,cp=Wn(!0),K9=Wn(!1),Dg=v(null),oS=v(0),Nl=v(null),yu=null,Ca=v(0),Nh=0,si=null,cr=null,ya=null,lS=!1,Ng=!1,up=!1,cS=0,cv=0,Ig=null,Kne=0,cR=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},vu={readContext:Pt,use:ye,useCallback:Ni,useContext:Ni,useEffect:Ni,useImperativeHandle:Ni,useLayoutEffect:Ni,useInsertionEffect:Ni,useMemo:Ni,useReducer:Ni,useRef:Ni,useState:Ni,useDebugValue:Ni,useDeferredValue:Ni,useTransition:Ni,useSyncExternalStore:Ni,useId:Ni};vu.useCacheRefresh=Ni,vu.useMemoCache=Ni,vu.useHostTransitionStatus=Ni,vu.useFormState=Ni,vu.useActionState=Ni,vu.useOptimistic=Ni;var fp={readContext:Pt,use:ye,useCallback:function(p,g){return me().memoizedState=[p,g===void 0?null:g],p},useContext:Pt,useEffect:Po,useImperativeHandle:function(p,g,M){M=M!=null?M.concat([p]):null,Lo(4194308,4,Ec.bind(null,g,p),M)},useLayoutEffect:function(p,g){return Lo(4194308,4,p,g)},useInsertionEffect:function(p,g){Lo(4,2,p,g)},useMemo:function(p,g){var M=me();g=g===void 0?null:g;var R=p();if(up){F(!0);try{p()}finally{F(!1)}}return M.memoizedState=[R,g],R},useReducer:function(p,g,M){var R=me();if(M!==void 0){var L=M(g);if(up){F(!0);try{M(g)}finally{F(!1)}}}else L=g;return R.memoizedState=R.baseState=L,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:L},R.queue=p,p=p.dispatch=Ft.bind(null,si,p),[R.memoizedState,p]},useRef:function(p){var g=me();return p={current:p},g.memoizedState=p},useState:function(p){p=Jt(p);var g=p.queue,M=mn.bind(null,si,g);return g.dispatch=M,[p.memoizedState,M]},useDebugValue:uf,useDeferredValue:function(p,g){var M=me();return S(M,p,g)},useTransition:function(){var p=Jt(!1);return p=W.bind(null,si,p.queue,!0,!1),me().memoizedState=p,[!1,p]},useSyncExternalStore:function(p,g,M){var R=si,L=me();if(Oi){if(M===void 0)throw Error(r(407));M=M()}else{if(M=g(),Sr===null)throw Error(r(349));Ti&60||Je(R,g,M)}L.memoizedState=M;var j={value:M,getSnapshot:g};return L.queue=j,Po(cn.bind(null,R,j,p),[p]),R.flags|=2048,pr(9,nn.bind(null,R,j,M,g),{destroy:void 0},null),M},useId:function(){var p=me(),g=Sr.identifierPrefix;if(Oi){var M=bf,R=gf;M=(R&~(1<<32-qo(R)-1)).toString(32)+M,g=":"+g+"R"+M,M=cS++,0<M&&(g+="H"+M.toString(32)),g+=":"}else M=Kne++,g=":"+g+"r"+M.toString(32)+":";return p.memoizedState=g},useCacheRefresh:function(){return me().memoizedState=It.bind(null,si)}};fp.useMemoCache=dt,fp.useHostTransitionStatus=de,fp.useFormState=ui,fp.useActionState=ui,fp.useOptimistic=function(p){var g=me();g.memoizedState=g.baseState=p;var M={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return g.queue=M,g=Ai.bind(null,si,!0,M),M.dispatch=g,[p,g]};var Ih={readContext:Pt,use:ye,useCallback:Uo,useContext:Pt,useEffect:Sn,useImperativeHandle:Pr,useInsertionEffect:Vs,useLayoutEffect:El,useMemo:mu,useReducer:ht,useRef:cf,useState:function(){return ht(it)},useDebugValue:uf,useDeferredValue:function(p,g){var M=Se();return O(M,cr.memoizedState,p,g)},useTransition:function(){var p=ht(it)[0],g=Se().memoizedState;return[typeof p=="boolean"?p:Ee(p),g]},useSyncExternalStore:qt,useId:Pe};Ih.useCacheRefresh=Xe,Ih.useMemoCache=dt,Ih.useHostTransitionStatus=de,Ih.useFormState=Ki,Ih.useActionState=Ki,Ih.useOptimistic=function(p,g){var M=Se();return Kt(M,cr,p,g)};var hp={readContext:Pt,use:ye,useCallback:Uo,useContext:Pt,useEffect:Sn,useImperativeHandle:Pr,useInsertionEffect:Vs,useLayoutEffect:El,useMemo:mu,useReducer:Dt,useRef:cf,useState:function(){return Dt(it)},useDebugValue:uf,useDeferredValue:function(p,g){var M=Se();return cr===null?S(M,p,g):O(M,cr.memoizedState,p,g)},useTransition:function(){var p=Dt(it)[0],g=Se().memoizedState;return[typeof p=="boolean"?p:Ee(p),g]},useSyncExternalStore:qt,useId:Pe};hp.useCacheRefresh=Xe,hp.useMemoCache=dt,hp.useHostTransitionStatus=de,hp.useFormState=Hs,hp.useActionState=Hs,hp.useOptimistic=function(p,g){var M=Se();return cr!==null?Kt(M,cr,p,g):(M.baseState=p,[p,M.queue.dispatch])};var uR={isMounted:function(p){return(p=p._reactInternals)?f(p)===p:!1},enqueueSetState:function(p,g,M){p=p._reactInternals;var R=Go(),L=rt(R);L.payload=g,M!=null&&(L.callback=M),g=$e(p,L,R),g!==null&&($s(g,p,R),Xt(g,p,R))},enqueueReplaceState:function(p,g,M){p=p._reactInternals;var R=Go(),L=rt(R);L.tag=1,L.payload=g,M!=null&&(L.callback=M),g=$e(p,L,R),g!==null&&($s(g,p,R),Xt(g,p,R))},enqueueForceUpdate:function(p,g){p=p._reactInternals;var M=Go(),R=rt(M);R.tag=2,g!=null&&(R.callback=g),g=$e(p,R,M),g!==null&&($s(g,p,M),Xt(g,p,M))}},Y9=typeof reportError=="function"?reportError:function(p){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var g=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof p=="object"&&p!==null&&typeof p.message=="string"?String(p.message):String(p),error:p});if(!window.dispatchEvent(g))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",p);return}console.error(p)},J9=Error(r(461)),za=!1,fR={dehydrated:null,treeContext:null,retryLane:0},uS=v(null),dp=null,yf=null,Yne=typeof AbortController<"u"?AbortController:function(){var p=[],g=this.signal={aborted:!1,addEventListener:function(M,R){p.push(R)}};this.abort=function(){g.aborted=!0,p.forEach(function(M){return M()})}},Jne=Wo.unstable_scheduleCallback,$ne=Wo.unstable_NormalPriority,ta={$$typeof:Th,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},$9=zn.S;zn.S=function(p,g){typeof g=="object"&&g!==null&&typeof g.then=="function"&&$(p,g),$9!==null&&$9(p,g)};var pp=v(null),vf=!1,na=!1,hR=!1,Z9=typeof WeakSet=="function"?WeakSet:Set,ja=null,Q9=!1,va=null,Yo=!1,kc=null,Og=8192,Zne={getCacheForType:function(p){var g=Pt(ta),M=g.data.get(p);return M===void 0&&(M=p(),g.data.set(p,M)),M}},fS=0,hS=1,dS=2,pS=3,mS=4;if(typeof Symbol=="function"&&Symbol.for){var uv=Symbol.for;fS=uv("selector.component"),hS=uv("selector.has_pseudo_class"),dS=uv("selector.role"),pS=uv("selector.test_id"),mS=uv("selector.text")}var Qne=typeof WeakMap=="function"?WeakMap:Map,ur=0,Sr=null,hi=null,Ti=0,wr=0,Jo=null,xf=!1,Lg=!1,dR=!1,_f=0,ia=0,Oh=0,mp=0,pR=0,Il=0,Pg=0,fv=null,xu=null,mR=!1,gR=0,hv=1/0,gS=null,Lh=null,bS=!1,gp=null,dv=0,bR=0,yR=null,pv=0,vR=null;return fi.attemptContinuousHydration=function(p){if(p.tag===13){var g=Ae(p,67108864);g!==null&&$s(g,p,67108864),z2(p,67108864)}},fi.attemptHydrationAtCurrentPriority=function(p){if(p.tag===13){var g=Go(),M=Ae(p,g);M!==null&&$s(M,p,g),z2(p,g)}},fi.attemptSynchronousHydration=function(p){switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var g=E(p.pendingLanes);if(g!==0){for(p.pendingLanes|=2,p.entangledLanes|=2;g;){var M=1<<31-qo(g);p.entanglements[1]|=M,g&=~M}We(p),!(ur&6)&&(hv=Cc()+500,Et(0))}}break;case 13:g=Ae(p,2),g!==null&&$s(g,p,2),ZU(),z2(p,2)}},fi.batchedUpdates=function(p,g){return p(g)},fi.createComponentSelector=function(p){return{$$typeof:fS,value:p}},fi.createContainer=function(p,g,M,R,L,j,ce,Ce,He,St){return h9(p,g,!1,null,M,R,j,ce,Ce,He,St,null)},fi.createHasPseudoClassSelector=function(p){return{$$typeof:hS,value:p}},fi.createHydrationContainer=function(p,g,M,R,L,j,ce,Ce,He,St,Gt,tn,an){return p=h9(M,R,!0,p,L,j,Ce,He,St,Gt,tn,an),p.context=d9(null),M=p.current,R=Go(),L=rt(R),L.callback=g??null,$e(M,L,R),p.current.lanes=R,P(p,R),We(p),p},fi.createPortal=function(p,g,M){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bg,key:R==null?null:""+R,children:p,containerInfo:g,implementation:M}},fi.createRoleSelector=function(p){return{$$typeof:dS,value:p}},fi.createTestNameSelector=function(p){return{$$typeof:pS,value:p}},fi.createTextSelector=function(p){return{$$typeof:mS,value:p}},fi.defaultOnCaughtError=function(p){console.error(p)},fi.defaultOnRecoverableError=function(p){Y9(p)},fi.defaultOnUncaughtError=function(p){Y9(p)},fi.deferredUpdates=function(p){var g=zn.T,M=sp();try{return yo(32),zn.T=null,p()}finally{yo(M),zn.T=g}},fi.discreteUpdates=function(p,g,M,R,L){var j=zn.T,ce=sp();try{return yo(2),zn.T=null,p(g,M,R,L)}finally{yo(ce),zn.T=j,ur===0&&(hv=Cc()+500)}},fi.findAllNodes=k2,fi.findBoundingRects=function(p,g){if(!nv)throw Error(r(363));g=k2(p,g),p=[];for(var M=0;M<g.length;M++)p.push(Wte(g[M]));for(g=p.length-1;0<g;g--){M=p[g];for(var R=M.x,L=R+M.width,j=M.y,ce=j+M.height,Ce=g-1;0<=Ce;Ce--)if(g!==Ce){var He=p[Ce],St=He.x,Gt=St+He.width,tn=He.y,an=tn+He.height;if(R>=St&&j>=tn&&L<=Gt&&ce<=an){p.splice(g,1);break}else if(R!==St||M.width!==He.width||an<j||tn>ce){if(!(j!==tn||M.height!==He.height||Gt<R||St>L)){St>R&&(He.width+=St-R,He.x=R),Gt<L&&(He.width=L-St),p.splice(g,1);break}}else{tn>j&&(He.height+=tn-j,He.y=j),an<ce&&(He.height=ce-tn),p.splice(g,1);break}}}return p},fi.findHostInstance=p9,fi.findHostInstanceWithNoPortals=function(p){return p=d(p),p=p!==null?y(p):null,p===null?null:tv(p.stateNode)},fi.findHostInstanceWithWarning=function(p){return p9(p)},fi.flushPassiveEffects=rp,fi.flushSyncFromReconciler=function(p){var g=ur;ur|=1;var M=zn.T,R=sp();try{if(yo(2),zn.T=null,p)return p()}finally{yo(R),zn.T=M,ur=g,!(ur&6)&&Et(0)}},fi.flushSyncWork=ZU,fi.focusWithin=function(p,g){if(!nv)throw Error(r(363));for(p=T2(p),g=KU(p,g),g=Array.from(g),p=0;p<g.length;){var M=g[p++],R=M.tag;if(!iv(M)){if((R===5||R===26||R===27)&&Kte(M.stateNode))return!0;for(M=M.child;M!==null;)g.push(M),M=M.sibling}}return!1},fi.getFindAllNodesFailureDescription=function(p,g){if(!nv)throw Error(r(363));var M=0,R=[];p=[T2(p),0];for(var L=0;L<p.length;){var j=p[L++],ce=j.tag,Ce=p[L++],He=g[Ce];if((ce!==5&&ce!==26&&ce!==27||!iv(j))&&(C2(j,He)&&(R.push(R2(He)),Ce++,Ce>M&&(M=Ce)),Ce<g.length))for(j=j.child;j!==null;)p.push(j,Ce),j=j.sibling}if(M<g.length){for(p=[];M<g.length;M++)p.push(R2(g[M]));return`findAllNodes was able to match part of the selector:
  `+(R.join(" > ")+`

No matching component was found for:
  `)+p.join(" > ")}return null},fi.getPublicRootInstance=function(p){if(p=p.current,!p.child)return null;switch(p.child.tag){case 27:case 5:return tv(p.child.stateNode);default:return p.child.stateNode}},fi.injectIntoDevTools=function(){var p={bundleType:0,version:Mte,rendererPackageName:Ate,currentDispatcherRef:zn,findFiberByHostInstance:M9,reconcilerVersion:"19.0.0"};if(S9!==null&&(p.rendererConfig=S9),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")p=!1;else{var g=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(g.isDisabled||!g.supportsFiber)p=!0;else{try{rv=g.inject(p),Xo=g}catch{}p=!!g.checkDCE}}return p},fi.isAlreadyRendering=function(){return!1},fi.observeVisibleRects=function(p,g,M,R){if(!nv)throw Error(r(363));p=k2(p,g);var L=Yte(p,M,R).disconnect;return{disconnect:function(){L()}}},fi.shouldError=function(){return null},fi.shouldSuspend=function(){return!1},fi.startHostTransition=function(p,g,M,R){if(p.tag!==5)throw Error(r(476));var L=ne(p).queue;W(p,L,g,vg,M===null?i:function(){var j=ne(p).next.queue;return En(p,j,{},Go()),M(R)})},fi.updateContainer=function(p,g,M,R){var L=g.current,j=Go();return m9(L,j,p,g,M,R),j},fi.updateContainerSync=function(p,g,M,R){return g.tag===0&&rp(),m9(g.current,2,p,g,M,R),2},fi},t.exports.default=t.exports,Object.defineProperty(t.exports,"__esModule",{value:!0})})(GJ);var __e=GJ.exports;VJ.exports=__e;var S_e=VJ.exports;const w_e=mc(S_e);function DP(t,e,n){if(!t)return;if(n(t)===!0)return t;let i=e?t.return:t.child;for(;i;){const r=DP(i,e,n);if(r)return r;i=e?null:i.sibling}}function XJ(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const NP=XJ(I.createContext(null));let KJ=class extends I.Component{render(){return I.createElement(NP.Provider,{value:this._reactInternals},this.props.children)}};function YJ(){const t=I.useContext(NP);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=I.useId();return I.useMemo(()=>{for(const n of[t,t?.alternate]){if(!n)continue;const i=DP(n,!1,r=>{let a=r.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(i)return i}},[t,e])}const E_e=Symbol.for("react.context"),M_e=t=>t!==null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===E_e;function A_e(){const t=YJ(),[e]=I.useState(()=>new Map);e.clear();let n=t;for(;n;){const i=n.type;M_e(i)&&i!==NP&&!e.has(i)&&e.set(i,I.use(XJ(i))),n=n.return}return e}function JJ(){const t=A_e();return I.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>i=>I.createElement(e,null,I.createElement(n.Provider,{...i,value:t.get(n)})),e=>I.createElement(KJ,{...e})),[t])}function $J(t){let e=t.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const ZJ=t=>t&&t.isOrthographicCamera,T_e=t=>t&&t.hasOwnProperty("current"),C_e=t=>t!=null&&(typeof t=="string"||typeof t=="number"||t.isColor),C_=((t,e)=>typeof window<"u"&&(((t=window.document)==null?void 0:t.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?I.useLayoutEffect:I.useEffect;function IP(t){const e=I.useRef(t);return C_(()=>void(e.current=t),[t]),e}function R_e(){const t=YJ(),e=JJ();return I.useMemo(()=>({children:n})=>{const r=!!DP(t,!0,a=>a.type===I.StrictMode)?I.StrictMode:I.Fragment;return C.jsx(r,{children:C.jsx(e,{children:n})})},[t,e])}function k_e({set:t}){return C_(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}const D_e=(t=>(t=class extends I.Component{constructor(...n){super(...n),this.state={error:!1}}componentDidCatch(n){this.props.set(n)}render(){return this.state.error?null:this.props.children}},t.getDerivedStateFromError=()=>({error:!0}),t))();function QJ(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}function hb(t){var e;return(e=t.__r3f)==null?void 0:e.root.getState()}const jr={obj:t=>t===Object(t)&&!jr.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,nul:t=>t===null,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:i="reference",strict:r=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(jr.str(t)||jr.num(t)||jr.boo(t))return t===e;const a=jr.obj(t);if(a&&i==="reference")return t===e;const s=jr.arr(t);if(s&&n==="reference")return t===e;if((s||a)&&t===e)return!0;let o;for(o in t)if(!(o in e))return!1;if(a&&n==="shallow"&&i==="shallow"){for(o in r?e:t)if(!jr.equ(t[o],e[o],{strict:r,objects:"reference"}))return!1}else for(o in r?e:t)if(t[o]!==e[o])return!1;if(jr.und(o)){if(s&&t.length===0&&e.length===0||a&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function N_e(t){const e={nodes:{},materials:{},meshes:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material),n.isMesh&&!e.meshes[n.name]&&(e.meshes[n.name]=n)}),e}function I_e(t){t.type!=="Scene"&&(t.dispose==null||t.dispose());for(const e in t){const n=t[e];n?.type!=="Scene"&&(n==null||n.dispose==null||n.dispose())}}const e$=["children","key","ref"];function O_e(t){const e={};for(const n in t)e$.includes(n)||(e[n]=t[n]);return e}function DA(t,e,n,i){const r=t;let a=r?.__r3f;return a||(a={root:e,type:n,parent:null,children:[],props:O_e(i),object:r,eventCount:0,handlers:{},isHidden:!1},r&&(r.__r3f=a)),a}function L1(t,e){let n=t[e];if(!e.includes("-"))return{root:t,key:e,target:n};n=t;for(const r of e.split("-")){var i;e=r,t=n,n=(i=n)==null?void 0:i[e]}return{root:t,key:e,target:n}}const vB=/-\d+$/;function NA(t,e){if(jr.str(e.props.attach)){if(vB.test(e.props.attach)){const r=e.props.attach.replace(vB,""),{root:a,key:s}=L1(t.object,r);Array.isArray(a[s])||(a[s]=[])}const{root:n,key:i}=L1(t.object,e.props.attach);e.previousAttach=n[i],n[i]=e.object}else jr.fun(e.props.attach)&&(e.previousAttach=e.props.attach(t.object,e.object))}function IA(t,e){if(jr.str(e.props.attach)){const{root:n,key:i}=L1(t.object,e.props.attach),r=e.previousAttach;r===void 0?delete n[i]:n[i]=r}else e.previousAttach==null||e.previousAttach(t.object,e.object);delete e.previousAttach}const EN=[...e$,"args","dispose","attach","object","onUpdate","dispose"],xB=new Map;function L_e(t){let e=xB.get(t.constructor);try{e||(e=new t.constructor,xB.set(t.constructor,e))}catch{}return e}function P_e(t,e){const n={};for(const i in e)if(!EN.includes(i)&&!jr.equ(e[i],t.props[i])){n[i]=e[i];for(const r in e)r.startsWith(`${i}-`)&&(n[r]=e[r])}for(const i in t.props){if(EN.includes(i)||e.hasOwnProperty(i))continue;const{root:r,key:a}=L1(t.object,i);if(r.constructor&&r.constructor.length===0){const s=L_e(r);jr.und(s)||(n[a]=s[a])}else n[a]=0}return n}const U_e=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],F_e=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function Xc(t,e){var n;const i=t.__r3f,r=i&&$J(i).getState(),a=i?.eventCount;for(const o in e){let l=e[o];if(EN.includes(o))continue;if(i&&F_e.test(o)){typeof l=="function"?i.handlers[o]=l:delete i.handlers[o],i.eventCount=Object.keys(i.handlers).length;continue}if(l===void 0)continue;let{root:c,key:u,target:f}=L1(t,o);if(f instanceof Q0&&l instanceof Q0)f.mask=l.mask;else if(f instanceof Ut&&C_e(l))f.set(l);else if(f!==null&&typeof f=="object"&&typeof f.set=="function"&&typeof f.copy=="function"&&l!=null&&l.constructor&&f.constructor===l.constructor)f.copy(l);else if(f!==null&&typeof f=="object"&&typeof f.set=="function"&&Array.isArray(l))typeof f.fromArray=="function"?f.fromArray(l):f.set(...l);else if(f!==null&&typeof f=="object"&&typeof f.set=="function"&&typeof l=="number")typeof f.setScalar=="function"?f.setScalar(l):f.set(l);else{var s;c[u]=l,r&&!r.linear&&U_e.includes(u)&&(s=c[u])!=null&&s.isTexture&&c[u].format===Yr&&c[u].type===ho&&(c[u].colorSpace=us)}}if(i!=null&&i.parent&&r!=null&&r.internal&&(n=i.object)!=null&&n.isObject3D&&a!==i.eventCount){const o=i.object,l=r.internal.interaction.indexOf(o);l>-1&&r.internal.interaction.splice(l,1),i.eventCount&&o.raycast!==null&&r.internal.interaction.push(o)}return i&&i.props.attach===void 0&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&Gy(i),t}function Gy(t){var e;if(!t.parent)return;t.props.onUpdate==null||t.props.onUpdate(t.object);const n=(e=t.root)==null||e.getState==null?void 0:e.getState();n&&n.internal.frames===0&&n.invalidate()}function t$(t,e){t.manual||(ZJ(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix())}const io=t=>t?.isObject3D;function Nw(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function n$(t,e,n,i){const r=n.get(e);r&&(n.delete(e),n.size===0&&(t.delete(i),r.target.releasePointerCapture(i)))}function z_e(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(i=>i!==e),n.initialHits=n.initialHits.filter(i=>i!==e),n.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&n.hovered.delete(r)}),n.capturedMap.forEach((i,r)=>{n$(n.capturedMap,e,i,r)})}function j_e(t){function e(l){const{internal:c}=t.getState(),u=l.offsetX-c.initialClick[0],f=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+f*f))}function n(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var f;return(f=c.__r3f)==null?void 0:f.handlers["onPointer"+u]}))}function i(l,c){const u=t.getState(),f=new Set,h=[],d=c?c(u.internal.interaction):u.internal.interaction;for(let m=0;m<d.length;m++){const x=hb(d[m]);x&&(x.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function b(m){const x=hb(m);if(!x||!x.events.enabled||x.raycaster.camera===null)return[];if(x.raycaster.camera===void 0){var _;x.events.compute==null||x.events.compute(l,x,(_=x.previousRoot)==null?void 0:_.getState()),x.raycaster.camera===void 0&&(x.raycaster.camera=null)}return x.raycaster.camera?x.raycaster.intersectObject(m,!0):[]}let y=d.flatMap(b).sort((m,x)=>{const _=hb(m.object),E=hb(x.object);return!_||!E?m.distance-x.distance:E.events.priority-_.events.priority||m.distance-x.distance}).filter(m=>{const x=Nw(m);return f.has(x)?!1:(f.add(x),!0)});u.events.filter&&(y=u.events.filter(y,u));for(const m of y){let x=m.object;for(;x;){var v;(v=x.__r3f)!=null&&v.eventCount&&h.push({...m,eventObject:x}),x=x.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let m of u.internal.capturedMap.get(l.pointerId).values())f.has(Nw(m.intersection))||h.push(m.intersection);return h}function r(l,c,u,f){if(l.length){const h={stopped:!1};for(const d of l){let b=hb(d.object);if(b||d.object.traverseAncestors(y=>{const v=hb(y);if(v)return b=v,!1}),b){const{raycaster:y,pointer:v,camera:m,internal:x}=b,_=new Q(v.x,v.y,0).unproject(m),E=N=>{var D,P;return(D=(P=x.capturedMap.get(N))==null?void 0:P.has(d.eventObject))!=null?D:!1},A=N=>{const D={intersection:d,target:c.target};x.capturedMap.has(N)?x.capturedMap.get(N).set(d.eventObject,D):x.capturedMap.set(N,new Map([[d.eventObject,D]])),c.target.setPointerCapture(N)},w=N=>{const D=x.capturedMap.get(N);D&&n$(x.capturedMap,d.eventObject,D,N)};let T={};for(let N in c){let D=c[N];typeof D!="function"&&(T[N]=D)}let k={...d,...T,pointer:v,intersections:l,stopped:h.stopped,delta:u,unprojectedPoint:_,ray:y.ray,camera:m,stopPropagation(){const N="pointerId"in c&&x.capturedMap.get(c.pointerId);if((!N||N.has(d.eventObject))&&(k.stopped=h.stopped=!0,x.hovered.size&&Array.from(x.hovered.values()).find(D=>D.eventObject===d.eventObject))){const D=l.slice(0,l.indexOf(d));a([...D,d])}},target:{hasPointerCapture:E,setPointerCapture:A,releasePointerCapture:w},currentTarget:{hasPointerCapture:E,setPointerCapture:A,releasePointerCapture:w},nativeEvent:c};if(f(k),h.stopped===!0)break}}}return l}function a(l){const{internal:c}=t.getState();for(const u of c.hovered.values())if(!l.length||!l.find(f=>f.object===u.object&&f.index===u.index&&f.instanceId===u.instanceId)){const h=u.eventObject.__r3f;if(c.hovered.delete(Nw(u)),h!=null&&h.eventCount){const d=h.handlers,b={...u,intersections:l};d.onPointerOut==null||d.onPointerOut(b),d.onPointerLeave==null||d.onPointerLeave(b)}}}function s(l,c){for(let u=0;u<c.length;u++){const f=c[u].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function o(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return c=>{const{internal:u}=t.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),a([]))})}}return function(u){const{onPointerMissed:f,internal:h}=t.getState();h.lastEvent.current=u;const d=l==="onPointerMove",b=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",v=i(u,d?n:void 0),m=b?e(u):0;l==="onPointerDown"&&(h.initialClick=[u.offsetX,u.offsetY],h.initialHits=v.map(_=>_.eventObject)),b&&!v.length&&m<=2&&(s(u,h.interaction),f&&f(u)),d&&a(v);function x(_){const E=_.eventObject,A=E.__r3f;if(!(A!=null&&A.eventCount))return;const w=A.handlers;if(d){if(w.onPointerOver||w.onPointerEnter||w.onPointerOut||w.onPointerLeave){const T=Nw(_),k=h.hovered.get(T);k?k.stopped&&_.stopPropagation():(h.hovered.set(T,_),w.onPointerOver==null||w.onPointerOver(_),w.onPointerEnter==null||w.onPointerEnter(_))}w.onPointerMove==null||w.onPointerMove(_)}else{const T=w[l];T?(!b||h.initialHits.includes(E))&&(s(u,h.interaction.filter(k=>!h.initialHits.includes(k))),T(_)):b&&h.initialHits.includes(E)&&s(u,h.interaction.filter(k=>!h.initialHits.includes(k)))}}r(v,u,m,x)}}return{handlePointer:o}}const _B=t=>!!(t!=null&&t.render),OP=I.createContext(null),B_e=(t,e)=>{const n=jJ((o,l)=>{const c=new Q,u=new Q,f=new Q;function h(m=l().camera,x=u,_=l().size){const{width:E,height:A,top:w,left:T}=_,k=E/A;x.isVector3?f.copy(x):f.set(...x);const N=m.getWorldPosition(c).distanceTo(f);if(ZJ(m))return{width:E/m.zoom,height:A/m.zoom,top:w,left:T,factor:1,distance:N,aspect:k};{const D=m.fov*Math.PI/180,P=2*Math.tan(D/2)*N,B=P*(E/A);return{width:B,height:P,top:w,left:T,factor:E/B,distance:N,aspect:k}}}let d;const b=m=>o(x=>({performance:{...x.performance,current:m}})),y=new yt;return{set:o,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(m=1)=>t(l(),m),advance:(m,x)=>e(m,x,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new EP,pointer:y,mouse:y,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const m=l();d&&clearTimeout(d),m.performance.current!==m.performance.min&&b(m.performance.min),d=setTimeout(()=>b(l().performance.max),m.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:h},setEvents:m=>o(x=>({...x,events:{...x.events,...m}})),setSize:(m,x,_=0,E=0)=>{const A=l().camera,w={width:m,height:x,top:_,left:E};o(T=>({size:w,viewport:{...T.viewport,...h(A,u,w)}}))},setDpr:m=>o(x=>{const _=QJ(m);return{viewport:{...x.viewport,dpr:_,initialDpr:x.viewport.initialDpr||_}}}),setFrameloop:(m="always")=>{const x=l().clock;x.stop(),x.elapsedTime=0,m!=="never"&&(x.start(),x.elapsedTime=0),o(()=>({frameloop:m}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:I.createRef(),active:!1,frames:0,priority:0,subscribe:(m,x,_)=>{const E=l().internal;return E.priority=E.priority+(x>0?1:0),E.subscribers.push({ref:m,priority:x,store:_}),E.subscribers=E.subscribers.sort((A,w)=>A.priority-w.priority),()=>{const A=l().internal;A!=null&&A.subscribers&&(A.priority=A.priority-(x>0?1:0),A.subscribers=A.subscribers.filter(w=>w.ref!==m))}}}}}),i=n.getState();let r=i.size,a=i.viewport.dpr,s=i.camera;return n.subscribe(()=>{const{camera:o,size:l,viewport:c,gl:u,set:f}=n.getState();if(l.width!==r.width||l.height!==r.height||c.dpr!==a){r=l,a=c.dpr,t$(o,l),c.dpr>0&&u.setPixelRatio(c.dpr);const h=typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,h)}o!==s&&(s=o,f(h=>({viewport:{...h.viewport,...h.viewport.getCurrentViewport(o)}})))}),n.subscribe(o=>t(o)),n};function LP(){const t=I.useContext(OP);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function mi(t=n=>n,e){return LP()(t,e)}function ca(t,e=0){const n=LP(),i=n.getState().internal.subscribe,r=IP(t);return C_(()=>i(r,e,n),[e,i,n]),null}const SB=new WeakMap,H_e=t=>{var e;return typeof t=="function"&&(t==null||(e=t.prototype)==null?void 0:e.constructor)===t};function i$(t,e){return function(n,...i){let r;return H_e(n)?(r=SB.get(n),r||(r=new n,SB.set(n,r))):r=n,t&&t(r),Promise.all(i.map(a=>new Promise((s,o)=>r.load(a,l=>{io(l?.scene)&&Object.assign(l,N_e(l.scene)),s(l)},e,l=>o(new Error(`Could not load ${a}: ${l?.message}`))))))}}function ay(t,e,n,i){const r=Array.isArray(e)?e:[e],a=y_e(i$(n,i),[t,...r],{equal:jr.equ});return Array.isArray(e)?a:a[0]}ay.preload=function(t,e,n){const i=Array.isArray(e)?e:[e];return v_e(i$(n),[t,...i])};ay.clear=function(t,e){const n=Array.isArray(e)?e:[e];return x_e([t,...n])};function V_e(t){const e=w_e(t);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:I.version}),e}const r$=0,sy={},G_e=/^three(?=[A-Z])/,GC=t=>`${t[0].toUpperCase()}${t.slice(1)}`;let W_e=0;const q_e=t=>typeof t=="function";function R_(t){if(q_e(t)){const e=`${W_e++}`;return sy[e]=t,e}else Object.assign(sy,t)}function a$(t,e){const n=GC(t),i=sy[n];if(t!=="primitive"&&!i)throw new Error(`R3F: ${n} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(t==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function X_e(t,e,n){var i;return t=GC(t)in sy?t:t.replace(G_e,""),a$(t,e),t==="primitive"&&(i=e.object)!=null&&i.__r3f&&delete e.object.__r3f,DA(e.object,n,t,e)}function K_e(t){if(!t.isHidden){var e;t.props.attach&&(e=t.parent)!=null&&e.object?IA(t.parent,t):io(t.object)&&(t.object.visible=!1),t.isHidden=!0,Gy(t)}}function s$(t){if(t.isHidden){var e;t.props.attach&&(e=t.parent)!=null&&e.object?NA(t.parent,t):io(t.object)&&t.props.visible!==!1&&(t.object.visible=!0),t.isHidden=!1,Gy(t)}}function PP(t,e,n){const i=e.root.getState();if(!(!t.parent&&t.object!==i.scene)){if(!e.object){var r,a;const s=sy[GC(e.type)];e.object=(r=e.props.object)!=null?r:new s(...(a=e.props.args)!=null?a:[]),e.object.__r3f=e}if(Xc(e.object,e.props),e.props.attach)NA(t,e);else if(io(e.object)&&io(t.object)){const s=t.object.children.indexOf(n?.object);if(n&&s!==-1){const o=t.object.children.indexOf(e.object);if(o!==-1){t.object.children.splice(o,1);const l=o<s?s-1:s;t.object.children.splice(l,0,e.object)}else e.object.parent=t.object,t.object.children.splice(s,0,e.object),e.object.dispatchEvent({type:"added"}),t.object.dispatchEvent({type:"childadded",child:e.object})}else t.object.add(e.object)}for(const s of e.children)PP(e,s);Gy(e)}}function mk(t,e){e&&(e.parent=t,t.children.push(e),PP(t,e))}function wB(t,e,n){if(!e||!n)return;e.parent=t;const i=t.children.indexOf(n);i!==-1?t.children.splice(i,0,e):t.children.push(e),PP(t,e,n)}function o$(t){if(typeof t.dispose=="function"){const e=()=>{try{t.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():wN.unstable_scheduleCallback(wN.unstable_IdlePriority,e)}}function MN(t,e,n){if(!e)return;e.parent=null;const i=t.children.indexOf(e);i!==-1&&t.children.splice(i,1),e.props.attach?IA(t,e):io(e.object)&&io(t.object)&&(t.object.remove(e.object),z_e($J(e),e.object));const r=e.props.dispose!==null&&n!==!1;for(let a=e.children.length-1;a>=0;a--){const s=e.children[a];MN(e,s,r)}e.children.length=0,delete e.object.__r3f,r&&e.type!=="primitive"&&e.object.type!=="Scene"&&o$(e.object),n===void 0&&Gy(e)}function Y_e(t,e){for(const n of[t,t.alternate])if(n!==null)if(typeof n.ref=="function"){n.refCleanup==null||n.refCleanup();const i=n.ref(e);typeof i=="function"&&(n.refCleanup=i)}else n.ref&&(n.ref.current=e)}const qE=[];function J_e(){for(const[n]of qE){const i=n.parent;if(i){n.props.attach?IA(i,n):io(n.object)&&io(i.object)&&i.object.remove(n.object);for(const r of n.children)r.props.attach?IA(n,r):io(r.object)&&io(n.object)&&n.object.remove(r.object)}n.isHidden&&s$(n),n.object.__r3f&&delete n.object.__r3f,n.type!=="primitive"&&o$(n.object)}for(const[n,i,r]of qE){n.props=i;const a=n.parent;if(a){var t,e;const s=sy[GC(n.type)];n.object=(t=n.props.object)!=null?t:new s(...(e=n.props.args)!=null?e:[]),n.object.__r3f=n,Y_e(r,n.object),Xc(n.object,n.props),n.props.attach?NA(a,n):io(n.object)&&io(a.object)&&a.object.add(n.object);for(const o of n.children)o.props.attach?NA(n,o):io(o.object)&&io(n.object)&&n.object.add(o.object);Gy(n)}}qE.length=0}const gk=()=>{},EB={};let Iw=r$;const $_e=0,Z_e=4,OA=V_e({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:X_e,removeChild:MN,appendChild:mk,appendInitialChild:mk,insertBefore:wB,appendChildToContainer(t,e){const n=t.getState().scene.__r3f;!e||!n||mk(n,e)},removeChildFromContainer(t,e){const n=t.getState().scene.__r3f;!e||!n||MN(n,e)},insertInContainerBefore(t,e,n){const i=t.getState().scene.__r3f;!e||!n||!i||wB(i,e,n)},getRootHostContext:()=>EB,getChildHostContext:()=>EB,commitUpdate(t,e,n,i,r){var a,s,o;a$(e,i);let l=!1;if((t.type==="primitive"&&n.object!==i.object||((a=i.args)==null?void 0:a.length)!==((s=n.args)==null?void 0:s.length)||(o=i.args)!=null&&o.some((u,f)=>{var h;return u!==((h=n.args)==null?void 0:h[f])}))&&(l=!0),l)qE.push([t,{...i},r]);else{const u=P_e(t,i);Object.keys(u).length&&(Object.assign(t.props,u),Xc(t.object,u))}(r.sibling===null||(r.flags&Z_e)===$_e)&&J_e()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:t=>t?.object,prepareForCommit:()=>null,preparePortalMount:t=>DA(t.getState().scene,t,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:K_e,unhideInstance:s$,createTextInstance:gk,hideTextInstance:gk,unhideTextInstance:gk,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:I.createContext(null),setCurrentUpdatePriority(t){Iw=t},getCurrentUpdatePriority(){return Iw},resolveUpdatePriority(){var t;if(Iw!==r$)return Iw;switch(typeof window<"u"&&((t=window.event)==null?void 0:t.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return WE.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return WE.ContinuousEventPriority;default:return WE.DefaultEventPriority}},resetFormInstance(){}}),Gm=new Map,db={objects:"shallow",strict:!1};function Q_e(t,e){if(!e&&typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:n,height:i,top:r,left:a}=t.parentElement.getBoundingClientRect();return{width:n,height:i,top:r,left:a}}else if(!e&&typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function eSe(t){const e=Gm.get(t),n=e?.fiber,i=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,a=i||B_e(CN,AB),s=n||OA.createContainer(a,WE.ConcurrentRoot,null,!1,null,"",r,r,r,null);e||Gm.set(t,{fiber:s,store:a});let o,l,c=!1,u=null;return{async configure(f={}){let h;u=new Promise(oe=>h=oe);let{gl:d,size:b,scene:y,events:v,onCreated:m,shadows:x=!1,linear:_=!1,flat:E=!1,legacy:A=!1,orthographic:w=!1,frameloop:T="always",dpr:k=[1,2],performance:N,raycaster:D,camera:P,onPointerMissed:B}=f,G=a.getState(),H=G.gl;if(!G.gl){const oe={canvas:t,powerPreference:"high-performance",antialias:!0,alpha:!0},fe=typeof d=="function"?await d(oe):d;_B(fe)?H=fe:H=new kP({...oe,...d}),G.set({gl:H})}let V=G.raycaster;V||G.set({raycaster:V=new T_});const{params:U,...F}=D||{};if(jr.equ(F,V,db)||Xc(V,{...F}),jr.equ(U,V.params,db)||Xc(V,{params:{...V.params,...U}}),!G.camera||G.camera===l&&!jr.equ(l,P,db)){l=P;const oe=P?.isCamera,fe=oe?P:w?new vh(0,0,0,0,.1,1e3):new Xr(75,0,.1,1e3);oe||(fe.position.z=5,P&&(Xc(fe,P),fe.manual||("aspect"in P||"left"in P||"right"in P||"bottom"in P||"top"in P)&&(fe.manual=!0,fe.updateProjectionMatrix())),!G.camera&&!(P!=null&&P.rotation)&&fe.lookAt(0,0,0)),G.set({camera:fe}),V.camera=fe}if(!G.scene){let oe;y!=null&&y.isScene?(oe=y,DA(oe,a,"",{})):(oe=new Uy,DA(oe,a,"",{}),y&&Xc(oe,y)),G.set({scene:oe})}v&&!G.events.handlers&&G.set({events:v(a)});const q=Q_e(t,b);if(jr.equ(q,G.size,db)||G.setSize(q.width,q.height,q.top,q.left),k&&G.viewport.dpr!==QJ(k)&&G.setDpr(k),G.frameloop!==T&&G.setFrameloop(T),G.onPointerMissed||G.set({onPointerMissed:B}),N&&!jr.equ(N,G.performance,db)&&G.set(oe=>({performance:{...oe.performance,...N}})),!G.xr){var X;const oe=(Me,_e)=>{const pe=a.getState();pe.frameloop!=="never"&&AB(Me,!0,pe,_e)},fe=()=>{const Me=a.getState();Me.gl.xr.enabled=Me.gl.xr.isPresenting,Me.gl.xr.setAnimationLoop(Me.gl.xr.isPresenting?oe:null),Me.gl.xr.isPresenting||CN(Me)},K={connect(){const Me=a.getState().gl;Me.xr.addEventListener("sessionstart",fe),Me.xr.addEventListener("sessionend",fe)},disconnect(){const Me=a.getState().gl;Me.xr.removeEventListener("sessionstart",fe),Me.xr.removeEventListener("sessionend",fe)}};typeof((X=H.xr)==null?void 0:X.addEventListener)=="function"&&K.connect(),G.set({xr:K})}if(H.shadowMap){const oe=H.shadowMap.enabled,fe=H.shadowMap.type;if(H.shadowMap.enabled=!!x,jr.boo(x))H.shadowMap.type=jx;else if(jr.str(x)){var z;const K={basic:WK,percentage:oC,soft:jx,variance:Fc};H.shadowMap.type=(z=K[x])!=null?z:jx}else jr.obj(x)&&Object.assign(H.shadowMap,x);(oe!==H.shadowMap.enabled||fe!==H.shadowMap.type)&&(H.shadowMap.needsUpdate=!0)}return oi.enabled=!A,c||(H.outputColorSpace=_?lu:us,H.toneMapping=E?Xu:BL),G.legacy!==A&&G.set(()=>({legacy:A})),G.linear!==_&&G.set(()=>({linear:_})),G.flat!==E&&G.set(()=>({flat:E})),d&&!jr.fun(d)&&!_B(d)&&!jr.equ(d,H,db)&&Xc(H,d),o=m,c=!0,h(),this},render(f){return!c&&!u&&this.configure(),u.then(()=>{OA.updateContainer(C.jsx(tSe,{store:a,children:f,onCreated:o,rootElement:t}),s,null,()=>{})}),a},unmount(){l$(t)}}}function tSe({store:t,children:e,onCreated:n,rootElement:i}){return C_(()=>{const r=t.getState();r.set(a=>({internal:{...a.internal,active:!0}})),n&&n(r),t.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),C.jsx(OP.Provider,{value:t,children:e})}function l$(t,e){const n=Gm.get(t),i=n?.fiber;if(i){const r=n?.store.getState();r&&(r.internal.active=!1),OA.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var a,s,o,l;r.events.disconnect==null||r.events.disconnect(),(a=r.gl)==null||(s=a.renderLists)==null||s.dispose==null||s.dispose(),(o=r.gl)==null||o.forceContextLoss==null||o.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),I_e(r.scene),Gm.delete(t)}catch{}},500)})}}function nSe(t,e,n){return C.jsx(iSe,{children:t,container:e,state:n})}function iSe({state:t={},children:e,container:n}){const{events:i,size:r,...a}=t,s=LP(),[o]=I.useState(()=>new T_),[l]=I.useState(()=>new yt),c=IP((f,h)=>{let d;if(h.camera&&r){const b=h.camera;d=f.viewport.getCurrentViewport(b,new Q,r),b!==f.camera&&t$(b,r)}return{...f,...h,scene:n,raycaster:o,pointer:l,mouse:l,previousRoot:s,events:{...f.events,...h.events,...i},size:{...f.size,...r},viewport:{...f.viewport,...d},setEvents:b=>h.set(y=>({...y,events:{...y.events,...b}}))}}),u=I.useMemo(()=>{const f=jJ((d,b)=>({...a,set:d,get:b})),h=d=>f.setState(b=>c.current(d,b));return h(s.getState()),s.subscribe(h),f},[s,n]);return C.jsx(C.Fragment,{children:OA.createPortal(C.jsx(OP.Provider,{value:u,children:e}),u,null)})}function c$(t,e){const n={callback:t};return e.add(n),()=>void e.delete(n)}const u$=new Set,f$=new Set,rSe=new Set,aSe=t=>c$(t,u$),sSe=t=>c$(t,f$);function bk(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function Yx(t,e){switch(t){case"before":return bk(u$,e);case"after":return bk(f$,e);case"tail":return bk(rSe,e)}}let yk,vk;function AN(t,e,n){let i=e.clock.getDelta();e.frameloop==="never"&&typeof t=="number"&&(i=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),yk=e.internal.subscribers;for(let r=0;r<yk.length;r++)vk=yk[r],vk.ref.current(vk.store.getState(),i,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let LA=!1,TN=!1,xk,MB,pb;function h$(t){MB=requestAnimationFrame(h$),LA=!0,xk=0,Yx("before",t),TN=!0;for(const n of Gm.values()){var e;pb=n.store.getState(),pb.internal.active&&(pb.frameloop==="always"||pb.internal.frames>0)&&!((e=pb.gl.xr)!=null&&e.isPresenting)&&(xk+=AN(t,pb))}if(TN=!1,Yx("after",t),xk===0)return Yx("tail",t),LA=!1,cancelAnimationFrame(MB)}function CN(t,e=1){var n;if(!t)return Gm.forEach(i=>CN(i.store.getState(),e));(n=t.gl.xr)!=null&&n.isPresenting||!t.internal.active||t.frameloop==="never"||(e>1?t.internal.frames=Math.min(60,t.internal.frames+e):TN?t.internal.frames=2:t.internal.frames=1,LA||(LA=!0,requestAnimationFrame(h$)))}function AB(t,e=!0,n,i){if(e&&Yx("before",t),n)AN(t,n,i);else for(const r of Gm.values())AN(t,r.store.getState());e&&Yx("after",t)}const _k={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function oSe(t){const{handlePointer:e}=j_e(t);return{priority:1,enabled:!0,compute(n,i,r){i.pointer.set(n.offsetX/i.size.width*2-1,-(n.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(_k).reduce((n,i)=>({...n,[i]:e(i)}),{}),update:()=>{var n;const{events:i,internal:r}=t.getState();(n=r.lastEvent)!=null&&n.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:n=>{const{set:i,events:r}=t.getState();if(r.disconnect==null||r.disconnect(),i(a=>({events:{...a.events,connected:n}})),r.handlers)for(const a in r.handlers){const s=r.handlers[a],[o,l]=_k[a];n.addEventListener(o,s,{passive:l})}},disconnect:()=>{const{set:n,events:i}=t.getState();if(i.connected){if(i.handlers)for(const r in i.handlers){const a=i.handlers[r],[s]=_k[r];i.connected.removeEventListener(s,a)}n(r=>({events:{...r.events,connected:void 0}}))}}}}function TB(t,e){let n;return(...i)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...i),e)}}function lSe({debounce:t,scroll:e,polyfill:n,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const r=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,s]=I.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),o=I.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),l=t?typeof t=="number"?t:t.scroll:null,c=t?typeof t=="number"?t:t.resize:null,u=I.useRef(!1);I.useEffect(()=>(u.current=!0,()=>void(u.current=!1)));const[f,h,d]=I.useMemo(()=>{const m=()=>{if(!o.current.element)return;const{left:x,top:_,width:E,height:A,bottom:w,right:T,x:k,y:N}=o.current.element.getBoundingClientRect(),D={left:x,top:_,width:E,height:A,bottom:w,right:T,x:k,y:N};o.current.element instanceof HTMLElement&&i&&(D.height=o.current.element.offsetHeight,D.width=o.current.element.offsetWidth),Object.freeze(D),u.current&&!hSe(o.current.lastBounds,D)&&s(o.current.lastBounds=D)};return[m,c?TB(m,c):m,l?TB(m,l):m]},[s,i,l,c]);function b(){o.current.scrollContainers&&(o.current.scrollContainers.forEach(m=>m.removeEventListener("scroll",d,!0)),o.current.scrollContainers=null),o.current.resizeObserver&&(o.current.resizeObserver.disconnect(),o.current.resizeObserver=null),o.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",o.current.orientationHandler))}function y(){o.current.element&&(o.current.resizeObserver=new r(d),o.current.resizeObserver.observe(o.current.element),e&&o.current.scrollContainers&&o.current.scrollContainers.forEach(m=>m.addEventListener("scroll",d,{capture:!0,passive:!0})),o.current.orientationHandler=()=>{d()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",o.current.orientationHandler))}const v=m=>{!m||m===o.current.element||(b(),o.current.element=m,o.current.scrollContainers=d$(m),y())};return uSe(d,!!e),cSe(h),I.useEffect(()=>{b(),y()},[e,d,h]),I.useEffect(()=>b,[]),[v,a,f]}function cSe(t){I.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function uSe(t,e){I.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function d$(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:i,overflowY:r}=window.getComputedStyle(t);return[n,i,r].some(a=>a==="auto"||a==="scroll")&&e.push(t),[...e,...d$(t.parentElement)]}const fSe=["x","y","top","bottom","left","right","width","height"],hSe=(t,e)=>fSe.every(n=>t[n]===e[n]);function dSe({ref:t,children:e,fallback:n,resize:i,style:r,gl:a,events:s=oSe,eventSource:o,eventPrefix:l,shadows:c,linear:u,flat:f,legacy:h,orthographic:d,frameloop:b,dpr:y,performance:v,raycaster:m,camera:x,scene:_,onPointerMissed:E,onCreated:A,...w}){I.useMemo(()=>R_(X1e),[]);const T=R_e(),[k,N]=lSe({scroll:!0,debounce:{scroll:50,resize:0},...i}),D=I.useRef(null),P=I.useRef(null);I.useImperativeHandle(t,()=>D.current);const B=IP(E),[G,H]=I.useState(!1),[V,U]=I.useState(!1);if(G)throw G;if(V)throw V;const F=I.useRef(null);C_(()=>{const X=D.current;if(N.width>0&&N.height>0&&X){F.current||(F.current=eSe(X));async function z(){await F.current.configure({gl:a,scene:_,events:s,shadows:c,linear:u,flat:f,legacy:h,orthographic:d,frameloop:b,dpr:y,performance:v,raycaster:m,camera:x,size:N,onPointerMissed:(...oe)=>B.current==null?void 0:B.current(...oe),onCreated:oe=>{oe.events.connect==null||oe.events.connect(o?T_e(o)?o.current:o:P.current),l&&oe.setEvents({compute:(fe,K)=>{const Me=fe[l+"X"],_e=fe[l+"Y"];K.pointer.set(Me/K.size.width*2-1,-(_e/K.size.height)*2+1),K.raycaster.setFromCamera(K.pointer,K.camera)}}),A?.(oe)}}),F.current.render(C.jsx(T,{children:C.jsx(D_e,{set:U,children:C.jsx(I.Suspense,{fallback:C.jsx(k_e,{set:H}),children:e??null})})}))}z()}}),I.useEffect(()=>{const X=D.current;if(X)return()=>l$(X)},[]);const q=o?"none":"auto";return C.jsx("div",{ref:P,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:q,...r},...w,children:C.jsx("div",{ref:k,style:{width:"100%",height:"100%"},children:C.jsx("canvas",{ref:D,style:{display:"block"},children:n})})})}function pSe(t){return C.jsx(KJ,{children:C.jsx(dSe,{...t})})}const k_=new Q,UP=new Q,mSe=new Q,CB=new yt;function gSe(t,e,n){const i=k_.setFromMatrixPosition(t.matrixWorld);i.project(e);const r=n.width/2,a=n.height/2;return[i.x*r+r,-(i.y*a)+a]}function bSe(t,e){const n=k_.setFromMatrixPosition(t.matrixWorld),i=UP.setFromMatrixPosition(e.matrixWorld),r=n.sub(i),a=e.getWorldDirection(mSe);return r.angleTo(a)>Math.PI/2}function ySe(t,e,n,i){const r=k_.setFromMatrixPosition(t.matrixWorld),a=r.clone();a.project(e),CB.set(a.x,a.y),n.setFromCamera(CB,e);const s=n.intersectObjects(i,!0);if(s.length){const o=s[0].distance;return r.distanceTo(n.ray.origin)<o}return!0}function vSe(t,e){if(e instanceof vh)return e.zoom;if(e instanceof Xr){const n=k_.setFromMatrixPosition(t.matrixWorld),i=UP.setFromMatrixPosition(e.matrixWorld),r=e.fov*Math.PI/180,a=n.distanceTo(i);return 1/(2*Math.tan(r/2)*a)}else return 1}function xSe(t,e,n){if(e instanceof Xr||e instanceof vh){const i=k_.setFromMatrixPosition(t.matrixWorld),r=UP.setFromMatrixPosition(e.matrixWorld),a=i.distanceTo(r),s=(n[1]-n[0])/(e.far-e.near),o=n[1]-s*e.far;return Math.round(s*a+o)}}const RN=t=>Math.abs(t)<1e-10?0:t;function p$(t,e,n=""){let i="matrix3d(";for(let r=0;r!==16;r++)i+=RN(e[r]*t.elements[r])+(r!==15?",":")");return n+i}const _Se=(t=>e=>p$(e,t))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),SSe=(t=>(e,n)=>p$(e,t(n),"translate(-50%,-50%)"))(t=>[1/t,1/t,1/t,1,-1/t,-1/t,-1/t,-1,1/t,1/t,1/t,1,1,1,1,1]);function wSe(t){return t&&typeof t=="object"&&"current"in t}const Wm=I.forwardRef(({children:t,eps:e=.001,style:n,className:i,prepend:r,center:a,fullscreen:s,portal:o,distanceFactor:l,sprite:c=!1,transform:u=!1,occlude:f,onOcclude:h,castShadow:d,receiveShadow:b,material:y,geometry:v,zIndexRange:m=[16777271,0],calculatePosition:x=gSe,as:_="div",wrapperClass:E,pointerEvents:A="auto",...w},T)=>{const{gl:k,camera:N,scene:D,size:P,raycaster:B,events:G,viewport:H}=mi(),[V]=I.useState(()=>document.createElement(_)),U=I.useRef(null),F=I.useRef(null),q=I.useRef(0),X=I.useRef([0,0]),z=I.useRef(null),oe=I.useRef(null),fe=o?.current||G.connected||k.domElement.parentNode,K=I.useRef(null),Me=I.useRef(!1),_e=I.useMemo(()=>f&&f!=="blending"||Array.isArray(f)&&f.length&&wSe(f[0]),[f]);I.useLayoutEffect(()=>{const Ye=k.domElement;f&&f==="blending"?(Ye.style.zIndex=`${Math.floor(m[0]/2)}`,Ye.style.position="absolute",Ye.style.pointerEvents="none"):(Ye.style.zIndex=null,Ye.style.position=null,Ye.style.pointerEvents=null)},[f]),I.useLayoutEffect(()=>{if(F.current){const Ye=U.current=HW.createRoot(V);if(D.updateMatrixWorld(),u)V.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const ct=x(F.current,N,P);V.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${ct[0]}px,${ct[1]}px,0);transform-origin:0 0;`}return fe&&(r?fe.prepend(V):fe.appendChild(V)),()=>{fe&&fe.removeChild(V),Ye.unmount()}}},[fe,u]),I.useLayoutEffect(()=>{E&&(V.className=E)},[E]);const pe=I.useMemo(()=>u?{position:"absolute",top:0,left:0,width:P.width,height:P.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:a?"translate3d(-50%,-50%,0)":"none",...s&&{top:-P.height/2,left:-P.width/2,width:P.width,height:P.height},...n},[n,a,s,P,u]),xe=I.useMemo(()=>({position:"absolute",pointerEvents:A}),[A]);I.useLayoutEffect(()=>{if(Me.current=!1,u){var Ye;(Ye=U.current)==null||Ye.render(I.createElement("div",{ref:z,style:pe},I.createElement("div",{ref:oe,style:xe},I.createElement("div",{ref:T,className:i,style:n,children:t}))))}else{var ct;(ct=U.current)==null||ct.render(I.createElement("div",{ref:T,style:pe,className:i,children:t}))}});const Oe=I.useRef(!0);ca(Ye=>{if(F.current){N.updateMatrixWorld(),F.current.updateWorldMatrix(!0,!1);const ct=u?X.current:x(F.current,N,P);if(u||Math.abs(q.current-N.zoom)>e||Math.abs(X.current[0]-ct[0])>e||Math.abs(X.current[1]-ct[1])>e){const Tt=bSe(F.current,N);let he=!1;_e&&(Array.isArray(f)?he=f.map(Ae=>Ae.current):f!=="blending"&&(he=[D]));const Ve=Oe.current;if(he){const Ae=ySe(F.current,N,B,he);Oe.current=Ae&&!Tt}else Oe.current=!Tt;Ve!==Oe.current&&(h?h(!Oe.current):V.style.display=Oe.current?"block":"none");const Be=Math.floor(m[0]/2),ot=f?_e?[m[0],Be]:[Be-1,0]:m;if(V.style.zIndex=`${xSe(F.current,N,ot)}`,u){const[Ae,Ue]=[P.width/2,P.height/2],Ne=N.projectionMatrix.elements[5]*Ue,{isOrthographicCamera:We,top:Et,left:vt,bottom:re,right:J}=N,ue=_Se(N.matrixWorldInverse),se=We?`scale(${Ne})translate(${RN(-(J+vt)/2)}px,${RN((Et+re)/2)}px)`:`translateZ(${Ne}px)`;let be=F.current.matrixWorld;c&&(be=N.matrixWorldInverse.clone().transpose().copyPosition(be).scale(F.current.scale),be.elements[3]=be.elements[7]=be.elements[11]=0,be.elements[15]=1),V.style.width=P.width+"px",V.style.height=P.height+"px",V.style.perspective=We?"":`${Ne}px`,z.current&&oe.current&&(z.current.style.transform=`${se}${ue}translate(${Ae}px,${Ue}px)`,oe.current.style.transform=SSe(be,1/((l||10)/400)))}else{const Ae=l===void 0?1:vSe(F.current,N)*l;V.style.transform=`translate3d(${ct[0]}px,${ct[1]}px,0) scale(${Ae})`}X.current=ct,q.current=N.zoom}}if(!_e&&K.current&&!Me.current)if(u){if(z.current){const ct=z.current.children[0];if(ct!=null&&ct.clientWidth&&ct!=null&&ct.clientHeight){const{isOrthographicCamera:Tt}=N;if(Tt||v)w.scale&&(Array.isArray(w.scale)?w.scale instanceof Q?K.current.scale.copy(w.scale.clone().divideScalar(1)):K.current.scale.set(1/w.scale[0],1/w.scale[1],1/w.scale[2]):K.current.scale.setScalar(1/w.scale));else{const he=(l||10)/400,Ve=ct.clientWidth*he,Be=ct.clientHeight*he;K.current.scale.set(Ve,Be,1)}Me.current=!0}}}else{const ct=V.children[0];if(ct!=null&&ct.clientWidth&&ct!=null&&ct.clientHeight){const Tt=1/H.factor,he=ct.clientWidth*Tt,Ve=ct.clientHeight*Tt;K.current.scale.set(he,Ve,1),Me.current=!0}K.current.lookAt(Ye.camera.position)}});const Ge=I.useMemo(()=>({vertexShader:u?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[u]);return I.createElement("group",vs({},w,{ref:F}),f&&!_e&&I.createElement("mesh",{castShadow:d,receiveShadow:b,ref:K},v||I.createElement("planeGeometry",null),y||I.createElement("shaderMaterial",{side:oa,vertexShader:Ge.vertexShader,fragmentShader:Ge.fragmentShader})))}),D_=parseInt(Ny.replace(/\D+/g,"")),m$=D_>=125?"uv1":"uv2",ESe=(t,e)=>{const n=t[0].index!==null,i=new Set(Object.keys(t[0].attributes)),r=new Set(Object.keys(t[0].morphAttributes)),a={},s={},o=t[0].morphTargetsRelative,l=new An;let c=0;if(t.forEach((u,f)=>{let h=0;if(n!==(u.index!==null))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+f+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(let d in u.attributes){if(!i.has(d))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+f+'. All geometries must have compatible attributes; make sure "'+d+'" attribute exists among all geometries, or in none of them.'),null;a[d]===void 0&&(a[d]=[]),a[d].push(u.attributes[d]),h++}if(h!==i.size)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+f+". Make sure all geometries have the same number of attributes."),null;if(o!==u.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+f+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(let d in u.morphAttributes){if(!r.has(d))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+f+".  .morphAttributes must be consistent throughout all geometries."),null;s[d]===void 0&&(s[d]=[]),s[d].push(u.morphAttributes[d])}l.userData.mergedUserData=l.userData.mergedUserData||[],l.userData.mergedUserData.push(u.userData);{let d;if(u.index)d=u.index.count;else if(u.attributes.position!==void 0)d=u.attributes.position.count;else return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+f+". The geometry must have either an index or a position attribute"),null;l.addGroup(c,d,f),c+=d}}),n){let u=0;const f=[];t.forEach(h=>{const d=h.index;for(let b=0;b<d.count;++b)f.push(d.getX(b)+u);u+=h.attributes.position.count}),l.setIndex(f)}for(let u in a){const f=RB(a[u]);if(!f)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+u+" attribute."),null;l.setAttribute(u,f)}for(let u in s){const f=s[u][0].length;if(f===0)break;l.morphAttributes=l.morphAttributes||{},l.morphAttributes[u]=[];for(let h=0;h<f;++h){const d=[];for(let y=0;y<s[u].length;++y)d.push(s[u][y][h]);const b=RB(d);if(!b)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+u+" morphAttribute."),null;l.morphAttributes[u].push(b)}}return l},RB=t=>{let e,n,i,r=0;if(t.forEach(a=>{if(e===void 0&&(e=a.array.constructor),e!==a.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(n===void 0&&(n=a.itemSize),n!==a.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(i===void 0&&(i=a.normalized),i!==a.normalized)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;r+=a.array.length}),e&&n){const a=new e(r);let s=0;return t.forEach(o=>{a.set(o.array,s),s+=o.array.length}),new In(a,n,i)}};function kB(t,e){if(e===_Y)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(e===wA||e===KL){let n=t.getIndex();if(n===null){const s=[],o=t.getAttribute("position");if(o!==void 0){for(let l=0;l<o.count;l++)s.push(l);t.setIndex(s),n=t.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const i=n.count-2,r=[];if(n)if(e===wA)for(let s=1;s<=i;s++)r.push(n.getX(0)),r.push(n.getX(s)),r.push(n.getX(s+1));else for(let s=0;s<i;s++)s%2===0?(r.push(n.getX(s)),r.push(n.getX(s+1)),r.push(n.getX(s+2))):(r.push(n.getX(s+2)),r.push(n.getX(s+1)),r.push(n.getX(s)));r.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const a=t.clone();return a.setIndex(r),a.clearGroups(),a}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}function MSe(t,e=Math.PI/3){const n=Math.cos(e),i=(1+1e-10)*100,r=[new Q,new Q,new Q],a=new Q,s=new Q,o=new Q,l=new Q;function c(y){const v=~~(y.x*i),m=~~(y.y*i),x=~~(y.z*i);return`${v},${m},${x}`}const u=t.index?t.toNonIndexed():t,f=u.attributes.position,h={};for(let y=0,v=f.count/3;y<v;y++){const m=3*y,x=r[0].fromBufferAttribute(f,m+0),_=r[1].fromBufferAttribute(f,m+1),E=r[2].fromBufferAttribute(f,m+2);a.subVectors(E,_),s.subVectors(x,_);const A=new Q().crossVectors(a,s).normalize();for(let w=0;w<3;w++){const T=r[w],k=c(T);k in h||(h[k]=[]),h[k].push(A)}}const d=new Float32Array(f.count*3),b=new In(d,3,!1);for(let y=0,v=f.count/3;y<v;y++){const m=3*y,x=r[0].fromBufferAttribute(f,m+0),_=r[1].fromBufferAttribute(f,m+1),E=r[2].fromBufferAttribute(f,m+2);a.subVectors(E,_),s.subVectors(x,_),o.crossVectors(a,s).normalize();for(let A=0;A<3;A++){const w=r[A],T=c(w),k=h[T];l.set(0,0,0);for(let N=0,D=k.length;N<D;N++){const P=k[N];o.dot(P)>n&&l.add(P)}l.normalize(),b.setXYZ(m+A,l.x,l.y,l.z)}}return u.setAttribute("normal",b),u}var Ql=Uint8Array,yd=Uint16Array,kN=Uint32Array,g$=new Ql([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),b$=new Ql([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ASe=new Ql([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),y$=function(t,e){for(var n=new yd(31),i=0;i<31;++i)n[i]=e+=1<<t[i-1];for(var r=new kN(n[30]),i=1;i<30;++i)for(var a=n[i];a<n[i+1];++a)r[a]=a-n[i]<<5|i;return[n,r]},v$=y$(g$,2),x$=v$[0],TSe=v$[1];x$[28]=258,TSe[258]=28;var CSe=y$(b$,0),RSe=CSe[0],DN=new yd(32768);for(var Nr=0;Nr<32768;++Nr){var qh=(Nr&43690)>>>1|(Nr&21845)<<1;qh=(qh&52428)>>>2|(qh&13107)<<2,qh=(qh&61680)>>>4|(qh&3855)<<4,DN[Nr]=((qh&65280)>>>8|(qh&255)<<8)>>>1}var Jx=function(t,e,n){for(var i=t.length,r=0,a=new yd(e);r<i;++r)++a[t[r]-1];var s=new yd(e);for(r=0;r<e;++r)s[r]=s[r-1]+a[r-1]<<1;var o;if(n){o=new yd(1<<e);var l=15-e;for(r=0;r<i;++r)if(t[r])for(var c=r<<4|t[r],u=e-t[r],f=s[t[r]-1]++<<u,h=f|(1<<u)-1;f<=h;++f)o[DN[f]>>>l]=c}else for(o=new yd(i),r=0;r<i;++r)t[r]&&(o[r]=DN[s[t[r]-1]++]>>>15-t[r]);return o},N_=new Ql(288);for(var Nr=0;Nr<144;++Nr)N_[Nr]=8;for(var Nr=144;Nr<256;++Nr)N_[Nr]=9;for(var Nr=256;Nr<280;++Nr)N_[Nr]=7;for(var Nr=280;Nr<288;++Nr)N_[Nr]=8;var _$=new Ql(32);for(var Nr=0;Nr<32;++Nr)_$[Nr]=5;var kSe=Jx(N_,9,1),DSe=Jx(_$,5,1),Sk=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},Oc=function(t,e,n){var i=e/8|0;return(t[i]|t[i+1]<<8)>>(e&7)&n},wk=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},NSe=function(t){return(t/8|0)+(t&7&&1)},ISe=function(t,e,n){(n==null||n>t.length)&&(n=t.length);var i=new(t instanceof yd?yd:t instanceof kN?kN:Ql)(n-e);return i.set(t.subarray(e,n)),i},OSe=function(t,e,n){var i=t.length;if(!i||n&&!n.l&&i<5)return e||new Ql(0);var r=!e||n,a=!n||n.i;n||(n={}),e||(e=new Ql(i*3));var s=function(pe){var xe=e.length;if(pe>xe){var Oe=new Ql(Math.max(xe*2,pe));Oe.set(e),e=Oe}},o=n.f||0,l=n.p||0,c=n.b||0,u=n.l,f=n.d,h=n.m,d=n.n,b=i*8;do{if(!u){n.f=o=Oc(t,l,1);var y=Oc(t,l+1,3);if(l+=3,y)if(y==1)u=kSe,f=DSe,h=9,d=5;else if(y==2){var _=Oc(t,l,31)+257,E=Oc(t,l+10,15)+4,A=_+Oc(t,l+5,31)+1;l+=14;for(var w=new Ql(A),T=new Ql(19),k=0;k<E;++k)T[ASe[k]]=Oc(t,l+k*3,7);l+=E*3;for(var N=Sk(T),D=(1<<N)-1,P=Jx(T,N,1),k=0;k<A;){var B=P[Oc(t,l,D)];l+=B&15;var v=B>>>4;if(v<16)w[k++]=v;else{var G=0,H=0;for(v==16?(H=3+Oc(t,l,3),l+=2,G=w[k-1]):v==17?(H=3+Oc(t,l,7),l+=3):v==18&&(H=11+Oc(t,l,127),l+=7);H--;)w[k++]=G}}var V=w.subarray(0,_),U=w.subarray(_);h=Sk(V),d=Sk(U),u=Jx(V,h,1),f=Jx(U,d,1)}else throw"invalid block type";else{var v=NSe(l)+4,m=t[v-4]|t[v-3]<<8,x=v+m;if(x>i){if(a)throw"unexpected EOF";break}r&&s(c+m),e.set(t.subarray(v,x),c),n.b=c+=m,n.p=l=x*8;continue}if(l>b){if(a)throw"unexpected EOF";break}}r&&s(c+131072);for(var F=(1<<h)-1,q=(1<<d)-1,X=l;;X=l){var G=u[wk(t,l)&F],z=G>>>4;if(l+=G&15,l>b){if(a)throw"unexpected EOF";break}if(!G)throw"invalid length/literal";if(z<256)e[c++]=z;else if(z==256){X=l,u=null;break}else{var oe=z-254;if(z>264){var k=z-257,fe=g$[k];oe=Oc(t,l,(1<<fe)-1)+x$[k],l+=fe}var K=f[wk(t,l)&q],Me=K>>>4;if(!K)throw"invalid distance";l+=K&15;var U=RSe[Me];if(Me>3){var fe=b$[Me];U+=wk(t,l)&(1<<fe)-1,l+=fe}if(l>b){if(a)throw"unexpected EOF";break}r&&s(c+131072);for(var _e=c+oe;c<_e;c+=4)e[c]=e[c-U],e[c+1]=e[c+1-U],e[c+2]=e[c+2-U],e[c+3]=e[c+3-U];c=_e}}n.l=u,n.p=X,n.b=c,u&&(o=1,n.m=h,n.d=f,n.n=d)}while(!o);return c==e.length?e:ISe(e,0,c)},LSe=new Ql(0),PSe=function(t){if((t[0]&15)!=8||t[0]>>>4>7||(t[0]<<8|t[1])%31)throw"invalid zlib data";if(t[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function Ow(t,e){return OSe((PSe(t),t.subarray(2,-4)),e)}var USe=typeof TextDecoder<"u"&&new TextDecoder,FSe=0;try{USe.decode(LSe,{stream:!0}),FSe=1}catch{}const zSe=t=>t&&t.isCubeTexture;class jSe extends Di{constructor(e,n){var i,r;const a=zSe(e),o=((r=a?(i=e.image[0])==null?void 0:i.width:e.image.width)!=null?r:1024)/4,l=Math.floor(Math.log2(o)),c=Math.pow(2,l),u=3*Math.max(c,16*7),f=4*c,h=[a?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/u}`,`#define CUBEUV_TEXEL_HEIGHT ${1/f}`,`#define CUBEUV_MAX_MIP ${l}.0`],d=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,b=h.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${D_>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,y={map:{value:e},height:{value:n?.height||15},radius:{value:n?.radius||100}},v=new zy(1,16),m=new Za({uniforms:y,fragmentShader:b,vertexShader:d,side:oa});super(v,m)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}function PA(t){if(typeof TextDecoder<"u")return new TextDecoder().decode(t);let e="";for(let n=0,i=t.length;n<i;n++)e+=String.fromCharCode(t[n]);try{return decodeURIComponent(escape(e))}catch{return e}}const cm="srgb",Zf="srgb-linear",DB=3001,BSe=3e3;class HSe extends ws{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new XSe(n)}),this.register(function(n){return new KSe(n)}),this.register(function(n){return new iwe(n)}),this.register(function(n){return new rwe(n)}),this.register(function(n){return new awe(n)}),this.register(function(n){return new JSe(n)}),this.register(function(n){return new $Se(n)}),this.register(function(n){return new ZSe(n)}),this.register(function(n){return new QSe(n)}),this.register(function(n){return new qSe(n)}),this.register(function(n){return new ewe(n)}),this.register(function(n){return new YSe(n)}),this.register(function(n){return new nwe(n)}),this.register(function(n){return new twe(n)}),this.register(function(n){return new GSe(n)}),this.register(function(n){return new swe(n)}),this.register(function(n){return new owe(n)})}load(e,n,i,r){const a=this;let s;if(this.resourcePath!=="")s=this.resourcePath;else if(this.path!==""){const c=Cd.extractUrlBase(e);s=Cd.resolveURL(c,this.path)}else s=Cd.extractUrlBase(e);this.manager.itemStart(e);const o=function(c){r?r(c):console.error(c),a.manager.itemError(e),a.manager.itemEnd(e)},l=new ys(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{a.parse(c,s,function(u){n(u),a.manager.itemEnd(e)},o)}catch(u){o(u)}},i,o)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,i,r){let a;const s={},o={};if(typeof e=="string")a=JSON.parse(e);else if(e instanceof ArrayBuffer)if(PA(new Uint8Array(e.slice(0,4)))===S$){try{s[gi.KHR_BINARY_GLTF]=new lwe(e)}catch(u){r&&r(u);return}a=JSON.parse(s[gi.KHR_BINARY_GLTF].content)}else a=JSON.parse(PA(new Uint8Array(e)));else a=e;if(a.asset===void 0||a.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new _we(a,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const u=this.pluginCallbacks[c](l);u.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),o[u.name]=u,s[u.name]=!0}if(a.extensionsUsed)for(let c=0;c<a.extensionsUsed.length;++c){const u=a.extensionsUsed[c],f=a.extensionsRequired||[];switch(u){case gi.KHR_MATERIALS_UNLIT:s[u]=new WSe;break;case gi.KHR_DRACO_MESH_COMPRESSION:s[u]=new cwe(a,this.dracoLoader);break;case gi.KHR_TEXTURE_TRANSFORM:s[u]=new uwe;break;case gi.KHR_MESH_QUANTIZATION:s[u]=new fwe;break;default:f.indexOf(u)>=0&&o[u]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+u+'".')}}l.setExtensions(s),l.setPlugins(o),l.parse(i,r)}parseAsync(e,n){const i=this;return new Promise(function(r,a){i.parse(e,n,r,a)})}}function VSe(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const gi={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class GSe{constructor(e){this.parser=e,this.name=gi.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let i=0,r=n.length;i<r;i++){const a=n[i];a.extensions&&a.extensions[this.name]&&a.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,a.extensions[this.name].light)}}_loadLight(e){const n=this.parser,i="light:"+e;let r=n.cache.get(i);if(r)return r;const a=n.json,l=((a.extensions&&a.extensions[this.name]||{}).lights||[])[e];let c;const u=new Ut(16777215);l.color!==void 0&&u.setRGB(l.color[0],l.color[1],l.color[2],Zf);const f=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new FC(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new SP(u),c.distance=f;break;case"spot":c=new _P(u),c.distance=f,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,If(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=n.createUniqueName(l.name||"light_"+e),r=Promise.resolve(c),n.cache.add(i,r),r}getDependency(e,n){if(e==="light")return this._loadLight(n)}createNodeAttachment(e){const n=this,i=this.parser,a=i.json.nodes[e],o=(a.extensions&&a.extensions[this.name]||{}).light;return o===void 0?null:this._loadLight(o).then(function(l){return i._getNodeRef(n.cache,o,l)})}}class WSe{constructor(){this.name=gi.KHR_MATERIALS_UNLIT}getMaterialType(){return uo}extendParams(e,n,i){const r=[];e.color=new Ut(1,1,1),e.opacity=1;const a=n.pbrMetallicRoughness;if(a){if(Array.isArray(a.baseColorFactor)){const s=a.baseColorFactor;e.color.setRGB(s[0],s[1],s[2],Zf),e.opacity=s[3]}a.baseColorTexture!==void 0&&r.push(i.assignTexture(e,"map",a.baseColorTexture,cm))}return Promise.all(r)}}class qSe{constructor(e){this.parser=e,this.name=gi.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,n){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=r.extensions[this.name].emissiveStrength;return a!==void 0&&(n.emissiveIntensity=a),Promise.resolve()}}class XSe{constructor(e){this.parser=e,this.name=gi.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:_c}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],s=r.extensions[this.name];if(s.clearcoatFactor!==void 0&&(n.clearcoat=s.clearcoatFactor),s.clearcoatTexture!==void 0&&a.push(i.assignTexture(n,"clearcoatMap",s.clearcoatTexture)),s.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=s.clearcoatRoughnessFactor),s.clearcoatRoughnessTexture!==void 0&&a.push(i.assignTexture(n,"clearcoatRoughnessMap",s.clearcoatRoughnessTexture)),s.clearcoatNormalTexture!==void 0&&(a.push(i.assignTexture(n,"clearcoatNormalMap",s.clearcoatNormalTexture)),s.clearcoatNormalTexture.scale!==void 0)){const o=s.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new yt(o,o)}return Promise.all(a)}}class KSe{constructor(e){this.parser=e,this.name=gi.KHR_MATERIALS_DISPERSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:_c}extendMaterialParams(e,n){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=r.extensions[this.name];return n.dispersion=a.dispersion!==void 0?a.dispersion:0,Promise.resolve()}}class YSe{constructor(e){this.parser=e,this.name=gi.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:_c}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],s=r.extensions[this.name];return s.iridescenceFactor!==void 0&&(n.iridescence=s.iridescenceFactor),s.iridescenceTexture!==void 0&&a.push(i.assignTexture(n,"iridescenceMap",s.iridescenceTexture)),s.iridescenceIor!==void 0&&(n.iridescenceIOR=s.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),s.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=s.iridescenceThicknessMinimum),s.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=s.iridescenceThicknessMaximum),s.iridescenceThicknessTexture!==void 0&&a.push(i.assignTexture(n,"iridescenceThicknessMap",s.iridescenceThicknessTexture)),Promise.all(a)}}class JSe{constructor(e){this.parser=e,this.name=gi.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:_c}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[];n.sheenColor=new Ut(0,0,0),n.sheenRoughness=0,n.sheen=1;const s=r.extensions[this.name];if(s.sheenColorFactor!==void 0){const o=s.sheenColorFactor;n.sheenColor.setRGB(o[0],o[1],o[2],Zf)}return s.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=s.sheenRoughnessFactor),s.sheenColorTexture!==void 0&&a.push(i.assignTexture(n,"sheenColorMap",s.sheenColorTexture,cm)),s.sheenRoughnessTexture!==void 0&&a.push(i.assignTexture(n,"sheenRoughnessMap",s.sheenRoughnessTexture)),Promise.all(a)}}class $Se{constructor(e){this.parser=e,this.name=gi.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:_c}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],s=r.extensions[this.name];return s.transmissionFactor!==void 0&&(n.transmission=s.transmissionFactor),s.transmissionTexture!==void 0&&a.push(i.assignTexture(n,"transmissionMap",s.transmissionTexture)),Promise.all(a)}}class ZSe{constructor(e){this.parser=e,this.name=gi.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:_c}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],s=r.extensions[this.name];n.thickness=s.thicknessFactor!==void 0?s.thicknessFactor:0,s.thicknessTexture!==void 0&&a.push(i.assignTexture(n,"thicknessMap",s.thicknessTexture)),n.attenuationDistance=s.attenuationDistance||1/0;const o=s.attenuationColor||[1,1,1];return n.attenuationColor=new Ut().setRGB(o[0],o[1],o[2],Zf),Promise.all(a)}}class QSe{constructor(e){this.parser=e,this.name=gi.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:_c}extendMaterialParams(e,n){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=r.extensions[this.name];return n.ior=a.ior!==void 0?a.ior:1.5,Promise.resolve()}}class ewe{constructor(e){this.parser=e,this.name=gi.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:_c}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],s=r.extensions[this.name];n.specularIntensity=s.specularFactor!==void 0?s.specularFactor:1,s.specularTexture!==void 0&&a.push(i.assignTexture(n,"specularIntensityMap",s.specularTexture));const o=s.specularColorFactor||[1,1,1];return n.specularColor=new Ut().setRGB(o[0],o[1],o[2],Zf),s.specularColorTexture!==void 0&&a.push(i.assignTexture(n,"specularColorMap",s.specularColorTexture,cm)),Promise.all(a)}}class twe{constructor(e){this.parser=e,this.name=gi.EXT_MATERIALS_BUMP}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:_c}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],s=r.extensions[this.name];return n.bumpScale=s.bumpFactor!==void 0?s.bumpFactor:1,s.bumpTexture!==void 0&&a.push(i.assignTexture(n,"bumpMap",s.bumpTexture)),Promise.all(a)}}class nwe{constructor(e){this.parser=e,this.name=gi.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:_c}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],s=r.extensions[this.name];return s.anisotropyStrength!==void 0&&(n.anisotropy=s.anisotropyStrength),s.anisotropyRotation!==void 0&&(n.anisotropyRotation=s.anisotropyRotation),s.anisotropyTexture!==void 0&&a.push(i.assignTexture(n,"anisotropyMap",s.anisotropyTexture)),Promise.all(a)}}class iwe{constructor(e){this.parser=e,this.name=gi.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,i=n.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const a=r.extensions[this.name],s=n.options.ktx2Loader;if(!s){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,a.source,s)}}class rwe{constructor(e){this.parser=e,this.name=gi.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const n=this.name,i=this.parser,r=i.json,a=r.textures[e];if(!a.extensions||!a.extensions[n])return null;const s=a.extensions[n],o=r.images[s.source];let l=i.textureLoader;if(o.uri){const c=i.options.manager.getHandler(o.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,s.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class awe{constructor(e){this.parser=e,this.name=gi.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const n=this.name,i=this.parser,r=i.json,a=r.textures[e];if(!a.extensions||!a.extensions[n])return null;const s=a.extensions[n],o=r.images[s.source];let l=i.textureLoader;if(o.uri){const c=i.options.manager.getHandler(o.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,s.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class swe{constructor(e){this.name=gi.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,i=n.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],a=this.parser.getDependency("buffer",r.buffer),s=this.parser.options.meshoptDecoder;if(!s||!s.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return a.then(function(o){const l=r.byteOffset||0,c=r.byteLength||0,u=r.count,f=r.byteStride,h=new Uint8Array(o,l,c);return s.decodeGltfBufferAsync?s.decodeGltfBufferAsync(u,f,h,r.mode,r.filter).then(function(d){return d.buffer}):s.ready.then(function(){const d=new ArrayBuffer(u*f);return s.decodeGltfBuffer(new Uint8Array(d),u,f,h,r.mode,r.filter),d})})}else return null}}class owe{constructor(e){this.name=gi.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const n=this.parser.json,i=n.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const r=n.meshes[i.mesh];for(const c of r.primitives)if(c.mode!==Hl.TRIANGLES&&c.mode!==Hl.TRIANGLE_STRIP&&c.mode!==Hl.TRIANGLE_FAN&&c.mode!==void 0)return null;const s=i.extensions[this.name].attributes,o=[],l={};for(const c in s)o.push(this.parser.getDependency("accessor",s[c]).then(u=>(l[c]=u,l[c])));return o.length<1?null:(o.push(this.parser.createNodeMesh(e)),Promise.all(o).then(c=>{const u=c.pop(),f=u.isGroup?u.children:[u],h=c[0].count,d=[];for(const b of f){const y=new kt,v=new Q,m=new Hn,x=new Q(1,1,1),_=new _C(b.geometry,b.material,h);for(let E=0;E<h;E++)l.TRANSLATION&&v.fromBufferAttribute(l.TRANSLATION,E),l.ROTATION&&m.fromBufferAttribute(l.ROTATION,E),l.SCALE&&x.fromBufferAttribute(l.SCALE,E),_.setMatrixAt(E,y.compose(v,m,x));for(const E in l)if(E==="_COLOR_0"){const A=l[E];_.instanceColor=new uh(A.array,A.itemSize,A.normalized)}else E!=="TRANSLATION"&&E!=="ROTATION"&&E!=="SCALE"&&b.geometry.setAttribute(E,l[E]);Ei.prototype.copy.call(_,b),this.parser.assignFinalMaterial(_),d.push(_)}return u.isGroup?(u.clear(),u.add(...d),u):d[0]}))}}const S$="glTF",jv=12,NB={JSON:1313821514,BIN:5130562};class lwe{constructor(e){this.name=gi.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,jv);if(this.header={magic:PA(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==S$)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-jv,r=new DataView(e,jv);let a=0;for(;a<i;){const s=r.getUint32(a,!0);a+=4;const o=r.getUint32(a,!0);if(a+=4,o===NB.JSON){const l=new Uint8Array(e,jv+a,s);this.content=PA(l)}else if(o===NB.BIN){const l=jv+a;this.body=e.slice(l,l+s)}a+=s}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class cwe{constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=gi.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const i=this.json,r=this.dracoLoader,a=e.extensions[this.name].bufferView,s=e.extensions[this.name].attributes,o={},l={},c={};for(const u in s){const f=NN[u]||u.toLowerCase();o[f]=s[u]}for(const u in e.attributes){const f=NN[u]||u.toLowerCase();if(s[u]!==void 0){const h=i.accessors[e.attributes[u]],d=g0[h.componentType];c[f]=d.name,l[f]=h.normalized===!0}}return n.getDependency("bufferView",a).then(function(u){return new Promise(function(f,h){r.decodeDracoFile(u,function(d){for(const b in d.attributes){const y=d.attributes[b],v=l[b];v!==void 0&&(y.normalized=v)}f(d)},o,c,Zf,h)})})}}class uwe{constructor(){this.name=gi.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return(n.texCoord===void 0||n.texCoord===e.channel)&&n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.texCoord!==void 0&&(e.channel=n.texCoord),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class fwe{constructor(){this.name=gi.KHR_MESH_QUANTIZATION}}class w$ extends Hy{constructor(e,n,i,r){super(e,n,i,r)}copySampleValue_(e){const n=this.resultBuffer,i=this.sampleValues,r=this.valueSize,a=e*r*3+r;for(let s=0;s!==r;s++)n[s]=i[a+s];return n}interpolate_(e,n,i,r){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=o*2,c=o*3,u=r-n,f=(i-n)/u,h=f*f,d=h*f,b=e*c,y=b-c,v=-2*d+3*h,m=d-h,x=1-v,_=m-h+f;for(let E=0;E!==o;E++){const A=s[y+E+o],w=s[y+E+l]*u,T=s[b+E+o],k=s[b+E]*u;a[E]=x*A+_*w+v*T+m*k}return a}}const hwe=new Hn;class dwe extends w${interpolate_(e,n,i,r){const a=super.interpolate_(e,n,i,r);return hwe.fromArray(a).normalize().toArray(a),a}}const Hl={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},g0={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},IB={9728:Ja,9729:Gi,9984:lC,9985:d0,9986:im,9987:rc},OB={33071:pa,33648:G0,10497:Fd},Ek={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},NN={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...D_>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Xh={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},pwe={CUBICSPLINE:void 0,LINEAR:J0,STEP:Y0},Mk={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function mwe(t){return t.DefaultMaterial===void 0&&(t.DefaultMaterial=new By({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:ou})),t.DefaultMaterial}function Ip(t,e,n){for(const i in n.extensions)t[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=n.extensions[i])}function If(t,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function gwe(t,e,n){let i=!1,r=!1,a=!1;for(let c=0,u=e.length;c<u;c++){const f=e[c];if(f.POSITION!==void 0&&(i=!0),f.NORMAL!==void 0&&(r=!0),f.COLOR_0!==void 0&&(a=!0),i&&r&&a)break}if(!i&&!r&&!a)return Promise.resolve(t);const s=[],o=[],l=[];for(let c=0,u=e.length;c<u;c++){const f=e[c];if(i){const h=f.POSITION!==void 0?n.getDependency("accessor",f.POSITION):t.attributes.position;s.push(h)}if(r){const h=f.NORMAL!==void 0?n.getDependency("accessor",f.NORMAL):t.attributes.normal;o.push(h)}if(a){const h=f.COLOR_0!==void 0?n.getDependency("accessor",f.COLOR_0):t.attributes.color;l.push(h)}}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(l)]).then(function(c){const u=c[0],f=c[1],h=c[2];return i&&(t.morphAttributes.position=u),r&&(t.morphAttributes.normal=f),a&&(t.morphAttributes.color=h),t.morphTargetsRelative=!0,t})}function bwe(t,e){if(t.updateMorphTargets(),e.weights!==void 0)for(let n=0,i=e.weights.length;n<i;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let i=0,r=n.length;i<r;i++)t.morphTargetDictionary[n[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function ywe(t){let e;const n=t.extensions&&t.extensions[gi.KHR_DRACO_MESH_COMPRESSION];if(n?e="draco:"+n.bufferView+":"+n.indices+":"+Ak(n.attributes):e=t.indices+":"+Ak(t.attributes)+":"+t.mode,t.targets!==void 0)for(let i=0,r=t.targets.length;i<r;i++)e+=":"+Ak(t.targets[i]);return e}function Ak(t){let e="";const n=Object.keys(t).sort();for(let i=0,r=n.length;i<r;i++)e+=n[i]+":"+t[n[i]]+";";return e}function IN(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function vwe(t){return t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0?"image/jpeg":t.search(/\.webp($|\?)/i)>0||t.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const xwe=new kt;class _we{constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new VSe,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,r=!1,a=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,r=navigator.userAgent.indexOf("Firefox")>-1,a=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||i||r&&a<98?this.textureLoader=new iy(this.options.manager):this.textureLoader=new yJ(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new ys(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const i=this,r=this.json,a=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(s){return s._markDefs&&s._markDefs()}),Promise.all(this._invokeAll(function(s){return s.beforeRoot&&s.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(s){const o={scene:s[0][r.scene||0],scenes:s[0],animations:s[1],cameras:s[2],asset:r.asset,parser:i,userData:{}};return Ip(a,o,r),If(o,r),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(o)})).then(function(){for(const l of o.scenes)l.updateMatrixWorld();e(o)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],i=this.json.meshes||[];for(let r=0,a=n.length;r<a;r++){const s=n[r].joints;for(let o=0,l=s.length;o<l;o++)e[s[o]].isBone=!0}for(let r=0,a=e.length;r<a;r++){const s=e[r];s.mesh!==void 0&&(this._addNodeRef(this.meshCache,s.mesh),s.skin!==void 0&&(i[s.mesh].isSkinnedMesh=!0)),s.camera!==void 0&&this._addNodeRef(this.cameraCache,s.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,i){if(e.refs[n]<=1)return i;const r=i.clone(),a=(s,o)=>{const l=this.associations.get(s);l!=null&&this.associations.set(o,l);for(const[c,u]of s.children.entries())a(u,o.children[c])};return a(i,r),r.name+="_instance_"+e.uses[n]++,r}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let i=0;i<n.length;i++){const r=e(n[i]);if(r)return r}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const i=[];for(let r=0;r<n.length;r++){const a=e(n[r]);a&&i.push(a)}return i}getDependency(e,n){const i=e+":"+n;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(n);break;case"node":r=this._invokeOne(function(a){return a.loadNode&&a.loadNode(n)});break;case"mesh":r=this._invokeOne(function(a){return a.loadMesh&&a.loadMesh(n)});break;case"accessor":r=this.loadAccessor(n);break;case"bufferView":r=this._invokeOne(function(a){return a.loadBufferView&&a.loadBufferView(n)});break;case"buffer":r=this.loadBuffer(n);break;case"material":r=this._invokeOne(function(a){return a.loadMaterial&&a.loadMaterial(n)});break;case"texture":r=this._invokeOne(function(a){return a.loadTexture&&a.loadTexture(n)});break;case"skin":r=this.loadSkin(n);break;case"animation":r=this._invokeOne(function(a){return a.loadAnimation&&a.loadAnimation(n)});break;case"camera":r=this.loadCamera(n);break;default:if(r=this._invokeOne(function(a){return a!=this&&a.getDependency&&a.getDependency(e,n)}),!r)throw new Error("Unknown type: "+e);break}this.cache.add(i,r)}return r}getDependencies(e){let n=this.cache.get(e);if(!n){const i=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(r.map(function(a,s){return i.getDependency(e,s)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],i=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[gi.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(a,s){i.load(Cd.resolveURL(n.uri,r.path),a,void 0,function(){s(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(i){const r=n.byteLength||0,a=n.byteOffset||0;return i.slice(a,a+r)})}loadAccessor(e){const n=this,i=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){const s=Ek[r.type],o=g0[r.componentType],l=r.normalized===!0,c=new o(r.count*s);return Promise.resolve(new In(c,s,l))}const a=[];return r.bufferView!==void 0?a.push(this.getDependency("bufferView",r.bufferView)):a.push(null),r.sparse!==void 0&&(a.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),a.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(a).then(function(s){const o=s[0],l=Ek[r.type],c=g0[r.componentType],u=c.BYTES_PER_ELEMENT,f=u*l,h=r.byteOffset||0,d=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,b=r.normalized===!0;let y,v;if(d&&d!==f){const m=Math.floor(h/d),x="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+m+":"+r.count;let _=n.cache.get(x);_||(y=new c(o,m*d,r.count*d/u),_=new w_(y,d/u),n.cache.add(x,_)),v=new To(_,l,h%d/u,b)}else o===null?y=new c(r.count*l):y=new c(o,h,r.count*l),v=new In(y,l,b);if(r.sparse!==void 0){const m=Ek.SCALAR,x=g0[r.sparse.indices.componentType],_=r.sparse.indices.byteOffset||0,E=r.sparse.values.byteOffset||0,A=new x(s[1],_,r.sparse.count*m),w=new c(s[2],E,r.sparse.count*l);o!==null&&(v=new In(v.array.slice(),v.itemSize,v.normalized));for(let T=0,k=A.length;T<k;T++){const N=A[T];if(v.setX(N,w[T*l]),l>=2&&v.setY(N,w[T*l+1]),l>=3&&v.setZ(N,w[T*l+2]),l>=4&&v.setW(N,w[T*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return v})}loadTexture(e){const n=this.json,i=this.options,a=n.textures[e].source,s=n.images[a];let o=this.textureLoader;if(s.uri){const l=i.manager.getHandler(s.uri);l!==null&&(o=l)}return this.loadTextureImage(e,a,o)}loadTextureImage(e,n,i){const r=this,a=this.json,s=a.textures[e],o=a.images[n],l=(o.uri||o.bufferView)+":"+s.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(n,i).then(function(u){u.flipY=!1,u.name=s.name||o.name||"",u.name===""&&typeof o.uri=="string"&&o.uri.startsWith("data:image/")===!1&&(u.name=o.uri);const h=(a.samplers||{})[s.sampler]||{};return u.magFilter=IB[h.magFilter]||Gi,u.minFilter=IB[h.minFilter]||rc,u.wrapS=OB[h.wrapS]||Fd,u.wrapT=OB[h.wrapT]||Fd,r.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,n){const i=this,r=this.json,a=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(f=>f.clone());const s=r.images[e],o=self.URL||self.webkitURL;let l=s.uri||"",c=!1;if(s.bufferView!==void 0)l=i.getDependency("bufferView",s.bufferView).then(function(f){c=!0;const h=new Blob([f],{type:s.mimeType});return l=o.createObjectURL(h),l});else if(s.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(f){return new Promise(function(h,d){let b=h;n.isImageBitmapLoader===!0&&(b=function(y){const v=new er(y);v.needsUpdate=!0,h(v)}),n.load(Cd.resolveURL(f,a.path),b,void 0,d)})}).then(function(f){return c===!0&&o.revokeObjectURL(l),If(f,s),f.userData.mimeType=s.mimeType||vwe(s.uri),f}).catch(function(f){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),f});return this.sourceCache[e]=u,u}assignTexture(e,n,i,r){const a=this;return this.getDependency("texture",i.index).then(function(s){if(!s)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(s=s.clone(),s.channel=i.texCoord),a.extensions[gi.KHR_TEXTURE_TRANSFORM]){const o=i.extensions!==void 0?i.extensions[gi.KHR_TEXTURE_TRANSFORM]:void 0;if(o){const l=a.associations.get(s);s=a.extensions[gi.KHR_TEXTURE_TRANSFORM].extendTexture(s,o),a.associations.set(s,l)}}return r!==void 0&&(typeof r=="number"&&(r=r===DB?cm:Zf),"colorSpace"in s?s.colorSpace=r:s.encoding=r===cm?DB:BSe),e[n]=s,s})}assignFinalMaterial(e){const n=e.geometry;let i=e.material;const r=n.attributes.tangent===void 0,a=n.attributes.color!==void 0,s=n.attributes.normal===void 0;if(e.isPoints){const o="PointsMaterial:"+i.uuid;let l=this.cache.get(o);l||(l=new wC,Ta.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(o,l)),i=l}else if(e.isLine){const o="LineBasicMaterial:"+i.uuid;let l=this.cache.get(o);l||(l=new Bs,Ta.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,this.cache.add(o,l)),i=l}if(r||a||s){let o="ClonedMaterial:"+i.uuid+":";r&&(o+="derivative-tangents:"),a&&(o+="vertex-colors:"),s&&(o+="flat-shading:");let l=this.cache.get(o);l||(l=i.clone(),a&&(l.vertexColors=!0),s&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(o,l),this.associations.set(l,this.associations.get(i))),i=l}e.material=i}getMaterialType(){return By}loadMaterial(e){const n=this,i=this.json,r=this.extensions,a=i.materials[e];let s;const o={},l=a.extensions||{},c=[];if(l[gi.KHR_MATERIALS_UNLIT]){const f=r[gi.KHR_MATERIALS_UNLIT];s=f.getMaterialType(),c.push(f.extendParams(o,a,n))}else{const f=a.pbrMetallicRoughness||{};if(o.color=new Ut(1,1,1),o.opacity=1,Array.isArray(f.baseColorFactor)){const h=f.baseColorFactor;o.color.setRGB(h[0],h[1],h[2],Zf),o.opacity=h[3]}f.baseColorTexture!==void 0&&c.push(n.assignTexture(o,"map",f.baseColorTexture,cm)),o.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,o.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0&&(c.push(n.assignTexture(o,"metalnessMap",f.metallicRoughnessTexture)),c.push(n.assignTexture(o,"roughnessMap",f.metallicRoughnessTexture))),s=this._invokeOne(function(h){return h.getMaterialType&&h.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(h){return h.extendMaterialParams&&h.extendMaterialParams(e,o)})))}a.doubleSided===!0&&(o.side=oa);const u=a.alphaMode||Mk.OPAQUE;if(u===Mk.BLEND?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,u===Mk.MASK&&(o.alphaTest=a.alphaCutoff!==void 0?a.alphaCutoff:.5)),a.normalTexture!==void 0&&s!==uo&&(c.push(n.assignTexture(o,"normalMap",a.normalTexture)),o.normalScale=new yt(1,1),a.normalTexture.scale!==void 0)){const f=a.normalTexture.scale;o.normalScale.set(f,f)}if(a.occlusionTexture!==void 0&&s!==uo&&(c.push(n.assignTexture(o,"aoMap",a.occlusionTexture)),a.occlusionTexture.strength!==void 0&&(o.aoMapIntensity=a.occlusionTexture.strength)),a.emissiveFactor!==void 0&&s!==uo){const f=a.emissiveFactor;o.emissive=new Ut().setRGB(f[0],f[1],f[2],Zf)}return a.emissiveTexture!==void 0&&s!==uo&&c.push(n.assignTexture(o,"emissiveMap",a.emissiveTexture,cm)),Promise.all(c).then(function(){const f=new s(o);return a.name&&(f.name=a.name),If(f,a),n.associations.set(f,{materials:e}),a.extensions&&Ip(r,f,a),f})}createUniqueName(e){const n=Ci.sanitizeNodeName(e||"");return n in this.nodeNamesUsed?n+"_"+ ++this.nodeNamesUsed[n]:(this.nodeNamesUsed[n]=0,n)}loadGeometries(e){const n=this,i=this.extensions,r=this.primitiveCache;function a(o){return i[gi.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(o,n).then(function(l){return LB(l,o,n)})}const s=[];for(let o=0,l=e.length;o<l;o++){const c=e[o],u=ywe(c),f=r[u];if(f)s.push(f.promise);else{let h;c.extensions&&c.extensions[gi.KHR_DRACO_MESH_COMPRESSION]?h=a(c):h=LB(new An,c,n),r[u]={primitive:c,promise:h},s.push(h)}}return Promise.all(s)}loadMesh(e){const n=this,i=this.json,r=this.extensions,a=i.meshes[e],s=a.primitives,o=[];for(let l=0,c=s.length;l<c;l++){const u=s[l].material===void 0?mwe(this.cache):this.getDependency("material",s[l].material);o.push(u)}return o.push(n.loadGeometries(s)),Promise.all(o).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],f=[];for(let d=0,b=u.length;d<b;d++){const y=u[d],v=s[d];let m;const x=c[d];if(v.mode===Hl.TRIANGLES||v.mode===Hl.TRIANGLE_STRIP||v.mode===Hl.TRIANGLE_FAN||v.mode===void 0)m=a.isSkinnedMesh===!0?new xC(y,x):new Di(y,x),m.isSkinnedMesh===!0&&m.normalizeSkinWeights(),v.mode===Hl.TRIANGLE_STRIP?m.geometry=kB(m.geometry,KL):v.mode===Hl.TRIANGLE_FAN&&(m.geometry=kB(m.geometry,wA));else if(v.mode===Hl.LINES)m=new hu(y,x);else if(v.mode===Hl.LINE_STRIP)m=new fh(y,x);else if(v.mode===Hl.LINE_LOOP)m=new nP(y,x);else if(v.mode===Hl.POINTS)m=new iP(y,x);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+v.mode);Object.keys(m.geometry.morphAttributes).length>0&&bwe(m,a),m.name=n.createUniqueName(a.name||"mesh_"+e),If(m,a),v.extensions&&Ip(r,m,v),n.assignFinalMaterial(m),f.push(m)}for(let d=0,b=f.length;d<b;d++)n.associations.set(f[d],{meshes:e,primitives:d});if(f.length===1)return a.extensions&&Ip(r,f[0],a),f[0];const h=new Uu;a.extensions&&Ip(r,h,a),n.associations.set(h,{meshes:e});for(let d=0,b=f.length;d<b;d++)h.add(f[d]);return h})}loadCamera(e){let n;const i=this.json.cameras[e],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?n=new Xr(ac.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(n=new vh(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(n.name=this.createUniqueName(i.name)),If(n,i),Promise.resolve(n)}loadSkin(e){const n=this.json.skins[e],i=[];for(let r=0,a=n.joints.length;r<a;r++)i.push(this._loadNodeShallow(n.joints[r]));return n.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",n.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(r){const a=r.pop(),s=r,o=[],l=[];for(let c=0,u=s.length;c<u;c++){const f=s[c];if(f){o.push(f);const h=new kt;a!==null&&h.fromArray(a.array,c*16),l.push(h)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[c])}return new Fy(o,l)})}loadAnimation(e){const n=this.json,i=this,r=n.animations[e],a=r.name?r.name:"animation_"+e,s=[],o=[],l=[],c=[],u=[];for(let f=0,h=r.channels.length;f<h;f++){const d=r.channels[f],b=r.samplers[d.sampler],y=d.target,v=y.node,m=r.parameters!==void 0?r.parameters[b.input]:b.input,x=r.parameters!==void 0?r.parameters[b.output]:b.output;y.node!==void 0&&(s.push(this.getDependency("node",v)),o.push(this.getDependency("accessor",m)),l.push(this.getDependency("accessor",x)),c.push(b),u.push(y))}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(l),Promise.all(c),Promise.all(u)]).then(function(f){const h=f[0],d=f[1],b=f[2],y=f[3],v=f[4],m=[];for(let x=0,_=h.length;x<_;x++){const E=h[x],A=d[x],w=b[x],T=y[x],k=v[x];if(E===void 0)continue;E.updateMatrix&&E.updateMatrix();const N=i._createAnimationTracks(E,A,w,T,k);if(N)for(let D=0;D<N.length;D++)m.push(N[D])}return new ny(a,void 0,m)})}createNodeMesh(e){const n=this.json,i=this,r=n.nodes[e];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(a){const s=i._getNodeRef(i.meshCache,r.mesh,a);return r.weights!==void 0&&s.traverse(function(o){if(o.isMesh)for(let l=0,c=r.weights.length;l<c;l++)o.morphTargetInfluences[l]=r.weights[l]}),s})}loadNode(e){const n=this.json,i=this,r=n.nodes[e],a=i._loadNodeShallow(e),s=[],o=r.children||[];for(let c=0,u=o.length;c<u;c++)s.push(i.getDependency("node",o[c]));const l=r.skin===void 0?Promise.resolve(null):i.getDependency("skin",r.skin);return Promise.all([a,Promise.all(s),l]).then(function(c){const u=c[0],f=c[1],h=c[2];h!==null&&u.traverse(function(d){d.isSkinnedMesh&&d.bind(h,xwe)});for(let d=0,b=f.length;d<b;d++)u.add(f[d]);return u})}_loadNodeShallow(e){const n=this.json,i=this.extensions,r=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const a=n.nodes[e],s=a.name?r.createUniqueName(a.name):"",o=[],l=r._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&o.push(l),a.camera!==void 0&&o.push(r.getDependency("camera",a.camera).then(function(c){return r._getNodeRef(r.cameraCache,a.camera,c)})),r._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){o.push(c)}),this.nodeCache[e]=Promise.all(o).then(function(c){let u;if(a.isBone===!0?u=new E_:c.length>1?u=new Uu:c.length===1?u=c[0]:u=new Ei,u!==c[0])for(let f=0,h=c.length;f<h;f++)u.add(c[f]);if(a.name&&(u.userData.name=a.name,u.name=s),If(u,a),a.extensions&&Ip(i,u,a),a.matrix!==void 0){const f=new kt;f.fromArray(a.matrix),u.applyMatrix4(f)}else a.translation!==void 0&&u.position.fromArray(a.translation),a.rotation!==void 0&&u.quaternion.fromArray(a.rotation),a.scale!==void 0&&u.scale.fromArray(a.scale);return r.associations.has(u)||r.associations.set(u,{}),r.associations.get(u).nodes=e,u}),this.nodeCache[e]}loadScene(e){const n=this.extensions,i=this.json.scenes[e],r=this,a=new Uu;i.name&&(a.name=r.createUniqueName(i.name)),If(a,i),i.extensions&&Ip(n,a,i);const s=i.nodes||[],o=[];for(let l=0,c=s.length;l<c;l++)o.push(r.getDependency("node",s[l]));return Promise.all(o).then(function(l){for(let u=0,f=l.length;u<f;u++)a.add(l[u]);const c=u=>{const f=new Map;for(const[h,d]of r.associations)(h instanceof Ta||h instanceof er)&&f.set(h,d);return u.traverse(h=>{const d=r.associations.get(h);d!=null&&f.set(h,d)}),f};return r.associations=c(a),a})}_createAnimationTracks(e,n,i,r,a){const s=[],o=e.name?e.name:e.uuid,l=[];Xh[a.path]===Xh.weights?e.traverse(function(h){h.morphTargetInfluences&&l.push(h.name?h.name:h.uuid)}):l.push(o);let c;switch(Xh[a.path]){case Xh.weights:c=Bm;break;case Xh.rotation:c=Hm;break;case Xh.position:case Xh.scale:c=Vm;break;default:switch(i.itemSize){case 1:c=Bm;break;case 2:case 3:default:c=Vm;break}break}const u=r.interpolation!==void 0?pwe[r.interpolation]:J0,f=this._getArrayFromAccessor(i);for(let h=0,d=l.length;h<d;h++){const b=new c(l[h]+"."+Xh[a.path],n.array,f,u);r.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(b),s.push(b)}return s}_getArrayFromAccessor(e){let n=e.array;if(e.normalized){const i=IN(n.constructor),r=new Float32Array(n.length);for(let a=0,s=n.length;a<s;a++)r[a]=n[a]*i;n=r}return n}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(i){const r=this instanceof Hm?dwe:w$;return new r(this.times,this.values,this.getValueSize()/3,i)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function Swe(t,e,n){const i=e.attributes,r=new vr;if(i.POSITION!==void 0){const o=n.json.accessors[i.POSITION],l=o.min,c=o.max;if(l!==void 0&&c!==void 0){if(r.set(new Q(l[0],l[1],l[2]),new Q(c[0],c[1],c[2])),o.normalized){const u=IN(g0[o.componentType]);r.min.multiplyScalar(u),r.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const a=e.targets;if(a!==void 0){const o=new Q,l=new Q;for(let c=0,u=a.length;c<u;c++){const f=a[c];if(f.POSITION!==void 0){const h=n.json.accessors[f.POSITION],d=h.min,b=h.max;if(d!==void 0&&b!==void 0){if(l.setX(Math.max(Math.abs(d[0]),Math.abs(b[0]))),l.setY(Math.max(Math.abs(d[1]),Math.abs(b[1]))),l.setZ(Math.max(Math.abs(d[2]),Math.abs(b[2]))),h.normalized){const y=IN(g0[h.componentType]);l.multiplyScalar(y)}o.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(o)}t.boundingBox=r;const s=new Or;r.getCenter(s.center),s.radius=r.min.distanceTo(r.max)/2,t.boundingSphere=s}function LB(t,e,n){const i=e.attributes,r=[];function a(s,o){return n.getDependency("accessor",s).then(function(l){t.setAttribute(o,l)})}for(const s in i){const o=NN[s]||s.toLowerCase();o in t.attributes||r.push(a(i[s],o))}if(e.indices!==void 0&&!t.index){const s=n.getDependency("accessor",e.indices).then(function(o){t.setIndex(o)});r.push(s)}return If(t,e),Swe(t,e,n),Promise.all(r).then(function(){return e.targets!==void 0?gwe(t,e.targets,n):t})}class wwe extends vP{constructor(e){super(e),this.type=Ka}parse(e){const s=function(k,N){switch(k){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(N||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(N||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(N||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(N||""))}},u=`
`,f=function(k,N,D){N=N||1024;let B=k.pos,G=-1,H=0,V="",U=String.fromCharCode.apply(null,new Uint16Array(k.subarray(B,B+128)));for(;0>(G=U.indexOf(u))&&H<N&&B<k.byteLength;)V+=U,H+=U.length,B+=128,U+=String.fromCharCode.apply(null,new Uint16Array(k.subarray(B,B+128)));return-1<G?(k.pos+=H+G+1,V+U.slice(0,G)):!1},h=function(k){const N=/^#\?(\S+)/,D=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,P=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,B=/^\s*FORMAT=(\S+)\s*$/,G=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,H={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let V,U;for((k.pos>=k.byteLength||!(V=f(k)))&&s(1,"no header found"),(U=V.match(N))||s(3,"bad initial token"),H.valid|=1,H.programtype=U[1],H.string+=V+`
`;V=f(k),V!==!1;){if(H.string+=V+`
`,V.charAt(0)==="#"){H.comments+=V+`
`;continue}if((U=V.match(D))&&(H.gamma=parseFloat(U[1])),(U=V.match(P))&&(H.exposure=parseFloat(U[1])),(U=V.match(B))&&(H.valid|=2,H.format=U[1]),(U=V.match(G))&&(H.valid|=4,H.height=parseInt(U[1],10),H.width=parseInt(U[2],10)),H.valid&2&&H.valid&4)break}return H.valid&2||s(3,"missing format specifier"),H.valid&4||s(3,"missing image size specifier"),H},d=function(k,N,D){const P=N;if(P<8||P>32767||k[0]!==2||k[1]!==2||k[2]&128)return new Uint8Array(k);P!==(k[2]<<8|k[3])&&s(3,"wrong scanline width");const B=new Uint8Array(4*N*D);B.length||s(4,"unable to allocate buffer space");let G=0,H=0;const V=4*P,U=new Uint8Array(4),F=new Uint8Array(V);let q=D;for(;q>0&&H<k.byteLength;){H+4>k.byteLength&&s(1),U[0]=k[H++],U[1]=k[H++],U[2]=k[H++],U[3]=k[H++],(U[0]!=2||U[1]!=2||(U[2]<<8|U[3])!=P)&&s(3,"bad rgbe scanline format");let X=0,z;for(;X<V&&H<k.byteLength;){z=k[H++];const fe=z>128;if(fe&&(z-=128),(z===0||X+z>V)&&s(3,"bad scanline data"),fe){const K=k[H++];for(let Me=0;Me<z;Me++)F[X++]=K}else F.set(k.subarray(H,H+z),X),X+=z,H+=z}const oe=P;for(let fe=0;fe<oe;fe++){let K=0;B[G]=F[fe+K],K+=P,B[G+1]=F[fe+K],K+=P,B[G+2]=F[fe+K],K+=P,B[G+3]=F[fe+K],G+=4}q--}return B},b=function(k,N,D,P){const B=k[N+3],G=Math.pow(2,B-128)/255;D[P+0]=k[N+0]*G,D[P+1]=k[N+1]*G,D[P+2]=k[N+2]*G,D[P+3]=1},y=function(k,N,D,P){const B=k[N+3],G=Math.pow(2,B-128)/255;D[P+0]=sm.toHalfFloat(Math.min(k[N+0]*G,65504)),D[P+1]=sm.toHalfFloat(Math.min(k[N+1]*G,65504)),D[P+2]=sm.toHalfFloat(Math.min(k[N+2]*G,65504)),D[P+3]=sm.toHalfFloat(1)},v=new Uint8Array(e);v.pos=0;const m=h(v),x=m.width,_=m.height,E=d(v.subarray(v.pos),x,_);let A,w,T;switch(this.type){case yr:T=E.length/4;const k=new Float32Array(T*4);for(let D=0;D<T;D++)b(E,D*4,k,D*4);A=k,w=yr;break;case Ka:T=E.length/4;const N=new Uint16Array(T*4);for(let D=0;D<T;D++)y(E,D*4,N,D*4);A=N,w=Ka;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:x,height:_,data:A,header:m.string,gamma:m.gamma,exposure:m.exposure,type:w}}setDataType(e){return this.type=e,this}load(e,n,i,r){function a(s,o){switch(s.type){case yr:case Ka:"colorSpace"in s?s.colorSpace="srgb-linear":s.encoding=3e3,s.minFilter=Gi,s.magFilter=Gi,s.generateMipmaps=!1,s.flipY=!0;break}n&&n(s,o)}return super.load(e,a,i,r)}}const Bv=D_>=152;class Ewe extends vP{constructor(e){super(e),this.type=Ka}parse(e){const N=Math.pow(2.7182818,2.2);function D(ie,le){for(var Te=0,qe=0;qe<65536;++qe)(qe==0||ie[qe>>3]&1<<(qe&7))&&(le[Te++]=qe);for(var at=Te-1;Te<65536;)le[Te++]=0;return at}function P(ie){for(var le=0;le<16384;le++)ie[le]={},ie[le].len=0,ie[le].lit=0,ie[le].p=null}const B={l:0,c:0,lc:0};function G(ie,le,Te,qe,at){for(;Te<ie;)le=le<<8|Xt(qe,at),Te+=8;Te-=ie,B.l=le>>Te&(1<<ie)-1,B.c=le,B.lc=Te}const H=new Array(59);function V(ie){for(var le=0;le<=58;++le)H[le]=0;for(var le=0;le<65537;++le)H[ie[le]]+=1;for(var Te=0,le=58;le>0;--le){var qe=Te+H[le]>>1;H[le]=Te,Te=qe}for(var le=0;le<65537;++le){var at=ie[le];at>0&&(ie[le]=at|H[at]++<<6)}}function U(ie,le,Te,qe,at,Ze,At){for(var Z=Te,me=0,Se=0;at<=Ze;at++){if(Z.value-Te.value>qe)return!1;G(6,me,Se,ie,Z);var Ee=B.l;if(me=B.c,Se=B.lc,At[at]=Ee,Ee==63){if(Z.value-Te.value>qe)throw"Something wrong with hufUnpackEncTable";G(8,me,Se,ie,Z);var ye=B.l+6;if(me=B.c,Se=B.lc,at+ye>Ze+1)throw"Something wrong with hufUnpackEncTable";for(;ye--;)At[at++]=0;at--}else if(Ee>=59){var ye=Ee-59+2;if(at+ye>Ze+1)throw"Something wrong with hufUnpackEncTable";for(;ye--;)At[at++]=0;at--}}V(At)}function F(ie){return ie&63}function q(ie){return ie>>6}function X(ie,le,Te,qe){for(;le<=Te;le++){var at=q(ie[le]),Ze=F(ie[le]);if(at>>Ze)throw"Invalid table entry";if(Ze>14){var At=qe[at>>Ze-14];if(At.len)throw"Invalid table entry";if(At.lit++,At.p){var Z=At.p;At.p=new Array(At.lit);for(var me=0;me<At.lit-1;++me)At.p[me]=Z[me]}else At.p=new Array(1);At.p[At.lit-1]=le}else if(Ze)for(var Se=0,me=1<<14-Ze;me>0;me--){var At=qe[(at<<14-Ze)+Se];if(At.len||At.p)throw"Invalid table entry";At.len=Ze,At.lit=le,Se++}}return!0}const z={c:0,lc:0};function oe(ie,le,Te,qe){ie=ie<<8|Xt(Te,qe),le+=8,z.c=ie,z.lc=le}const fe={c:0,lc:0};function K(ie,le,Te,qe,at,Ze,At,Z,me,Se){if(ie==le){qe<8&&(oe(Te,qe,at,At),Te=z.c,qe=z.lc),qe-=8;var Ee=Te>>qe,Ee=new Uint8Array([Ee])[0];if(me.value+Ee>Se)return!1;for(var ye=Z[me.value-1];Ee-- >0;)Z[me.value++]=ye}else if(me.value<Se)Z[me.value++]=ie;else return!1;fe.c=Te,fe.lc=qe}function Me(ie){return ie&65535}function _e(ie){var le=Me(ie);return le>32767?le-65536:le}const pe={a:0,b:0};function xe(ie,le){var Te=_e(ie),qe=_e(le),at=qe,Ze=Te+(at&1)+(at>>1),At=Ze,Z=Ze-at;pe.a=At,pe.b=Z}function Oe(ie,le){var Te=Me(ie),qe=Me(le),at=Te-(qe>>1)&65535,Ze=qe+at-32768&65535;pe.a=Ze,pe.b=at}function Ge(ie,le,Te,qe,at,Ze,At){for(var Z=At<16384,me=Te>at?at:Te,Se=1,Ee;Se<=me;)Se<<=1;for(Se>>=1,Ee=Se,Se>>=1;Se>=1;){for(var ye=0,dt=ye+Ze*(at-Ee),it=Ze*Se,ht=Ze*Ee,bt=qe*Se,Dt=qe*Ee,qt,Je,nn,cn;ye<=dt;ye+=ht){for(var un=ye,kn=ye+qe*(Te-Ee);un<=kn;un+=Dt){var Jt=un+bt,Kt=un+it,Xn=Kt+bt;Z?(xe(ie[un+le],ie[Kt+le]),qt=pe.a,nn=pe.b,xe(ie[Jt+le],ie[Xn+le]),Je=pe.a,cn=pe.b,xe(qt,Je),ie[un+le]=pe.a,ie[Jt+le]=pe.b,xe(nn,cn),ie[Kt+le]=pe.a,ie[Xn+le]=pe.b):(Oe(ie[un+le],ie[Kt+le]),qt=pe.a,nn=pe.b,Oe(ie[Jt+le],ie[Xn+le]),Je=pe.a,cn=pe.b,Oe(qt,Je),ie[un+le]=pe.a,ie[Jt+le]=pe.b,Oe(nn,cn),ie[Kt+le]=pe.a,ie[Xn+le]=pe.b)}if(Te&Se){var Kt=un+it;Z?xe(ie[un+le],ie[Kt+le]):Oe(ie[un+le],ie[Kt+le]),qt=pe.a,ie[Kt+le]=pe.b,ie[un+le]=qt}}if(at&Se)for(var un=ye,kn=ye+qe*(Te-Ee);un<=kn;un+=Dt){var Jt=un+bt;Z?xe(ie[un+le],ie[Jt+le]):Oe(ie[un+le],ie[Jt+le]),qt=pe.a,ie[Jt+le]=pe.b,ie[un+le]=qt}Ee=Se,Se>>=1}return ye}function Ye(ie,le,Te,qe,at,Ze,At,Z,me,Se){for(var Ee=0,ye=0,dt=Z,it=Math.trunc(at.value+(Ze+7)/8);at.value<it;)for(oe(Ee,ye,Te,at),Ee=z.c,ye=z.lc;ye>=14;){var ht=Ee>>ye-14&16383,bt=le[ht];if(bt.len)ye-=bt.len,K(bt.lit,At,Ee,ye,Te,qe,at,me,Se,dt),Ee=fe.c,ye=fe.lc;else{if(!bt.p)throw"hufDecode issues";var Dt;for(Dt=0;Dt<bt.lit;Dt++){for(var qt=F(ie[bt.p[Dt]]);ye<qt&&at.value<it;)oe(Ee,ye,Te,at),Ee=z.c,ye=z.lc;if(ye>=qt&&q(ie[bt.p[Dt]])==(Ee>>ye-qt&(1<<qt)-1)){ye-=qt,K(bt.p[Dt],At,Ee,ye,Te,qe,at,me,Se,dt),Ee=fe.c,ye=fe.lc;break}}if(Dt==bt.lit)throw"hufDecode issues"}}var Je=8-Ze&7;for(Ee>>=Je,ye-=Je;ye>0;){var bt=le[Ee<<14-ye&16383];if(bt.len)ye-=bt.len,K(bt.lit,At,Ee,ye,Te,qe,at,me,Se,dt),Ee=fe.c,ye=fe.lc;else throw"hufDecode issues"}return!0}function ct(ie,le,Te,qe,at,Ze){var At={value:0},Z=Te.value,me=$e(le,Te),Se=$e(le,Te);Te.value+=4;var Ee=$e(le,Te);if(Te.value+=4,me<0||me>=65537||Se<0||Se>=65537)throw"Something wrong with HUF_ENCSIZE";var ye=new Array(65537),dt=new Array(16384);P(dt);var it=qe-(Te.value-Z);if(U(ie,le,Te,it,me,Se,ye),Ee>8*(qe-(Te.value-Z)))throw"Something wrong with hufUncompress";X(ye,me,Se,dt),Ye(ye,dt,ie,le,Te,Ee,Se,Ze,at,At)}function Tt(ie,le,Te){for(var qe=0;qe<Te;++qe)le[qe]=ie[le[qe]]}function he(ie){for(var le=1;le<ie.length;le++){var Te=ie[le-1]+ie[le]-128;ie[le]=Te}}function Ve(ie,le){for(var Te=0,qe=Math.floor((ie.length+1)/2),at=0,Ze=ie.length-1;!(at>Ze||(le[at++]=ie[Te++],at>Ze));)le[at++]=ie[qe++]}function Be(ie){for(var le=ie.byteLength,Te=new Array,qe=0,at=new DataView(ie);le>0;){var Ze=at.getInt8(qe++);if(Ze<0){var At=-Ze;le-=At+1;for(var Z=0;Z<At;Z++)Te.push(at.getUint8(qe++))}else{var At=Ze;le-=2;for(var me=at.getUint8(qe++),Z=0;Z<At+1;Z++)Te.push(me)}}return Te}function ot(ie,le,Te,qe,at,Ze){var Jt=new DataView(Ze.buffer),At=Te[ie.idx[0]].width,Z=Te[ie.idx[0]].height,me=3,Se=Math.floor(At/8),Ee=Math.ceil(At/8),ye=Math.ceil(Z/8),dt=At-(Ee-1)*8,it=Z-(ye-1)*8,ht={value:0},bt=new Array(me),Dt=new Array(me),qt=new Array(me),Je=new Array(me),nn=new Array(me);for(let Fn=0;Fn<me;++Fn)nn[Fn]=le[ie.idx[Fn]],bt[Fn]=Fn<1?0:bt[Fn-1]+Ee*ye,Dt[Fn]=new Float32Array(64),qt[Fn]=new Uint16Array(64),Je[Fn]=new Uint16Array(Ee*64);for(let Fn=0;Fn<ye;++Fn){var cn=8;Fn==ye-1&&(cn=it);var un=8;for(let _n=0;_n<Ee;++_n){_n==Ee-1&&(un=dt);for(let fn=0;fn<me;++fn)qt[fn].fill(0),qt[fn][0]=at[bt[fn]++],Ae(ht,qe,qt[fn]),Ue(qt[fn],Dt[fn]),Ne(Dt[fn]);We(Dt);for(let fn=0;fn<me;++fn)Et(Dt[fn],Je[fn],_n*64)}let Tn=0;for(let _n=0;_n<me;++_n){const fn=Te[ie.idx[_n]].type;for(let ui=8*Fn;ui<8*Fn+cn;++ui){Tn=nn[_n][ui];for(let Ki=0;Ki<Se;++Ki){const ei=Ki*64+(ui&7)*8;Jt.setUint16(Tn+0*2*fn,Je[_n][ei+0],!0),Jt.setUint16(Tn+1*2*fn,Je[_n][ei+1],!0),Jt.setUint16(Tn+2*2*fn,Je[_n][ei+2],!0),Jt.setUint16(Tn+3*2*fn,Je[_n][ei+3],!0),Jt.setUint16(Tn+4*2*fn,Je[_n][ei+4],!0),Jt.setUint16(Tn+5*2*fn,Je[_n][ei+5],!0),Jt.setUint16(Tn+6*2*fn,Je[_n][ei+6],!0),Jt.setUint16(Tn+7*2*fn,Je[_n][ei+7],!0),Tn+=8*2*fn}}if(Se!=Ee)for(let ui=8*Fn;ui<8*Fn+cn;++ui){const Ki=nn[_n][ui]+8*Se*2*fn,ei=Se*64+(ui&7)*8;for(let Mi=0;Mi<un;++Mi)Jt.setUint16(Ki+Mi*2*fn,Je[_n][ei+Mi],!0)}}}for(var kn=new Uint16Array(At),Jt=new DataView(Ze.buffer),Kt=0;Kt<me;++Kt){Te[ie.idx[Kt]].decoded=!0;var Xn=Te[ie.idx[Kt]].type;if(Te[Kt].type==2)for(var yn=0;yn<Z;++yn){const Fn=nn[Kt][yn];for(var yi=0;yi<At;++yi)kn[yi]=Jt.getUint16(Fn+yi*2*Xn,!0);for(var yi=0;yi<At;++yi)Jt.setFloat32(Fn+yi*2*Xn,Fe(kn[yi]),!0)}}}function Ae(ie,le,Te){for(var qe,at=1;at<64;)qe=le[ie.value],qe==65280?at=64:qe>>8==255?at+=qe&255:(Te[at]=qe,at++),ie.value++}function Ue(ie,le){le[0]=Fe(ie[0]),le[1]=Fe(ie[1]),le[2]=Fe(ie[5]),le[3]=Fe(ie[6]),le[4]=Fe(ie[14]),le[5]=Fe(ie[15]),le[6]=Fe(ie[27]),le[7]=Fe(ie[28]),le[8]=Fe(ie[2]),le[9]=Fe(ie[4]),le[10]=Fe(ie[7]),le[11]=Fe(ie[13]),le[12]=Fe(ie[16]),le[13]=Fe(ie[26]),le[14]=Fe(ie[29]),le[15]=Fe(ie[42]),le[16]=Fe(ie[3]),le[17]=Fe(ie[8]),le[18]=Fe(ie[12]),le[19]=Fe(ie[17]),le[20]=Fe(ie[25]),le[21]=Fe(ie[30]),le[22]=Fe(ie[41]),le[23]=Fe(ie[43]),le[24]=Fe(ie[9]),le[25]=Fe(ie[11]),le[26]=Fe(ie[18]),le[27]=Fe(ie[24]),le[28]=Fe(ie[31]),le[29]=Fe(ie[40]),le[30]=Fe(ie[44]),le[31]=Fe(ie[53]),le[32]=Fe(ie[10]),le[33]=Fe(ie[19]),le[34]=Fe(ie[23]),le[35]=Fe(ie[32]),le[36]=Fe(ie[39]),le[37]=Fe(ie[45]),le[38]=Fe(ie[52]),le[39]=Fe(ie[54]),le[40]=Fe(ie[20]),le[41]=Fe(ie[22]),le[42]=Fe(ie[33]),le[43]=Fe(ie[38]),le[44]=Fe(ie[46]),le[45]=Fe(ie[51]),le[46]=Fe(ie[55]),le[47]=Fe(ie[60]),le[48]=Fe(ie[21]),le[49]=Fe(ie[34]),le[50]=Fe(ie[37]),le[51]=Fe(ie[47]),le[52]=Fe(ie[50]),le[53]=Fe(ie[56]),le[54]=Fe(ie[59]),le[55]=Fe(ie[61]),le[56]=Fe(ie[35]),le[57]=Fe(ie[36]),le[58]=Fe(ie[48]),le[59]=Fe(ie[49]),le[60]=Fe(ie[57]),le[61]=Fe(ie[58]),le[62]=Fe(ie[62]),le[63]=Fe(ie[63])}function Ne(ie){const le=.5*Math.cos(.7853975),Te=.5*Math.cos(3.14159/16),qe=.5*Math.cos(3.14159/8),at=.5*Math.cos(3*3.14159/16),Ze=.5*Math.cos(5*3.14159/16),At=.5*Math.cos(3*3.14159/8),Z=.5*Math.cos(7*3.14159/16);for(var me=new Array(4),Se=new Array(4),Ee=new Array(4),ye=new Array(4),dt=0;dt<8;++dt){var it=dt*8;me[0]=qe*ie[it+2],me[1]=At*ie[it+2],me[2]=qe*ie[it+6],me[3]=At*ie[it+6],Se[0]=Te*ie[it+1]+at*ie[it+3]+Ze*ie[it+5]+Z*ie[it+7],Se[1]=at*ie[it+1]-Z*ie[it+3]-Te*ie[it+5]-Ze*ie[it+7],Se[2]=Ze*ie[it+1]-Te*ie[it+3]+Z*ie[it+5]+at*ie[it+7],Se[3]=Z*ie[it+1]-Ze*ie[it+3]+at*ie[it+5]-Te*ie[it+7],Ee[0]=le*(ie[it+0]+ie[it+4]),Ee[3]=le*(ie[it+0]-ie[it+4]),Ee[1]=me[0]+me[3],Ee[2]=me[1]-me[2],ye[0]=Ee[0]+Ee[1],ye[1]=Ee[3]+Ee[2],ye[2]=Ee[3]-Ee[2],ye[3]=Ee[0]-Ee[1],ie[it+0]=ye[0]+Se[0],ie[it+1]=ye[1]+Se[1],ie[it+2]=ye[2]+Se[2],ie[it+3]=ye[3]+Se[3],ie[it+4]=ye[3]-Se[3],ie[it+5]=ye[2]-Se[2],ie[it+6]=ye[1]-Se[1],ie[it+7]=ye[0]-Se[0]}for(var ht=0;ht<8;++ht)me[0]=qe*ie[16+ht],me[1]=At*ie[16+ht],me[2]=qe*ie[48+ht],me[3]=At*ie[48+ht],Se[0]=Te*ie[8+ht]+at*ie[24+ht]+Ze*ie[40+ht]+Z*ie[56+ht],Se[1]=at*ie[8+ht]-Z*ie[24+ht]-Te*ie[40+ht]-Ze*ie[56+ht],Se[2]=Ze*ie[8+ht]-Te*ie[24+ht]+Z*ie[40+ht]+at*ie[56+ht],Se[3]=Z*ie[8+ht]-Ze*ie[24+ht]+at*ie[40+ht]-Te*ie[56+ht],Ee[0]=le*(ie[ht]+ie[32+ht]),Ee[3]=le*(ie[ht]-ie[32+ht]),Ee[1]=me[0]+me[3],Ee[2]=me[1]-me[2],ye[0]=Ee[0]+Ee[1],ye[1]=Ee[3]+Ee[2],ye[2]=Ee[3]-Ee[2],ye[3]=Ee[0]-Ee[1],ie[0+ht]=ye[0]+Se[0],ie[8+ht]=ye[1]+Se[1],ie[16+ht]=ye[2]+Se[2],ie[24+ht]=ye[3]+Se[3],ie[32+ht]=ye[3]-Se[3],ie[40+ht]=ye[2]-Se[2],ie[48+ht]=ye[1]-Se[1],ie[56+ht]=ye[0]-Se[0]}function We(ie){for(var le=0;le<64;++le){var Te=ie[0][le],qe=ie[1][le],at=ie[2][le];ie[0][le]=Te+1.5747*at,ie[1][le]=Te-.1873*qe-.4682*at,ie[2][le]=Te+1.8556*qe}}function Et(ie,le,Te){for(var qe=0;qe<64;++qe)le[Te+qe]=sm.toHalfFloat(vt(ie[qe]))}function vt(ie){return ie<=1?Math.sign(ie)*Math.pow(Math.abs(ie),2.2):Math.sign(ie)*Math.pow(N,Math.abs(ie)-1)}function re(ie){return new DataView(ie.array.buffer,ie.offset.value,ie.size)}function J(ie){var le=ie.viewer.buffer.slice(ie.offset.value,ie.offset.value+ie.size),Te=new Uint8Array(Be(le)),qe=new Uint8Array(Te.length);return he(Te),Ve(Te,qe),new DataView(qe.buffer)}function ue(ie){var le=ie.array.slice(ie.offset.value,ie.offset.value+ie.size),Te=Ow(le),qe=new Uint8Array(Te.length);return he(Te),Ve(Te,qe),new DataView(qe.buffer)}function se(ie){for(var le=ie.viewer,Te={value:ie.offset.value},qe=new Uint16Array(ie.width*ie.scanlineBlockSize*(ie.channels*ie.type)),at=new Uint8Array(8192),Ze=0,At=new Array(ie.channels),Z=0;Z<ie.channels;Z++)At[Z]={},At[Z].start=Ze,At[Z].end=At[Z].start,At[Z].nx=ie.width,At[Z].ny=ie.lines,At[Z].size=ie.type,Ze+=At[Z].nx*At[Z].ny*At[Z].size;var me=wt(le,Te),Se=wt(le,Te);if(Se>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(me<=Se)for(var Z=0;Z<Se-me+1;Z++)at[Z+me]=Ot(le,Te);var Ee=new Uint16Array(65536),ye=D(at,Ee),dt=$e(le,Te);ct(ie.array,le,Te,dt,qe,Ze);for(var Z=0;Z<ie.channels;++Z)for(var it=At[Z],ht=0;ht<At[Z].size;++ht)Ge(qe,it.start+ht,it.nx,it.size,it.ny,it.nx*it.size,ye);Tt(Ee,qe,Ze);for(var bt=0,Dt=new Uint8Array(qe.buffer.byteLength),qt=0;qt<ie.lines;qt++)for(var Je=0;Je<ie.channels;Je++){var it=At[Je],nn=it.nx*it.size,cn=new Uint8Array(qe.buffer,it.end*2,nn*2);Dt.set(cn,bt),bt+=nn*2,it.end+=nn}return new DataView(Dt.buffer)}function be(ie){var le=ie.array.slice(ie.offset.value,ie.offset.value+ie.size),Te=Ow(le);const qe=ie.lines*ie.channels*ie.width,at=ie.type==1?new Uint16Array(qe):new Uint32Array(qe);let Ze=0,At=0;const Z=new Array(4);for(let me=0;me<ie.lines;me++)for(let Se=0;Se<ie.channels;Se++){let Ee=0;switch(ie.type){case 1:Z[0]=Ze,Z[1]=Z[0]+ie.width,Ze=Z[1]+ie.width;for(let ye=0;ye<ie.width;++ye){const dt=Te[Z[0]++]<<8|Te[Z[1]++];Ee+=dt,at[At]=Ee,At++}break;case 2:Z[0]=Ze,Z[1]=Z[0]+ie.width,Z[2]=Z[1]+ie.width,Ze=Z[2]+ie.width;for(let ye=0;ye<ie.width;++ye){const dt=Te[Z[0]++]<<24|Te[Z[1]++]<<16|Te[Z[2]++]<<8;Ee+=dt,at[At]=Ee,At++}break}}return new DataView(at.buffer)}function $(ie){var le=ie.viewer,Te={value:ie.offset.value},qe=new Uint8Array(ie.width*ie.lines*(ie.channels*ie.type*2)),at={version:ft(le,Te),unknownUncompressedSize:ft(le,Te),unknownCompressedSize:ft(le,Te),acCompressedSize:ft(le,Te),dcCompressedSize:ft(le,Te),rleCompressedSize:ft(le,Te),rleUncompressedSize:ft(le,Te),rleRawSize:ft(le,Te),totalAcUncompressedCount:ft(le,Te),totalDcUncompressedCount:ft(le,Te),acCompression:ft(le,Te)};if(at.version<2)throw"EXRLoader.parse: "+zi.compression+" version "+at.version+" is unsupported";for(var Ze=new Array,At=wt(le,Te)-2;At>0;){var Z=Ke(le.buffer,Te),me=Ot(le,Te),Se=me>>2&3,Ee=(me>>4)-1,ye=new Int8Array([Ee])[0],dt=Ot(le,Te);Ze.push({name:Z,index:ye,type:dt,compression:Se}),At-=Z.length+3}for(var it=zi.channels,ht=new Array(ie.channels),bt=0;bt<ie.channels;++bt){var Dt=ht[bt]={},qt=it[bt];Dt.name=qt.name,Dt.compression=0,Dt.decoded=!1,Dt.type=qt.pixelType,Dt.pLinear=qt.pLinear,Dt.width=ie.width,Dt.height=ie.lines}for(var Je={idx:new Array(3)},nn=0;nn<ie.channels;++nn)for(var Dt=ht[nn],bt=0;bt<Ze.length;++bt){var cn=Ze[bt];Dt.name==cn.name&&(Dt.compression=cn.compression,cn.index>=0&&(Je.idx[cn.index]=nn),Dt.offset=nn)}if(at.acCompressedSize>0)switch(at.acCompression){case 0:var Jt=new Uint16Array(at.totalAcUncompressedCount);ct(ie.array,le,Te,at.acCompressedSize,Jt,at.totalAcUncompressedCount);break;case 1:var un=ie.array.slice(Te.value,Te.value+at.totalAcUncompressedCount),kn=Ow(un),Jt=new Uint16Array(kn.buffer);Te.value+=at.totalAcUncompressedCount;break}if(at.dcCompressedSize>0){var Kt={array:ie.array,offset:Te,size:at.dcCompressedSize},Xn=new Uint16Array(ue(Kt).buffer);Te.value+=at.dcCompressedSize}if(at.rleRawSize>0){var un=ie.array.slice(Te.value,Te.value+at.rleCompressedSize),kn=Ow(un),yn=Be(kn.buffer);Te.value+=at.rleCompressedSize}for(var yi=0,Fn=new Array(ht.length),bt=0;bt<Fn.length;++bt)Fn[bt]=new Array;for(var Tn=0;Tn<ie.lines;++Tn)for(var _n=0;_n<ht.length;++_n)Fn[_n].push(yi),yi+=ht[_n].width*ie.type*2;ot(Je,Fn,ht,Jt,Xn,qe);for(var bt=0;bt<ht.length;++bt){var Dt=ht[bt];if(!Dt.decoded)switch(Dt.compression){case 2:for(var fn=0,ui=0,Tn=0;Tn<ie.lines;++Tn){for(var Ki=Fn[bt][fn],ei=0;ei<Dt.width;++ei){for(var Mi=0;Mi<2*Dt.type;++Mi)qe[Ki++]=yn[ui+Mi*Dt.width*Dt.height];ui++}fn++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(qe.buffer)}function Ke(ie,le){for(var Te=new Uint8Array(ie),qe=0;Te[le.value+qe]!=0;)qe+=1;var at=new TextDecoder().decode(Te.slice(le.value,le.value+qe));return le.value=le.value+qe+1,at}function tt(ie,le,Te){var qe=new TextDecoder().decode(new Uint8Array(ie).slice(le.value,le.value+Te));return le.value=le.value+Te,qe}function pt(ie,le){var Te=rt(ie,le),qe=$e(ie,le);return[Te,qe]}function ze(ie,le){var Te=$e(ie,le),qe=$e(ie,le);return[Te,qe]}function rt(ie,le){var Te=ie.getInt32(le.value,!0);return le.value=le.value+4,Te}function $e(ie,le){var Te=ie.getUint32(le.value,!0);return le.value=le.value+4,Te}function Xt(ie,le){var Te=ie[le.value];return le.value=le.value+1,Te}function Ot(ie,le){var Te=ie.getUint8(le.value);return le.value=le.value+1,Te}const ft=function(ie,le){let Te;return"getBigInt64"in DataView.prototype?Te=Number(ie.getBigInt64(le.value,!0)):Te=ie.getUint32(le.value+4,!0)+Number(ie.getUint32(le.value,!0)<<32),le.value+=8,Te};function jt(ie,le){var Te=ie.getFloat32(le.value,!0);return le.value+=4,Te}function Re(ie,le){return sm.toHalfFloat(jt(ie,le))}function Fe(ie){var le=(ie&31744)>>10,Te=ie&1023;return(ie>>15?-1:1)*(le?le===31?Te?NaN:1/0:Math.pow(2,le-15)*(1+Te/1024):6103515625e-14*(Te/1024))}function wt(ie,le){var Te=ie.getUint16(le.value,!0);return le.value+=2,Te}function Wt(ie,le){return Fe(wt(ie,le))}function ut(ie,le,Te,qe){for(var at=Te.value,Ze=[];Te.value<at+qe-1;){var At=Ke(le,Te),Z=rt(ie,Te),me=Ot(ie,Te);Te.value+=3;var Se=rt(ie,Te),Ee=rt(ie,Te);Ze.push({name:At,pixelType:Z,pLinear:me,xSampling:Se,ySampling:Ee})}return Te.value+=1,Ze}function mt(ie,le){var Te=jt(ie,le),qe=jt(ie,le),at=jt(ie,le),Ze=jt(ie,le),At=jt(ie,le),Z=jt(ie,le),me=jt(ie,le),Se=jt(ie,le);return{redX:Te,redY:qe,greenX:at,greenY:Ze,blueX:At,blueY:Z,whiteX:me,whiteY:Se}}function Mt(ie,le){var Te=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],qe=Ot(ie,le);return Te[qe]}function gn(ie,le){var Te=$e(ie,le),qe=$e(ie,le),at=$e(ie,le),Ze=$e(ie,le);return{xMin:Te,yMin:qe,xMax:at,yMax:Ze}}function Gn(ie,le){var Te=["INCREASING_Y"],qe=Ot(ie,le);return Te[qe]}function jn(ie,le){var Te=jt(ie,le),qe=jt(ie,le);return[Te,qe]}function Xi(ie,le){var Te=jt(ie,le),qe=jt(ie,le),at=jt(ie,le);return[Te,qe,at]}function Wn(ie,le,Te,qe,at){if(qe==="string"||qe==="stringvector"||qe==="iccProfile")return tt(le,Te,at);if(qe==="chlist")return ut(ie,le,Te,at);if(qe==="chromaticities")return mt(ie,Te);if(qe==="compression")return Mt(ie,Te);if(qe==="box2i")return gn(ie,Te);if(qe==="lineOrder")return Gn(ie,Te);if(qe==="float")return jt(ie,Te);if(qe==="v2f")return jn(ie,Te);if(qe==="v3f")return Xi(ie,Te);if(qe==="int")return rt(ie,Te);if(qe==="rational")return pt(ie,Te);if(qe==="timecode")return ze(ie,Te);if(qe==="preview")return Te.value+=at,"skipped";Te.value+=at}function Zr(ie,le,Te){const qe={};if(ie.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";qe.version=ie.getUint8(4);const at=ie.getUint8(5);qe.spec={singleTile:!!(at&2),longName:!!(at&4),deepFormat:!!(at&8),multiPart:!!(at&16)},Te.value=8;for(var Ze=!0;Ze;){var At=Ke(le,Te);if(At==0)Ze=!1;else{var Z=Ke(le,Te),me=$e(ie,Te),Se=Wn(ie,le,Te,Z,me);Se===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${Z}'.`):qe[At]=Se}}if(at&-5)throw console.error("EXRHeader:",qe),"THREE.EXRLoader: provided file is currently unsupported.";return qe}function Ii(ie,le,Te,qe,at){const Ze={size:0,viewer:le,array:Te,offset:qe,width:ie.dataWindow.xMax-ie.dataWindow.xMin+1,height:ie.dataWindow.yMax-ie.dataWindow.yMin+1,channels:ie.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:ie.channels[0].pixelType,uncompress:null,getter:null,format:null,[Bv?"colorSpace":"encoding"]:null};switch(ie.compression){case"NO_COMPRESSION":Ze.lines=1,Ze.uncompress=re;break;case"RLE_COMPRESSION":Ze.lines=1,Ze.uncompress=J;break;case"ZIPS_COMPRESSION":Ze.lines=1,Ze.uncompress=ue;break;case"ZIP_COMPRESSION":Ze.lines=16,Ze.uncompress=ue;break;case"PIZ_COMPRESSION":Ze.lines=32,Ze.uncompress=se;break;case"PXR24_COMPRESSION":Ze.lines=16,Ze.uncompress=be;break;case"DWAA_COMPRESSION":Ze.lines=32,Ze.uncompress=$;break;case"DWAB_COMPRESSION":Ze.lines=256,Ze.uncompress=$;break;default:throw"EXRLoader.parse: "+ie.compression+" is unsupported"}if(Ze.scanlineBlockSize=Ze.lines,Ze.type==1)switch(at){case yr:Ze.getter=Wt,Ze.inputSize=2;break;case Ka:Ze.getter=wt,Ze.inputSize=2;break}else if(Ze.type==2)switch(at){case yr:Ze.getter=jt,Ze.inputSize=4;break;case Ka:Ze.getter=Re,Ze.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+Ze.type+" for "+ie.compression+".";Ze.blockCount=(ie.dataWindow.yMax+1)/Ze.scanlineBlockSize;for(var At=0;At<Ze.blockCount;At++)ft(le,qe);Ze.outputChannels=Ze.channels==3?4:Ze.channels;const Z=Ze.width*Ze.height*Ze.outputChannels;switch(at){case yr:Ze.byteArray=new Float32Array(Z),Ze.channels<Ze.outputChannels&&Ze.byteArray.fill(1,0,Z);break;case Ka:Ze.byteArray=new Uint16Array(Z),Ze.channels<Ze.outputChannels&&Ze.byteArray.fill(15360,0,Z);break;default:console.error("THREE.EXRLoader: unsupported type: ",at);break}return Ze.bytesPerLine=Ze.width*Ze.inputSize*Ze.channels,Ze.outputChannels==4?Ze.format=Yr:Ze.format=yh,Bv?Ze.colorSpace="srgb-linear":Ze.encoding=3e3,Ze}const tr=new DataView(e),_i=new Uint8Array(e),Qr={value:0},zi=Zr(tr,e,Qr),dn=Ii(zi,tr,_i,Qr,this.type),ga={value:0},Ni={R:0,G:1,B:2,A:3,Y:0};for(let ie=0;ie<dn.height/dn.scanlineBlockSize;ie++){const le=$e(tr,Qr);dn.size=$e(tr,Qr),dn.lines=le+dn.scanlineBlockSize>dn.height?dn.height-le:dn.scanlineBlockSize;const qe=dn.size<dn.lines*dn.bytesPerLine?dn.uncompress(dn):re(dn);Qr.value+=dn.size;for(let at=0;at<dn.scanlineBlockSize;at++){const Ze=at+ie*dn.scanlineBlockSize;if(Ze>=dn.height)break;for(let At=0;At<dn.channels;At++){const Z=Ni[zi.channels[At].name];for(let me=0;me<dn.width;me++){ga.value=(at*(dn.channels*dn.width)+At*dn.width+me)*dn.inputSize;const Se=(dn.height-1-Ze)*(dn.width*dn.outputChannels)+me*dn.outputChannels+Z;dn.byteArray[Se]=dn.getter(qe,ga)}}}}return{header:zi,width:dn.width,height:dn.height,data:dn.byteArray,format:dn.format,[Bv?"colorSpace":"encoding"]:dn[Bv?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,n,i,r){function a(s,o){Bv?s.colorSpace=o.colorSpace:s.encoding=o.encoding,s.minFilter=Gi,s.magFilter=Gi,s.generateMipmaps=!1,s.flipY=!1,n&&n(s,o)}return super.load(e,a,i,r)}}const Tk=new WeakMap;class Mwe extends ws{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,n,i,r){const a=new ys(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,s=>{const o={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(s,o).then(n).catch(r)},i,r)}decodeDracoFile(e,n,i,r){const a={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,a).then(n)}decodeGeometry(e,n){for(const l in n.attributeTypes){const c=n.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(n.attributeTypes[l]=c.name)}const i=JSON.stringify(n);if(Tk.has(e)){const l=Tk.get(e);if(l.key===i)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const a=this.workerNextTaskID++,s=e.byteLength,o=this._getWorker(a,s).then(l=>(r=l,new Promise((c,u)=>{r._callbacks[a]={resolve:c,reject:u},r.postMessage({type:"decode",id:a,taskConfig:n,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return o.catch(()=>!0).then(()=>{r&&a&&this._releaseTask(r,a)}),Tk.set(e,{key:i,promise:o}),o}_createGeometry(e){const n=new An;e.index&&n.setIndex(new In(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const r=e.attributes[i],a=r.name,s=r.array,o=r.itemSize;n.setAttribute(a,new In(s,o))}return n}_loadLibrary(e,n){const i=new ys(this.manager);return i.setPath(this.decoderPath),i.setResponseType(n),i.setWithCredentials(this.withCredentials),new Promise((r,a)=>{i.load(e,r,void 0,a)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",n=[];return e?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(i=>{const r=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const a=Awe.toString(),s=["/* draco decoder */",r,"","/* worker */",a.substring(a.indexOf("{")+1,a.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([s]))}),this.decoderPending}_getWorker(e,n){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(a){const s=a.data;switch(s.type){case"decode":r._callbacks[s.id].resolve(s);break;case"error":r._callbacks[s.id].reject(s);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+s.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,a){return r._taskLoad>a._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=n,i._taskLoad+=n,i})}_releaseTask(e,n){e._taskLoad-=e._taskCosts[n],delete e._callbacks[n],delete e._taskCosts[n]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function Awe(){let t,e;onmessage=function(s){const o=s.data;switch(o.type){case"init":t=o.decoderConfig,e=new Promise(function(u){t.onModuleLoaded=function(f){u({draco:f})},DracoDecoderModule(t)});break;case"decode":const l=o.buffer,c=o.taskConfig;e.then(u=>{const f=u.draco,h=new f.Decoder,d=new f.DecoderBuffer;d.Init(new Int8Array(l),l.byteLength);try{const b=n(f,h,d,c),y=b.attributes.map(v=>v.array.buffer);b.index&&y.push(b.index.array.buffer),self.postMessage({type:"decode",id:o.id,geometry:b},y)}catch(b){console.error(b),self.postMessage({type:"error",id:o.id,error:b.message})}finally{f.destroy(d),f.destroy(h)}});break}};function n(s,o,l,c){const u=c.attributeIDs,f=c.attributeTypes;let h,d;const b=o.GetEncodedGeometryType(l);if(b===s.TRIANGULAR_MESH)h=new s.Mesh,d=o.DecodeBufferToMesh(l,h);else if(b===s.POINT_CLOUD)h=new s.PointCloud,d=o.DecodeBufferToPointCloud(l,h);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!d.ok()||h.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+d.error_msg());const y={index:null,attributes:[]};for(const v in u){const m=self[f[v]];let x,_;if(c.useUniqueIDs)_=u[v],x=o.GetAttributeByUniqueId(h,_);else{if(_=o.GetAttributeId(h,s[u[v]]),_===-1)continue;x=o.GetAttribute(h,_)}y.attributes.push(r(s,o,h,v,m,x))}return b===s.TRIANGULAR_MESH&&(y.index=i(s,o,h)),s.destroy(h),y}function i(s,o,l){const u=l.num_faces()*3,f=u*4,h=s._malloc(f);o.GetTrianglesUInt32Array(l,f,h);const d=new Uint32Array(s.HEAPF32.buffer,h,u).slice();return s._free(h),{array:d,itemSize:1}}function r(s,o,l,c,u,f){const h=f.num_components(),b=l.num_points()*h,y=b*u.BYTES_PER_ELEMENT,v=a(s,u),m=s._malloc(y);o.GetAttributeDataArrayForAllPoints(l,f,v,y,m);const x=new u(s.HEAPF32.buffer,m,b).slice();return s._free(m),{name:c,array:x,itemSize:h}}function a(s,o){switch(o){case Float32Array:return s.DT_FLOAT32;case Int8Array:return s.DT_INT8;case Int16Array:return s.DT_INT16;case Int32Array:return s.DT_INT32;case Uint8Array:return s.DT_UINT8;case Uint16Array:return s.DT_UINT16;case Uint32Array:return s.DT_UINT32}}}const PB=new vr,Lw=new Q;class WC extends jC{constructor(){super(),this.isLineSegmentsGeometry=!0,this.type="LineSegmentsGeometry";const e=[-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],n=[-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],i=[0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5];this.setIndex(i),this.setAttribute("position",new ln(e,3)),this.setAttribute("uv",new ln(n,2))}applyMatrix4(e){const n=this.attributes.instanceStart,i=this.attributes.instanceEnd;return n!==void 0&&(n.applyMatrix4(e),i.applyMatrix4(e),n.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}setPositions(e){let n;e instanceof Float32Array?n=e:Array.isArray(e)&&(n=new Float32Array(e));const i=new kA(n,6,1);return this.setAttribute("instanceStart",new To(i,3,0)),this.setAttribute("instanceEnd",new To(i,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(e,n=3){let i;e instanceof Float32Array?i=e:Array.isArray(e)&&(i=new Float32Array(e));const r=new kA(i,n*2,1);return this.setAttribute("instanceColorStart",new To(r,n,0)),this.setAttribute("instanceColorEnd",new To(r,n,n)),this}fromWireframeGeometry(e){return this.setPositions(e.attributes.position.array),this}fromEdgesGeometry(e){return this.setPositions(e.attributes.position.array),this}fromMesh(e){return this.fromWireframeGeometry(new dP(e.geometry)),this}fromLineSegments(e){const n=e.geometry;return this.setPositions(n.attributes.position.array),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new vr);const e=this.attributes.instanceStart,n=this.attributes.instanceEnd;e!==void 0&&n!==void 0&&(this.boundingBox.setFromBufferAttribute(e),PB.setFromBufferAttribute(n),this.boundingBox.union(PB))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Or),this.boundingBox===null&&this.computeBoundingBox();const e=this.attributes.instanceStart,n=this.attributes.instanceEnd;if(e!==void 0&&n!==void 0){const i=this.boundingSphere.center;this.boundingBox.getCenter(i);let r=0;for(let a=0,s=e.count;a<s;a++)Lw.fromBufferAttribute(e,a),r=Math.max(r,i.distanceToSquared(Lw)),Lw.fromBufferAttribute(n,a),r=Math.max(r,i.distanceToSquared(Lw));this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}applyMatrix(e){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(e)}}class FP extends WC{constructor(){super(),this.isLineGeometry=!0,this.type="LineGeometry"}setPositions(e){const n=e.length-3,i=new Float32Array(2*n);for(let r=0;r<n;r+=3)i[2*r]=e[r],i[2*r+1]=e[r+1],i[2*r+2]=e[r+2],i[2*r+3]=e[r+3],i[2*r+4]=e[r+4],i[2*r+5]=e[r+5];return super.setPositions(i),this}setColors(e,n=3){const i=e.length-n,r=new Float32Array(2*i);if(n===3)for(let a=0;a<i;a+=n)r[2*a]=e[a],r[2*a+1]=e[a+1],r[2*a+2]=e[a+2],r[2*a+3]=e[a+3],r[2*a+4]=e[a+4],r[2*a+5]=e[a+5];else for(let a=0;a<i;a+=n)r[2*a]=e[a],r[2*a+1]=e[a+1],r[2*a+2]=e[a+2],r[2*a+3]=e[a+3],r[2*a+4]=e[a+4],r[2*a+5]=e[a+5],r[2*a+6]=e[a+6],r[2*a+7]=e[a+7];return super.setColors(r,n),this}fromLine(e){const n=e.geometry;return this.setPositions(n.attributes.position.array),this}}class qC extends Za{constructor(e){super({type:"LineMaterial",uniforms:k1.clone(k1.merge([Zt.common,Zt.fog,{worldUnits:{value:1},linewidth:{value:1},resolution:{value:new yt(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}}])),vertexShader:`
				#include <common>
				#include <fog_pars_vertex>
				#include <logdepthbuf_pars_vertex>
				#include <clipping_planes_pars_vertex>

				uniform float linewidth;
				uniform vec2 resolution;

				attribute vec3 instanceStart;
				attribute vec3 instanceEnd;

				#ifdef USE_COLOR
					#ifdef USE_LINE_COLOR_ALPHA
						varying vec4 vLineColor;
						attribute vec4 instanceColorStart;
						attribute vec4 instanceColorEnd;
					#else
						varying vec3 vLineColor;
						attribute vec3 instanceColorStart;
						attribute vec3 instanceColorEnd;
					#endif
				#endif

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#ifdef USE_DASH

					uniform float dashScale;
					attribute float instanceDistanceStart;
					attribute float instanceDistanceEnd;
					varying float vLineDistance;

				#endif

				void trimSegment( const in vec4 start, inout vec4 end ) {

					// trim end segment so it terminates between the camera plane and the near plane

					// conservative estimate of the near plane
					float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
					float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
					float nearEstimate = - 0.5 * b / a;

					float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

					end.xyz = mix( start.xyz, end.xyz, alpha );

				}

				void main() {

					#ifdef USE_COLOR

						vLineColor = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

					#endif

					#ifdef USE_DASH

						vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
						vUv = uv;

					#endif

					float aspect = resolution.x / resolution.y;

					// camera space
					vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
					vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

					#ifdef WORLD_UNITS

						worldStart = start.xyz;
						worldEnd = end.xyz;

					#else

						vUv = uv;

					#endif

					// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
					// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
					// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
					// perhaps there is a more elegant solution -- WestLangley

					bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

					if ( perspective ) {

						if ( start.z < 0.0 && end.z >= 0.0 ) {

							trimSegment( start, end );

						} else if ( end.z < 0.0 && start.z >= 0.0 ) {

							trimSegment( end, start );

						}

					}

					// clip space
					vec4 clipStart = projectionMatrix * start;
					vec4 clipEnd = projectionMatrix * end;

					// ndc space
					vec3 ndcStart = clipStart.xyz / clipStart.w;
					vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

					// direction
					vec2 dir = ndcEnd.xy - ndcStart.xy;

					// account for clip-space aspect ratio
					dir.x *= aspect;
					dir = normalize( dir );

					#ifdef WORLD_UNITS

						// get the offset direction as perpendicular to the view vector
						vec3 worldDir = normalize( end.xyz - start.xyz );
						vec3 offset;
						if ( position.y < 0.5 ) {

							offset = normalize( cross( start.xyz, worldDir ) );

						} else {

							offset = normalize( cross( end.xyz, worldDir ) );

						}

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						float forwardOffset = dot( worldDir, vec3( 0.0, 0.0, 1.0 ) );

						// don't extend the line if we're rendering dashes because we
						// won't be rendering the endcaps
						#ifndef USE_DASH

							// extend the line bounds to encompass  endcaps
							start.xyz += - worldDir * linewidth * 0.5;
							end.xyz += worldDir * linewidth * 0.5;

							// shift the position of the quad so it hugs the forward edge of the line
							offset.xy -= dir * forwardOffset;
							offset.z += 0.5;

						#endif

						// endcaps
						if ( position.y > 1.0 || position.y < 0.0 ) {

							offset.xy += dir * 2.0 * forwardOffset;

						}

						// adjust for linewidth
						offset *= linewidth * 0.5;

						// set the world position
						worldPos = ( position.y < 0.5 ) ? start : end;
						worldPos.xyz += offset;

						// project the worldpos
						vec4 clip = projectionMatrix * worldPos;

						// shift the depth of the projected points so the line
						// segments overlap neatly
						vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
						clip.z = clipPose.z * clip.w;

					#else

						vec2 offset = vec2( dir.y, - dir.x );
						// undo aspect ratio adjustment
						dir.x /= aspect;
						offset.x /= aspect;

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						// endcaps
						if ( position.y < 0.0 ) {

							offset += - dir;

						} else if ( position.y > 1.0 ) {

							offset += dir;

						}

						// adjust for linewidth
						offset *= linewidth;

						// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
						offset /= resolution.y;

						// select end
						vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

						// back to clip space
						offset *= clip.w;

						clip.xy += offset;

					#endif

					gl_Position = clip;

					vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

					#include <logdepthbuf_vertex>
					#include <clipping_planes_vertex>
					#include <fog_vertex>

				}
			`,fragmentShader:`
				uniform vec3 diffuse;
				uniform float opacity;
				uniform float linewidth;

				#ifdef USE_DASH

					uniform float dashOffset;
					uniform float dashSize;
					uniform float gapSize;

				#endif

				varying float vLineDistance;

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#include <common>
				#include <fog_pars_fragment>
				#include <logdepthbuf_pars_fragment>
				#include <clipping_planes_pars_fragment>

				#ifdef USE_COLOR
					#ifdef USE_LINE_COLOR_ALPHA
						varying vec4 vLineColor;
					#else
						varying vec3 vLineColor;
					#endif
				#endif

				vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

					float mua;
					float mub;

					vec3 p13 = p1 - p3;
					vec3 p43 = p4 - p3;

					vec3 p21 = p2 - p1;

					float d1343 = dot( p13, p43 );
					float d4321 = dot( p43, p21 );
					float d1321 = dot( p13, p21 );
					float d4343 = dot( p43, p43 );
					float d2121 = dot( p21, p21 );

					float denom = d2121 * d4343 - d4321 * d4321;

					float numer = d1343 * d4321 - d1321 * d4343;

					mua = numer / denom;
					mua = clamp( mua, 0.0, 1.0 );
					mub = ( d1343 + d4321 * ( mua ) ) / d4343;
					mub = clamp( mub, 0.0, 1.0 );

					return vec2( mua, mub );

				}

				void main() {

					#include <clipping_planes_fragment>

					#ifdef USE_DASH

						if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

						if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

					#endif

					float alpha = opacity;

					#ifdef WORLD_UNITS

						// Find the closest points on the view ray and the line segment
						vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
						vec3 lineDir = worldEnd - worldStart;
						vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

						vec3 p1 = worldStart + lineDir * params.x;
						vec3 p2 = rayEnd * params.y;
						vec3 delta = p1 - p2;
						float len = length( delta );
						float norm = len / linewidth;

						#ifndef USE_DASH

							#ifdef USE_ALPHA_TO_COVERAGE

								float dnorm = fwidth( norm );
								alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

							#else

								if ( norm > 0.5 ) {

									discard;

								}

							#endif

						#endif

					#else

						#ifdef USE_ALPHA_TO_COVERAGE

							// artifacts appear on some hardware if a derivative is taken within a conditional
							float a = vUv.x;
							float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
							float len2 = a * a + b * b;
							float dlen = fwidth( len2 );

							if ( abs( vUv.y ) > 1.0 ) {

								alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

							}

						#else

							if ( abs( vUv.y ) > 1.0 ) {

								float a = vUv.x;
								float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
								float len2 = a * a + b * b;

								if ( len2 > 1.0 ) discard;

							}

						#endif

					#endif

					vec4 diffuseColor = vec4( diffuse, alpha );
					#ifdef USE_COLOR
						#ifdef USE_LINE_COLOR_ALPHA
							diffuseColor *= vLineColor;
						#else
							diffuseColor.rgb *= vLineColor;
						#endif
					#endif

					#include <logdepthbuf_fragment>

					gl_FragColor = diffuseColor;

					#include <tonemapping_fragment>
					#include <${D_>=154?"colorspace_fragment":"encodings_fragment"}>
					#include <fog_fragment>
					#include <premultiplied_alpha_fragment>

				}
			`,clipping:!0}),this.isLineMaterial=!0,this.onBeforeCompile=function(){this.transparent?this.defines.USE_LINE_COLOR_ALPHA="1":delete this.defines.USE_LINE_COLOR_ALPHA},Object.defineProperties(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(n){this.uniforms.diffuse.value=n}},worldUnits:{enumerable:!0,get:function(){return"WORLD_UNITS"in this.defines},set:function(n){n===!0?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(n){this.uniforms.linewidth.value=n}},dashed:{enumerable:!0,get:function(){return"USE_DASH"in this.defines},set(n){!!n!="USE_DASH"in this.defines&&(this.needsUpdate=!0),n===!0?this.defines.USE_DASH="":delete this.defines.USE_DASH}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(n){this.uniforms.dashScale.value=n}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(n){this.uniforms.dashSize.value=n}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(n){this.uniforms.dashOffset.value=n}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(n){this.uniforms.gapSize.value=n}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(n){this.uniforms.opacity.value=n}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(n){this.uniforms.resolution.value.copy(n)}},alphaToCoverage:{enumerable:!0,get:function(){return"USE_ALPHA_TO_COVERAGE"in this.defines},set:function(n){!!n!="USE_ALPHA_TO_COVERAGE"in this.defines&&(this.needsUpdate=!0),n===!0?(this.defines.USE_ALPHA_TO_COVERAGE="",this.extensions.derivatives=!0):(delete this.defines.USE_ALPHA_TO_COVERAGE,this.extensions.derivatives=!1)}}}),this.setValues(e)}}const Ck=new ni,UB=new Q,FB=new Q,ts=new ni,ns=new ni,Eu=new ni,Rk=new Q,kk=new kt,ss=new AJ,zB=new Q,Pw=new vr,Uw=new Or,Mu=new ni;let Ou,Cm;function jB(t,e,n){return Mu.set(0,0,-e,1).applyMatrix4(t.projectionMatrix),Mu.multiplyScalar(1/Mu.w),Mu.x=Cm/n.width,Mu.y=Cm/n.height,Mu.applyMatrix4(t.projectionMatrixInverse),Mu.multiplyScalar(1/Mu.w),Math.abs(Math.max(Mu.x,Mu.y))}function Twe(t,e){const n=t.matrixWorld,i=t.geometry,r=i.attributes.instanceStart,a=i.attributes.instanceEnd,s=Math.min(i.instanceCount,r.count);for(let o=0,l=s;o<l;o++){ss.start.fromBufferAttribute(r,o),ss.end.fromBufferAttribute(a,o),ss.applyMatrix4(n);const c=new Q,u=new Q;Ou.distanceSqToSegment(ss.start,ss.end,u,c),u.distanceTo(c)<Cm*.5&&e.push({point:u,pointOnLine:c,distance:Ou.origin.distanceTo(u),object:t,face:null,faceIndex:o,uv:null,[m$]:null})}}function Cwe(t,e,n){const i=e.projectionMatrix,a=t.material.resolution,s=t.matrixWorld,o=t.geometry,l=o.attributes.instanceStart,c=o.attributes.instanceEnd,u=Math.min(o.instanceCount,l.count),f=-e.near;Ou.at(1,Eu),Eu.w=1,Eu.applyMatrix4(e.matrixWorldInverse),Eu.applyMatrix4(i),Eu.multiplyScalar(1/Eu.w),Eu.x*=a.x/2,Eu.y*=a.y/2,Eu.z=0,Rk.copy(Eu),kk.multiplyMatrices(e.matrixWorldInverse,s);for(let h=0,d=u;h<d;h++){if(ts.fromBufferAttribute(l,h),ns.fromBufferAttribute(c,h),ts.w=1,ns.w=1,ts.applyMatrix4(kk),ns.applyMatrix4(kk),ts.z>f&&ns.z>f)continue;if(ts.z>f){const _=ts.z-ns.z,E=(ts.z-f)/_;ts.lerp(ns,E)}else if(ns.z>f){const _=ns.z-ts.z,E=(ns.z-f)/_;ns.lerp(ts,E)}ts.applyMatrix4(i),ns.applyMatrix4(i),ts.multiplyScalar(1/ts.w),ns.multiplyScalar(1/ns.w),ts.x*=a.x/2,ts.y*=a.y/2,ns.x*=a.x/2,ns.y*=a.y/2,ss.start.copy(ts),ss.start.z=0,ss.end.copy(ns),ss.end.z=0;const y=ss.closestPointToPointParameter(Rk,!0);ss.at(y,zB);const v=ac.lerp(ts.z,ns.z,y),m=v>=-1&&v<=1,x=Rk.distanceTo(zB)<Cm*.5;if(m&&x){ss.start.fromBufferAttribute(l,h),ss.end.fromBufferAttribute(c,h),ss.start.applyMatrix4(s),ss.end.applyMatrix4(s);const _=new Q,E=new Q;Ou.distanceSqToSegment(ss.start,ss.end,E,_),n.push({point:E,pointOnLine:_,distance:Ou.origin.distanceTo(E),object:t,face:null,faceIndex:h,uv:null,[m$]:null})}}}class zP extends Di{constructor(e=new WC,n=new qC({color:Math.random()*16777215})){super(e,n),this.isLineSegments2=!0,this.type="LineSegments2"}computeLineDistances(){const e=this.geometry,n=e.attributes.instanceStart,i=e.attributes.instanceEnd,r=new Float32Array(2*n.count);for(let s=0,o=0,l=n.count;s<l;s++,o+=2)UB.fromBufferAttribute(n,s),FB.fromBufferAttribute(i,s),r[o]=o===0?0:r[o-1],r[o+1]=r[o]+UB.distanceTo(FB);const a=new kA(r,2,1);return e.setAttribute("instanceDistanceStart",new To(a,1,0)),e.setAttribute("instanceDistanceEnd",new To(a,1,1)),this}raycast(e,n){const i=this.material.worldUnits,r=e.camera;r===null&&!i&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.');const a=e.params.Line2!==void 0&&e.params.Line2.threshold||0;Ou=e.ray;const s=this.matrixWorld,o=this.geometry,l=this.material;Cm=l.linewidth+a,o.boundingSphere===null&&o.computeBoundingSphere(),Uw.copy(o.boundingSphere).applyMatrix4(s);let c;if(i)c=Cm*.5;else{const f=Math.max(r.near,Uw.distanceToPoint(Ou.origin));c=jB(r,f,l.resolution)}if(Uw.radius+=c,Ou.intersectsSphere(Uw)===!1)return;o.boundingBox===null&&o.computeBoundingBox(),Pw.copy(o.boundingBox).applyMatrix4(s);let u;if(i)u=Cm*.5;else{const f=Math.max(r.near,Pw.distanceToPoint(Ou.origin));u=jB(r,f,l.resolution)}Pw.expandByScalar(u),Ou.intersectsBox(Pw)!==!1&&(i?Twe(this,n):Cwe(this,r,n))}onBeforeRender(e){const n=this.material.uniforms;n&&n.resolution&&(e.getViewport(Ck),this.material.uniforms.resolution.value.set(Ck.z,Ck.w))}}class E$ extends zP{constructor(e=new FP,n=new qC({color:Math.random()*16777215})){super(e,n),this.isLine2=!0,this.type="Line2"}}const Rwe=new Q,kwe=new Q,Dwe=new Q,Nwe=(t,e,n)=>{const i=n.width/2,r=n.height/2;e.updateMatrixWorld(!1);const a=t.project(e);return a.x=a.x*i+i,a.y=-(a.y*r)+r,a},Iwe=(t,e,n,i=1)=>{const r=Rwe.set(t.x/n.width*2-1,-(t.y/n.height)*2+1,i);return r.unproject(e),r},M$=(t,e,n,i)=>{const r=Nwe(Dwe.copy(t),n,i);let a=0;for(let s=0;s<2;++s){const o=kwe.copy(r).setComponent(s,r.getComponent(s)+e),l=Iwe(o,n,i,o.z);a=Math.max(a,t.distanceTo(l))}return a},qm=I.forwardRef(function({points:e,color:n=16777215,vertexColors:i,linewidth:r,lineWidth:a,segments:s,dashed:o,...l},c){var u,f;const h=mi(m=>m.size),d=I.useMemo(()=>s?new zP:new E$,[s]),[b]=I.useState(()=>new qC),y=(i==null||(u=i[0])==null?void 0:u.length)===4?4:3,v=I.useMemo(()=>{const m=s?new WC:new FP,x=e.map(_=>{const E=Array.isArray(_);return _ instanceof Q||_ instanceof ni?[_.x,_.y,_.z]:_ instanceof yt?[_.x,_.y,0]:E&&_.length===3?[_[0],_[1],_[2]]:E&&_.length===2?[_[0],_[1],0]:_});if(m.setPositions(x.flat()),i){n=16777215;const _=i.map(E=>E instanceof Ut?E.toArray():E);m.setColors(_.flat(),y)}return m},[e,s,i,y]);return I.useLayoutEffect(()=>{d.computeLineDistances()},[e,d]),I.useLayoutEffect(()=>{o?b.defines.USE_DASH="":delete b.defines.USE_DASH,b.needsUpdate=!0},[o,b]),I.useEffect(()=>()=>{v.dispose(),b.dispose()},[v]),I.createElement("primitive",vs({object:d,ref:c},l),I.createElement("primitive",{object:v,attach:"geometry"}),I.createElement("primitive",vs({object:b,attach:"material",color:n,vertexColors:!!i,resolution:[h.width,h.height],linewidth:(f=r??a)!==null&&f!==void 0?f:1,dashed:o,transparent:y===4},l)))}),Owe=I.forwardRef(function({start:e,end:n,midA:i,midB:r,segments:a=20,...s},o){const l=I.useMemo(()=>{const c=e instanceof Q?e:new Q(...e),u=n instanceof Q?n:new Q(...n),f=i instanceof Q?i:new Q(...i),h=r instanceof Q?r:new Q(...r);return new lP(c,f,h,u).getPoints(a)},[e,n,i,r,a]);return I.createElement(qm,vs({ref:o,points:l},s))}),Lwe=I.forwardRef(function({points:e,closed:n=!1,curveType:i="centripetal",tension:r=.5,segments:a=20,vertexColors:s,...o},l){const c=I.useMemo(()=>{const h=e.map(d=>d instanceof Q?d:new Q(...d));return new sP(h,n,i,r)},[e,n,i,r]),u=I.useMemo(()=>c.getPoints(a),[c,a]),f=I.useMemo(()=>{if(!s||s.length<2)return;if(s.length===a+1)return s;const h=s.map(y=>y instanceof Ut?y:new Ut(...y));n&&h.push(h[0].clone());const d=[h[0]],b=a/(h.length-1);for(let y=1;y<a;y++){const v=y%b/b,m=Math.floor(y/b);d.push(h[m].clone().lerp(h[m+1],v))}return d.push(h[h.length-1]),d},[s,a]);return I.createElement(qm,vs({ref:l,points:u,vertexColors:f},o))});function XC(t,e,n,i){var r;return r=class extends Za{constructor(a){super({vertexShader:e,fragmentShader:n,...a});for(const s in t)this.uniforms[s]=new BC(t[s]),Object.defineProperty(this,s,{get(){return this.uniforms[s].value},set(o){this.uniforms[s].value=o}});this.uniforms=k1.clone(this.uniforms)}},r.key=ac.generateUUID(),r}const Pwe=()=>parseInt(Ny.replace(/\D+/g,"")),A$=Pwe();/*!
 * camera-controls
 * https://github.com/yomotsu/camera-controls
 * (c) 2017 @yomotsu
 * Released under the MIT License.
 */const qr={LEFT:1,RIGHT:2,MIDDLE:4},nt=Object.freeze({NONE:0,ROTATE:1,TRUCK:2,SCREEN_PAN:4,OFFSET:8,DOLLY:16,ZOOM:32,TOUCH_ROTATE:64,TOUCH_TRUCK:128,TOUCH_SCREEN_PAN:256,TOUCH_OFFSET:512,TOUCH_DOLLY:1024,TOUCH_ZOOM:2048,TOUCH_DOLLY_TRUCK:4096,TOUCH_DOLLY_SCREEN_PAN:8192,TOUCH_DOLLY_OFFSET:16384,TOUCH_DOLLY_ROTATE:32768,TOUCH_ZOOM_TRUCK:65536,TOUCH_ZOOM_OFFSET:131072,TOUCH_ZOOM_SCREEN_PAN:262144,TOUCH_ZOOM_ROTATE:524288}),mb={NONE:0,IN:1,OUT:-1};function Op(t){return t.isPerspectiveCamera}function Qh(t){return t.isOrthographicCamera}const Kh=Math.PI*2,BB=Math.PI/2,T$=1e-5,Hv=Math.PI/180;function Pc(t,e,n){return Math.max(e,Math.min(n,t))}function Er(t,e=T$){return Math.abs(t)<e}function $i(t,e,n=T$){return Er(t-e,n)}function HB(t,e){return Math.round(t/e)*e}function Vv(t){return isFinite(t)?t:t<0?-Number.MAX_VALUE:Number.MAX_VALUE}function Gv(t){return Math.abs(t)<Number.MAX_VALUE?t:t*(1/0)}function Fw(t,e,n,i,r=1/0,a){i=Math.max(1e-4,i);const s=2/i,o=s*a,l=1/(1+o+.48*o*o+.235*o*o*o);let c=t-e;const u=e,f=r*i;c=Pc(c,-f,f),e=t-c;const h=(n.value+s*c)*a;n.value=(n.value-s*h)*l;let d=e+(c+h)*l;return u-t>0==d>u&&(d=u,n.value=(d-u)/a),d}function VB(t,e,n,i,r=1/0,a,s){i=Math.max(1e-4,i);const o=2/i,l=o*a,c=1/(1+l+.48*l*l+.235*l*l*l);let u=e.x,f=e.y,h=e.z,d=t.x-u,b=t.y-f,y=t.z-h;const v=u,m=f,x=h,_=r*i,E=_*_,A=d*d+b*b+y*y;if(A>E){const V=Math.sqrt(A);d=d/V*_,b=b/V*_,y=y/V*_}u=t.x-d,f=t.y-b,h=t.z-y;const w=(n.x+o*d)*a,T=(n.y+o*b)*a,k=(n.z+o*y)*a;n.x=(n.x-o*w)*c,n.y=(n.y-o*T)*c,n.z=(n.z-o*k)*c,s.x=u+(d+w)*c,s.y=f+(b+T)*c,s.z=h+(y+k)*c;const N=v-t.x,D=m-t.y,P=x-t.z,B=s.x-v,G=s.y-m,H=s.z-x;return N*B+D*G+P*H>0&&(s.x=v,s.y=m,s.z=x,n.x=(s.x-v)/a,n.y=(s.y-m)/a,n.z=(s.z-x)/a),s}function Dk(t,e){e.set(0,0),t.forEach(n=>{e.x+=n.clientX,e.y+=n.clientY}),e.x/=t.length,e.y/=t.length}function Nk(t,e){return Qh(t)?(console.warn(`${e} is not supported in OrthographicCamera`),!0):!1}let Uwe=class{constructor(){this._listeners={}}addEventListener(e,n){const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(n)===-1&&i[e].push(n)}hasEventListener(e,n){const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(n)!==-1}removeEventListener(e,n){const r=this._listeners[e];if(r!==void 0){const a=r.indexOf(n);a!==-1&&r.splice(a,1)}}removeAllEventListeners(e){if(!e){this._listeners={};return}Array.isArray(this._listeners[e])&&(this._listeners[e].length=0)}dispatchEvent(e){const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let a=0,s=r.length;a<s;a++)r[a].call(this,e)}}};var Ik;const Fwe="3.1.0",zw=1/8,zwe=/Mac/.test((Ik=globalThis?.navigator)===null||Ik===void 0?void 0:Ik.platform);let Ln,GB,jw,Ok,xo,Zn,Ui,gb,Wv,Au,Tu,Lp,WB,qB,tl,bb,yb,XB,Lk,KB,Pk,Uk,Bw,jwe=class ON extends Uwe{static install(e){Ln=e.THREE,GB=Object.freeze(new Ln.Vector3(0,0,0)),jw=Object.freeze(new Ln.Vector3(0,1,0)),Ok=Object.freeze(new Ln.Vector3(0,0,1)),xo=new Ln.Vector2,Zn=new Ln.Vector3,Ui=new Ln.Vector3,gb=new Ln.Vector3,Wv=new Ln.Vector3,Au=new Ln.Vector3,Tu=new Ln.Vector3,Lp=new Ln.Vector3,WB=new Ln.Vector3,qB=new Ln.Vector3,tl=new Ln.Spherical,bb=new Ln.Spherical,yb=new Ln.Box3,XB=new Ln.Box3,Lk=new Ln.Sphere,KB=new Ln.Quaternion,Pk=new Ln.Quaternion,Uk=new Ln.Matrix4,Bw=new Ln.Raycaster}static get ACTION(){return nt}set verticalDragToForward(e){console.warn("camera-controls: `verticalDragToForward` was removed. Use `mouseButtons.left = CameraControls.ACTION.SCREEN_PAN` instead.")}constructor(e,n){super(),this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.minDistance=Number.EPSILON,this.maxDistance=1/0,this.infinityDolly=!1,this.minZoom=.01,this.maxZoom=1/0,this.smoothTime=.25,this.draggingSmoothTime=.125,this.maxSpeed=1/0,this.azimuthRotateSpeed=1,this.polarRotateSpeed=1,this.dollySpeed=1,this.dollyDragInverted=!1,this.truckSpeed=2,this.dollyToCursor=!1,this.dragToOffset=!1,this.boundaryFriction=0,this.restThreshold=.01,this.colliderMeshes=[],this.cancel=()=>{},this._enabled=!0,this._state=nt.NONE,this._viewport=null,this._changedDolly=0,this._changedZoom=0,this._hasRested=!0,this._boundaryEnclosesCamera=!1,this._needsUpdate=!0,this._updatedLastTime=!1,this._elementRect=new DOMRect,this._isDragging=!1,this._dragNeedsUpdate=!0,this._activePointers=[],this._lockedPointer=null,this._interactiveArea=new DOMRect(0,0,1,1),this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._isUserControllingOffset=!1,this._isUserControllingZoom=!1,this._lastDollyDirection=mb.NONE,this._thetaVelocity={value:0},this._phiVelocity={value:0},this._radiusVelocity={value:0},this._targetVelocity=new Ln.Vector3,this._focalOffsetVelocity=new Ln.Vector3,this._zoomVelocity={value:0},this._truckInternal=(m,x,_,E)=>{let A,w;if(Op(this._camera)){const T=Zn.copy(this._camera.position).sub(this._target),k=this._camera.getEffectiveFOV()*Hv,N=T.length()*Math.tan(k*.5);A=this.truckSpeed*m*N/this._elementRect.height,w=this.truckSpeed*x*N/this._elementRect.height}else if(Qh(this._camera)){const T=this._camera;A=this.truckSpeed*m*(T.right-T.left)/T.zoom/this._elementRect.width,w=this.truckSpeed*x*(T.top-T.bottom)/T.zoom/this._elementRect.height}else return;E?(_?this.setFocalOffset(this._focalOffsetEnd.x+A,this._focalOffsetEnd.y,this._focalOffsetEnd.z,!0):this.truck(A,0,!0),this.forward(-w,!0)):_?this.setFocalOffset(this._focalOffsetEnd.x+A,this._focalOffsetEnd.y+w,this._focalOffsetEnd.z,!0):this.truck(A,w,!0)},this._rotateInternal=(m,x)=>{const _=Kh*this.azimuthRotateSpeed*m/this._elementRect.height,E=Kh*this.polarRotateSpeed*x/this._elementRect.height;this.rotate(_,E,!0)},this._dollyInternal=(m,x,_)=>{const E=Math.pow(.95,-m*this.dollySpeed),A=this._sphericalEnd.radius,w=this._sphericalEnd.radius*E,T=Pc(w,this.minDistance,this.maxDistance),k=T-w;this.infinityDolly&&this.dollyToCursor?this._dollyToNoClamp(w,!0):this.infinityDolly&&!this.dollyToCursor?(this.dollyInFixed(k,!0),this._dollyToNoClamp(T,!0)):this._dollyToNoClamp(T,!0),this.dollyToCursor&&(this._changedDolly+=(this.infinityDolly?w:T)-A,this._dollyControlCoord.set(x,_)),this._lastDollyDirection=Math.sign(-m)},this._zoomInternal=(m,x,_)=>{const E=Math.pow(.95,m*this.dollySpeed),A=this._zoom,w=this._zoom*E;this.zoomTo(w,!0),this.dollyToCursor&&(this._changedZoom+=w-A,this._dollyControlCoord.set(x,_))},typeof Ln>"u"&&console.error("camera-controls: `THREE` is undefined. You must first run `CameraControls.install( { THREE: THREE } )`. Check the docs for further information."),this._camera=e,this._yAxisUpSpace=new Ln.Quaternion().setFromUnitVectors(this._camera.up,jw),this._yAxisUpSpaceInverse=this._yAxisUpSpace.clone().invert(),this._state=nt.NONE,this._target=new Ln.Vector3,this._targetEnd=this._target.clone(),this._focalOffset=new Ln.Vector3,this._focalOffsetEnd=this._focalOffset.clone(),this._spherical=new Ln.Spherical().setFromVector3(Zn.copy(this._camera.position).applyQuaternion(this._yAxisUpSpace)),this._sphericalEnd=this._spherical.clone(),this._lastDistance=this._spherical.radius,this._zoom=this._camera.zoom,this._zoomEnd=this._zoom,this._lastZoom=this._zoom,this._nearPlaneCorners=[new Ln.Vector3,new Ln.Vector3,new Ln.Vector3,new Ln.Vector3],this._updateNearPlaneCorners(),this._boundary=new Ln.Box3(new Ln.Vector3(-1/0,-1/0,-1/0),new Ln.Vector3(1/0,1/0,1/0)),this._cameraUp0=this._camera.up.clone(),this._target0=this._target.clone(),this._position0=this._camera.position.clone(),this._zoom0=this._zoom,this._focalOffset0=this._focalOffset.clone(),this._dollyControlCoord=new Ln.Vector2,this.mouseButtons={left:nt.ROTATE,middle:nt.DOLLY,right:nt.TRUCK,wheel:Op(this._camera)?nt.DOLLY:Qh(this._camera)?nt.ZOOM:nt.NONE},this.touches={one:nt.TOUCH_ROTATE,two:Op(this._camera)?nt.TOUCH_DOLLY_TRUCK:Qh(this._camera)?nt.TOUCH_ZOOM_TRUCK:nt.NONE,three:nt.TOUCH_TRUCK};const i=new Ln.Vector2,r=new Ln.Vector2,a=new Ln.Vector2,s=m=>{if(!this._enabled||!this._domElement)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){const E=this._domElement.getBoundingClientRect(),A=m.clientX/E.width,w=m.clientY/E.height;if(A<this._interactiveArea.left||A>this._interactiveArea.right||w<this._interactiveArea.top||w>this._interactiveArea.bottom)return}const x=m.pointerType!=="mouse"?null:(m.buttons&qr.LEFT)===qr.LEFT?qr.LEFT:(m.buttons&qr.MIDDLE)===qr.MIDDLE?qr.MIDDLE:(m.buttons&qr.RIGHT)===qr.RIGHT?qr.RIGHT:null;if(x!==null){const E=this._findPointerByMouseButton(x);E&&this._disposePointer(E)}if((m.buttons&qr.LEFT)===qr.LEFT&&this._lockedPointer)return;const _={pointerId:m.pointerId,clientX:m.clientX,clientY:m.clientY,deltaX:0,deltaY:0,mouseButton:x};this._activePointers.push(_),this._domElement.ownerDocument.removeEventListener("pointermove",o,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",l),this._domElement.ownerDocument.addEventListener("pointermove",o,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",l),this._isDragging=!0,h(m)},o=m=>{m.cancelable&&m.preventDefault();const x=m.pointerId,_=this._lockedPointer||this._findPointerById(x);if(_){if(_.clientX=m.clientX,_.clientY=m.clientY,_.deltaX=m.movementX,_.deltaY=m.movementY,this._state=0,m.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else(!this._isDragging&&this._lockedPointer||this._isDragging&&(m.buttons&qr.LEFT)===qr.LEFT)&&(this._state=this._state|this.mouseButtons.left),this._isDragging&&(m.buttons&qr.MIDDLE)===qr.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),this._isDragging&&(m.buttons&qr.RIGHT)===qr.RIGHT&&(this._state=this._state|this.mouseButtons.right);d()}},l=m=>{const x=this._findPointerById(m.pointerId);if(!(x&&x===this._lockedPointer)){if(x&&this._disposePointer(x),m.pointerType==="touch")switch(this._activePointers.length){case 0:this._state=nt.NONE;break;case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else this._state=nt.NONE;b()}};let c=-1;const u=m=>{if(!this._domElement||!this._enabled||this.mouseButtons.wheel===nt.NONE)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){const w=this._domElement.getBoundingClientRect(),T=m.clientX/w.width,k=m.clientY/w.height;if(T<this._interactiveArea.left||T>this._interactiveArea.right||k<this._interactiveArea.top||k>this._interactiveArea.bottom)return}if(m.preventDefault(),this.dollyToCursor||this.mouseButtons.wheel===nt.ROTATE||this.mouseButtons.wheel===nt.TRUCK){const w=performance.now();c-w<1e3&&this._getClientRect(this._elementRect),c=w}const x=zwe?-1:-3,_=m.deltaMode===1||m.ctrlKey?m.deltaY/x:m.deltaY/(x*10),E=this.dollyToCursor?(m.clientX-this._elementRect.x)/this._elementRect.width*2-1:0,A=this.dollyToCursor?(m.clientY-this._elementRect.y)/this._elementRect.height*-2+1:0;switch(this.mouseButtons.wheel){case nt.ROTATE:{this._rotateInternal(m.deltaX,m.deltaY),this._isUserControllingRotate=!0;break}case nt.TRUCK:{this._truckInternal(m.deltaX,m.deltaY,!1,!1),this._isUserControllingTruck=!0;break}case nt.SCREEN_PAN:{this._truckInternal(m.deltaX,m.deltaY,!1,!0),this._isUserControllingTruck=!0;break}case nt.OFFSET:{this._truckInternal(m.deltaX,m.deltaY,!0,!1),this._isUserControllingOffset=!0;break}case nt.DOLLY:{this._dollyInternal(-_,E,A),this._isUserControllingDolly=!0;break}case nt.ZOOM:{this._zoomInternal(-_,E,A),this._isUserControllingZoom=!0;break}}this.dispatchEvent({type:"control"})},f=m=>{if(!(!this._domElement||!this._enabled)){if(this.mouseButtons.right===ON.ACTION.NONE){const x=m instanceof PointerEvent?m.pointerId:0,_=this._findPointerById(x);_&&this._disposePointer(_),this._domElement.ownerDocument.removeEventListener("pointermove",o,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",l);return}m.preventDefault()}},h=m=>{if(!this._enabled)return;if(Dk(this._activePointers,xo),this._getClientRect(this._elementRect),i.copy(xo),r.copy(xo),this._activePointers.length>=2){const _=xo.x-this._activePointers[1].clientX,E=xo.y-this._activePointers[1].clientY,A=Math.sqrt(_*_+E*E);a.set(0,A);const w=(this._activePointers[0].clientX+this._activePointers[1].clientX)*.5,T=(this._activePointers[0].clientY+this._activePointers[1].clientY)*.5;r.set(w,T)}if(this._state=0,!m)this._lockedPointer&&(this._state=this._state|this.mouseButtons.left);else if("pointerType"in m&&m.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else!this._lockedPointer&&(m.buttons&qr.LEFT)===qr.LEFT&&(this._state=this._state|this.mouseButtons.left),(m.buttons&qr.MIDDLE)===qr.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(m.buttons&qr.RIGHT)===qr.RIGHT&&(this._state=this._state|this.mouseButtons.right);((this._state&nt.ROTATE)===nt.ROTATE||(this._state&nt.TOUCH_ROTATE)===nt.TOUCH_ROTATE||(this._state&nt.TOUCH_DOLLY_ROTATE)===nt.TOUCH_DOLLY_ROTATE||(this._state&nt.TOUCH_ZOOM_ROTATE)===nt.TOUCH_ZOOM_ROTATE)&&(this._sphericalEnd.theta=this._spherical.theta,this._sphericalEnd.phi=this._spherical.phi,this._thetaVelocity.value=0,this._phiVelocity.value=0),((this._state&nt.TRUCK)===nt.TRUCK||(this._state&nt.SCREEN_PAN)===nt.SCREEN_PAN||(this._state&nt.TOUCH_TRUCK)===nt.TOUCH_TRUCK||(this._state&nt.TOUCH_SCREEN_PAN)===nt.TOUCH_SCREEN_PAN||(this._state&nt.TOUCH_DOLLY_TRUCK)===nt.TOUCH_DOLLY_TRUCK||(this._state&nt.TOUCH_DOLLY_SCREEN_PAN)===nt.TOUCH_DOLLY_SCREEN_PAN||(this._state&nt.TOUCH_ZOOM_TRUCK)===nt.TOUCH_ZOOM_TRUCK||(this._state&nt.TOUCH_ZOOM_SCREEN_PAN)===nt.TOUCH_DOLLY_SCREEN_PAN)&&(this._targetEnd.copy(this._target),this._targetVelocity.set(0,0,0)),((this._state&nt.DOLLY)===nt.DOLLY||(this._state&nt.TOUCH_DOLLY)===nt.TOUCH_DOLLY||(this._state&nt.TOUCH_DOLLY_TRUCK)===nt.TOUCH_DOLLY_TRUCK||(this._state&nt.TOUCH_DOLLY_SCREEN_PAN)===nt.TOUCH_DOLLY_SCREEN_PAN||(this._state&nt.TOUCH_DOLLY_OFFSET)===nt.TOUCH_DOLLY_OFFSET||(this._state&nt.TOUCH_DOLLY_ROTATE)===nt.TOUCH_DOLLY_ROTATE)&&(this._sphericalEnd.radius=this._spherical.radius,this._radiusVelocity.value=0),((this._state&nt.ZOOM)===nt.ZOOM||(this._state&nt.TOUCH_ZOOM)===nt.TOUCH_ZOOM||(this._state&nt.TOUCH_ZOOM_TRUCK)===nt.TOUCH_ZOOM_TRUCK||(this._state&nt.TOUCH_ZOOM_SCREEN_PAN)===nt.TOUCH_ZOOM_SCREEN_PAN||(this._state&nt.TOUCH_ZOOM_OFFSET)===nt.TOUCH_ZOOM_OFFSET||(this._state&nt.TOUCH_ZOOM_ROTATE)===nt.TOUCH_ZOOM_ROTATE)&&(this._zoomEnd=this._zoom,this._zoomVelocity.value=0),((this._state&nt.OFFSET)===nt.OFFSET||(this._state&nt.TOUCH_OFFSET)===nt.TOUCH_OFFSET||(this._state&nt.TOUCH_DOLLY_OFFSET)===nt.TOUCH_DOLLY_OFFSET||(this._state&nt.TOUCH_ZOOM_OFFSET)===nt.TOUCH_ZOOM_OFFSET)&&(this._focalOffsetEnd.copy(this._focalOffset),this._focalOffsetVelocity.set(0,0,0)),this.dispatchEvent({type:"controlstart"})},d=()=>{if(!this._enabled||!this._dragNeedsUpdate)return;this._dragNeedsUpdate=!1,Dk(this._activePointers,xo);const x=this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement?this._lockedPointer||this._activePointers[0]:null,_=x?-x.deltaX:r.x-xo.x,E=x?-x.deltaY:r.y-xo.y;if(r.copy(xo),((this._state&nt.ROTATE)===nt.ROTATE||(this._state&nt.TOUCH_ROTATE)===nt.TOUCH_ROTATE||(this._state&nt.TOUCH_DOLLY_ROTATE)===nt.TOUCH_DOLLY_ROTATE||(this._state&nt.TOUCH_ZOOM_ROTATE)===nt.TOUCH_ZOOM_ROTATE)&&(this._rotateInternal(_,E),this._isUserControllingRotate=!0),(this._state&nt.DOLLY)===nt.DOLLY||(this._state&nt.ZOOM)===nt.ZOOM){const A=this.dollyToCursor?(i.x-this._elementRect.x)/this._elementRect.width*2-1:0,w=this.dollyToCursor?(i.y-this._elementRect.y)/this._elementRect.height*-2+1:0,T=this.dollyDragInverted?-1:1;(this._state&nt.DOLLY)===nt.DOLLY?(this._dollyInternal(T*E*zw,A,w),this._isUserControllingDolly=!0):(this._zoomInternal(T*E*zw,A,w),this._isUserControllingZoom=!0)}if((this._state&nt.TOUCH_DOLLY)===nt.TOUCH_DOLLY||(this._state&nt.TOUCH_ZOOM)===nt.TOUCH_ZOOM||(this._state&nt.TOUCH_DOLLY_TRUCK)===nt.TOUCH_DOLLY_TRUCK||(this._state&nt.TOUCH_ZOOM_TRUCK)===nt.TOUCH_ZOOM_TRUCK||(this._state&nt.TOUCH_DOLLY_SCREEN_PAN)===nt.TOUCH_DOLLY_SCREEN_PAN||(this._state&nt.TOUCH_ZOOM_SCREEN_PAN)===nt.TOUCH_ZOOM_SCREEN_PAN||(this._state&nt.TOUCH_DOLLY_OFFSET)===nt.TOUCH_DOLLY_OFFSET||(this._state&nt.TOUCH_ZOOM_OFFSET)===nt.TOUCH_ZOOM_OFFSET||(this._state&nt.TOUCH_DOLLY_ROTATE)===nt.TOUCH_DOLLY_ROTATE||(this._state&nt.TOUCH_ZOOM_ROTATE)===nt.TOUCH_ZOOM_ROTATE){const A=xo.x-this._activePointers[1].clientX,w=xo.y-this._activePointers[1].clientY,T=Math.sqrt(A*A+w*w),k=a.y-T;a.set(0,T);const N=this.dollyToCursor?(r.x-this._elementRect.x)/this._elementRect.width*2-1:0,D=this.dollyToCursor?(r.y-this._elementRect.y)/this._elementRect.height*-2+1:0;(this._state&nt.TOUCH_DOLLY)===nt.TOUCH_DOLLY||(this._state&nt.TOUCH_DOLLY_ROTATE)===nt.TOUCH_DOLLY_ROTATE||(this._state&nt.TOUCH_DOLLY_TRUCK)===nt.TOUCH_DOLLY_TRUCK||(this._state&nt.TOUCH_DOLLY_SCREEN_PAN)===nt.TOUCH_DOLLY_SCREEN_PAN||(this._state&nt.TOUCH_DOLLY_OFFSET)===nt.TOUCH_DOLLY_OFFSET?(this._dollyInternal(k*zw,N,D),this._isUserControllingDolly=!0):(this._zoomInternal(k*zw,N,D),this._isUserControllingZoom=!0)}((this._state&nt.TRUCK)===nt.TRUCK||(this._state&nt.TOUCH_TRUCK)===nt.TOUCH_TRUCK||(this._state&nt.TOUCH_DOLLY_TRUCK)===nt.TOUCH_DOLLY_TRUCK||(this._state&nt.TOUCH_ZOOM_TRUCK)===nt.TOUCH_ZOOM_TRUCK)&&(this._truckInternal(_,E,!1,!1),this._isUserControllingTruck=!0),((this._state&nt.SCREEN_PAN)===nt.SCREEN_PAN||(this._state&nt.TOUCH_SCREEN_PAN)===nt.TOUCH_SCREEN_PAN||(this._state&nt.TOUCH_DOLLY_SCREEN_PAN)===nt.TOUCH_DOLLY_SCREEN_PAN||(this._state&nt.TOUCH_ZOOM_SCREEN_PAN)===nt.TOUCH_ZOOM_SCREEN_PAN)&&(this._truckInternal(_,E,!1,!0),this._isUserControllingTruck=!0),((this._state&nt.OFFSET)===nt.OFFSET||(this._state&nt.TOUCH_OFFSET)===nt.TOUCH_OFFSET||(this._state&nt.TOUCH_DOLLY_OFFSET)===nt.TOUCH_DOLLY_OFFSET||(this._state&nt.TOUCH_ZOOM_OFFSET)===nt.TOUCH_ZOOM_OFFSET)&&(this._truckInternal(_,E,!0,!1),this._isUserControllingOffset=!0),this.dispatchEvent({type:"control"})},b=()=>{Dk(this._activePointers,xo),r.copy(xo),this._dragNeedsUpdate=!1,(this._activePointers.length===0||this._activePointers.length===1&&this._activePointers[0]===this._lockedPointer)&&(this._isDragging=!1),this._activePointers.length===0&&this._domElement&&(this._domElement.ownerDocument.removeEventListener("pointermove",o,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",l),this.dispatchEvent({type:"controlend"}))};this.lockPointer=()=>{!this._enabled||!this._domElement||(this.cancel(),this._lockedPointer={pointerId:-1,clientX:0,clientY:0,deltaX:0,deltaY:0,mouseButton:null},this._activePointers.push(this._lockedPointer),this._domElement.ownerDocument.removeEventListener("pointermove",o,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",l),this._domElement.requestPointerLock(),this._domElement.ownerDocument.addEventListener("pointerlockchange",y),this._domElement.ownerDocument.addEventListener("pointerlockerror",v),this._domElement.ownerDocument.addEventListener("pointermove",o,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",l),h())},this.unlockPointer=()=>{var m,x,_;this._lockedPointer!==null&&(this._disposePointer(this._lockedPointer),this._lockedPointer=null),(m=this._domElement)===null||m===void 0||m.ownerDocument.exitPointerLock(),(x=this._domElement)===null||x===void 0||x.ownerDocument.removeEventListener("pointerlockchange",y),(_=this._domElement)===null||_===void 0||_.ownerDocument.removeEventListener("pointerlockerror",v),this.cancel()};const y=()=>{this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement||this.unlockPointer()},v=()=>{this.unlockPointer()};this._addAllEventListeners=m=>{this._domElement=m,this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none",this._domElement.addEventListener("pointerdown",s),this._domElement.addEventListener("pointercancel",l),this._domElement.addEventListener("wheel",u,{passive:!1}),this._domElement.addEventListener("contextmenu",f)},this._removeAllEventListeners=()=>{this._domElement&&(this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect="",this._domElement.removeEventListener("pointerdown",s),this._domElement.removeEventListener("pointercancel",l),this._domElement.removeEventListener("wheel",u,{passive:!1}),this._domElement.removeEventListener("contextmenu",f),this._domElement.ownerDocument.removeEventListener("pointermove",o,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",l),this._domElement.ownerDocument.removeEventListener("pointerlockchange",y),this._domElement.ownerDocument.removeEventListener("pointerlockerror",v))},this.cancel=()=>{this._state!==nt.NONE&&(this._state=nt.NONE,this._activePointers.length=0,b())},n&&this.connect(n),this.update(0)}get camera(){return this._camera}set camera(e){this._camera=e,this.updateCameraUp(),this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._domElement&&(e?(this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none"):(this.cancel(),this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect=""))}get active(){return!this._hasRested}get currentAction(){return this._state}get distance(){return this._spherical.radius}set distance(e){this._spherical.radius===e&&this._sphericalEnd.radius===e||(this._spherical.radius=e,this._sphericalEnd.radius=e,this._needsUpdate=!0)}get azimuthAngle(){return this._spherical.theta}set azimuthAngle(e){this._spherical.theta===e&&this._sphericalEnd.theta===e||(this._spherical.theta=e,this._sphericalEnd.theta=e,this._needsUpdate=!0)}get polarAngle(){return this._spherical.phi}set polarAngle(e){this._spherical.phi===e&&this._sphericalEnd.phi===e||(this._spherical.phi=e,this._sphericalEnd.phi=e,this._needsUpdate=!0)}get boundaryEnclosesCamera(){return this._boundaryEnclosesCamera}set boundaryEnclosesCamera(e){this._boundaryEnclosesCamera=e,this._needsUpdate=!0}set interactiveArea(e){this._interactiveArea.width=Pc(e.width,0,1),this._interactiveArea.height=Pc(e.height,0,1),this._interactiveArea.x=Pc(e.x,0,1-this._interactiveArea.width),this._interactiveArea.y=Pc(e.y,0,1-this._interactiveArea.height)}addEventListener(e,n){super.addEventListener(e,n)}removeEventListener(e,n){super.removeEventListener(e,n)}rotate(e,n,i=!1){return this.rotateTo(this._sphericalEnd.theta+e,this._sphericalEnd.phi+n,i)}rotateAzimuthTo(e,n=!1){return this.rotateTo(e,this._sphericalEnd.phi,n)}rotatePolarTo(e,n=!1){return this.rotateTo(this._sphericalEnd.theta,e,n)}rotateTo(e,n,i=!1){this._isUserControllingRotate=!1;const r=Pc(e,this.minAzimuthAngle,this.maxAzimuthAngle),a=Pc(n,this.minPolarAngle,this.maxPolarAngle);this._sphericalEnd.theta=r,this._sphericalEnd.phi=a,this._sphericalEnd.makeSafe(),this._needsUpdate=!0,i||(this._spherical.theta=this._sphericalEnd.theta,this._spherical.phi=this._sphericalEnd.phi);const s=!i||$i(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&$i(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold);return this._createOnRestPromise(s)}dolly(e,n=!1){return this.dollyTo(this._sphericalEnd.radius-e,n)}dollyTo(e,n=!1){return this._isUserControllingDolly=!1,this._lastDollyDirection=mb.NONE,this._changedDolly=0,this._dollyToNoClamp(Pc(e,this.minDistance,this.maxDistance),n)}_dollyToNoClamp(e,n=!1){const i=this._sphericalEnd.radius;if(this.colliderMeshes.length>=1){const s=this._collisionTest(),o=$i(s,this._spherical.radius);if(!(i>e)&&o)return Promise.resolve();this._sphericalEnd.radius=Math.min(e,s)}else this._sphericalEnd.radius=e;this._needsUpdate=!0,n||(this._spherical.radius=this._sphericalEnd.radius);const a=!n||$i(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(a)}dollyInFixed(e,n=!1){this._targetEnd.add(this._getCameraDirection(Wv).multiplyScalar(e)),n||this._target.copy(this._targetEnd);const i=!n||$i(this._target.x,this._targetEnd.x,this.restThreshold)&&$i(this._target.y,this._targetEnd.y,this.restThreshold)&&$i(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(i)}zoom(e,n=!1){return this.zoomTo(this._zoomEnd+e,n)}zoomTo(e,n=!1){this._isUserControllingZoom=!1,this._zoomEnd=Pc(e,this.minZoom,this.maxZoom),this._needsUpdate=!0,n||(this._zoom=this._zoomEnd);const i=!n||$i(this._zoom,this._zoomEnd,this.restThreshold);return this._changedZoom=0,this._createOnRestPromise(i)}pan(e,n,i=!1){return console.warn("`pan` has been renamed to `truck`"),this.truck(e,n,i)}truck(e,n,i=!1){this._camera.updateMatrix(),Au.setFromMatrixColumn(this._camera.matrix,0),Tu.setFromMatrixColumn(this._camera.matrix,1),Au.multiplyScalar(e),Tu.multiplyScalar(-n);const r=Zn.copy(Au).add(Tu),a=Ui.copy(this._targetEnd).add(r);return this.moveTo(a.x,a.y,a.z,i)}forward(e,n=!1){Zn.setFromMatrixColumn(this._camera.matrix,0),Zn.crossVectors(this._camera.up,Zn),Zn.multiplyScalar(e);const i=Ui.copy(this._targetEnd).add(Zn);return this.moveTo(i.x,i.y,i.z,n)}elevate(e,n=!1){return Zn.copy(this._camera.up).multiplyScalar(e),this.moveTo(this._targetEnd.x+Zn.x,this._targetEnd.y+Zn.y,this._targetEnd.z+Zn.z,n)}moveTo(e,n,i,r=!1){this._isUserControllingTruck=!1;const a=Zn.set(e,n,i).sub(this._targetEnd);this._encloseToBoundary(this._targetEnd,a,this.boundaryFriction),this._needsUpdate=!0,r||this._target.copy(this._targetEnd);const s=!r||$i(this._target.x,this._targetEnd.x,this.restThreshold)&&$i(this._target.y,this._targetEnd.y,this.restThreshold)&&$i(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(s)}lookInDirectionOf(e,n,i,r=!1){const o=Zn.set(e,n,i).sub(this._targetEnd).normalize().multiplyScalar(-this._sphericalEnd.radius).add(this._targetEnd);return this.setPosition(o.x,o.y,o.z,r)}fitToBox(e,n,{cover:i=!1,paddingLeft:r=0,paddingRight:a=0,paddingBottom:s=0,paddingTop:o=0}={}){const l=[],c=e.isBox3?yb.copy(e):yb.setFromObject(e);c.isEmpty()&&(console.warn("camera-controls: fitTo() cannot be used with an empty box. Aborting"),Promise.resolve());const u=HB(this._sphericalEnd.theta,BB),f=HB(this._sphericalEnd.phi,BB);l.push(this.rotateTo(u,f,n));const h=Zn.setFromSpherical(this._sphericalEnd).normalize(),d=KB.setFromUnitVectors(h,Ok),b=$i(Math.abs(h.y),1);b&&d.multiply(Pk.setFromAxisAngle(jw,u)),d.multiply(this._yAxisUpSpaceInverse);const y=XB.makeEmpty();Ui.copy(c.min).applyQuaternion(d),y.expandByPoint(Ui),Ui.copy(c.min).setX(c.max.x).applyQuaternion(d),y.expandByPoint(Ui),Ui.copy(c.min).setY(c.max.y).applyQuaternion(d),y.expandByPoint(Ui),Ui.copy(c.max).setZ(c.min.z).applyQuaternion(d),y.expandByPoint(Ui),Ui.copy(c.min).setZ(c.max.z).applyQuaternion(d),y.expandByPoint(Ui),Ui.copy(c.max).setY(c.min.y).applyQuaternion(d),y.expandByPoint(Ui),Ui.copy(c.max).setX(c.min.x).applyQuaternion(d),y.expandByPoint(Ui),Ui.copy(c.max).applyQuaternion(d),y.expandByPoint(Ui),y.min.x-=r,y.min.y-=s,y.max.x+=a,y.max.y+=o,d.setFromUnitVectors(Ok,h),b&&d.premultiply(Pk.invert()),d.premultiply(this._yAxisUpSpace);const v=y.getSize(Zn),m=y.getCenter(Ui).applyQuaternion(d);if(Op(this._camera)){const x=this.getDistanceToFitBox(v.x,v.y,v.z,i);l.push(this.moveTo(m.x,m.y,m.z,n)),l.push(this.dollyTo(x,n)),l.push(this.setFocalOffset(0,0,0,n))}else if(Qh(this._camera)){const x=this._camera,_=x.right-x.left,E=x.top-x.bottom,A=i?Math.max(_/v.x,E/v.y):Math.min(_/v.x,E/v.y);l.push(this.moveTo(m.x,m.y,m.z,n)),l.push(this.zoomTo(A,n)),l.push(this.setFocalOffset(0,0,0,n))}return Promise.all(l)}fitToSphere(e,n){const i=[],a="isObject3D"in e?ON.createBoundingSphere(e,Lk):Lk.copy(e);if(i.push(this.moveTo(a.center.x,a.center.y,a.center.z,n)),Op(this._camera)){const s=this.getDistanceToFitSphere(a.radius);i.push(this.dollyTo(s,n))}else if(Qh(this._camera)){const s=this._camera.right-this._camera.left,o=this._camera.top-this._camera.bottom,l=2*a.radius,c=Math.min(s/l,o/l);i.push(this.zoomTo(c,n))}return i.push(this.setFocalOffset(0,0,0,n)),Promise.all(i)}setLookAt(e,n,i,r,a,s,o=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=mb.NONE,this._changedDolly=0;const l=Ui.set(r,a,s),c=Zn.set(e,n,i);this._targetEnd.copy(l),this._sphericalEnd.setFromVector3(c.sub(l).applyQuaternion(this._yAxisUpSpace)),this._needsUpdate=!0,o||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const u=!o||$i(this._target.x,this._targetEnd.x,this.restThreshold)&&$i(this._target.y,this._targetEnd.y,this.restThreshold)&&$i(this._target.z,this._targetEnd.z,this.restThreshold)&&$i(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&$i(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&$i(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(u)}lerp(e,n,i,r=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=mb.NONE,this._changedDolly=0;const a=Zn.set(...e.target);if("spherical"in e)tl.set(...e.spherical);else{const f=Ui.set(...e.position);tl.setFromVector3(f.sub(a).applyQuaternion(this._yAxisUpSpace))}const s=gb.set(...n.target);if("spherical"in n)bb.set(...n.spherical);else{const f=Ui.set(...n.position);bb.setFromVector3(f.sub(s).applyQuaternion(this._yAxisUpSpace))}this._targetEnd.copy(a.lerp(s,i));const o=bb.theta-tl.theta,l=bb.phi-tl.phi,c=bb.radius-tl.radius;this._sphericalEnd.set(tl.radius+c*i,tl.phi+l*i,tl.theta+o*i),this._needsUpdate=!0,r||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const u=!r||$i(this._target.x,this._targetEnd.x,this.restThreshold)&&$i(this._target.y,this._targetEnd.y,this.restThreshold)&&$i(this._target.z,this._targetEnd.z,this.restThreshold)&&$i(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&$i(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&$i(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(u)}lerpLookAt(e,n,i,r,a,s,o,l,c,u,f,h,d,b=!1){return this.lerp({position:[e,n,i],target:[r,a,s]},{position:[o,l,c],target:[u,f,h]},d,b)}setPosition(e,n,i,r=!1){return this.setLookAt(e,n,i,this._targetEnd.x,this._targetEnd.y,this._targetEnd.z,r)}setTarget(e,n,i,r=!1){const a=this.getPosition(Zn),s=this.setLookAt(a.x,a.y,a.z,e,n,i,r);return this._sphericalEnd.phi=Pc(this._sphericalEnd.phi,this.minPolarAngle,this.maxPolarAngle),s}setFocalOffset(e,n,i,r=!1){this._isUserControllingOffset=!1,this._focalOffsetEnd.set(e,n,i),this._needsUpdate=!0,r||this._focalOffset.copy(this._focalOffsetEnd);const a=!r||$i(this._focalOffset.x,this._focalOffsetEnd.x,this.restThreshold)&&$i(this._focalOffset.y,this._focalOffsetEnd.y,this.restThreshold)&&$i(this._focalOffset.z,this._focalOffsetEnd.z,this.restThreshold);return this._createOnRestPromise(a)}setOrbitPoint(e,n,i){this._camera.updateMatrixWorld(),Au.setFromMatrixColumn(this._camera.matrixWorldInverse,0),Tu.setFromMatrixColumn(this._camera.matrixWorldInverse,1),Lp.setFromMatrixColumn(this._camera.matrixWorldInverse,2);const r=Zn.set(e,n,i),a=r.distanceTo(this._camera.position),s=r.sub(this._camera.position);Au.multiplyScalar(s.x),Tu.multiplyScalar(s.y),Lp.multiplyScalar(s.z),Zn.copy(Au).add(Tu).add(Lp),Zn.z=Zn.z+a,this.dollyTo(a,!1),this.setFocalOffset(-Zn.x,Zn.y,-Zn.z,!1),this.moveTo(e,n,i,!1)}setBoundary(e){if(!e){this._boundary.min.set(-1/0,-1/0,-1/0),this._boundary.max.set(1/0,1/0,1/0),this._needsUpdate=!0;return}this._boundary.copy(e),this._boundary.clampPoint(this._targetEnd,this._targetEnd),this._needsUpdate=!0}setViewport(e,n,i,r){if(e===null){this._viewport=null;return}this._viewport=this._viewport||new Ln.Vector4,typeof e=="number"?this._viewport.set(e,n,i,r):this._viewport.copy(e)}getDistanceToFitBox(e,n,i,r=!1){if(Nk(this._camera,"getDistanceToFitBox"))return this._spherical.radius;const a=e/n,s=this._camera.getEffectiveFOV()*Hv,o=this._camera.aspect;return((r?a>o:a<o)?n:e/o)*.5/Math.tan(s*.5)+i*.5}getDistanceToFitSphere(e){if(Nk(this._camera,"getDistanceToFitSphere"))return this._spherical.radius;const n=this._camera.getEffectiveFOV()*Hv,i=Math.atan(Math.tan(n*.5)*this._camera.aspect)*2,r=1<this._camera.aspect?n:i;return e/Math.sin(r*.5)}getTarget(e,n=!0){return(e&&e.isVector3?e:new Ln.Vector3).copy(n?this._targetEnd:this._target)}getPosition(e,n=!0){return(e&&e.isVector3?e:new Ln.Vector3).setFromSpherical(n?this._sphericalEnd:this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(n?this._targetEnd:this._target)}getSpherical(e,n=!0){return(e||new Ln.Spherical).copy(n?this._sphericalEnd:this._spherical)}getFocalOffset(e,n=!0){return(e&&e.isVector3?e:new Ln.Vector3).copy(n?this._focalOffsetEnd:this._focalOffset)}normalizeRotations(){return this._sphericalEnd.theta=(this._sphericalEnd.theta%Kh+Kh)%Kh,this._sphericalEnd.theta>Math.PI&&(this._sphericalEnd.theta-=Kh),this._spherical.theta+=Kh*Math.round((this._sphericalEnd.theta-this._spherical.theta)/Kh),this}stop(){this._focalOffset.copy(this._focalOffsetEnd),this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd),this._zoom=this._zoomEnd}reset(e=!1){if(!$i(this._camera.up.x,this._cameraUp0.x)||!$i(this._camera.up.y,this._cameraUp0.y)||!$i(this._camera.up.z,this._cameraUp0.z)){this._camera.up.copy(this._cameraUp0);const i=this.getPosition(Zn);this.updateCameraUp(),this.setPosition(i.x,i.y,i.z)}const n=[this.setLookAt(this._position0.x,this._position0.y,this._position0.z,this._target0.x,this._target0.y,this._target0.z,e),this.setFocalOffset(this._focalOffset0.x,this._focalOffset0.y,this._focalOffset0.z,e),this.zoomTo(this._zoom0,e)];return Promise.all(n)}saveState(){this._cameraUp0.copy(this._camera.up),this.getTarget(this._target0),this.getPosition(this._position0),this._zoom0=this._zoom,this._focalOffset0.copy(this._focalOffset)}updateCameraUp(){this._yAxisUpSpace.setFromUnitVectors(this._camera.up,jw),this._yAxisUpSpaceInverse.copy(this._yAxisUpSpace).invert()}applyCameraUp(){const e=Zn.subVectors(this._target,this._camera.position).normalize(),n=Ui.crossVectors(e,this._camera.up);this._camera.up.crossVectors(n,e).normalize(),this._camera.updateMatrixWorld();const i=this.getPosition(Zn);this.updateCameraUp(),this.setPosition(i.x,i.y,i.z)}update(e){const n=this._sphericalEnd.theta-this._spherical.theta,i=this._sphericalEnd.phi-this._spherical.phi,r=this._sphericalEnd.radius-this._spherical.radius,a=WB.subVectors(this._targetEnd,this._target),s=qB.subVectors(this._focalOffsetEnd,this._focalOffset),o=this._zoomEnd-this._zoom;if(Er(n))this._thetaVelocity.value=0,this._spherical.theta=this._sphericalEnd.theta;else{const f=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.theta=Fw(this._spherical.theta,this._sphericalEnd.theta,this._thetaVelocity,f,1/0,e),this._needsUpdate=!0}if(Er(i))this._phiVelocity.value=0,this._spherical.phi=this._sphericalEnd.phi;else{const f=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.phi=Fw(this._spherical.phi,this._sphericalEnd.phi,this._phiVelocity,f,1/0,e),this._needsUpdate=!0}if(Er(r))this._radiusVelocity.value=0,this._spherical.radius=this._sphericalEnd.radius;else{const f=this._isUserControllingDolly?this.draggingSmoothTime:this.smoothTime;this._spherical.radius=Fw(this._spherical.radius,this._sphericalEnd.radius,this._radiusVelocity,f,this.maxSpeed,e),this._needsUpdate=!0}if(Er(a.x)&&Er(a.y)&&Er(a.z))this._targetVelocity.set(0,0,0),this._target.copy(this._targetEnd);else{const f=this._isUserControllingTruck?this.draggingSmoothTime:this.smoothTime;VB(this._target,this._targetEnd,this._targetVelocity,f,this.maxSpeed,e,this._target),this._needsUpdate=!0}if(Er(s.x)&&Er(s.y)&&Er(s.z))this._focalOffsetVelocity.set(0,0,0),this._focalOffset.copy(this._focalOffsetEnd);else{const f=this._isUserControllingOffset?this.draggingSmoothTime:this.smoothTime;VB(this._focalOffset,this._focalOffsetEnd,this._focalOffsetVelocity,f,this.maxSpeed,e,this._focalOffset),this._needsUpdate=!0}if(Er(o))this._zoomVelocity.value=0,this._zoom=this._zoomEnd;else{const f=this._isUserControllingZoom?this.draggingSmoothTime:this.smoothTime;this._zoom=Fw(this._zoom,this._zoomEnd,this._zoomVelocity,f,1/0,e)}if(this.dollyToCursor){if(Op(this._camera)&&this._changedDolly!==0){const f=this._spherical.radius-this._lastDistance,h=this._camera,d=this._getCameraDirection(Wv),b=Zn.copy(d).cross(h.up).normalize();b.lengthSq()===0&&(b.x=1);const y=Ui.crossVectors(b,d),v=this._sphericalEnd.radius*Math.tan(h.getEffectiveFOV()*Hv*.5),x=(this._sphericalEnd.radius-f-this._sphericalEnd.radius)/this._sphericalEnd.radius,_=gb.copy(this._targetEnd).add(b.multiplyScalar(this._dollyControlCoord.x*v*h.aspect)).add(y.multiplyScalar(this._dollyControlCoord.y*v)),E=Zn.copy(this._targetEnd).lerp(_,x),A=this._lastDollyDirection===mb.IN&&this._spherical.radius<=this.minDistance,w=this._lastDollyDirection===mb.OUT&&this.maxDistance<=this._spherical.radius;if(this.infinityDolly&&(A||w)){this._sphericalEnd.radius-=f,this._spherical.radius-=f;const k=Ui.copy(d).multiplyScalar(-f);E.add(k)}this._boundary.clampPoint(E,E);const T=Ui.subVectors(E,this._targetEnd);this._targetEnd.copy(E),this._target.add(T),this._changedDolly-=f,Er(this._changedDolly)&&(this._changedDolly=0)}else if(Qh(this._camera)&&this._changedZoom!==0){const f=this._zoom-this._lastZoom,h=this._camera,d=Zn.set(this._dollyControlCoord.x,this._dollyControlCoord.y,(h.near+h.far)/(h.near-h.far)).unproject(h),b=Ui.set(0,0,-1).applyQuaternion(h.quaternion),y=gb.copy(d).add(b.multiplyScalar(-d.dot(h.up))),m=-(this._zoom-f-this._zoom)/this._zoom,x=this._getCameraDirection(Wv),_=this._targetEnd.dot(x),E=Zn.copy(this._targetEnd).lerp(y,m),A=E.dot(x),w=x.multiplyScalar(A-_);E.sub(w),this._boundary.clampPoint(E,E);const T=Ui.subVectors(E,this._targetEnd);this._targetEnd.copy(E),this._target.add(T),this._changedZoom-=f,Er(this._changedZoom)&&(this._changedZoom=0)}}this._camera.zoom!==this._zoom&&(this._camera.zoom=this._zoom,this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0),this._dragNeedsUpdate=!0;const l=this._collisionTest();this._spherical.radius=Math.min(this._spherical.radius,l),this._spherical.makeSafe(),this._camera.position.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(this._target),this._camera.lookAt(this._target),(!Er(this._focalOffset.x)||!Er(this._focalOffset.y)||!Er(this._focalOffset.z))&&(Au.setFromMatrixColumn(this._camera.matrix,0),Tu.setFromMatrixColumn(this._camera.matrix,1),Lp.setFromMatrixColumn(this._camera.matrix,2),Au.multiplyScalar(this._focalOffset.x),Tu.multiplyScalar(-this._focalOffset.y),Lp.multiplyScalar(this._focalOffset.z),Zn.copy(Au).add(Tu).add(Lp),this._camera.position.add(Zn),this._camera.updateMatrixWorld()),this._boundaryEnclosesCamera&&this._encloseToBoundary(this._camera.position.copy(this._target),Zn.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse),1);const u=this._needsUpdate;return u&&!this._updatedLastTime?(this._hasRested=!1,this.dispatchEvent({type:"wake"}),this.dispatchEvent({type:"update"})):u?(this.dispatchEvent({type:"update"}),Er(n,this.restThreshold)&&Er(i,this.restThreshold)&&Er(r,this.restThreshold)&&Er(a.x,this.restThreshold)&&Er(a.y,this.restThreshold)&&Er(a.z,this.restThreshold)&&Er(s.x,this.restThreshold)&&Er(s.y,this.restThreshold)&&Er(s.z,this.restThreshold)&&Er(o,this.restThreshold)&&!this._hasRested&&(this._hasRested=!0,this.dispatchEvent({type:"rest"}))):!u&&this._updatedLastTime&&this.dispatchEvent({type:"sleep"}),this._lastDistance=this._spherical.radius,this._lastZoom=this._zoom,this._updatedLastTime=u,this._needsUpdate=!1,u}toJSON(){return JSON.stringify({enabled:this._enabled,minDistance:this.minDistance,maxDistance:Vv(this.maxDistance),minZoom:this.minZoom,maxZoom:Vv(this.maxZoom),minPolarAngle:this.minPolarAngle,maxPolarAngle:Vv(this.maxPolarAngle),minAzimuthAngle:Vv(this.minAzimuthAngle),maxAzimuthAngle:Vv(this.maxAzimuthAngle),smoothTime:this.smoothTime,draggingSmoothTime:this.draggingSmoothTime,dollySpeed:this.dollySpeed,truckSpeed:this.truckSpeed,dollyToCursor:this.dollyToCursor,target:this._targetEnd.toArray(),position:Zn.setFromSpherical(this._sphericalEnd).add(this._targetEnd).toArray(),zoom:this._zoomEnd,focalOffset:this._focalOffsetEnd.toArray(),target0:this._target0.toArray(),position0:this._position0.toArray(),zoom0:this._zoom0,focalOffset0:this._focalOffset0.toArray()})}fromJSON(e,n=!1){const i=JSON.parse(e);this.enabled=i.enabled,this.minDistance=i.minDistance,this.maxDistance=Gv(i.maxDistance),this.minZoom=i.minZoom,this.maxZoom=Gv(i.maxZoom),this.minPolarAngle=i.minPolarAngle,this.maxPolarAngle=Gv(i.maxPolarAngle),this.minAzimuthAngle=Gv(i.minAzimuthAngle),this.maxAzimuthAngle=Gv(i.maxAzimuthAngle),this.smoothTime=i.smoothTime,this.draggingSmoothTime=i.draggingSmoothTime,this.dollySpeed=i.dollySpeed,this.truckSpeed=i.truckSpeed,this.dollyToCursor=i.dollyToCursor,this._target0.fromArray(i.target0),this._position0.fromArray(i.position0),this._zoom0=i.zoom0,this._focalOffset0.fromArray(i.focalOffset0),this.moveTo(i.target[0],i.target[1],i.target[2],n),tl.setFromVector3(Zn.fromArray(i.position).sub(this._targetEnd).applyQuaternion(this._yAxisUpSpace)),this.rotateTo(tl.theta,tl.phi,n),this.dollyTo(tl.radius,n),this.zoomTo(i.zoom,n),this.setFocalOffset(i.focalOffset[0],i.focalOffset[1],i.focalOffset[2],n),this._needsUpdate=!0}connect(e){if(this._domElement){console.warn("camera-controls is already connected.");return}e.setAttribute("data-camera-controls-version",Fwe),this._addAllEventListeners(e),this._getClientRect(this._elementRect)}disconnect(){this.cancel(),this._removeAllEventListeners(),this._domElement&&(this._domElement.removeAttribute("data-camera-controls-version"),this._domElement=void 0)}dispose(){this.removeAllEventListeners(),this.disconnect()}_getTargetDirection(e){return e.setFromSpherical(this._spherical).divideScalar(this._spherical.radius).applyQuaternion(this._yAxisUpSpaceInverse)}_getCameraDirection(e){return this._getTargetDirection(e).negate()}_findPointerById(e){return this._activePointers.find(n=>n.pointerId===e)}_findPointerByMouseButton(e){return this._activePointers.find(n=>n.mouseButton===e)}_disposePointer(e){this._activePointers.splice(this._activePointers.indexOf(e),1)}_encloseToBoundary(e,n,i){const r=n.lengthSq();if(r===0)return e;const a=Ui.copy(n).add(e),o=this._boundary.clampPoint(a,gb).sub(a),l=o.lengthSq();if(l===0)return e.add(n);if(l===r)return e;if(i===0)return e.add(n).add(o);{const c=1+i*l/n.dot(o);return e.add(Ui.copy(n).multiplyScalar(c)).add(o.multiplyScalar(1-i))}}_updateNearPlaneCorners(){if(Op(this._camera)){const e=this._camera,n=e.near,i=e.getEffectiveFOV()*Hv,r=Math.tan(i*.5)*n,a=r*e.aspect;this._nearPlaneCorners[0].set(-a,-r,0),this._nearPlaneCorners[1].set(a,-r,0),this._nearPlaneCorners[2].set(a,r,0),this._nearPlaneCorners[3].set(-a,r,0)}else if(Qh(this._camera)){const e=this._camera,n=1/e.zoom,i=e.left*n,r=e.right*n,a=e.top*n,s=e.bottom*n;this._nearPlaneCorners[0].set(i,a,0),this._nearPlaneCorners[1].set(r,a,0),this._nearPlaneCorners[2].set(r,s,0),this._nearPlaneCorners[3].set(i,s,0)}}_collisionTest(){let e=1/0;if(!(this.colliderMeshes.length>=1)||Nk(this._camera,"_collisionTest"))return e;const i=this._getTargetDirection(Wv);Uk.lookAt(GB,i,this._camera.up);for(let r=0;r<4;r++){const a=Ui.copy(this._nearPlaneCorners[r]);a.applyMatrix4(Uk);const s=gb.addVectors(this._target,a);Bw.set(s,i),Bw.far=this._spherical.radius+1;const o=Bw.intersectObjects(this.colliderMeshes);o.length!==0&&o[0].distance<e&&(e=o[0].distance)}return e}_getClientRect(e){if(!this._domElement)return;const n=this._domElement.getBoundingClientRect();return e.x=n.left,e.y=n.top,this._viewport?(e.x+=this._viewport.x,e.y+=n.height-this._viewport.w-this._viewport.y,e.width=this._viewport.z,e.height=this._viewport.w):(e.width=n.width,e.height=n.height),e}_createOnRestPromise(e){return e?Promise.resolve():(this._hasRested=!1,this.dispatchEvent({type:"transitionstart"}),new Promise(n=>{const i=()=>{this.removeEventListener("rest",i),n()};this.addEventListener("rest",i)}))}_addAllEventListeners(e){}_removeAllEventListeners(){}get dampingFactor(){return console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead."),0}set dampingFactor(e){console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead.")}get draggingDampingFactor(){return console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead."),0}set draggingDampingFactor(e){console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead.")}static createBoundingSphere(e,n=new Ln.Sphere){const i=n,r=i.center;yb.makeEmpty(),e.traverseVisible(s=>{s.isMesh&&yb.expandByObject(s)}),yb.getCenter(r);let a=0;return e.traverseVisible(s=>{if(!s.isMesh)return;const o=s;if(!o.geometry)return;const l=o.geometry.clone();l.applyMatrix4(o.matrixWorld);const u=l.attributes.position;for(let f=0,h=u.count;f<h;f++)Zn.fromBufferAttribute(u,f),a=Math.max(a,r.distanceToSquared(Zn))}),i.radius=Math.sqrt(a),i}};const YB=I.forwardRef((t,e)=>{const{impl:n,camera:i,domElement:r,makeDefault:a,onControlStart:s,onControl:o,onControlEnd:l,onTransitionStart:c,onUpdate:u,onWake:f,onRest:h,onSleep:d,onStart:b,onEnd:y,onChange:v,regress:m,...x}=t,_=n??jwe;I.useMemo(()=>{const V={Box3:vr,MathUtils:{clamp:ac.clamp},Matrix4:kt,Quaternion:Hn,Raycaster:T_,Sphere:Or,Spherical:MJ,Vector2:yt,Vector3:Q,Vector4:ni};_.install({THREE:V}),R_({CameraControlsImpl:_})},[_]);const E=mi(V=>V.camera),A=mi(V=>V.gl),w=mi(V=>V.invalidate),T=mi(V=>V.events),k=mi(V=>V.setEvents),N=mi(V=>V.set),D=mi(V=>V.get),P=mi(V=>V.performance),B=i||E,G=r||T.connected||A.domElement,H=I.useMemo(()=>new _(B),[_,B]);return ca((V,U)=>{H.update(U)},-1),I.useEffect(()=>(H.connect(G),()=>void H.disconnect()),[G,H]),I.useEffect(()=>{function V(){w(),m&&P.regress()}const U=Me=>{V(),s?.(Me),b?.(Me)},F=Me=>{V(),o?.(Me),v?.(Me)},q=Me=>{l?.(Me),y?.(Me)},X=Me=>{V(),c?.(Me),v?.(Me)},z=Me=>{V(),u?.(Me),v?.(Me)},oe=Me=>{V(),f?.(Me),v?.(Me)},fe=Me=>{h?.(Me)},K=Me=>{d?.(Me)};return H.addEventListener("controlstart",U),H.addEventListener("control",F),H.addEventListener("controlend",q),H.addEventListener("transitionstart",X),H.addEventListener("update",z),H.addEventListener("wake",oe),H.addEventListener("rest",fe),H.addEventListener("sleep",K),()=>{H.removeEventListener("controlstart",U),H.removeEventListener("control",F),H.removeEventListener("controlend",q),H.removeEventListener("transitionstart",X),H.removeEventListener("update",z),H.removeEventListener("wake",oe),H.removeEventListener("rest",fe),H.removeEventListener("sleep",K)}},[H,w,k,m,P,s,o,l,c,u,f,h,d,v,b,y]),I.useEffect(()=>{if(a){const V=D().controls;return N({controls:H}),()=>N({controls:V})}},[a,H]),I.createElement("primitive",vs({ref:e,object:H},x))}),Bwe=XC({cellSize:.5,sectionSize:1,fadeDistance:100,fadeStrength:1,fadeFrom:1,cellThickness:.5,sectionThickness:1,cellColor:new Ut,sectionColor:new Ut,infiniteGrid:!1,followCamera:!1,worldCamProjPosition:new Q,worldPlanePosition:new Q},`
    varying vec3 localPosition;
    varying vec4 worldPosition;

    uniform vec3 worldCamProjPosition;
    uniform vec3 worldPlanePosition;
    uniform float fadeDistance;
    uniform bool infiniteGrid;
    uniform bool followCamera;

    void main() {
      localPosition = position.xzy;
      if (infiniteGrid) localPosition *= 1.0 + fadeDistance;
      
      worldPosition = modelMatrix * vec4(localPosition, 1.0);
      if (followCamera) {
        worldPosition.xyz += (worldCamProjPosition - worldPlanePosition);
        localPosition = (inverse(modelMatrix) * worldPosition).xyz;
      }

      gl_Position = projectionMatrix * viewMatrix * worldPosition;
    }
  `,`
    varying vec3 localPosition;
    varying vec4 worldPosition;

    uniform vec3 worldCamProjPosition;
    uniform float cellSize;
    uniform float sectionSize;
    uniform vec3 cellColor;
    uniform vec3 sectionColor;
    uniform float fadeDistance;
    uniform float fadeStrength;
    uniform float fadeFrom;
    uniform float cellThickness;
    uniform float sectionThickness;

    float getGrid(float size, float thickness) {
      vec2 r = localPosition.xz / size;
      vec2 grid = abs(fract(r - 0.5) - 0.5) / fwidth(r);
      float line = min(grid.x, grid.y) + 1.0 - thickness;
      return 1.0 - min(line, 1.0);
    }

    void main() {
      float g1 = getGrid(cellSize, cellThickness);
      float g2 = getGrid(sectionSize, sectionThickness);

      vec3 from = worldCamProjPosition*vec3(fadeFrom);
      float dist = distance(from, worldPosition.xyz);
      float d = 1.0 - min(dist / fadeDistance, 1.0);
      vec3 color = mix(cellColor, sectionColor, min(1.0, sectionThickness * g2));

      gl_FragColor = vec4(color, (g1 + g2) * pow(d, fadeStrength));
      gl_FragColor.a = mix(0.75 * gl_FragColor.a, gl_FragColor.a, g2);
      if (gl_FragColor.a <= 0.0) discard;

      #include <tonemapping_fragment>
      #include <${A$>=154?"colorspace_fragment":"encodings_fragment"}>
    }
  `),C$=I.forwardRef(({args:t,cellColor:e="#000000",sectionColor:n="#2080ff",cellSize:i=.5,sectionSize:r=1,followCamera:a=!1,infiniteGrid:s=!1,fadeDistance:o=100,fadeStrength:l=1,fadeFrom:c=1,cellThickness:u=.5,sectionThickness:f=1,side:h=Aa,...d},b)=>{R_({GridMaterial:Bwe});const y=I.useRef(null);I.useImperativeHandle(b,()=>y.current,[]);const v=new Hc,m=new Q(0,1,0),x=new Q(0,0,0);ca(A=>{v.setFromNormalAndCoplanarPoint(m,x).applyMatrix4(y.current.matrixWorld);const w=y.current.material,T=w.uniforms.worldCamProjPosition,k=w.uniforms.worldPlanePosition;v.projectPoint(A.camera.position,T.value),k.value.set(0,0,0).applyMatrix4(y.current.matrixWorld)});const _={cellSize:i,sectionSize:r,cellColor:e,sectionColor:n,cellThickness:u,sectionThickness:f},E={fadeDistance:o,fadeStrength:l,fadeFrom:c,infiniteGrid:s,followCamera:a};return I.createElement("mesh",vs({ref:y,frustumCulled:!1},d),I.createElement("gridMaterial",vs({transparent:!0,"extensions-derivatives":!0,side:h},_,E)),I.createElement("planeGeometry",{args:t}))}),Hwe="modulepreload",Vwe=function(t,e){return new URL(t,e).href},JB={},Gwe=function(e,n,i){let r=Promise.resolve();if(n&&n.length>0){const s=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");r=Promise.allSettled(n.map(c=>{if(c=Vwe(c,i),c in JB)return;JB[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(!!i)for(let b=s.length-1;b>=0;b--){const y=s[b];if(y.href===c&&(!u||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${f}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":Hwe,u||(d.as="script"),d.crossOrigin="",d.href=c,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((b,y)=>{d.addEventListener("load",b),d.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return r.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})};var R$={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(Nm,function(){var n=function(){function i(d){return s.appendChild(d.dom),d}function r(d){for(var b=0;b<s.children.length;b++)s.children[b].style.display=b===d?"block":"none";a=d}var a=0,s=document.createElement("div");s.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",s.addEventListener("click",function(d){d.preventDefault(),r(++a%s.children.length)},!1);var o=(performance||Date).now(),l=o,c=0,u=i(new n.Panel("FPS","#0ff","#002")),f=i(new n.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var h=i(new n.Panel("MB","#f08","#201"));return r(0),{REVISION:16,dom:s,addPanel:i,showPanel:r,begin:function(){o=(performance||Date).now()},end:function(){c++;var d=(performance||Date).now();if(f.update(d-o,200),d>l+1e3&&(u.update(1e3*c/(d-l),100),l=d,c=0,h)){var b=performance.memory;h.update(b.usedJSHeapSize/1048576,b.jsHeapSizeLimit/1048576)}return d},update:function(){o=this.end()},domElement:s,setMode:r}};return n.Panel=function(i,r,a){var s=1/0,o=0,l=Math.round,c=l(window.devicePixelRatio||1),u=80*c,f=48*c,h=3*c,d=2*c,b=3*c,y=15*c,v=74*c,m=30*c,x=document.createElement("canvas");x.width=u,x.height=f,x.style.cssText="width:80px;height:48px";var _=x.getContext("2d");return _.font="bold "+9*c+"px Helvetica,Arial,sans-serif",_.textBaseline="top",_.fillStyle=a,_.fillRect(0,0,u,f),_.fillStyle=r,_.fillText(i,h,d),_.fillRect(b,y,v,m),_.fillStyle=a,_.globalAlpha=.9,_.fillRect(b,y,v,m),{dom:x,update:function(E,A){s=Math.min(s,E),o=Math.max(o,E),_.fillStyle=a,_.globalAlpha=1,_.fillRect(0,0,u,y),_.fillStyle=r,_.fillText(l(E)+" "+i+" ("+l(s)+"-"+l(o)+")",h,d),_.drawImage(x,b+c,y,v-c,m,b,y,v-c,m),_.fillRect(b+v-c,y,c,m),_.fillStyle=a,_.globalAlpha=.9,_.fillRect(b+v-c,y,c,l((1-E/A)*m))}}},n})})(R$);var Wwe=R$.exports;const qwe=mc(Wwe);function Xwe(t,e=[],n){const[i,r]=I.useState();return I.useLayoutEffect(()=>{const a=t();return r(a),()=>void 0},e),i}function Kwe({showPanel:t=0,className:e,parent:n}){const i=Xwe(()=>new qwe,[]);return I.useEffect(()=>{if(i){const r=n&&n.current||document.body;i.showPanel(t),r?.appendChild(i.dom);const a=(e??"").split(" ").filter(l=>l);a.length&&i.dom.classList.add(...a);const s=aSe(()=>i.begin()),o=sSe(()=>i.end());return()=>{a.length&&i.dom.classList.remove(...a),r?.removeChild(i.dom),s(),o()}}},[n,i,e,t]),null}const $B=(t,e)=>{t.updateRanges[0]=e};function Ywe(t){return typeof t=="function"}const ZB=new kt,QB=new kt,Hw=[],qv=new Di;class Jwe extends Uu{constructor(){super(),this.color=new Ut("white"),this.instance={current:void 0},this.instanceKey={current:void 0}}get geometry(){var e;return(e=this.instance.current)==null?void 0:e.geometry}raycast(e,n){const i=this.instance.current;if(!i||!i.geometry||!i.material)return;qv.geometry=i.geometry;const r=i.matrixWorld,a=i.userData.instances.indexOf(this.instanceKey);if(!(a===-1||a>i.count)){i.getMatrixAt(a,ZB),QB.multiplyMatrices(r,ZB),qv.matrixWorld=QB,i.material instanceof Ta?qv.material.side=i.material.side:qv.material.side=i.material[0].side,qv.raycast(e,Hw);for(let s=0,o=Hw.length;s<o;s++){const l=Hw[s];l.instanceId=a,l.object=this,n.push(l)}Hw.length=0}}}const k$=I.createContext(null),e5=new kt,t5=new kt,$we=new kt,n5=new Q,i5=new Hn,r5=new Q,Zwe=t=>t.isInstancedBufferAttribute,Du=I.forwardRef(({context:t,children:e,...n},i)=>{I.useMemo(()=>R_({PositionMesh:Jwe}),[]);const r=I.useRef(null);I.useImperativeHandle(i,()=>r.current,[]);const{subscribe:a,getParent:s}=I.useContext(t||k$);return I.useLayoutEffect(()=>a(r),[]),I.createElement("positionMesh",vs({instance:s(),instanceKey:r,ref:r},n),e)}),D$=I.forwardRef(({context:t,children:e,range:n,limit:i=1e3,frames:r=1/0,...a},s)=>{const[{localContext:o,instance:l}]=I.useState(()=>{const x=I.createContext(null);return{localContext:x,instance:I.forwardRef((_,E)=>I.createElement(Du,vs({context:x},_,{ref:E})))}}),c=I.useRef(null);I.useImperativeHandle(s,()=>c.current,[]);const[u,f]=I.useState([]),[[h,d]]=I.useState(()=>{const x=new Float32Array(i*16);for(let _=0;_<i;_++)$we.identity().toArray(x,_*16);return[x,new Float32Array([...new Array(i*3)].map(()=>1))]});I.useEffect(()=>{c.current.instanceMatrix.needsUpdate=!0});let b=0,y=0;const v=I.useRef([]);I.useLayoutEffect(()=>{v.current=Object.entries(c.current.geometry.attributes).filter(([x,_])=>Zwe(_))}),ca(()=>{if(r===1/0||b<r){c.current.updateMatrix(),c.current.updateMatrixWorld(),e5.copy(c.current.matrixWorld).invert(),y=Math.min(i,n!==void 0?n:i,u.length),c.current.count=y,$B(c.current.instanceMatrix,{start:0,count:y*16}),$B(c.current.instanceColor,{start:0,count:y*3});for(let x=0;x<u.length;x++){const _=u[x].current;_.matrixWorld.decompose(n5,i5,r5),t5.compose(n5,i5,r5).premultiply(e5),t5.toArray(h,x*16),c.current.instanceMatrix.needsUpdate=!0,_.color.toArray(d,x*3),c.current.instanceColor.needsUpdate=!0}b++}});const m=I.useMemo(()=>({getParent:()=>c,subscribe:x=>(f(_=>[..._,x]),()=>f(_=>_.filter(E=>E.current!==x.current)))}),[]);return I.createElement("instancedMesh",vs({userData:{instances:u,limit:i,frames:r},matrixAutoUpdate:!1,ref:c,args:[null,null,0],raycast:()=>null},a),I.createElement("instancedBufferAttribute",{attach:"instanceMatrix",args:[h,16],usage:EA}),I.createElement("instancedBufferAttribute",{attach:"instanceColor",args:[d,3],usage:EA}),Ywe(e)?I.createElement(o.Provider,{value:m},e(l)):t?I.createElement(t.Provider,{value:m},e):I.createElement(k$.Provider,{value:m},e))}),N$=(t,e,n)=>{let i;switch(t){case ho:i=new Uint8ClampedArray(e*n*4);break;case Ka:i=new Uint16Array(e*n*4);break;case dc:i=new Uint32Array(e*n*4);break;case cC:i=new Int8Array(e*n*4);break;case uC:i=new Int16Array(e*n*4);break;case Oy:i=new Int32Array(e*n*4);break;case yr:i=new Float32Array(e*n*4);break;default:throw new Error("Unsupported data type")}return i};let Vw;const Qwe=(t,e,n,i)=>{if(Vw!==void 0)return Vw;const r=new pc(1,1,i);e.setRenderTarget(r);const a=new Di(new Xd,new uo({color:16777215}));e.render(a,n),e.setRenderTarget(null);const s=N$(t,r.width,r.height);return e.readRenderTargetPixels(r,0,0,r.width,r.height,s),r.dispose(),a.geometry.dispose(),a.material.dispose(),Vw=s[0]!==0,Vw};class jP{constructor(e){var n,i,r,a,s,o,l,c,u,f,h,d,b,y,v,m;this._rendererIsDisposable=!1,this._supportsReadPixels=!0,this.render=()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(_){throw this._renderer.setRenderTarget(null),_}this._renderer.setRenderTarget(null)},this._width=e.width,this._height=e.height,this._type=e.type,this._colorSpace=e.colorSpace;const x={format:Yr,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:((n=e.renderTargetOptions)===null||n===void 0?void 0:n.anisotropy)!==void 0?(i=e.renderTargetOptions)===null||i===void 0?void 0:i.anisotropy:1,generateMipmaps:((r=e.renderTargetOptions)===null||r===void 0?void 0:r.generateMipmaps)!==void 0?(a=e.renderTargetOptions)===null||a===void 0?void 0:a.generateMipmaps:!1,magFilter:((s=e.renderTargetOptions)===null||s===void 0?void 0:s.magFilter)!==void 0?(o=e.renderTargetOptions)===null||o===void 0?void 0:o.magFilter:Gi,minFilter:((l=e.renderTargetOptions)===null||l===void 0?void 0:l.minFilter)!==void 0?(c=e.renderTargetOptions)===null||c===void 0?void 0:c.minFilter:Gi,samples:((u=e.renderTargetOptions)===null||u===void 0?void 0:u.samples)!==void 0?(f=e.renderTargetOptions)===null||f===void 0?void 0:f.samples:void 0,wrapS:((h=e.renderTargetOptions)===null||h===void 0?void 0:h.wrapS)!==void 0?(d=e.renderTargetOptions)===null||d===void 0?void 0:d.wrapS:pa,wrapT:((b=e.renderTargetOptions)===null||b===void 0?void 0:b.wrapT)!==void 0?(y=e.renderTargetOptions)===null||y===void 0?void 0:y.wrapT:pa};if(this._material=e.material,e.renderer?this._renderer=e.renderer:(this._renderer=jP.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new Uy,this._camera=new vh,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!Qwe(this._type,this._renderer,this._camera,x)){let _;switch(this._type){case Ka:_=this._renderer.extensions.has("EXT_color_buffer_float")?yr:void 0;break}_!==void 0?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${yr}`),this._type=_):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new Di(new Xd,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new pc(this.width,this.height,x),this._renderTarget.texture.mapping=((v=e.renderTargetOptions)===null||v===void 0?void 0:v.mapping)!==void 0?(m=e.renderTargetOptions)===null||m===void 0?void 0:m.mapping:Pd}static instantiateRenderer(){const e=new kP;return e.setSize(128,128),e}toArray(){if(!this._supportsReadPixels)throw new Error("Can't read pixels in this browser");const e=N$(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,e),e}toDataTexture(e){const n=new bs(this.toArray(),this.width,this.height,Yr,this._type,e?.mapping||Pd,e?.wrapS||pa,e?.wrapT||pa,e?.magFilter||Gi,e?.minFilter||Gi,e?.anisotropy||1,lu);return n.generateMipmaps=e?.generateMipmaps!==void 0?e?.generateMipmaps:!1,n}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(e){this.disposeOnDemandRenderer(),e&&this.renderTarget.dispose(),this.material instanceof Za&&Object.values(this.material.uniforms).forEach(n=>{n.value instanceof er&&n.value.dispose()}),Object.values(this.material).forEach(n=>{n instanceof er&&n.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(e){this._width=e,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(e){this._height=e,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(e){this._renderTarget=e,this._width=e.width,this._height=e.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}const eEe=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,tEe=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class nEe extends Za{constructor({gamma:e,offsetHdr:n,offsetSdr:i,gainMapMin:r,gainMapMax:a,maxDisplayBoost:s,hdrCapacityMin:o,hdrCapacityMax:l,sdr:c,gainMap:u}){super({name:"GainMapDecoderMaterial",vertexShader:eEe,fragmentShader:tEe,uniforms:{sdr:{value:c},gainMap:{value:u},gamma:{value:new Q(1/e[0],1/e[1],1/e[2])},offsetHdr:{value:new Q().fromArray(n)},offsetSdr:{value:new Q().fromArray(i)},gainMapMin:{value:new Q().fromArray(r)},gainMapMax:{value:new Q().fromArray(a)},weightFactor:{value:(Math.log2(s)-o)/(l-o)}},blending:qu,depthTest:!1,depthWrite:!1}),this._maxDisplayBoost=s,this._hdrCapacityMin=o,this._hdrCapacityMax=l,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(e){this.uniforms.sdr.value=e}get gainMap(){return this.uniforms.gainMap.value}set gainMap(e){this.uniforms.gainMap.value=e}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(e){this.uniforms.offsetHdr.value.fromArray(e)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(e){this.uniforms.offsetSdr.value.fromArray(e)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(e){this.uniforms.gainMapMin.value.fromArray(e)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(e){this.uniforms.gainMapMax.value.fromArray(e)}get gamma(){const e=this.uniforms.gamma.value;return[1/e.x,1/e.y,1/e.z]}set gamma(e){const n=this.uniforms.gamma.value;n.x=1/e[0],n.y=1/e[1],n.z=1/e[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(e){this._hdrCapacityMin=e,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(e){this._hdrCapacityMax=e,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(e){this._maxDisplayBoost=Math.max(1,Math.min(65504,e)),this.calculateWeight()}calculateWeight(){const e=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,e))}}class I$ extends Error{}class O$ extends Error{}const Xv=(t,e,n)=>{const i=new RegExp(`${e}="([^"]*)"`,"i").exec(t);if(i)return i[1];const r=new RegExp(`<${e}[^>]*>([\\s\\S]*?)</${e}>`,"i").exec(t);if(r){const a=r[1].match(/<rdf:li>([^<]*)<\/rdf:li>/g);return a&&a.length===3?a.map(s=>s.replace(/<\/?rdf:li>/g,"")):r[1].trim()}if(n!==void 0)return n;throw new Error(`Can't find ${e} in gainmap metadata`)},iEe=t=>{let e;typeof TextDecoder<"u"?e=new TextDecoder().decode(t):e=t.toString();let n=e.indexOf("<x:xmpmeta");for(;n!==-1;){const i=e.indexOf("x:xmpmeta>",n),r=e.slice(n,i+10);try{const a=Xv(r,"hdrgm:GainMapMin","0"),s=Xv(r,"hdrgm:GainMapMax"),o=Xv(r,"hdrgm:Gamma","1"),l=Xv(r,"hdrgm:OffsetSDR","0.015625"),c=Xv(r,"hdrgm:OffsetHDR","0.015625"),u=/hdrgm:HDRCapacityMin="([^"]*)"/.exec(r),f=u?u[1]:"0",h=/hdrgm:HDRCapacityMax="([^"]*)"/.exec(r);if(!h)throw new Error("Incomplete gainmap metadata");const d=h[1];return{gainMapMin:Array.isArray(a)?a.map(b=>parseFloat(b)):[parseFloat(a),parseFloat(a),parseFloat(a)],gainMapMax:Array.isArray(s)?s.map(b=>parseFloat(b)):[parseFloat(s),parseFloat(s),parseFloat(s)],gamma:Array.isArray(o)?o.map(b=>parseFloat(b)):[parseFloat(o),parseFloat(o),parseFloat(o)],offsetSdr:Array.isArray(l)?l.map(b=>parseFloat(b)):[parseFloat(l),parseFloat(l),parseFloat(l)],offsetHdr:Array.isArray(c)?c.map(b=>parseFloat(b)):[parseFloat(c),parseFloat(c),parseFloat(c)],hdrCapacityMin:parseFloat(f),hdrCapacityMax:parseFloat(d)}}catch{}n=e.indexOf("<x:xmpmeta",i)}};class rEe{constructor(e){this.options={debug:e&&e.debug!==void 0?e.debug:!1,extractFII:e&&e.extractFII!==void 0?e.extractFII:!0,extractNonFII:e&&e.extractNonFII!==void 0?e.extractNonFII:!0}}extract(e){return new Promise((n,i)=>{const r=this.options.debug,a=new DataView(e.buffer);if(a.getUint16(0)!==65496){i(new Error("Not a valid jpeg"));return}const s=a.byteLength;let o=2,l=0,c;for(;o<s;){if(++l>250){i(new Error(`Found no marker after ${l} loops `));return}if(a.getUint8(o)!==255){i(new Error(`Not a valid marker at offset 0x${o.toString(16)}, found: 0x${a.getUint8(o).toString(16)}`));return}if(c=a.getUint8(o+1),r&&console.log(`Marker: ${c.toString(16)}`),c===226){r&&console.log("Found APP2 marker (0xffe2)");const u=o+4;if(a.getUint32(u)===1297106432){const f=u+4;let h;if(a.getUint16(f)===18761)h=!1;else if(a.getUint16(f)===19789)h=!0;else{i(new Error("No valid endianness marker found in TIFF header"));return}if(a.getUint16(f+2,!h)!==42){i(new Error("Not valid TIFF data! (no 0x002A marker)"));return}const d=a.getUint32(f+4,!h);if(d<8){i(new Error("Not valid TIFF data! (First offset less than 8)"));return}const b=f+d,y=a.getUint16(b,!h),v=b+2;let m=0;for(let A=v;A<v+12*y;A+=12)a.getUint16(A,!h)===45057&&(m=a.getUint32(A+8,!h));const _=b+2+y*12+4,E=[];for(let A=_;A<_+m*16;A+=16){const w={MPType:a.getUint32(A,!h),size:a.getUint32(A+4,!h),dataOffset:a.getUint32(A+8,!h),dependantImages:a.getUint32(A+12,!h),start:-1,end:-1,isFII:!1};w.dataOffset?(w.start=f+w.dataOffset,w.isFII=!1):(w.start=0,w.isFII=!0),w.end=w.start+w.size,E.push(w)}if(this.options.extractNonFII&&E.length){const A=new Blob([a]),w=[];for(const T of E){if(T.isFII&&!this.options.extractFII)continue;const k=A.slice(T.start,T.end+1,"image/jpeg");w.push(k)}n(w)}}}o+=2+a.getUint16(o+2)}})}}const aEe=async t=>{const e=iEe(t);if(!e)throw new O$("Gain map XMP metadata not found");const i=await new rEe({extractFII:!0,extractNonFII:!0}).extract(t);if(i.length!==2)throw new I$("Gain map recovery image not found");return{sdr:new Uint8Array(await i[0].arrayBuffer()),gainMap:new Uint8Array(await i[1].arrayBuffer()),metadata:e}},a5=t=>new Promise((e,n)=>{const i=document.createElement("img");i.onload=()=>{e(i)},i.onerror=r=>{n(r)},i.src=URL.createObjectURL(t)});class L$ extends ws{constructor(e,n){super(n),e&&(this._renderer=e),this._internalLoadingManager=new UC}setRenderer(e){return this._renderer=e,this}setRenderTargetOptions(e){return this._renderTargetOptions=e,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: An existing WebGL Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");const e=new nEe({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new er,sdr:new er});return new jP({width:16,height:16,type:Ka,colorSpace:lu,material:e,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async render(e,n,i,r){const a=r?new Blob([r],{type:"image/jpeg"}):void 0,s=new Blob([i],{type:"image/jpeg"});let o,l,c=!1;if(typeof createImageBitmap>"u"){const h=await Promise.all([a?a5(a):Promise.resolve(void 0),a5(s)]);l=h[0],o=h[1],c=!0}else{const h=await Promise.all([a?createImageBitmap(a,{imageOrientation:"flipY"}):Promise.resolve(void 0),createImageBitmap(s,{imageOrientation:"flipY"})]);l=h[0],o=h[1]}const u=new er(l||new ImageData(2,2),Pd,pa,pa,Gi,hN,Yr,ho,1,lu);u.flipY=c,u.needsUpdate=!0;const f=new er(o,Pd,pa,pa,Gi,hN,Yr,ho,1,us);f.flipY=c,f.needsUpdate=!0,e.width=o.width,e.height=o.height,e.material.gainMap=u,e.material.sdr=f,e.material.gainMapMin=n.gainMapMin,e.material.gainMapMax=n.gainMapMax,e.material.offsetHdr=n.offsetHdr,e.material.offsetSdr=n.offsetSdr,e.material.gamma=n.gamma,e.material.hdrCapacityMin=n.hdrCapacityMin,e.material.hdrCapacityMax=n.hdrCapacityMax,e.material.maxDisplayBoost=Math.pow(2,n.hdrCapacityMax),e.material.needsUpdate=!0,e.render()}}class sEe extends L${load([e,n,i],r,a,s){const o=this.prepareQuadRenderer();let l,c,u;const f=async()=>{if(l&&c&&u){try{await this.render(o,u,l,c)}catch(N){this.manager.itemError(e),this.manager.itemError(n),this.manager.itemError(i),typeof s=="function"&&s(N),o.disposeOnDemandRenderer();return}typeof r=="function"&&r(o),this.manager.itemEnd(e),this.manager.itemEnd(n),this.manager.itemEnd(i),o.disposeOnDemandRenderer()}};let h=!0,d=0,b=0,y=!0,v=0,m=0,x=!0,_=0,E=0;const A=()=>{if(typeof a=="function"){const N=d+v+_,D=b+m+E,P=h&&y&&x;a(new ProgressEvent("progress",{lengthComputable:P,loaded:D,total:N}))}};this.manager.itemStart(e),this.manager.itemStart(n),this.manager.itemStart(i);const w=new ys(this._internalLoadingManager);w.setResponseType("arraybuffer"),w.setRequestHeader(this.requestHeader),w.setPath(this.path),w.setWithCredentials(this.withCredentials),w.load(e,async N=>{if(typeof N=="string")throw new Error("Invalid sdr buffer");l=N,await f()},N=>{h=N.lengthComputable,b=N.loaded,d=N.total,A()},N=>{this.manager.itemError(e),typeof s=="function"&&s(N)});const T=new ys(this._internalLoadingManager);T.setResponseType("arraybuffer"),T.setRequestHeader(this.requestHeader),T.setPath(this.path),T.setWithCredentials(this.withCredentials),T.load(n,async N=>{if(typeof N=="string")throw new Error("Invalid gainmap buffer");c=N,await f()},N=>{y=N.lengthComputable,m=N.loaded,v=N.total,A()},N=>{this.manager.itemError(n),typeof s=="function"&&s(N)});const k=new ys(this._internalLoadingManager);return k.setRequestHeader(this.requestHeader),k.setPath(this.path),k.setWithCredentials(this.withCredentials),k.load(i,async N=>{if(typeof N!="string")throw new Error("Invalid metadata string");u=JSON.parse(N),await f()},N=>{x=N.lengthComputable,E=N.loaded,_=N.total,A()},N=>{this.manager.itemError(i),typeof s=="function"&&s(N)}),o}}class oEe extends L${load(e,n,i,r){const a=this.prepareQuadRenderer(),s=new ys(this._internalLoadingManager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(this.withCredentials),this.manager.itemStart(e),s.load(e,async o=>{if(typeof o=="string")throw new Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");const l=new Uint8Array(o);let c,u,f;try{const h=await aEe(l);c=h.sdr,u=h.gainMap,f=h.metadata}catch(h){if(h instanceof O$||h instanceof I$)console.warn(`Failure to reconstruct an HDR image from ${e}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),f={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},c=l;else throw h}try{await this.render(a,f,c,u)}catch(h){this.manager.itemError(e),typeof r=="function"&&r(h),a.disposeOnDemandRenderer();return}typeof n=="function"&&n(a),this.manager.itemEnd(e),a.disposeOnDemandRenderer()},i,o=>{this.manager.itemError(e),typeof r=="function"&&r(o)}),a}}const P1={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},P$="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",b0=t=>Array.isArray(t),BP=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"];function KC({files:t=BP,path:e="",preset:n=void 0,colorSpace:i=void 0,extensions:r}={}){n&&(HP(n),t=P1[n],e=P$);const a=b0(t),{extension:s,isCubemap:o}=VP(t),l=GP(s);if(!l)throw new Error("useEnvironment: Unrecognized file extension: "+t);const c=mi(d=>d.gl);I.useLayoutEffect(()=>{if(s!=="webp"&&s!=="jpg"&&s!=="jpeg")return;function d(){ay.clear(l,a?[t]:t)}c.domElement.addEventListener("webglcontextlost",d,{once:!0})},[t,c.domElement]);const u=ay(l,a?[t]:t,d=>{(s==="webp"||s==="jpg"||s==="jpeg")&&d.setRenderer(c),d.setPath==null||d.setPath(e),r&&r(d)});let f=a?u[0]:u;if(s==="jpg"||s==="jpeg"||s==="webp"){var h;f=(h=f.renderTarget)==null?void 0:h.texture}return f.mapping=o?Qu:V0,f.colorSpace=i??(o?"srgb":"srgb-linear"),f}const lEe={files:BP,path:"",preset:void 0,extensions:void 0};KC.preload=t=>{const e={...lEe,...t};let{files:n,path:i=""}=e;const{preset:r,extensions:a}=e;r&&(HP(r),n=P1[r],i=P$);const{extension:s}=VP(n);if(s==="webp"||s==="jpg"||s==="jpeg")throw new Error("useEnvironment: Preloading gainmaps is not supported");const o=GP(s);if(!o)throw new Error("useEnvironment: Unrecognized file extension: "+n);ay.preload(o,b0(n)?[n]:n,l=>{l.setPath==null||l.setPath(i),a&&a(l)})};const cEe={files:BP,preset:void 0};KC.clear=t=>{const e={...cEe,...t};let{files:n}=e;const{preset:i}=e;i&&(HP(i),n=P1[i]);const{extension:r}=VP(n),a=GP(r);if(!a)throw new Error("useEnvironment: Unrecognized file extension: "+n);ay.clear(a,b0(n)?[n]:n)};function HP(t){if(!(t in P1))throw new Error("Preset must be one of: "+Object.keys(P1).join(", "))}function VP(t){var e;const n=b0(t)&&t.length===6,i=b0(t)&&t.length===3&&t.some(s=>s.endsWith("json")),r=b0(t)?t[0]:t;return{extension:n?"cube":i?"webp":r.startsWith("data:application/exr")?"exr":r.startsWith("data:application/hdr")?"hdr":r.startsWith("data:image/jpeg")?"jpg":(e=r.split(".").pop())==null||(e=e.split("?"))==null||(e=e.shift())==null?void 0:e.toLowerCase(),isCubemap:n,isGainmap:i}}function GP(t){return t==="cube"?fJ:t==="hdr"?wwe:t==="exr"?Ewe:t==="jpg"||t==="jpeg"?oEe:t==="webp"?sEe:null}const uEe=t=>t.current&&t.current.isScene,fEe=t=>uEe(t)?t.current:t;function WP(t,e,n,i,r={}){var a,s,o,l;r={backgroundBlurriness:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...r};const c=fEe(e||n),u=c.background,f=c.environment,h={backgroundBlurriness:c.backgroundBlurriness,backgroundIntensity:c.backgroundIntensity,backgroundRotation:(a=(s=c.backgroundRotation)==null||s.clone==null?void 0:s.clone())!==null&&a!==void 0?a:[0,0,0],environmentIntensity:c.environmentIntensity,environmentRotation:(o=(l=c.environmentRotation)==null||l.clone==null?void 0:l.clone())!==null&&o!==void 0?o:[0,0,0]};return t!=="only"&&(c.environment=i),t&&(c.background=i),Xc(c,r),()=>{t!=="only"&&(c.environment=f),t&&(c.background=u),Xc(c,h)}}function qP({scene:t,background:e=!1,map:n,...i}){const r=mi(a=>a.scene);return I.useLayoutEffect(()=>{if(n)return WP(e,t,r,n,i)}),null}function U$({background:t=!1,scene:e,blur:n,backgroundBlurriness:i,backgroundIntensity:r,backgroundRotation:a,environmentIntensity:s,environmentRotation:o,...l}){const c=KC(l),u=mi(f=>f.scene);return I.useLayoutEffect(()=>WP(t,e,u,c,{backgroundBlurriness:n??i,backgroundIntensity:r,backgroundRotation:a,environmentIntensity:s,environmentRotation:o})),I.useEffect(()=>()=>{c.dispose()},[c]),null}function hEe({children:t,near:e=.1,far:n=1e3,resolution:i=256,frames:r=1,map:a,background:s=!1,blur:o,backgroundBlurriness:l,backgroundIntensity:c,backgroundRotation:u,environmentIntensity:f,environmentRotation:h,scene:d,files:b,path:y,preset:v=void 0,extensions:m}){const x=mi(k=>k.gl),_=mi(k=>k.scene),E=I.useRef(null),[A]=I.useState(()=>new Uy),w=I.useMemo(()=>{const k=new eP(i);return k.texture.type=Ka,k},[i]);I.useEffect(()=>()=>{w.dispose()},[w]),I.useLayoutEffect(()=>{if(r===1){const k=x.autoClear;x.autoClear=!0,E.current.update(x,A),x.autoClear=k}return WP(s,d,_,w.texture,{backgroundBlurriness:o??l,backgroundIntensity:c,backgroundRotation:u,environmentIntensity:f,environmentRotation:h})},[t,A,w.texture,d,_,s,r,x]);let T=1;return ca(()=>{if(r===1/0||T<r){const k=x.autoClear;x.autoClear=!0,E.current.update(x,A),x.autoClear=k,T++}}),I.createElement(I.Fragment,null,nSe(I.createElement(I.Fragment,null,t,I.createElement("cubeCamera",{ref:E,args:[e,n,w]}),b||v?I.createElement(U$,{background:!0,files:b,preset:v,path:y,extensions:m}):a?I.createElement(qP,{background:!0,map:a,extensions:m}):null),A))}function dEe(t){var e,n,i,r;const a=KC(t),s=t.map||a;I.useMemo(()=>R_({GroundProjectedEnvImpl:jSe}),[]),I.useEffect(()=>()=>{a.dispose()},[a]);const o=I.useMemo(()=>[s],[s]),l=(e=t.ground)==null?void 0:e.height,c=(n=t.ground)==null?void 0:n.radius,u=(i=(r=t.ground)==null?void 0:r.scale)!==null&&i!==void 0?i:1e3;return I.createElement(I.Fragment,null,I.createElement(qP,vs({},t,{map:s})),I.createElement("groundProjectedEnvImpl",{args:o,scale:u,height:l,radius:c}))}function pEe(t){return t.ground?I.createElement(dEe,t):t.map?I.createElement(qP,t):t.children?I.createElement(hEe,t):I.createElement(U$,t)}const mEe=I.createContext(null);function gEe({iterations:t=10,ms:e=250,threshold:n=.75,step:i=.1,factor:r=.5,flipflops:a=1/0,bounds:s=h=>h>100?[60,100]:[40,60],onIncline:o,onDecline:l,onChange:c,onFallback:u,children:f}){const h=Math.pow(10,0),[d,b]=I.useState(()=>({fps:0,index:0,factor:r,flipped:0,refreshrate:0,fallback:!1,frames:[],averages:[],subscriptions:new Map,subscribe:v=>{const m=Symbol();return d.subscriptions.set(m,v.current),()=>void d.subscriptions.delete(m)}}));let y=0;return ca(()=>{const{frames:v,averages:m}=d;if(!d.fallback&&m.length<t){v.push(performance.now());const x=v[v.length-1]-v[0];if(x>=e){if(d.fps=Math.round(v.length/x*1e3*h)/h,d.refreshrate=Math.max(d.refreshrate,d.fps),m[d.index++%t]=d.fps,m.length===t){const[_,E]=s(d.refreshrate),A=m.filter(T=>T>=E),w=m.filter(T=>T<_);A.length>t*n&&(d.factor=Math.min(1,d.factor+i),d.flipped++,o&&o(d),d.subscriptions.forEach(T=>T.onIncline&&T.onIncline(d))),w.length>t*n&&(d.factor=Math.max(0,d.factor-i),d.flipped++,l&&l(d),d.subscriptions.forEach(T=>T.onDecline&&T.onDecline(d))),y!==d.factor&&(y=d.factor,c&&c(d),d.subscriptions.forEach(T=>T.onChange&&T.onChange(d))),d.flipped>a&&!d.fallback&&(d.fallback=!0,u&&u(d),d.subscriptions.forEach(T=>T.onFallback&&T.onFallback(d))),d.averages=[]}d.frames=[]}}}),I.createElement(mEe.Provider,{value:d},f)}const bEe={},s5=t=>{let e;const n=new Set,i=(u,f)=>{const h=typeof u=="function"?u(e):u;if(!Object.is(h,e)){const d=e;e=f??(typeof h!="object"||h===null)?h:Object.assign({},e,h),n.forEach(b=>b(e,d))}},r=()=>e,l={setState:i,getState:r,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(bEe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=e=t(i,r,l);return l},yEe=t=>t?s5(t):s5,F$={},{useDebugValue:vEe}=ke,{useSyncExternalStoreWithSelector:xEe}=zJ;let o5=!1;const _Ee=t=>t;function SEe(t,e=_Ee,n){(F$?"production":void 0)!=="production"&&n&&!o5&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),o5=!0);const i=xEe(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return vEe(i),i}const l5=t=>{(F$?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?yEe(t):t,n=(i,r)=>SEe(e,i,r);return Object.assign(n,e),n},I_=t=>t?l5(t):l5,O_=I.createContext(null),Gw=new Q,c5=new Q,wEe=(t,e,n,i)=>{const r=e.dot(e),a=e.dot(t)-e.dot(n),s=e.dot(i);return s===0?-a/r:(Gw.copy(i).multiplyScalar(r/s).sub(e),c5.copy(i).multiplyScalar(a/s).add(n).sub(t),-Gw.dot(c5)/Gw.dot(Gw))},EEe=new Q(0,1,0),u5=new kt,Fk=({direction:t,axis:e})=>{const{translation:n,translationLimits:i,annotations:r,annotationsClass:a,depthTest:s,scale:o,lineWidth:l,fixed:c,axisColors:u,hoveredColor:f,opacity:h,renderOrder:d,onDragStart:b,onDrag:y,onDragEnd:v,userData:m}=I.useContext(O_),x=mi(q=>q.controls),_=I.useRef(null),E=I.useRef(null),A=I.useRef(null),w=I.useRef(0),[T,k]=I.useState(!1),N=I.useCallback(q=>{r&&(_.current.innerText=`${n.current[e].toFixed(2)}`,_.current.style.display="block"),q.stopPropagation();const X=new kt().extractRotation(E.current.matrixWorld),z=q.point.clone(),oe=new Q().setFromMatrixPosition(E.current.matrixWorld),fe=t.clone().applyMatrix4(X).normalize();A.current={clickPoint:z,dir:fe},w.current=n.current[e],b({component:"Arrow",axis:e,origin:oe,directions:[fe]}),x&&(x.enabled=!1),q.target.setPointerCapture(q.pointerId)},[r,t,x,b,n,e]),D=I.useCallback(q=>{if(q.stopPropagation(),T||k(!0),A.current){const{clickPoint:X,dir:z}=A.current,[oe,fe]=i?.[e]||[void 0,void 0];let K=wEe(X,z,q.ray.origin,q.ray.direction);oe!==void 0&&(K=Math.max(K,oe-w.current)),fe!==void 0&&(K=Math.min(K,fe-w.current)),n.current[e]=w.current+K,r&&(_.current.innerText=`${n.current[e].toFixed(2)}`),u5.makeTranslation(z.x*K,z.y*K,z.z*K),y(u5)}},[r,y,T,n,i,e]),P=I.useCallback(q=>{r&&(_.current.style.display="none"),q.stopPropagation(),A.current=null,v(),x&&(x.enabled=!0),q.target.releasePointerCapture(q.pointerId)},[r,x,v]),B=I.useCallback(q=>{q.stopPropagation(),k(!1)},[]),{cylinderLength:G,coneWidth:H,coneLength:V,matrixL:U}=I.useMemo(()=>{const q=c?l/o*1.6:o/20,X=c?.2:o/5,z=c?1-X:o-X,oe=new Hn().setFromUnitVectors(EEe,t.clone().normalize()),fe=new kt().makeRotationFromQuaternion(oe);return{cylinderLength:z,coneWidth:q,coneLength:X,matrixL:fe}},[t,o,l,c]),F=T?f:u[e];return I.createElement("group",{ref:E},I.createElement("group",{matrix:U,matrixAutoUpdate:!1,onPointerDown:N,onPointerMove:D,onPointerUp:P,onPointerOut:B},r&&I.createElement(Wm,{position:[0,-V,0]},I.createElement("div",{style:{display:"none",background:"#151520",color:"white",padding:"6px 8px",borderRadius:7,whiteSpace:"nowrap"},className:a,ref:_})),I.createElement("mesh",{visible:!1,position:[0,(G+V)/2,0],userData:m},I.createElement("cylinderGeometry",{args:[H*1.4,H*1.4,G+V,8,1]})),I.createElement(qm,{transparent:!0,raycast:()=>null,depthTest:s,points:[0,0,0,0,G,0],lineWidth:l,side:oa,color:F,opacity:h,polygonOffset:!0,renderOrder:1,polygonOffsetFactor:-10,fog:!1}),I.createElement("mesh",{raycast:()=>null,position:[0,G+V/2,0],renderOrder:d},I.createElement("coneGeometry",{args:[H,V,24,1]}),I.createElement("meshBasicMaterial",{transparent:!0,depthTest:s,color:F,opacity:h,polygonOffset:!0,polygonOffsetFactor:-10,fog:!1}))))},zk=new Q,jk=new Q,Bk=t=>t*180/Math.PI,MEe=t=>t*Math.PI/180,AEe=(t,e,n,i,r)=>{zk.copy(t).sub(n),jk.copy(e).sub(n);const a=i.dot(i),s=r.dot(r),o=zk.dot(i)/a,l=zk.dot(r)/s,c=jk.dot(i)/a,u=jk.dot(r)/s,f=Math.atan2(l,o);return Math.atan2(u,c)-f},TEe=(t,e)=>{let n=Math.floor(t/e);return n=n<0?n+1:n,t-n*e},f5=t=>{let e=TEe(t,2*Math.PI);return Math.abs(e)<1e-6?0:(e<0&&(e+=2*Math.PI),e)},Ww=new kt,h5=new Q,qw=new of,Hk=new Q,Vk=({dir1:t,dir2:e,axis:n})=>{const{rotationLimits:i,annotations:r,annotationsClass:a,depthTest:s,scale:o,lineWidth:l,fixed:c,axisColors:u,hoveredColor:f,renderOrder:h,opacity:d,onDragStart:b,onDrag:y,onDragEnd:v,userData:m}=I.useContext(O_),x=mi(F=>F.controls),_=I.useRef(null),E=I.useRef(null),A=I.useRef(0),w=I.useRef(0),T=I.useRef(null),[k,N]=I.useState(!1),D=I.useCallback(F=>{r&&(_.current.innerText=`${Bk(w.current).toFixed(0)}`,_.current.style.display="block"),F.stopPropagation();const q=F.point.clone(),X=new Q().setFromMatrixPosition(E.current.matrixWorld),z=new Q().setFromMatrixColumn(E.current.matrixWorld,0).normalize(),oe=new Q().setFromMatrixColumn(E.current.matrixWorld,1).normalize(),fe=new Q().setFromMatrixColumn(E.current.matrixWorld,2).normalize(),K=new Hc().setFromNormalAndCoplanarPoint(fe,X);T.current={clickPoint:q,origin:X,e1:z,e2:oe,normal:fe,plane:K},b({component:"Rotator",axis:n,origin:X,directions:[z,oe,fe]}),x&&(x.enabled=!1),F.target.setPointerCapture(F.pointerId)},[r,x,b,n]),P=I.useCallback(F=>{if(F.stopPropagation(),k||N(!0),T.current){const{clickPoint:q,origin:X,e1:z,e2:oe,normal:fe,plane:K}=T.current,[Me,_e]=i?.[n]||[void 0,void 0];qw.copy(F.ray),qw.intersectPlane(K,Hk),qw.direction.negate(),qw.intersectPlane(K,Hk);let pe=AEe(q,Hk,X,z,oe),xe=Bk(pe);F.shiftKey&&(xe=Math.round(xe/10)*10,pe=MEe(xe)),Me!==void 0&&_e!==void 0&&_e-Me<2*Math.PI?(pe=f5(pe),pe=pe>Math.PI?pe-2*Math.PI:pe,pe=ac.clamp(pe,Me-A.current,_e-A.current),w.current=A.current+pe):(w.current=f5(A.current+pe),w.current=w.current>Math.PI?w.current-2*Math.PI:w.current),r&&(xe=Bk(w.current),_.current.innerText=`${xe.toFixed(0)}`),Ww.makeRotationAxis(fe,pe),h5.copy(X).applyMatrix4(Ww).sub(X).negate(),Ww.setPosition(h5),y(Ww)}},[r,y,k,i,n]),B=I.useCallback(F=>{r&&(_.current.style.display="none"),F.stopPropagation(),A.current=w.current,T.current=null,v(),x&&(x.enabled=!0),F.target.releasePointerCapture(F.pointerId)},[r,x,v]),G=I.useCallback(F=>{F.stopPropagation(),N(!1)},[]),H=I.useMemo(()=>{const F=t.clone().normalize(),q=e.clone().normalize();return new kt().makeBasis(F,q,F.clone().cross(q))},[t,e]),V=c?.65:o*.65,U=I.useMemo(()=>{const q=[];for(let X=0;X<=32;X++){const z=X*(Math.PI/2)/32;q.push(new Q(Math.cos(z)*V,Math.sin(z)*V,0))}return q},[V]);return I.createElement("group",{ref:E,onPointerDown:D,onPointerMove:P,onPointerUp:B,onPointerOut:G,matrix:H,matrixAutoUpdate:!1},r&&I.createElement(Wm,{position:[V,V,0]},I.createElement("div",{style:{display:"none",background:"#151520",color:"white",padding:"6px 8px",borderRadius:7,whiteSpace:"nowrap"},className:a,ref:_})),I.createElement(qm,{points:U,lineWidth:l*4,visible:!1,userData:m}),I.createElement(qm,{transparent:!0,raycast:()=>null,depthTest:s,points:U,lineWidth:l,side:oa,color:k?f:u[n],opacity:d,polygonOffset:!0,polygonOffsetFactor:-10,renderOrder:h,fog:!1}))},CEe=(t,e,n)=>{const i=Math.abs(t.x)>=Math.abs(t.y)&&Math.abs(t.x)>=Math.abs(t.z)?0:Math.abs(t.y)>=Math.abs(t.x)&&Math.abs(t.y)>=Math.abs(t.z)?1:2,r=[0,1,2].sort((b,y)=>Math.abs(e.getComponent(y))-Math.abs(e.getComponent(b))),a=i===r[0]?r[1]:r[0],s=t.getComponent(i),o=t.getComponent(a),l=e.getComponent(i),c=e.getComponent(a),u=n.getComponent(i),h=(n.getComponent(a)-u*(o/s))/(c-l*(o/s));return[(u-h*l)/s,h]},Xw=new of,Kw=new Q,d5=new kt,Gk=({dir1:t,dir2:e,axis:n})=>{const{translation:i,translationLimits:r,annotations:a,annotationsClass:s,depthTest:o,scale:l,lineWidth:c,fixed:u,axisColors:f,hoveredColor:h,opacity:d,onDragStart:b,onDrag:y,onDragEnd:v,userData:m}=I.useContext(O_),x=mi(X=>X.controls),_=I.useRef(null),E=I.useRef(null),A=I.useRef(null),w=I.useRef(0),T=I.useRef(0),[k,N]=I.useState(!1),D=I.useCallback(X=>{a&&(_.current.innerText=`${i.current[(n+1)%3].toFixed(2)}, ${i.current[(n+2)%3].toFixed(2)}`,_.current.style.display="block"),X.stopPropagation();const z=X.point.clone(),oe=new Q().setFromMatrixPosition(E.current.matrixWorld),fe=new Q().setFromMatrixColumn(E.current.matrixWorld,0).normalize(),K=new Q().setFromMatrixColumn(E.current.matrixWorld,1).normalize(),Me=new Q().setFromMatrixColumn(E.current.matrixWorld,2).normalize(),_e=new Hc().setFromNormalAndCoplanarPoint(Me,oe);A.current={clickPoint:z,e1:fe,e2:K,plane:_e},w.current=i.current[(n+1)%3],T.current=i.current[(n+2)%3],b({component:"Slider",axis:n,origin:oe,directions:[fe,K,Me]}),x&&(x.enabled=!1),X.target.setPointerCapture(X.pointerId)},[a,x,b,n]),P=I.useCallback(X=>{if(X.stopPropagation(),k||N(!0),A.current){const{clickPoint:z,e1:oe,e2:fe,plane:K}=A.current,[Me,_e]=r?.[(n+1)%3]||[void 0,void 0],[pe,xe]=r?.[(n+2)%3]||[void 0,void 0];Xw.copy(X.ray),Xw.intersectPlane(K,Kw),Xw.direction.negate(),Xw.intersectPlane(K,Kw),Kw.sub(z);let[Oe,Ge]=CEe(oe,fe,Kw);Me!==void 0&&(Oe=Math.max(Oe,Me-w.current)),_e!==void 0&&(Oe=Math.min(Oe,_e-w.current)),pe!==void 0&&(Ge=Math.max(Ge,pe-T.current)),xe!==void 0&&(Ge=Math.min(Ge,xe-T.current)),i.current[(n+1)%3]=w.current+Oe,i.current[(n+2)%3]=T.current+Ge,a&&(_.current.innerText=`${i.current[(n+1)%3].toFixed(2)}, ${i.current[(n+2)%3].toFixed(2)}`),d5.makeTranslation(Oe*oe.x+Ge*fe.x,Oe*oe.y+Ge*fe.y,Oe*oe.z+Ge*fe.z),y(d5)}},[a,y,k,i,r,n]),B=I.useCallback(X=>{a&&(_.current.style.display="none"),X.stopPropagation(),A.current=null,v(),x&&(x.enabled=!0),X.target.releasePointerCapture(X.pointerId)},[a,x,v]),G=I.useCallback(X=>{X.stopPropagation(),N(!1)},[]),H=I.useMemo(()=>{const X=t.clone().normalize(),z=e.clone().normalize();return new kt().makeBasis(X,z,X.clone().cross(z))},[t,e]),V=u?1/7:l/7,U=u?.225:l*.225,F=k?h:f[n],q=I.useMemo(()=>[new Q(0,0,0),new Q(0,U,0),new Q(U,U,0),new Q(U,0,0),new Q(0,0,0)],[U]);return I.createElement("group",{ref:E,matrix:H,matrixAutoUpdate:!1},a&&I.createElement(Wm,{position:[0,0,0]},I.createElement("div",{style:{display:"none",background:"#151520",color:"white",padding:"6px 8px",borderRadius:7,whiteSpace:"nowrap"},className:s,ref:_})),I.createElement("group",{position:[V*1.7,V*1.7,0]},I.createElement("mesh",{visible:!0,onPointerDown:D,onPointerMove:P,onPointerUp:B,onPointerOut:G,scale:U,userData:m},I.createElement("planeGeometry",null),I.createElement("meshBasicMaterial",{transparent:!0,depthTest:o,color:F,polygonOffset:!0,polygonOffsetFactor:-10,side:oa,fog:!1})),I.createElement(qm,{position:[-U/2,-U/2,0],transparent:!0,depthTest:o,points:q,lineWidth:c,color:F,opacity:d,polygonOffset:!0,polygonOffsetFactor:-10,userData:m,fog:!1})))},yx=new Q,p5=new Q,REe=(t,e,n,i)=>{const r=e.dot(e),a=e.dot(t)-e.dot(n),s=e.dot(i);return s===0?-a/r:(yx.copy(i).multiplyScalar(r/s).sub(e),p5.copy(i).multiplyScalar(a/s).add(n).sub(t),-yx.dot(p5)/yx.dot(yx))},kEe=new Q(0,1,0),Kv=new Q,m5=new kt,Wk=({direction:t,axis:e})=>{const{scaleLimits:n,annotations:i,annotationsClass:r,depthTest:a,scale:s,lineWidth:o,fixed:l,axisColors:c,hoveredColor:u,opacity:f,renderOrder:h,onDragStart:d,onDrag:b,onDragEnd:y,userData:v}=I.useContext(O_),m=mi(X=>X.size),x=mi(X=>X.controls),_=I.useRef(null),E=I.useRef(null),A=I.useRef(null),w=I.useRef(1),T=I.useRef(1),k=I.useRef(null),[N,D]=I.useState(!1),P=l?1.2:1.2*s,B=I.useCallback(X=>{i&&(_.current.innerText=`${T.current.toFixed(2)}`,_.current.style.display="block"),X.stopPropagation();const z=new kt().extractRotation(E.current.matrixWorld),oe=X.point.clone(),fe=new Q().setFromMatrixPosition(E.current.matrixWorld),K=t.clone().applyMatrix4(z).normalize(),Me=E.current.matrixWorld.clone(),_e=Me.clone().invert(),pe=l?1/M$(E.current.getWorldPosition(yx),s,X.camera,m):1;k.current={clickPoint:oe,dir:K,mPLG:Me,mPLGInv:_e,offsetMultiplier:pe},d({component:"Sphere",axis:e,origin:fe,directions:[K]}),x&&(x.enabled=!1),X.target.setPointerCapture(X.pointerId)},[i,x,t,d,e,l,s,m]),G=I.useCallback(X=>{if(X.stopPropagation(),N||D(!0),k.current){const{clickPoint:z,dir:oe,mPLG:fe,mPLGInv:K,offsetMultiplier:Me}=k.current,[_e,pe]=n?.[e]||[1e-5,void 0],Oe=REe(z,oe,X.ray.origin,X.ray.direction)*Me,Ge=l?Oe:Oe/s;let Ye=Math.pow(2,Ge*.2);X.shiftKey&&(Ye=Math.round(Ye*10)/10),Ye=Math.max(Ye,_e/w.current),pe!==void 0&&(Ye=Math.min(Ye,pe/w.current)),T.current=w.current*Ye,A.current.position.set(0,P+Oe,0),i&&(_.current.innerText=`${T.current.toFixed(2)}`),Kv.set(1,1,1),Kv.setComponent(e,Ye),m5.makeScale(Kv.x,Kv.y,Kv.z).premultiply(fe).multiply(K),b(m5)}},[i,P,b,N,n,e]),H=I.useCallback(X=>{i&&(_.current.style.display="none"),X.stopPropagation(),w.current=T.current,k.current=null,A.current.position.set(0,P,0),y(),x&&(x.enabled=!0),X.target.releasePointerCapture(X.pointerId)},[i,x,y,P]),V=I.useCallback(X=>{X.stopPropagation(),D(!1)},[]),{radius:U,matrixL:F}=I.useMemo(()=>{const X=l?o/s*1.8:s/22.5,z=new Hn().setFromUnitVectors(kEe,t.clone().normalize()),oe=new kt().makeRotationFromQuaternion(z);return{radius:X,matrixL:oe}},[t,s,o,l]),q=N?u:c[e];return I.createElement("group",{ref:E},I.createElement("group",{matrix:F,matrixAutoUpdate:!1,onPointerDown:B,onPointerMove:G,onPointerUp:H,onPointerOut:V},i&&I.createElement(Wm,{position:[0,P/2,0]},I.createElement("div",{style:{display:"none",background:"#151520",color:"white",padding:"6px 8px",borderRadius:7,whiteSpace:"nowrap"},className:r,ref:_})),I.createElement("mesh",{ref:A,position:[0,P,0],renderOrder:h,userData:v},I.createElement("sphereGeometry",{args:[U,12,12]}),I.createElement("meshBasicMaterial",{transparent:!0,depthTest:a,color:q,opacity:f,polygonOffset:!0,polygonOffsetFactor:-10}))))},g5=new kt,b5=new kt,y5=new kt,Yw=new kt,qk=new kt,vb=new kt,v5=new kt,x5=new kt,_5=new kt,xb=new vr,Xk=new vr,S5=new Q,w5=new Q,E5=new Q,M5=new Q,Yv=new Q,_b=new Q(1,0,0),Sb=new Q(0,1,0),wb=new Q(0,0,1),z$=I.forwardRef(({enabled:t=!0,matrix:e,onDragStart:n,onDrag:i,onDragEnd:r,autoTransform:a=!0,anchor:s,disableAxes:o=!1,disableSliders:l=!1,disableRotations:c=!1,disableScaling:u=!1,activeAxes:f=[!0,!0,!0],offset:h=[0,0,0],rotation:d=[0,0,0],scale:b=1,lineWidth:y=4,fixed:v=!1,translationLimits:m,rotationLimits:x,scaleLimits:_,depthTest:E=!0,renderOrder:A=500,axisColors:w=["#ff2060","#20df80","#2080ff"],hoveredColor:T="#ffff40",annotations:k=!1,annotationsClass:N,opacity:D=1,visible:P=!0,userData:B,children:G,...H},V)=>{const U=mi(pe=>pe.invalidate),F=I.useRef(null),q=I.useRef(null),X=I.useRef(null),z=I.useRef(null),oe=I.useRef([0,0,0]),fe=I.useRef(new Q(1,1,1)),K=I.useRef(new Q(1,1,1));I.useLayoutEffect(()=>{s&&(z.current.updateWorldMatrix(!0,!0),Yw.copy(z.current.matrixWorld).invert(),xb.makeEmpty(),z.current.traverse(pe=>{pe.geometry&&(pe.geometry.boundingBox||pe.geometry.computeBoundingBox(),vb.copy(pe.matrixWorld).premultiply(Yw),Xk.copy(pe.geometry.boundingBox),Xk.applyMatrix4(vb),xb.union(Xk))}),S5.copy(xb.max).add(xb.min).multiplyScalar(.5),w5.copy(xb.max).sub(xb.min).multiplyScalar(.5),E5.copy(w5).multiply(new Q(...s)).add(S5),M5.set(...h).add(E5),X.current.position.copy(M5),U())});const Me=I.useMemo(()=>({onDragStart:pe=>{g5.copy(q.current.matrix),b5.copy(q.current.matrixWorld),n&&n(pe),U()},onDrag:pe=>{y5.copy(F.current.matrixWorld),Yw.copy(y5).invert(),qk.copy(b5).premultiply(pe),vb.copy(qk).premultiply(Yw),v5.copy(g5).invert(),x5.copy(vb).multiply(v5),a&&q.current.matrix.copy(vb),i&&i(vb,x5,qk,pe),U()},onDragEnd:()=>{r&&r(),U()},translation:oe,translationLimits:m,rotationLimits:x,axisColors:w,hoveredColor:T,opacity:D,scale:b,lineWidth:y,fixed:v,depthTest:E,renderOrder:A,userData:B,annotations:k,annotationsClass:N}),[n,i,r,oe,m,x,_,E,b,y,v,...w,T,D,B,a,k,N]),_e=new Q;return ca(pe=>{if(v){const xe=M$(X.current.getWorldPosition(_e),b,pe.camera,pe.size);fe.current.setScalar(xe)}e&&e instanceof kt&&(q.current.matrix=e),q.current.updateWorldMatrix(!0,!0),_5.makeRotationFromEuler(X.current.rotation).setPosition(X.current.position).premultiply(q.current.matrixWorld),K.current.setFromMatrixScale(_5),Yv.copy(fe.current).divide(K.current),(Math.abs(X.current.scale.x-Yv.x)>1e-4||Math.abs(X.current.scale.y-Yv.y)>1e-4||Math.abs(X.current.scale.z-Yv.z)>1e-4)&&(X.current.scale.copy(Yv),pe.invalidate())}),I.useImperativeHandle(V,()=>q.current,[]),I.createElement(O_.Provider,{value:Me},I.createElement("group",{ref:F},I.createElement("group",vs({ref:q,matrix:e,matrixAutoUpdate:!1},H),I.createElement("group",{visible:P,ref:X,position:h,rotation:d},t&&I.createElement(I.Fragment,null,!o&&f[0]&&I.createElement(Fk,{axis:0,direction:_b}),!o&&f[1]&&I.createElement(Fk,{axis:1,direction:Sb}),!o&&f[2]&&I.createElement(Fk,{axis:2,direction:wb}),!l&&f[0]&&f[1]&&I.createElement(Gk,{axis:2,dir1:_b,dir2:Sb}),!l&&f[0]&&f[2]&&I.createElement(Gk,{axis:1,dir1:wb,dir2:_b}),!l&&f[2]&&f[1]&&I.createElement(Gk,{axis:0,dir1:Sb,dir2:wb}),!c&&f[0]&&f[1]&&I.createElement(Vk,{axis:2,dir1:_b,dir2:Sb}),!c&&f[0]&&f[2]&&I.createElement(Vk,{axis:1,dir1:wb,dir2:_b}),!c&&f[2]&&f[1]&&I.createElement(Vk,{axis:0,dir1:Sb,dir2:wb}),!u&&f[0]&&I.createElement(Wk,{axis:0,direction:_b}),!u&&f[1]&&I.createElement(Wk,{axis:1,direction:Sb}),!u&&f[2]&&I.createElement(Wk,{axis:2,direction:wb}))),I.createElement("group",{ref:z},G))))}),xi=ke.createContext(null);/*!
 * hold-event
 * https://github.com/yomotsu/hold-event
 * (c) 2020 @yomotsu
 * Released under the MIT License.
 */var os;(function(t){t.HOLD_START="holdStart",t.HOLD_END="holdEnd",t.HOLDING="holding"})(os||(os={}));class DEe{constructor(){this._listeners={}}addEventListener(e,n){const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(n)===-1&&i[e].push(n)}removeEventListener(e,n){const r=this._listeners[e];if(r!==void 0){const a=r.indexOf(n);a!==-1&&r.splice(a,1)}}dispatchEvent(e){const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let a=0,s=r.length;a<s;a++)r[a].call(this,e)}}}class NEe extends DEe{constructor(e){super(),this._enabled=!0,this._holding=!1,this._intervalId=-1,this._deltaTime=0,this._elapsedTime=0,this._lastTime=0,this._holdStart=n=>{if(!this._enabled||this._holding)return;this._deltaTime=0,this._elapsedTime=0,this._lastTime=performance.now(),this.dispatchEvent({type:os.HOLD_START,deltaTime:this._deltaTime,elapsedTime:this._elapsedTime,originalEvent:n}),this._holding=!0;const i=()=>{this._intervalId=this.holdIntervalDelay?window.setTimeout(i,this.holdIntervalDelay):window.requestAnimationFrame(i);const r=performance.now();this._deltaTime=r-this._lastTime,this._elapsedTime+=this._deltaTime,this._lastTime=performance.now(),this.dispatchEvent({type:os.HOLDING,deltaTime:this._deltaTime,elapsedTime:this._elapsedTime,originalEvent:n})};this._intervalId=this.holdIntervalDelay?window.setTimeout(i,this.holdIntervalDelay):window.requestAnimationFrame(i)},this._holdEnd=n=>{if(!this._enabled||!this._holding)return;const i=performance.now();this._deltaTime=i-this._lastTime,this._elapsedTime+=this._deltaTime,this._lastTime=performance.now(),this.dispatchEvent({type:os.HOLD_END,deltaTime:this._deltaTime,elapsedTime:this._elapsedTime,originalEvent:n}),window.clearTimeout(this._intervalId),window.cancelAnimationFrame(this._intervalId),this._holding=!1},this.holdIntervalDelay=e}get enabled(){return this._enabled}set enabled(e){this._enabled!==e&&(this._enabled=e,this._enabled||this._holdEnd())}get holding(){return this._holding}}class Cu extends NEe{constructor(e,n){if(typeof e!="string"){console.error("KeyboardKeyHold: the first argument has to be a KeyboardEvent.code string.");return}super(n),this._holdStart=this._holdStart.bind(this),this._holdEnd=this._holdEnd.bind(this);const i=a=>{IEe(a)||a.code===e&&this._holdStart(a)},r=a=>{a.code===e&&this._holdEnd(a)};document.addEventListener("keydown",i),document.addEventListener("keyup",r),window.addEventListener("blur",this._holdEnd)}}function IEe(t){const e=t.target;return e.tagName==="INPUT"||e.tagName==="SELECT"||e.tagName==="TEXTAREA"||e.isContentEditable}function Gf(t){const e=t.useSceneTree.getState()[""],n=e?.wxyz??[1,0,0,0],i=e?.position??[0,0,0];return new kt().makeRotationFromQuaternion(new Hn(n[1],n[2],n[3],n[0])).setPosition(i[0],i[1],i[2])}function j$(t,e){const n=Gf(t).invert(),i=e.origin.clone().applyMatrix4(n),r=n.setPosition(0,0,0),a=e.direction.clone().applyMatrix4(r);return new of(i,a)}function YC(t){const e=ke.useContext(xi);return B$(e,t)}function B$(t,e){let n=!0,i=!1,r=null;function a(o){const l=t.mutable.current;l.sendMessage!==null&&(r=o,n?(l.sendMessage(o),i=!1,n=!1,setTimeout(()=>{n=!0,i&&r&&a(r)},e)):i=!0)}function s(){t.mutable.current.sendMessage!==null&&r!==null&&(t.mutable.current.sendMessage(r),r=null,i=!1)}return{send:a,flush:s}}function Kk(t){return t!=null&&t.isTexture!==void 0}function OEe({visible:t,children:e}){const{camera:n}=mi(),i=I.useRef(null),r=new Q;return ca(()=>{i.current&&t&&(i.current.getWorldPosition(r),i.current.scale.setScalar(n.position.distanceTo(r)/20))}),C.jsxs("group",{ref:i,visible:t,children:[C.jsxs(D$,{limit:6,children:[C.jsx("boxGeometry",{args:[.4,.02,.02]}),C.jsx("meshBasicMaterial",{opacity:.625,transparent:!0}),C.jsx(Du,{position:[.5,0,0],color:"#777777"}),C.jsx(Du,{position:[-.5,0,0],color:"#777777"}),C.jsx(Du,{position:[0,0,.5],rotation:new li(0,Math.PI/2,0),color:"#777777"}),C.jsx(Du,{position:[0,0,-.5],rotation:new li(0,Math.PI/2,0),color:"#777777"}),C.jsx(Du,{position:[0,.5,0],rotation:new li(0,0,Math.PI/2),color:"#999999"}),C.jsx(Du,{position:[0,-.5,0],rotation:new li(0,0,Math.PI/2),color:"#999999"})]}),C.jsxs("mesh",{children:[C.jsx("sphereGeometry",{args:[.04,8,8]}),C.jsx("meshBasicMaterial",{color:"#999999",opacity:.625,transparent:!0})]}),e]})}function LEe({forceShow:t,pivotRef:e,onPivotChange:n,update:i}){const r=I.useContext(xi),a=r.useGui(c=>c.showOrbitOriginTool),s=r.useDevSettings(c=>c.enableOrbitCrosshair),o=r.useGui(c=>c.showOrbitOriginCrosshair);ke.useEffect(i,[a]);const l=a||t;return C.jsxs(z$,{ref:e,scale:200,lineWidth:3,fixed:!0,axisColors:["#ffaaff","#ff33ff","#ffaaff"],disableScaling:!0,disableAxes:!l,disableRotations:!l,disableSliders:!l,onDragEnd:()=>{n(e.current.matrix)},children:[C.jsx(C$,{args:[10,10,10,10],infiniteGrid:!0,fadeStrength:0,fadeFrom:0,fadeDistance:1e3,sectionColor:"#ffaaff",cellColor:"#ffccff",side:oa,visible:l}),C.jsx(OEe,{visible:s&&o>0})]})}function PEe(){const t=I.useContext(xi),e=mi(V=>V.camera),n=YC(20).send,i=I.useRef(null),r=I.useRef(null),a=t.mutable.current,s=ke.useCallback(()=>{t.useGui.setState(V=>({showOrbitOriginCrosshair:V.showOrbitOriginCrosshair+1}))},[t]),o=ke.useCallback(()=>{t.useGui.setState(V=>({showOrbitOriginCrosshair:Math.max(0,V.showOrbitOriginCrosshair-1)}))},[t]);ke.useEffect(()=>{t.useGui.setState({showOrbitOriginCrosshair:0})},[]);const[l,c]=I.useState(null),u=.5;ca(V=>{if(l&&a.cameraControl){const U=a.cameraControl,F=U.camera,q=V.clock.getElapsedTime()-l.startTime,X=Math.min(q/l.duration,1),z=X*X*(3-2*X),oe=new Q().copy(l.startUp).lerp(l.targetUp,z).normalize(),fe=new Q().copy(l.startLookAt).lerp(l.targetLookAt,z);F.up.copy(oe);const K=new Q;U.getPosition(K),U.updateCameraUp(),U.setPosition(K.x,K.y,K.z,!1),U.setLookAt(K.x,K.y,K.z,fe.x,fe.y,fe.z,!1),X>=1&&c(null)}});const{clock:f}=mi(),h=V=>{if(!a.cameraControl)return;const U=new Q;U.setFromMatrixPosition(V);const F=a.cameraControl,q=a.cameraControl.camera,X=new Q().setFromMatrixColumn(V,1),z=F.getTarget(new Q);c({startUp:q.up.clone(),targetUp:X,startLookAt:z,targetLookAt:U,startTime:f.getElapsedTime(),duration:u})},d=()=>{if(l!==null||!a.cameraControl||!r.current)return;const U=a.cameraControl.getTarget(new Q),F=new kt().extractRotation(r.current.matrix),q=e.up.clone().normalize(),X=new Q(0,1,0).applyMatrix4(F).normalize(),z=new Q().crossVectors(X,q).normalize(),oe=Math.acos(Math.min(1,Math.max(-1,q.dot(X)))),fe=new kt;z.lengthSq()>1e-4&&fe.makeRotationAxis(z,oe);const K=new kt;K.multiply(fe),K.multiply(F),K.setPosition(U),r.current.matrix.copy(K),r.current.updateMatrixWorld(!0)};a.resetCameraView=()=>{e.up.set(i.current.camera.up.x,i.current.camera.up.y,i.current.camera.up.z),a.cameraControl.updateCameraUp(),a.cameraControl.setLookAt(i.current.camera.position.x,i.current.camera.position.y,i.current.camera.position.z,i.current.lookAt.x,i.current.lookAt.y,i.current.lookAt.z,!0)};const b=new Hn().setFromEuler(new li(Math.PI,0,0)),y=new Hn,v=new kt,m=new Q,x=new Hn,_=new Q,E=new Q,A=ke.useCallback(()=>{d();const V=e,U=a.cameraControl,F=a.canvas;if(U===null){setTimeout(A,10);return}const q=Gf(t).invert(),X=q.clone().multiply(v.makeRotationFromQuaternion(V.quaternion).setPosition(V.position)).multiply(v.makeRotationFromQuaternion(b));y.setFromRotationMatrix(q),U.getTarget(m).applyQuaternion(y);const z=V.up.clone().applyQuaternion(y);i.current===null&&(i.current={camera:V.clone(),lookAt:U.getTarget(new Q)}),X.decompose(_,x,E),n({type:"ViewerCameraMessage",wxyz:[x.w,x.x,x.y,x.z],position:_.toArray(),image_height:F.height,image_width:F.width,fov:V.fov*Math.PI/180,near:V.near,far:V.far,look_at:[m.x,m.y,m.z],up_direction:[z.x,z.y,z.z]}),P&&console.log(`&initialCameraPosition=${_.x.toFixed(3)},${_.y.toFixed(3)},${_.z.toFixed(3)}&initialCameraLookAt=${m.x.toFixed(3)},${m.y.toFixed(3)},${m.z.toFixed(3)}&initialCameraUp=${z.x.toFixed(3)},${z.y.toFixed(3)},${z.z.toFixed(3)}`)},[e,n]),w=new URLSearchParams(window.location.search),T=w.get("initialCameraPosition"),k=w.get("initialCameraLookAt"),N=w.get("initialCameraUp"),D=w.get("forceOrbitOriginTool")==="1",P=t.useDevSettings(V=>V.logCamera),B=t.useGui(V=>V.websocketConnected),G=ke.useRef(!1);ke.useEffect(()=>{if(!G.current){const V=new Q(...T?T.split(",").map(Number):[3,3,3]);V.applyMatrix4(Gf(t));const U=new Q(...k?k.split(",").map(Number):[0,0,0]);U.applyMatrix4(Gf(t));const F=new Q(...N?N.split(",").map(Number):[0,0,1]);F.applyMatrix4(Gf(t)),F.normalize(),e.up.set(F.x,F.y,F.z),a.cameraControl.updateCameraUp(),a.cameraControl.setLookAt(V.x,V.y,V.z,U.x,U.y,U.z,!1),G.current=!0}a.sendCamera=A,B&&setTimeout(()=>A(),50)},[B,A]);const H=a.canvas;return ke.useEffect(()=>{const V=new ResizeObserver(()=>{A()});return V.observe(H),()=>V.disconnect()},[H]),ke.useEffect(()=>{const V=a.cameraControl,U={w:new Cu("KeyW",1e3/60),a:new Cu("KeyA",1e3/60),s:new Cu("KeyS",1e3/60),d:new Cu("KeyD",1e3/60),q:new Cu("KeyQ",1e3/60),e:new Cu("KeyE",1e3/60),up:new Cu("ArrowUp",1e3/60),down:new Cu("ArrowDown",1e3/60),left:new Cu("ArrowLeft",1e3/60),right:new Cu("ArrowRight",1e3/60)};U.a.addEventListener(os.HOLDING,F=>{V.truck(-.002*F?.deltaTime,0,!1)}),U.d.addEventListener(os.HOLDING,F=>{V.truck(.002*F?.deltaTime,0,!1)}),U.w.addEventListener(os.HOLDING,F=>{V.forward(.002*F?.deltaTime,!1)}),U.s.addEventListener(os.HOLDING,F=>{V.forward(-.002*F?.deltaTime,!1)}),U.q.addEventListener(os.HOLDING,F=>{V.elevate(-.002*F?.deltaTime,!1)}),U.e.addEventListener(os.HOLDING,F=>{V.elevate(.002*F?.deltaTime,!1)}),U.left.addEventListener(os.HOLDING,F=>{V.rotate(-.05*ac.DEG2RAD*F?.deltaTime,0,!0)}),U.right.addEventListener(os.HOLDING,F=>{V.rotate(.05*ac.DEG2RAD*F?.deltaTime,0,!0)}),U.up.addEventListener(os.HOLDING,F=>{V.rotate(0,-.05*ac.DEG2RAD*F?.deltaTime,!0)}),U.down.addEventListener(os.HOLDING,F=>{V.rotate(0,.05*ac.DEG2RAD*F?.deltaTime,!0)});for(const F of Object.values(U))F.addEventListener(os.HOLD_START,()=>{s()}),F.addEventListener(os.HOLD_END,()=>{o()});return()=>{}},[YB,s,o]),C.jsxs(C.Fragment,{children:[C.jsx(YB,{ref:V=>a.cameraControl=V,minDistance:.01,dollySpeed:.3,smoothTime:.05,draggingSmoothTime:0,onChange:A,onStart:()=>{s()},onEnd:()=>{o()},makeDefault:!0}),C.jsx(LEe,{forceShow:D,pivotRef:r,onPivotChange:V=>{h(V)},update:d})]})}const Wy=ke.createContext(null),XP=XC({screenspace:!1,color:new Ut("black"),opacity:1,thickness:.05,size:new yt},`#include <common>
   #include <morphtarget_pars_vertex>
   #include <skinning_pars_vertex>
   uniform float thickness;
   uniform float screenspace;
   uniform vec2 size;
   void main() {
     #if defined (USE_SKINNING)
	     #include <beginnormal_vertex>
       #include <morphnormal_vertex>
       #include <skinbase_vertex>
       #include <skinnormal_vertex>
       #include <defaultnormal_vertex>
     #endif
     #include <begin_vertex>
	   #include <morphtarget_vertex>
	   #include <skinning_vertex>
     #include <project_vertex>
     vec4 tNormal = vec4(normal, 0.0);
     vec4 tPosition = vec4(transformed, 1.0);
     #ifdef USE_INSTANCING
       tNormal = instanceMatrix * tNormal;
       tPosition = instanceMatrix * tPosition;
     #endif
     if (screenspace == 0.0) {
       vec3 newPosition = tPosition.xyz + tNormal.xyz * thickness;
       gl_Position = projectionMatrix * modelViewMatrix * vec4(newPosition, 1.0);
     } else {
       vec4 clipPosition = projectionMatrix * modelViewMatrix * tPosition;
       vec4 clipNormal = projectionMatrix * modelViewMatrix * tNormal;
       vec2 offset = normalize(clipNormal.xy) * thickness / size * clipPosition.w * 2.0;
       clipPosition.xy += offset;
       gl_Position = clipPosition;
     }
   }`,`uniform vec3 color;
   uniform float opacity;
   void main(){
     gl_FragColor = vec4(color, opacity);
     #include <tonemapping_fragment>
     #include <${A$>=154?"colorspace_fragment":"encodings_fragment"}>
   }`),UEe=I.forwardRef(function({color:e="black",opacity:n=1,transparent:i=!1,screenspace:r=!1,toneMapped:a=!0,polygonOffset:s=!1,polygonOffsetFactor:o=0,renderOrder:l=0,thickness:c=.05,angle:u=Math.PI,...f},h){const d=I.useRef(null),[b]=I.useState(()=>new XP({side:Aa})),v=mi(_=>_.gl).getDrawingBufferSize(new yt),m=I.useRef(0),x=I.useRef();return I.useLayoutEffect(()=>{const _=d.current;if(!_)return;const E=_.parent;if(E&&E.geometry&&(m.current!==u||x.current!==E.geometry)){m.current=u,x.current=E.geometry;let A=_.children[0];A&&(u&&A.geometry.dispose(),_.remove(A)),E.skeleton?(A=new xC,A.material=b,A.bind(E.skeleton,E.bindMatrix),_.add(A)):E.isInstancedMesh?(A=new _C(E.geometry,b,E.count),A.instanceMatrix=E.instanceMatrix,_.add(A)):(A=new Di,A.material=b,_.add(A)),A.geometry=u?MSe(E.geometry,u):E.geometry}}),I.useLayoutEffect(()=>{const _=d.current;if(!_)return;const E=_.children[0];E&&(E.renderOrder=l,Xc(E.material,{transparent:i,thickness:c,color:e,opacity:n,size:v,screenspace:r,toneMapped:a,polygonOffset:s,polygonOffsetFactor:o}))}),I.useEffect(()=>()=>{const _=d.current;if(!_)return;const E=_.children[0];E&&(u&&E.geometry.dispose(),_.remove(E))},[]),C.jsx("group",{ref:_=>{d.current=_,typeof h=="function"?h(_):h&&(h.current=_)},...f})});function Wf(t={unmountOnHide:!1,enableCreaseAngle:!1}){const e=ke.useContext(Wy);return e===null||!e.clickable?null:C.jsx(FEe,{...t})}function FEe(t){const e=ke.useRef(null),n=ke.useContext(Wy),[i,r]=ke.useState(!0),a=t.enableCreaseAngle?Math.PI:0;return ca(()=>{if(!(n===null||!n.clickable)){if(t.unmountOnHide){i!==n.state.current.isHovered&&r(n.state.current.isHovered);return}e.current!==null&&(e.current.visible=n.state.current.isHovered)}}),i?C.jsx(UEe,{ref:e,thickness:10,screenspace:!0,color:16514816,opacity:.8,transparent:!0,angle:a}):null}const Pl={instanceMatrix:new kt,transformMatrix:new kt,finalMatrix:new kt,position:new Q,quaternion:new Hn,scale:new Q,oneVector:new Q(1,1,1)},XE=({geometry:t,batched_positions:e,batched_wxyzs:n,batched_scales:i,meshTransform:r,computeBatchIndexFromInstanceIndex:a})=>{const s=ke.useContext(Wy),o=ke.useRef(null),l=mi(h=>h.gl),c=ke.useMemo(()=>l.getDrawingBufferSize(new yt),[l]),u=ke.useMemo(()=>t?t.clone():null,[t]),f=ke.useMemo(()=>{const h=new XP({side:Aa});return h.thickness=10,h.color=new Ut(16514816),h.opacity=.8,h.size=c,h.transparent=!0,h.screenspace=!0,h.toneMapped=!0,h},[c]);return ke.useEffect(()=>()=>{u&&u.dispose()},[u]),ke.useEffect(()=>()=>{f&&f.dispose()},[f]),ca(()=>{if(!(!o.current||!u||!s)&&(o.current.visible=!1,s.state.current.isHovered&&s.state.current.instanceId!==null)){const h=s.state.current.instanceId,d=a?a(h):h,b=new DataView(e.buffer,e.byteOffset,e.byteLength),y=new DataView(n.buffer,n.byteOffset,n.byteLength),v=i?new DataView(i.buffer,i.byteOffset,i.byteLength):null;if(d>=0&&d*12<e.byteLength){const m=d*3*4,x=d*4*4;if(o.current.position.set(b.getFloat32(m,!0),b.getFloat32(m+4,!0),b.getFloat32(m+8,!0)),o.current.quaternion.set(y.getFloat32(x+4,!0),y.getFloat32(x+8,!0),y.getFloat32(x+12,!0),y.getFloat32(x,!0)),v)if(i.byteLength===n.byteLength/4*3){const _=d*3*4;o.current.scale.set(v.getFloat32(_,!0),v.getFloat32(_+4,!0),v.getFloat32(_+8,!0))}else{const _=d*4,E=v.getFloat32(_,!0);o.current.scale.setScalar(E)}else o.current.scale.set(1,1,1);r&&(Pl.instanceMatrix.compose(o.current.position,o.current.quaternion,o.current.scale),Pl.transformMatrix.compose(r.position,r.rotation,r.scale),Pl.finalMatrix.copy(Pl.instanceMatrix).multiply(Pl.transformMatrix),Pl.finalMatrix.decompose(Pl.position,Pl.quaternion,Pl.scale),o.current.position.copy(Pl.position),o.current.quaternion.copy(Pl.quaternion),o.current.scale.copy(Pl.scale)),o.current.visible=!0}}}),!s||!s.clickable||!u?null:C.jsx("mesh",{ref:o,geometry:u,material:f,visible:!1})},zEe=new jy(1),jEe=XC({scale:1,point_ball_norm:0,uniformColor:new Ut(1,1,1)},`
  precision mediump float;

  varying vec3 vPosition;
  varying vec3 vColor; // in the vertex shader
  uniform float scale;
  uniform vec3 uniformColor;

  void main() {
      vPosition = position;
      #ifdef USE_COLOR
      vColor = color;
      #else
      vColor = uniformColor;
      #endif
      vec4 world_pos = modelViewMatrix * vec4(position, 1.0);
      gl_Position = projectionMatrix * world_pos;
      gl_PointSize = (scale / -world_pos.z);
  }
   `,`varying vec3 vPosition;
  varying vec3 vColor;
  uniform float point_ball_norm;

  void main() {
      if (point_ball_norm < 1000.0) {
          float r = pow(
              pow(abs(gl_PointCoord.x - 0.5), point_ball_norm)
              + pow(abs(gl_PointCoord.y - 0.5), point_ball_norm),
              1.0 / point_ball_norm);
          if (r > 0.5) discard;
      }
      gl_FragColor = vec4(vColor, 1.0);
  }
   `),BEe=ke.forwardRef(function({children:e,...n},i){const r=mi(c=>c.get),a=n.props,s=ke.useMemo(()=>{const c=new An;return n.props.precision==="float16"?c.setAttribute("position",new PY(new Uint16Array(a.points.buffer.slice(a.points.byteOffset,a.points.byteOffset+a.points.byteLength)),3)):c.setAttribute("position",new ln(new Float32Array(a.points.buffer.slice(a.points.byteOffset,a.points.byteOffset+a.points.byteLength)),3)),a.colors.length>3?c.setAttribute("color",new In(new Uint8Array(a.colors),3,!0)):a.colors.length<3&&console.error(`Invalid color buffer length, got ${a.colors.length}`),c},[a.points,a.colors]),o=ke.useMemo(()=>{const c=new jEe;return a.colors.length>3?c.vertexColors=!0:(c.vertexColors=!1,c.uniforms.uniformColor.value=new Ut(a.colors[0]/255,a.colors[1]/255,a.colors[2]/255)),c},[a.colors]);ke.useEffect(()=>()=>{s.dispose(),o.dispose()},[s,o]),ke.useEffect(()=>{o.uniforms.scale.value=10,o.uniforms.point_ball_norm.value={square:1/0,diamond:1,circle:2,rounded:3,sparkle:.6}[a.point_shape]},[a.point_shape,o]);const l=new yt;return ca(()=>{o.uniforms.scale.value=a.point_size/Math.tan(r().camera.fov/180*Math.PI/2)*r().gl.getSize(l).height*r().gl.getPixelRatio()}),C.jsx("points",{frustumCulled:!1,ref:i,geometry:s,material:o,children:e})}),HEe=ke.forwardRef(function({showAxes:e=!0,axesLength:n=.5,axesRadius:i=.0125,originRadius:r=void 0,originColor:a=15526912,children:s},o){return r=r??i*2,C.jsxs("group",{ref:o,children:[e&&C.jsxs(C.Fragment,{children:[C.jsxs("mesh",{geometry:zEe,scale:new Q(r,r,r),children:[C.jsx("meshBasicMaterial",{color:a}),C.jsx(Wf,{})]}),C.jsxs(D$,{limit:6,children:[C.jsx("meshBasicMaterial",{}),C.jsx("cylinderGeometry",{args:[i,i,n,16]}),C.jsx(Du,{rotation:new li(0,0,3*Math.PI/2),position:[.5*n,0,0],color:13369344,children:C.jsx(Wf,{unmountOnHide:!0,enableCreaseAngle:!0})}),C.jsx(Du,{position:[0,.5*n,0],color:52224,children:C.jsx(Wf,{unmountOnHide:!0,enableCreaseAngle:!0})}),C.jsx(Du,{rotation:new li(Math.PI/2,0,0),position:[0,0,.5*n],color:204,children:C.jsx(Wf,{unmountOnHide:!0,enableCreaseAngle:!0})})]})]}),s]})}),VEe=ke.forwardRef(function({batched_wxyzs:e,batched_positions:n,batched_scales:i,axes_length:r=.5,axes_radius:a=.0125,children:s},o){const l=ke.useRef(null),c=ke.useMemo(()=>new zm(a,a,r,16),[a,r]),u=ke.useMemo(()=>new uo,[]);ke.useEffect(()=>()=>{c.dispose(),u.dispose()},[c,u]);const f=ke.useMemo(()=>({T_frame_framex:new kt().makeRotationFromEuler(new li(0,0,3*Math.PI/2)).setPosition(.5*r,0,0),T_frame_framey:new kt().makeRotationFromEuler(new li(0,0,0)).setPosition(0,.5*r,0),T_frame_framez:new kt().makeRotationFromEuler(new li(Math.PI/2,0,0)).setPosition(0,0,.5*r),red:new Ut(13369344),green:new Ut(52224),blue:new Ut(204)}),[r]);ke.useEffect(()=>{if(!l.current)return;const m=new kt,x=new kt,_=new kt,E=new kt,A=new Hn,w=new Q,{T_frame_framex:T,T_frame_framey:k,T_frame_framez:N,red:D,green:P,blue:B}=f,G=new DataView(n.buffer,n.byteOffset,n.byteLength),H=new DataView(e.buffer,e.byteOffset,e.byteLength),V=i?new DataView(i.buffer,i.byteOffset,i.byteLength):null,U=e.byteLength/(4*4);for(let F=0;F<U;F++){const q=F*3*4,X=F*4*4,z=i&&i.byteLength===e.byteLength/4*3?F*3*4:F*4;if(V)if(i.byteLength===e.byteLength/4*3)w.set(V.getFloat32(z,!0),V.getFloat32(z+4,!0),V.getFloat32(z+8,!0));else{const oe=V.getFloat32(z,!0);w.set(oe,oe,oe)}else w.set(1,1,1);m.makeRotationFromQuaternion(A.set(H.getFloat32(X+4,!0),H.getFloat32(X+8,!0),H.getFloat32(X+12,!0),H.getFloat32(X,!0))).scale(w).setPosition(G.getFloat32(q,!0),G.getFloat32(q+4,!0),G.getFloat32(q+8,!0)),x.copy(m).multiply(T),_.copy(m).multiply(k),E.copy(m).multiply(N),l.current.setMatrixAt(F*3+0,x),l.current.setMatrixAt(F*3+1,_),l.current.setMatrixAt(F*3+2,E),l.current.setColorAt(F*3+0,D),l.current.setColorAt(F*3+1,P),l.current.setColorAt(F*3+2,B)}l.current.instanceMatrix.needsUpdate=!0,l.current.instanceColor.needsUpdate=!0},[e,n,i,f]);const h=ke.useMemo(()=>new zm(a,a,r,16),[a,r]),d=ke.useMemo(()=>({position:new Q(.5*r,0,0),rotation:new Hn().setFromEuler(new li(0,0,3*Math.PI/2)),scale:new Q(1,1,1)}),[r]),b=ke.useMemo(()=>({position:new Q(0,.5*r,0),rotation:new Hn().setFromEuler(new li(0,0,0)),scale:new Q(1,1,1)}),[r]),y=ke.useMemo(()=>({position:new Q(0,0,.5*r),rotation:new Hn().setFromEuler(new li(Math.PI/2,0,0)),scale:new Q(1,1,1)}),[r]),v=e.byteLength/(4*4)*3;return C.jsxs("group",{ref:o,children:[C.jsx("instancedMesh",{ref:l,args:[c,u,v]}),C.jsx(XE,{geometry:h,batched_positions:n,batched_wxyzs:e,batched_scales:i,meshTransform:d,computeBatchIndexFromInstanceIndex:m=>Math.floor(m/3)}),C.jsx(XE,{geometry:h,batched_positions:n,batched_wxyzs:e,batched_scales:i,meshTransform:b,computeBatchIndexFromInstanceIndex:m=>Math.floor(m/3)}),C.jsx(XE,{geometry:h,batched_positions:n,batched_wxyzs:e,batched_scales:i,meshTransform:y,computeBatchIndexFromInstanceIndex:m=>Math.floor(m/3)}),s]})}),GEe=ke.forwardRef(function({children:e,...n},i){const[r,a]=ke.useState();return ke.useEffect(()=>{if(n.props._format!==null&&n.props._data!==null){const s=URL.createObjectURL(new Blob([n.props._data],{type:"image/"+n.props._format}));new iy().load(s,o=>{a(o),URL.revokeObjectURL(s)})}},[n.props._format,n.props._data]),C.jsxs("group",{ref:i,children:[C.jsxs("mesh",{rotation:new li(Math.PI,0,0),castShadow:n.props.cast_shadow,receiveShadow:n.props.receive_shadow,children:[C.jsx(Wf,{}),C.jsx("planeGeometry",{attach:"geometry",args:[n.props.render_width,n.props.render_height]}),C.jsx("meshBasicMaterial",{attach:"material",transparent:!0,side:oa,map:r,toneMapped:!1})]}),e]})});function H$(t){return t[0]<<16|t[1]<<8|t[2]}function A5(t){const e=new bs(Uint8Array.from(t===3?[0,128,255]:[0,64,128,192,255]),t,1,yh);return e.needsUpdate=!0,e}function WEe(t){throw new Error(`Should never get here! ${t}`)}function T5(t){"map"in t&&t.map?.dispose(),"lightMap"in t&&t.lightMap?.dispose(),"bumpMap"in t&&t.bumpMap?.dispose(),"normalMap"in t&&t.normalMap?.dispose(),"specularMap"in t&&t.specularMap?.dispose(),"envMap"in t&&t.envMap?.dispose(),"alphaMap"in t&&t.alphaMap?.dispose(),"aoMap"in t&&t.aoMap?.dispose(),"displacementMap"in t&&t.displacementMap?.dispose(),"emissiveMap"in t&&t.emissiveMap?.dispose(),"gradientMap"in t&&t.gradientMap?.dispose(),"metalnessMap"in t&&t.metalnessMap?.dispose(),"roughnessMap"in t&&t.roughnessMap?.dispose(),t.dispose()}function L_(t){const e={color:t.color===void 0?16777215:H$(t.color),wireframe:t.wireframe,transparent:t.opacity!==null,opacity:t.opacity??1,side:{front:ou,back:Aa,double:oa}[t.side]};return t.material=="standard"||t.wireframe?new By({flatShading:t.flat_shading&&!t.wireframe,...e}):t.material=="toon3"?new RA({gradientMap:A5(3),...e}):t.material=="toon5"?new RA({gradientMap:A5(5),...e}):WEe(t.material)}const qEe=ke.forwardRef(function({children:e,...n},i){const[r,a]=ke.useState();ke.useEffect(()=>{if(n.props._format!==null&&n.props._image_data!==null){const v=URL.createObjectURL(new Blob([n.props._image_data],{type:"image/"+n.props._format}));new iy().load(v,m=>{a(m),URL.revokeObjectURL(v)})}else a(void 0)},[n.props._format,n.props._image_data]);let s=Math.tan(n.props.fov/2),o=s*n.props.aspect,l=1;const c=Math.cbrt(o*s*l/3);o/=c,s/=c,l/=c,o*=n.props.scale,s*=n.props.scale,l*=n.props.scale;const u=ke.useContext(Wy),[f,h]=ke.useState(!1);ca(()=>{u!==null&&u.state.current.isHovered!==f&&h(u.state.current.isHovered)});const d=[[-1,-1,1],[1,-1,1],[1,-1,1],[1,1,1],[1,1,1],[-1,1,1],[-1,1,1],[-1,-1,1],[-1,-1,1],[0,0,0],[0,0,0],[1,-1,1],[-1,1,1],[0,0,0],[0,0,0],[1,1,1],[0,-1.2,1],r===void 0?[0,-.9,1]:[0,-1,1]].map(v=>[v[0]*o,v[1]*s,v[2]*l]),b=ke.useMemo(()=>{if(n.props.variant!=="filled")return null;const v=new An,m=new Float32Array([0,0,0,-o,-s,l,o,-s,l,o,s,l,-o,s,l]),x=new Uint16Array([0,1,2,0,2,3,0,3,4,0,4,1,1,4,3,1,3,2]);return v.setAttribute("position",new In(m,3)),v.setIndex(new In(x,1)),v.computeVertexNormals(),v},[o,s,l,n.props.variant]),y=new Ut().setRGB(n.props.color[0]/255,n.props.color[1]/255,n.props.color[2]/255);return C.jsxs("group",{ref:i,children:[C.jsx(qm,{points:d,color:f?16514816:H$(n.props.color),lineWidth:f?1.5*n.props.line_width:n.props.line_width,segments:!0}),n.props.variant==="filled"&&b&&C.jsx("mesh",{geometry:b,children:C.jsx("meshBasicMaterial",{color:f?16514816:y,transparent:!0,opacity:.3,side:oa,depthWrite:!1})}),r&&C.jsxs("mesh",{position:[0,0,l*.999999],rotation:new li(Math.PI,0,0),castShadow:n.props.cast_shadow,receiveShadow:n.props.receive_shadow,children:[C.jsx("planeGeometry",{attach:"geometry",args:[n.props.aspect*s*2,s*2]}),C.jsx("meshBasicMaterial",{attach:"material",transparent:!0,side:oa,map:r,toneMapped:!1})]}),e]})});var XEe=(()=>{var t=import.meta.url;return async function(e={}){var n,i=e,r,a,s=new Promise((ee,te)=>{r=ee,a=te}),o=typeof window=="object",l=typeof importScripts=="function",c=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(c){const{createRequire:ee}=await Gwe(()=>import("./__vite-browser-external-BIHI7g3E.js"),[],import.meta.url);var u=ee(import.meta.url)}var f=Object.assign({},i),h="";function d(ee){return i.locateFile?i.locateFile(ee,h):h+ee}var b,y,v;if(c){var m=u("fs"),x=u("path");h=u("url").fileURLToPath(new URL("./",import.meta.url)),b=(ee,te)=>(ee=Tt(ee)?new URL(ee):x.normalize(ee),m.readFileSync(ee,te?void 0:"utf8")),v=ee=>{var te=b(ee,!0);return te.buffer||(te=new Uint8Array(te)),te},y=(ee,te,we,Ie=!0)=>{ee=Tt(ee)?new URL(ee):x.normalize(ee),m.readFile(ee,Ie?void 0:"utf8",(lt,Ct)=>{lt?we(lt):te(Ie?Ct.buffer:Ct)})},!i.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2)}else(o||l)&&(l?h=self.location.href:typeof document<"u"&&document.currentScript&&(h=document.currentScript.src),t&&(h=t),h.startsWith("blob:")?h="":h=h.substr(0,h.replace(/[?#].*/,"").lastIndexOf("/")+1),b=ee=>{var te=new XMLHttpRequest;return te.open("GET",ee,!1),te.send(null),te.responseText},l&&(v=ee=>{var te=new XMLHttpRequest;return te.open("GET",ee,!1),te.responseType="arraybuffer",te.send(null),new Uint8Array(te.response)}),y=(ee,te,we)=>{if(Tt(ee)){var Ie=new XMLHttpRequest;Ie.open("GET",ee,!0),Ie.responseType="arraybuffer",Ie.onload=()=>{if(Ie.status==200||Ie.status==0&&Ie.response){te(Ie.response);return}we()},Ie.onerror=we,Ie.send(null);return}fetch(ee,{credentials:"same-origin"}).then(lt=>lt.ok?lt.arrayBuffer():Promise.reject(new Error(lt.status+" : "+lt.url))).then(te,we)});i.print||console.log.bind(console);var _=i.printErr||console.error.bind(console);Object.assign(i,f),f=null,i.arguments&&i.arguments,i.thisProgram&&i.thisProgram,i.quit&&i.quit;var E;i.wasmBinary&&(E=i.wasmBinary);var A,w=!1,T,k,N,D,P,B,G,H;function V(){var ee=A.buffer;i.HEAP8=T=new Int8Array(ee),i.HEAP16=N=new Int16Array(ee),i.HEAPU8=k=new Uint8Array(ee),i.HEAPU16=D=new Uint16Array(ee),i.HEAP32=P=new Int32Array(ee),i.HEAPU32=B=new Uint32Array(ee),i.HEAPF32=G=new Float32Array(ee),i.HEAPF64=H=new Float64Array(ee)}var U=[],F=[],q=[];function X(){if(i.preRun)for(typeof i.preRun=="function"&&(i.preRun=[i.preRun]);i.preRun.length;)fe(i.preRun.shift());Et(U)}function z(){Et(F)}function oe(){if(i.postRun)for(typeof i.postRun=="function"&&(i.postRun=[i.postRun]);i.postRun.length;)Me(i.postRun.shift());Et(q)}function fe(ee){U.unshift(ee)}function K(ee){F.unshift(ee)}function Me(ee){q.unshift(ee)}var _e=0,pe=null;function xe(ee){_e++,i.monitorRunDependencies?.(_e)}function Oe(ee){if(_e--,i.monitorRunDependencies?.(_e),_e==0&&pe){var te=pe;pe=null,te()}}function Ge(ee){i.onAbort?.(ee),ee="Aborted("+ee+")",_(ee),w=!0,ee+=". Build with -sASSERTIONS for more info.";var te=new WebAssembly.RuntimeError(ee);throw a(te),te}var Ye="data:application/octet-stream;base64,",ct=ee=>ee.startsWith(Ye),Tt=ee=>ee.startsWith("file://");function he(){if(i.locateFile){var ee="Sorter.wasm";return ct(ee)?ee:d(ee)}return new URL(""+new URL("Sorter-Df0J3ZWJ.wasm",import.meta.url).href,import.meta.url).href}var Ve;function Be(ee){if(ee==Ve&&E)return new Uint8Array(E);if(v)return v(ee);throw"both async and sync fetching of the wasm failed"}function ot(ee){return E?Promise.resolve().then(()=>Be(ee)):new Promise((te,we)=>{y(ee,Ie=>te(new Uint8Array(Ie)),Ie=>{try{te(Be(ee))}catch(lt){we(lt)}})})}function Ae(ee,te,we){return ot(ee).then(Ie=>WebAssembly.instantiate(Ie,te)).then(we,Ie=>{_(`failed to asynchronously prepare wasm: ${Ie}`),Ge(Ie)})}function Ue(ee,te,we,Ie){return!ee&&typeof WebAssembly.instantiateStreaming=="function"&&!ct(te)&&!Tt(te)&&!c&&typeof fetch=="function"?fetch(te,{credentials:"same-origin"}).then(lt=>{var Ct=WebAssembly.instantiateStreaming(lt,we);return Ct.then(Ie,function(Bt){return _(`wasm streaming compile failed: ${Bt}`),_("falling back to ArrayBuffer instantiation"),Ae(te,we,Ie)})}):Ae(te,we,Ie)}function Ne(){return{a:hf}}function We(){var ee=Ne();function te(Ie,lt){return qs=Ie.exports,A=qs.z,V(),kn=qs.C,K(qs.A),Oe(),qs}xe();function we(Ie){te(Ie.instance)}if(i.instantiateWasm)try{return i.instantiateWasm(ee,te)}catch(Ie){_(`Module.instantiateWasm callback failed with error: ${Ie}`),a(Ie)}return Ve||(Ve=he()),Ue(E,Ve,ee,we).catch(a),{}}var Et=ee=>{for(;ee.length>0;)ee.shift()(i)};i.noExitRuntime;class vt{constructor(te){this.excPtr=te,this.ptr=te-24}set_type(te){B[this.ptr+4>>2]=te}get_type(){return B[this.ptr+4>>2]}set_destructor(te){B[this.ptr+8>>2]=te}get_destructor(){return B[this.ptr+8>>2]}set_caught(te){te=te?1:0,T[this.ptr+12]=te}get_caught(){return T[this.ptr+12]!=0}set_rethrown(te){te=te?1:0,T[this.ptr+13]=te}get_rethrown(){return T[this.ptr+13]!=0}init(te,we){this.set_adjusted_ptr(0),this.set_type(te),this.set_destructor(we)}set_adjusted_ptr(te){B[this.ptr+16>>2]=te}get_adjusted_ptr(){return B[this.ptr+16>>2]}get_exception_ptr(){var te=Xs(this.get_type());if(te)return B[this.excPtr>>2];var we=this.get_adjusted_ptr();return we!==0?we:this.excPtr}}var re=0,J=(ee,te,we)=>{var Ie=new vt(ee);throw Ie.init(te,we),re=ee,re},ue=()=>{Ge("")},se=(ee,te,we,Ie,lt)=>{},be=()=>{for(var ee=new Array(256),te=0;te<256;++te)ee[te]=String.fromCharCode(te);$=ee},$,Ke=ee=>{for(var te="",we=ee;k[we];)te+=$[k[we++]];return te},tt={},pt={},ze={},rt,$e=ee=>{throw new rt(ee)},Xt,Ot=ee=>{throw new Xt(ee)},ft=(ee,te,we)=>{ee.forEach(function(xt){ze[xt]=te});function Ie(xt){var Pt=we(xt);Pt.length!==ee.length&&Ot("Mismatched type converter count");for(var en=0;en<ee.length;++en)Re(ee[en],Pt[en])}var lt=new Array(te.length),Ct=[],Bt=0;te.forEach((xt,Pt)=>{pt.hasOwnProperty(xt)?lt[Pt]=pt[xt]:(Ct.push(xt),tt.hasOwnProperty(xt)||(tt[xt]=[]),tt[xt].push(()=>{lt[Pt]=pt[xt],++Bt,Bt===Ct.length&&Ie(lt)}))}),Ct.length===0&&Ie(lt)};function jt(ee,te,we={}){var Ie=te.name;if(ee||$e(`type "${Ie}" must have a positive integer typeid pointer`),pt.hasOwnProperty(ee)){if(we.ignoreDuplicateRegistrations)return;$e(`Cannot register type '${Ie}' twice`)}if(pt[ee]=te,delete ze[ee],tt.hasOwnProperty(ee)){var lt=tt[ee];delete tt[ee],lt.forEach(Ct=>Ct())}}function Re(ee,te,we={}){if(!("argPackAdvance"in te))throw new TypeError("registerType registeredInstance requires argPackAdvance");return jt(ee,te,we)}var Fe=8,wt=(ee,te,we,Ie)=>{te=Ke(te),Re(ee,{name:te,fromWireType:function(lt){return!!lt},toWireType:function(lt,Ct){return Ct?we:Ie},argPackAdvance:Fe,readValueFromPointer:function(lt){return this.fromWireType(k[lt])},destructorFunction:null})},Wt=ee=>({count:ee.count,deleteScheduled:ee.deleteScheduled,preservePointerOnDelete:ee.preservePointerOnDelete,ptr:ee.ptr,ptrType:ee.ptrType,smartPtr:ee.smartPtr,smartPtrType:ee.smartPtrType}),ut=ee=>{function te(we){return we.$$.ptrType.registeredClass.name}$e(te(ee)+" instance already deleted")},mt=!1,Mt=ee=>{},gn=ee=>{ee.smartPtr?ee.smartPtrType.rawDestructor(ee.smartPtr):ee.ptrType.registeredClass.rawDestructor(ee.ptr)},Gn=ee=>{ee.count.value-=1;var te=ee.count.value===0;te&&gn(ee)},jn=(ee,te,we)=>{if(te===we)return ee;if(we.baseClass===void 0)return null;var Ie=jn(ee,te,we.baseClass);return Ie===null?null:we.downcast(Ie)},Xi={},Wn=()=>Object.keys(dn).length,Zr=()=>{var ee=[];for(var te in dn)dn.hasOwnProperty(te)&&ee.push(dn[te]);return ee},Ii=[],tr=()=>{for(;Ii.length;){var ee=Ii.pop();ee.$$.deleteScheduled=!1,ee.delete()}},_i,Qr=ee=>{_i=ee,Ii.length&&_i&&_i(tr)},zi=()=>{i.getInheritedInstanceCount=Wn,i.getLiveInheritedInstances=Zr,i.flushPendingDeletes=tr,i.setDelayFunction=Qr},dn={},ga=(ee,te)=>{for(te===void 0&&$e("ptr should not be undefined");ee.baseClass;)te=ee.upcast(te),ee=ee.baseClass;return te},Ni=(ee,te)=>(te=ga(ee,te),dn[te]),ie=(ee,te)=>{(!te.ptrType||!te.ptr)&&Ot("makeClassHandle requires ptr and ptrType");var we=!!te.smartPtrType,Ie=!!te.smartPtr;return we!==Ie&&Ot("Both smartPtrType and smartPtr must be specified"),te.count={value:1},Te(Object.create(ee,{$$:{value:te,writable:!0}}))};function le(ee){var te=this.getPointee(ee);if(!te)return this.destructor(ee),null;var we=Ni(this.registeredClass,te);if(we!==void 0){if(we.$$.count.value===0)return we.$$.ptr=te,we.$$.smartPtr=ee,we.clone();var Ie=we.clone();return this.destructor(ee),Ie}function lt(){return this.isSmartPointer?ie(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:te,smartPtrType:this,smartPtr:ee}):ie(this.registeredClass.instancePrototype,{ptrType:this,ptr:ee})}var Ct=this.registeredClass.getActualType(te),Bt=Xi[Ct];if(!Bt)return lt.call(this);var xt;this.isConst?xt=Bt.constPointerType:xt=Bt.pointerType;var Pt=jn(te,this.registeredClass,xt.registeredClass);return Pt===null?lt.call(this):this.isSmartPointer?ie(xt.registeredClass.instancePrototype,{ptrType:xt,ptr:Pt,smartPtrType:this,smartPtr:ee}):ie(xt.registeredClass.instancePrototype,{ptrType:xt,ptr:Pt})}var Te=ee=>typeof FinalizationRegistry>"u"?(Te=te=>te,ee):(mt=new FinalizationRegistry(te=>{Gn(te.$$)}),Te=te=>{var we=te.$$,Ie=!!we.smartPtr;if(Ie){var lt={$$:we};mt.register(te,lt,te)}return te},Mt=te=>mt.unregister(te),Te(ee)),qe=()=>{Object.assign(at.prototype,{isAliasOf(ee){if(!(this instanceof at)||!(ee instanceof at))return!1;var te=this.$$.ptrType.registeredClass,we=this.$$.ptr;ee.$$=ee.$$;for(var Ie=ee.$$.ptrType.registeredClass,lt=ee.$$.ptr;te.baseClass;)we=te.upcast(we),te=te.baseClass;for(;Ie.baseClass;)lt=Ie.upcast(lt),Ie=Ie.baseClass;return te===Ie&&we===lt},clone(){if(this.$$.ptr||ut(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var ee=Te(Object.create(Object.getPrototypeOf(this),{$$:{value:Wt(this.$$)}}));return ee.$$.count.value+=1,ee.$$.deleteScheduled=!1,ee},delete(){this.$$.ptr||ut(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&$e("Object already scheduled for deletion"),Mt(this),Gn(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||ut(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&$e("Object already scheduled for deletion"),Ii.push(this),Ii.length===1&&_i&&_i(tr),this.$$.deleteScheduled=!0,this}})};function at(){}var Ze=(ee,te)=>Object.defineProperty(te,"name",{value:ee}),At=(ee,te,we)=>{if(ee[te].overloadTable===void 0){var Ie=ee[te];ee[te]=function(...lt){return ee[te].overloadTable.hasOwnProperty(lt.length)||$e(`Function '${we}' called with an invalid number of arguments (${lt.length}) - expects one of (${ee[te].overloadTable})!`),ee[te].overloadTable[lt.length].apply(this,lt)},ee[te].overloadTable=[],ee[te].overloadTable[Ie.argCount]=Ie}},Z=(ee,te,we)=>{i.hasOwnProperty(ee)?($e(`Cannot register public name '${ee}' twice`),At(i,ee,ee),i.hasOwnProperty(we)&&$e(`Cannot register multiple overloads of a function with the same number of arguments (${we})!`),i[ee].overloadTable[we]=te):i[ee]=te},me=48,Se=57,Ee=ee=>{if(ee===void 0)return"_unknown";ee=ee.replace(/[^a-zA-Z0-9_]/g,"$");var te=ee.charCodeAt(0);return te>=me&&te<=Se?`_${ee}`:ee};function ye(ee,te,we,Ie,lt,Ct,Bt,xt){this.name=ee,this.constructor=te,this.instancePrototype=we,this.rawDestructor=Ie,this.baseClass=lt,this.getActualType=Ct,this.upcast=Bt,this.downcast=xt,this.pureVirtualFunctions=[]}var dt=(ee,te,we)=>{for(;te!==we;)te.upcast||$e(`Expected null or instance of ${we.name}, got an instance of ${te.name}`),ee=te.upcast(ee),te=te.baseClass;return ee};function it(ee,te){if(te===null)return this.isReference&&$e(`null is not a valid ${this.name}`),0;te.$$||$e(`Cannot pass "${mu(te)}" as a ${this.name}`),te.$$.ptr||$e(`Cannot pass deleted object as a pointer of type ${this.name}`);var we=te.$$.ptrType.registeredClass,Ie=dt(te.$$.ptr,we,this.registeredClass);return Ie}function ht(ee,te){var we;if(te===null)return this.isReference&&$e(`null is not a valid ${this.name}`),this.isSmartPointer?(we=this.rawConstructor(),ee!==null&&ee.push(this.rawDestructor,we),we):0;(!te||!te.$$)&&$e(`Cannot pass "${mu(te)}" as a ${this.name}`),te.$$.ptr||$e(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&te.$$.ptrType.isConst&&$e(`Cannot convert argument of type ${te.$$.smartPtrType?te.$$.smartPtrType.name:te.$$.ptrType.name} to parameter type ${this.name}`);var Ie=te.$$.ptrType.registeredClass;if(we=dt(te.$$.ptr,Ie,this.registeredClass),this.isSmartPointer)switch(te.$$.smartPtr===void 0&&$e("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:te.$$.smartPtrType===this?we=te.$$.smartPtr:$e(`Cannot convert argument of type ${te.$$.smartPtrType?te.$$.smartPtrType.name:te.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:we=te.$$.smartPtr;break;case 2:if(te.$$.smartPtrType===this)we=te.$$.smartPtr;else{var lt=te.clone();we=this.rawShare(we,Pr.toHandle(()=>lt.delete())),ee!==null&&ee.push(this.rawDestructor,we)}break;default:$e("Unsupporting sharing policy")}return we}function bt(ee,te){if(te===null)return this.isReference&&$e(`null is not a valid ${this.name}`),0;te.$$||$e(`Cannot pass "${mu(te)}" as a ${this.name}`),te.$$.ptr||$e(`Cannot pass deleted object as a pointer of type ${this.name}`),te.$$.ptrType.isConst&&$e(`Cannot convert argument of type ${te.$$.ptrType.name} to parameter type ${this.name}`);var we=te.$$.ptrType.registeredClass,Ie=dt(te.$$.ptr,we,this.registeredClass);return Ie}function Dt(ee){return this.fromWireType(B[ee>>2])}var qt=()=>{Object.assign(Je.prototype,{getPointee(ee){return this.rawGetPointee&&(ee=this.rawGetPointee(ee)),ee},destructor(ee){this.rawDestructor?.(ee)},argPackAdvance:Fe,readValueFromPointer:Dt,fromWireType:le})};function Je(ee,te,we,Ie,lt,Ct,Bt,xt,Pt,en,rn){this.name=ee,this.registeredClass=te,this.isReference=we,this.isConst=Ie,this.isSmartPointer=lt,this.pointeeType=Ct,this.sharingPolicy=Bt,this.rawGetPointee=xt,this.rawConstructor=Pt,this.rawShare=en,this.rawDestructor=rn,!lt&&te.baseClass===void 0?Ie?(this.toWireType=it,this.destructorFunction=null):(this.toWireType=bt,this.destructorFunction=null):this.toWireType=ht}var nn=(ee,te,we)=>{i.hasOwnProperty(ee)||Ot("Replacing nonexistent public symbol"),i[ee].overloadTable!==void 0&&we!==void 0||(i[ee]=te,i[ee].argCount=we)},cn=(ee,te,we)=>{ee=ee.replace(/p/g,"i");var Ie=i["dynCall_"+ee];return Ie(te,...we)},un=[],kn,Jt=ee=>{var te=un[ee];return te||(ee>=un.length&&(un.length=ee+1),un[ee]=te=kn.get(ee)),te},Kt=(ee,te,we=[])=>{if(ee.includes("j"))return cn(ee,te,we);var Ie=Jt(te)(...we);return Ie},Xn=(ee,te)=>(...we)=>Kt(ee,te,we),yn=(ee,te)=>{ee=Ke(ee);function we(){return ee.includes("j")?Xn(ee,te):Jt(te)}var Ie=we();return typeof Ie!="function"&&$e(`unknown function pointer with signature ${ee}: ${te}`),Ie},yi=(ee,te)=>{var we=Ze(te,function(Ie){this.name=te,this.message=Ie;var lt=new Error(Ie).stack;lt!==void 0&&(this.stack=this.toString()+`
`+lt.replace(/^Error(:[^\n]*)?\n/,""))});return we.prototype=Object.create(ee.prototype),we.prototype.constructor=we,we.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},we},Fn,Tn=ee=>{var te=jo(ee),we=Ke(te);return Ua(te),we},_n=(ee,te)=>{var we=[],Ie={};function lt(Ct){if(!Ie[Ct]&&!pt[Ct]){if(ze[Ct]){ze[Ct].forEach(lt);return}we.push(Ct),Ie[Ct]=!0}}throw te.forEach(lt),new Fn(`${ee}: `+we.map(Tn).join([", "]))},fn=(ee,te,we,Ie,lt,Ct,Bt,xt,Pt,en,rn,Bn,Cn)=>{rn=Ke(rn),Ct=yn(lt,Ct),xt&&=yn(Bt,xt),en&&=yn(Pt,en),Cn=yn(Bn,Cn);var Vr=Ee(rn);Z(Vr,function(){_n(`Cannot construct ${rn} due to unbound types`,[Ie])}),ft([ee,te,we],Ie?[Ie]:[],$n=>{$n=$n[0];var Ac,Cr;Ie?(Ac=$n.registeredClass,Cr=Ac.instancePrototype):Cr=at.prototype;var Bo=Ze(rn,function(...ge){if(Object.getPrototypeOf(this)!==df)throw new rt("Use 'new' to construct "+rn);if(Ks.constructor_body===void 0)throw new rt(rn+" has no accessible constructor");var ve=Ks.constructor_body[ge.length];if(ve===void 0)throw new rt(`Tried to invoke ctor of ${rn} with invalid number of parameters (${ge.length}) - expected (${Object.keys(Ks.constructor_body).toString()}) parameters instead!`);return ve.apply(this,ge)}),df=Object.create(Cr,{constructor:{value:Bo}});Bo.prototype=df;var Ks=new ye(rn,Bo,df,Cn,Ac,Ct,xt,en);Ks.baseClass&&(Ks.baseClass.__derivedClasses??=[],Ks.baseClass.__derivedClasses.push(Ks));var Eh=new Je(rn,Ks,!0,!1,!1),Y=new Je(rn+"*",Ks,!1,!1,!1),ae=new Je(rn+" const*",Ks,!1,!0,!1);return Xi[ee]={pointerType:Y,constPointerType:ae},nn(Vr,Bo),[Eh,Y,ae]})},ui=(ee,te)=>{for(var we=[],Ie=0;Ie<ee;Ie++)we.push(B[te+Ie*4>>2]);return we},Ki=ee=>{for(;ee.length;){var te=ee.pop(),we=ee.pop();we(te)}};function ei(ee){for(var te=1;te<ee.length;++te)if(ee[te]!==null&&ee[te].destructorFunction===void 0)return!0;return!1}function Mi(ee,te){if(!(ee instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof ee} which is not a function`);var we=Ze(ee.name||"unknownFunctionName",function(){});we.prototype=ee.prototype;var Ie=new we,lt=ee.apply(Ie,te);return lt instanceof Object?lt:Ie}function Hs(ee,te,we,Ie){for(var lt=ei(ee),Ct=ee.length,Bt="",xt="",Pt=0;Pt<Ct-2;++Pt)Bt+=(Pt!==0?", ":"")+"arg"+Pt,xt+=(Pt!==0?", ":"")+"arg"+Pt+"Wired";var en=`
        return function (${Bt}) {
        if (arguments.length !== ${Ct-2}) {
          throwBindingError('function ' + humanName + ' called with ' + arguments.length + ' arguments, expected ${Ct-2}');
        }`;lt&&(en+=`var destructors = [];
`);var rn=lt?"destructors":"null",Bn=["humanName","throwBindingError","invoker","fn","runDestructors","retType","classParam"];te&&(en+="var thisWired = classParam['toWireType']("+rn+`, this);
`);for(var Pt=0;Pt<Ct-2;++Pt)en+="var arg"+Pt+"Wired = argType"+Pt+"['toWireType']("+rn+", arg"+Pt+`);
`,Bn.push("argType"+Pt);if(te&&(xt="thisWired"+(xt.length>0?", ":"")+xt),en+=(we||Ie?"var rv = ":"")+"invoker(fn"+(xt.length>0?", ":"")+xt+`);
`,lt)en+=`runDestructors(destructors);
`;else for(var Pt=te?1:2;Pt<ee.length;++Pt){var Cn=Pt===1?"thisWired":"arg"+(Pt-2)+"Wired";ee[Pt].destructorFunction!==null&&(en+=`${Cn}_dtor(${Cn});
`,Bn.push(`${Cn}_dtor`))}return we&&(en+=`var ret = retType['fromWireType'](rv);
return ret;
`),en+=`}
`,[Bn,en]}function pr(ee,te,we,Ie,lt,Ct){var Bt=te.length;Bt<2&&$e("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var xt=te[1]!==null&&we!==null,Pt=ei(te),en=te[0].name!=="void",rn=[ee,$e,Ie,lt,Ki,te[0],te[1]],Bn=0;Bn<Bt-2;++Bn)rn.push(te[Bn+2]);if(!Pt)for(var Bn=xt?1:2;Bn<te.length;++Bn)te[Bn].destructorFunction!==null&&rn.push(te[Bn].destructorFunction);let[Cn,Vr]=Hs(te,xt,en,Ct);Cn.push(Vr);var $n=Mi(Function,Cn)(...rn);return Ze(ee,$n)}var cf=(ee,te,we,Ie,lt,Ct)=>{var Bt=ui(te,we);lt=yn(Ie,lt),ft([],[ee],xt=>{xt=xt[0];var Pt=`constructor ${xt.name}`;if(xt.registeredClass.constructor_body===void 0&&(xt.registeredClass.constructor_body=[]),xt.registeredClass.constructor_body[te-1]!==void 0)throw new rt(`Cannot register multiple constructors with identical number of parameters (${te-1}) for class '${xt.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return xt.registeredClass.constructor_body[te-1]=()=>{_n(`Cannot construct ${xt.name} due to unbound types`,Bt)},ft([],Bt,en=>(en.splice(1,0,null),xt.registeredClass.constructor_body[te-1]=pr(Pt,en,null,lt,Ct),[])),[]})},Lo=ee=>{ee=ee.trim();const te=ee.indexOf("(");return te!==-1?ee.substr(0,te):ee},wc=(ee,te,we,Ie,lt,Ct,Bt,xt,Pt)=>{var en=ui(we,Ie);te=Ke(te),te=Lo(te),Ct=yn(lt,Ct),ft([],[ee],rn=>{rn=rn[0];var Bn=`${rn.name}.${te}`;te.startsWith("@@")&&(te=Symbol[te.substring(2)]),xt&&rn.registeredClass.pureVirtualFunctions.push(te);function Cn(){_n(`Cannot call ${Bn} due to unbound types`,en)}var Vr=rn.registeredClass.instancePrototype,$n=Vr[te];return $n===void 0||$n.overloadTable===void 0&&$n.className!==rn.name&&$n.argCount===we-2?(Cn.argCount=we-2,Cn.className=rn.name,Vr[te]=Cn):(At(Vr,te,Bn),Vr[te].overloadTable[we-2]=Cn),ft([],en,Ac=>{var Cr=pr(Bn,Ac,rn,Ct,Bt,Pt);return Vr[te].overloadTable===void 0?(Cr.argCount=we-2,Vr[te]=Cr):Vr[te].overloadTable[we-2]=Cr,[]}),[]})},Po=[],Sn=[],Vs=ee=>{ee>9&&--Sn[ee+1]===0&&(Sn[ee]=void 0,Po.push(ee))},El=()=>Sn.length/2-5-Po.length,Ec=()=>{Sn.push(0,1,void 0,1,null,1,!0,1,!1,1),i.count_emval_handles=El},Pr={toValue:ee=>(ee||$e("Cannot use deleted val. handle = "+ee),Sn[ee]),toHandle:ee=>{switch(ee){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const te=Po.pop()||Sn.length;return Sn[te]=ee,Sn[te+1]=1,te}}}},uf={name:"emscripten::val",fromWireType:ee=>{var te=Pr.toValue(ee);return Vs(ee),te},toWireType:(ee,te)=>Pr.toHandle(te),argPackAdvance:Fe,readValueFromPointer:Dt,destructorFunction:null},Uo=ee=>Re(ee,uf),mu=ee=>{if(ee===null)return"null";var te=typeof ee;return te==="object"||te==="array"||te==="function"?ee.toString():""+ee},S=(ee,te)=>{switch(te){case 4:return function(we){return this.fromWireType(G[we>>2])};case 8:return function(we){return this.fromWireType(H[we>>3])};default:throw new TypeError(`invalid float width (${te}): ${ee}`)}},O=(ee,te,we)=>{te=Ke(te),Re(ee,{name:te,fromWireType:Ie=>Ie,toWireType:(Ie,lt)=>lt,argPackAdvance:Fe,readValueFromPointer:S(te,we),destructorFunction:null})},W=(ee,te,we)=>{switch(te){case 1:return we?Ie=>T[Ie]:Ie=>k[Ie];case 2:return we?Ie=>N[Ie>>1]:Ie=>D[Ie>>1];case 4:return we?Ie=>P[Ie>>2]:Ie=>B[Ie>>2];default:throw new TypeError(`invalid integer width (${te}): ${ee}`)}},ne=(ee,te,we,Ie,lt)=>{te=Ke(te);var Ct=rn=>rn;if(Ie===0){var Bt=32-8*we;Ct=rn=>rn<<Bt>>>Bt}var xt=te.includes("unsigned"),Pt=(rn,Bn)=>{},en;xt?en=function(rn,Bn){return Pt(Bn,this.name),Bn>>>0}:en=function(rn,Bn){return Pt(Bn,this.name),Bn},Re(ee,{name:te,fromWireType:Ct,toWireType:en,argPackAdvance:Fe,readValueFromPointer:W(te,we,Ie!==0),destructorFunction:null})},de=(ee,te,we)=>{var Ie=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],lt=Ie[te];function Ct(Bt){var xt=B[Bt>>2],Pt=B[Bt+4>>2];return new lt(T.buffer,Pt,xt)}we=Ke(we),Re(ee,{name:we,fromWireType:Ct,argPackAdvance:Fe,readValueFromPointer:Ct},{ignoreDuplicateRegistrations:!0})},Pe=(ee,te,we,Ie)=>{if(!(Ie>0))return 0;for(var lt=we,Ct=we+Ie-1,Bt=0;Bt<ee.length;++Bt){var xt=ee.charCodeAt(Bt);if(xt>=55296&&xt<=57343){var Pt=ee.charCodeAt(++Bt);xt=65536+((xt&1023)<<10)|Pt&1023}if(xt<=127){if(we>=Ct)break;te[we++]=xt}else if(xt<=2047){if(we+1>=Ct)break;te[we++]=192|xt>>6,te[we++]=128|xt&63}else if(xt<=65535){if(we+2>=Ct)break;te[we++]=224|xt>>12,te[we++]=128|xt>>6&63,te[we++]=128|xt&63}else{if(we+3>=Ct)break;te[we++]=240|xt>>18,te[we++]=128|xt>>12&63,te[we++]=128|xt>>6&63,te[we++]=128|xt&63}}return te[we]=0,we-lt},Xe=(ee,te,we)=>Pe(ee,k,te,we),It=ee=>{for(var te=0,we=0;we<ee.length;++we){var Ie=ee.charCodeAt(we);Ie<=127?te++:Ie<=2047?te+=2:Ie>=55296&&Ie<=57343?(te+=4,++we):te+=3}return te},Ft=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,mn=(ee,te,we)=>{for(var Ie=te+we,lt=te;ee[lt]&&!(lt>=Ie);)++lt;if(lt-te>16&&ee.buffer&&Ft)return Ft.decode(ee.subarray(te,lt));for(var Ct="";te<lt;){var Bt=ee[te++];if(!(Bt&128)){Ct+=String.fromCharCode(Bt);continue}var xt=ee[te++]&63;if((Bt&224)==192){Ct+=String.fromCharCode((Bt&31)<<6|xt);continue}var Pt=ee[te++]&63;if((Bt&240)==224?Bt=(Bt&15)<<12|xt<<6|Pt:Bt=(Bt&7)<<18|xt<<12|Pt<<6|ee[te++]&63,Bt<65536)Ct+=String.fromCharCode(Bt);else{var en=Bt-65536;Ct+=String.fromCharCode(55296|en>>10,56320|en&1023)}}return Ct},En=(ee,te)=>ee?mn(k,ee,te):"",Ai=(ee,te)=>{te=Ke(te);var we=te==="std::string";Re(ee,{name:te,fromWireType(Ie){var lt=B[Ie>>2],Ct=Ie+4,Bt;if(we)for(var xt=Ct,Pt=0;Pt<=lt;++Pt){var en=Ct+Pt;if(Pt==lt||k[en]==0){var rn=en-xt,Bn=En(xt,rn);Bt===void 0?Bt=Bn:(Bt+="\0",Bt+=Bn),xt=en+1}}else{for(var Cn=new Array(lt),Pt=0;Pt<lt;++Pt)Cn[Pt]=String.fromCharCode(k[Ct+Pt]);Bt=Cn.join("")}return Ua(Ie),Bt},toWireType(Ie,lt){lt instanceof ArrayBuffer&&(lt=new Uint8Array(lt));var Ct,Bt=typeof lt=="string";Bt||lt instanceof Uint8Array||lt instanceof Uint8ClampedArray||lt instanceof Int8Array||$e("Cannot pass non-string to std::string"),we&&Bt?Ct=It(lt):Ct=lt.length;var xt=Ms(4+Ct+1),Pt=xt+4;if(B[xt>>2]=Ct,we&&Bt)Xe(lt,Pt,Ct+1);else if(Bt)for(var en=0;en<Ct;++en){var rn=lt.charCodeAt(en);rn>255&&(Ua(Pt),$e("String has UTF-16 code units that do not fit in 8 bits")),k[Pt+en]=rn}else for(var en=0;en<Ct;++en)k[Pt+en]=lt[en];return Ie!==null&&Ie.push(Ua,xt),xt},argPackAdvance:Fe,readValueFromPointer:Dt,destructorFunction(Ie){Ua(Ie)}})},Mn=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Si=(ee,te)=>{for(var we=ee,Ie=we>>1,lt=Ie+te/2;!(Ie>=lt)&&D[Ie];)++Ie;if(we=Ie<<1,we-ee>32&&Mn)return Mn.decode(k.subarray(ee,we));for(var Ct="",Bt=0;!(Bt>=te/2);++Bt){var xt=N[ee+Bt*2>>1];if(xt==0)break;Ct+=String.fromCharCode(xt)}return Ct},ba=(ee,te,we)=>{if(we??=2147483647,we<2)return 0;we-=2;for(var Ie=te,lt=we<ee.length*2?we/2:ee.length,Ct=0;Ct<lt;++Ct){var Bt=ee.charCodeAt(Ct);N[te>>1]=Bt,te+=2}return N[te>>1]=0,te-Ie},lr=ee=>ee.length*2,Yi=(ee,te)=>{for(var we=0,Ie="";!(we>=te/4);){var lt=P[ee+we*4>>2];if(lt==0)break;if(++we,lt>=65536){var Ct=lt-65536;Ie+=String.fromCharCode(55296|Ct>>10,56320|Ct&1023)}else Ie+=String.fromCharCode(lt)}return Ie},Ji=(ee,te,we)=>{if(we??=2147483647,we<4)return 0;for(var Ie=te,lt=Ie+we-4,Ct=0;Ct<ee.length;++Ct){var Bt=ee.charCodeAt(Ct);if(Bt>=55296&&Bt<=57343){var xt=ee.charCodeAt(++Ct);Bt=65536+((Bt&1023)<<10)|xt&1023}if(P[te>>2]=Bt,te+=4,te+4>lt)break}return P[te>>2]=0,te-Ie},wi=ee=>{for(var te=0,we=0;we<ee.length;++we){var Ie=ee.charCodeAt(we);Ie>=55296&&Ie<=57343&&++we,te+=4}return te},Fo=(ee,te,we)=>{we=Ke(we);var Ie,lt,Ct,Bt;te===2?(Ie=Si,lt=ba,Bt=lr,Ct=xt=>D[xt>>1]):te===4&&(Ie=Yi,lt=Ji,Bt=wi,Ct=xt=>B[xt>>2]),Re(ee,{name:we,fromWireType:xt=>{for(var Pt=B[xt>>2],en,rn=xt+4,Bn=0;Bn<=Pt;++Bn){var Cn=xt+4+Bn*te;if(Bn==Pt||Ct(Cn)==0){var Vr=Cn-rn,$n=Ie(rn,Vr);en===void 0?en=$n:(en+="\0",en+=$n),rn=Cn+te}}return Ua(xt),en},toWireType:(xt,Pt)=>{typeof Pt!="string"&&$e(`Cannot pass non-string to C++ string type ${we}`);var en=Bt(Pt),rn=Ms(4+en+te);return B[rn>>2]=en/te,lt(Pt,rn+4,en+te),xt!==null&&xt.push(Ua,rn),rn},argPackAdvance:Fe,readValueFromPointer:Dt,destructorFunction(xt){Ua(xt)}})},ff=(ee,te)=>{te=Ke(te),Re(ee,{isVoid:!0,name:te,argPackAdvance:0,fromWireType:()=>{},toWireType:(we,Ie)=>{}})},Zd=(ee,te,we)=>k.copyWithin(ee,te,te+we),Gs=(ee,te)=>{var we=pt[ee];return we===void 0&&$e(`${te} has unknown type ${Tn(ee)}`),we},Es=(ee,te,we)=>{var Ie=[],lt=ee.toWireType(Ie,we);return Ie.length&&(B[te>>2]=Pr.toHandle(Ie)),lt},Zy=(ee,te,we)=>(ee=Pr.toValue(ee),te=Gs(te,"emval::as"),Es(te,we,ee)),ua={},Qd=ee=>{var te=ua[ee];return te===void 0?Ke(ee):te},_h=[],go=(ee,te,we,Ie,lt)=>(ee=_h[ee],te=Pr.toValue(te),we=Qd(we),ee(te,te[we],Ie,lt)),zo=ee=>{var te=_h.length;return _h.push(ee),te},Ml=(ee,te)=>{for(var we=new Array(ee),Ie=0;Ie<ee;++Ie)we[Ie]=Gs(B[te+Ie*4>>2],"parameter "+Ie);return we},bo=(ee,te,we)=>{var Ie=Ml(ee,te),lt=Ie.shift();ee--;var Ct=`return function (obj, func, destructorsRef, args) {
`,Bt=0,xt=[];we===0&&xt.push("obj");for(var Pt=["retType"],en=[lt],rn=0;rn<ee;++rn)xt.push("arg"+rn),Pt.push("argType"+rn),en.push(Ie[rn]),Ct+=`  var arg${rn} = argType${rn}.readValueFromPointer(args${Bt?"+"+Bt:""});
`,Bt+=Ie[rn].argPackAdvance;var Bn=we===1?"new func":"func.call";Ct+=`  var rv = ${Bn}(${xt.join(", ")});
`,lt.isVoid||(Pt.push("emval_returnValue"),en.push(Es),Ct+=`  return emval_returnValue(retType, destructorsRef, rv);
`),Ct+=`};
`,Pt.push(Ct);var Cn=Mi(Function,Pt)(...en),Vr=`methodCaller<(${Ie.map($n=>$n.name).join(", ")}) => ${lt.name}>`;return zo(Ze(Vr,Cn))},ep=(ee,te)=>(ee=Pr.toValue(ee),te=Pr.toValue(te),Pr.toHandle(ee[te])),Ws=ee=>{ee>9&&(Sn[ee+1]+=1)},dg=ee=>Pr.toHandle(Qd(ee)),tp=ee=>{var te=Pr.toValue(ee);Ki(te),Vs(ee)},Sh=(ee,te)=>{ee=Gs(ee,"_emval_take_value");var we=ee.readValueFromPointer(te);return Pr.toHandle(we)},Mc=()=>1073741824,gu=ee=>{var te=A.buffer,we=(ee-te.byteLength+65535)/65536;try{return A.grow(we),V(),1}catch{}},np=ee=>{var te=k.length;ee>>>=0;var we=Mc();if(ee>we)return!1;for(var Ie=(Pt,en)=>Pt+(en-Pt%en)%en,lt=1;lt<=4;lt*=2){var Ct=te*(1+.2/lt);Ct=Math.min(Ct,ee+100663296);var Bt=Math.min(we,Ie(Math.max(ee,Ct),65536)),xt=gu(Bt);if(xt)return!0}return!1};be(),rt=i.BindingError=class extends Error{constructor(te){super(te),this.name="BindingError"}},Xt=i.InternalError=class extends Error{constructor(te){super(te),this.name="InternalError"}},qe(),zi(),qt(),Fn=i.UnboundTypeError=yi(Error,"UnboundTypeError"),Ec();var hf={n:J,t:ue,s:se,x:wt,r:fn,q:cf,k:wc,w:Uo,m:O,c:ne,a:de,l:Ai,f:Fo,y:ff,v:Zd,h:Zy,o:go,b:Vs,p:bo,i:ep,g:Ws,j:dg,d:tp,e:Sh,u:np},qs=We(),jo=ee=>(jo=qs.B)(ee),Ms=ee=>(Ms=qs.D)(ee),Ua=ee=>(Ua=qs.E)(ee),Xs=ee=>(Xs=qs.F)(ee);i.addOnPostRun=Me;var Al;pe=function ee(){Al||wh(),Al||(pe=ee)};function wh(){if(_e>0||(X(),_e>0))return;function ee(){Al||(Al=!0,i.calledRun=!0,!w&&(z(),r(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),oe()))}i.setStatus?(i.setStatus("Running..."),setTimeout(function(){setTimeout(function(){i.setStatus("")},1),ee()},1)):ee()}if(i.preInit)for(typeof i.preInit=="function"&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();return wh(),n=s,n}})();function KEe(t){return new Worker(""+new URL("SplatSortWorker-DiSpcAPr.js",import.meta.url).href,{type:"module",name:t?.name})}const rs=[];for(let t=0;t<256;++t)rs.push((t+256).toString(16).slice(1));function YEe(t,e=0){return(rs[t[e+0]]+rs[t[e+1]]+rs[t[e+2]]+rs[t[e+3]]+"-"+rs[t[e+4]]+rs[t[e+5]]+"-"+rs[t[e+6]]+rs[t[e+7]]+"-"+rs[t[e+8]]+rs[t[e+9]]+"-"+rs[t[e+10]]+rs[t[e+11]]+rs[t[e+12]]+rs[t[e+13]]+rs[t[e+14]]+rs[t[e+15]]).toLowerCase()}let Yk;const JEe=new Uint8Array(16);function $Ee(){if(!Yk){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Yk=crypto.getRandomValues.bind(crypto)}return Yk(JEe)}const ZEe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),C5={randomUUID:ZEe};function V$(t,e,n){if(C5.randomUUID&&!t)return C5.randomUUID();t=t||{};const i=t.random??t.rng?.()??$Ee();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,YEe(i)}const QEe=XC({numGaussians:0,focal:[1,1],viewport:[640,480],near:1,far:100,depthTest:!0,depthWrite:!1,transparent:!0,textureBuffer:null,textureT_camera_groups:null,transitionInState:0},`precision highp usampler2D; // Most important: ints must be 32-bit.
  precision mediump float;

  // Index from the splat sorter.
  attribute uint sortedIndex;

  // Buffers for splat data; each Gaussian gets 4 floats and 4 int32s. We just
  // copy quadjr for this.
  uniform usampler2D textureBuffer;

  // We could also use a uniform to store transforms, but this would be more
  // limiting in terms of the # of groups we can have.
  uniform sampler2D textureT_camera_groups;

  // Various other uniforms...
  uniform uint numGaussians;
  uniform vec2 focal;
  uniform vec2 viewport;
  uniform float near;
  uniform float far;

  // Fade in state between [0, 1].
  uniform float transitionInState;

  out vec4 vRgba;
  out vec2 vPosition;

  // Function to fetch and construct the i-th transform matrix using texelFetch
  mat4 getGroupTransform(uint i) {
    // Calculate the base index for the i-th transform.
    uint baseIndex = i * 3u;

    // Fetch the texels that represent the first 3 rows of the transform. We
    // choose to use row-major here, since it lets us exclude the fourth row of
    // the matrix.
    vec4 row0 = texelFetch(textureT_camera_groups, ivec2(baseIndex + 0u, 0), 0);
    vec4 row1 = texelFetch(textureT_camera_groups, ivec2(baseIndex + 1u, 0), 0);
    vec4 row2 = texelFetch(textureT_camera_groups, ivec2(baseIndex + 2u, 0), 0);

    // Construct the mat4 with the fetched rows.
    mat4 transform = mat4(row0, row1, row2, vec4(0.0, 0.0, 0.0, 1.0));
    return transpose(transform);
  }

  void main () {
    // Get position + scale from float buffer.
    ivec2 texSize = textureSize(textureBuffer, 0);
    uint texStart = sortedIndex << 1u;
    ivec2 texPos0 = ivec2(texStart % uint(texSize.x), texStart / uint(texSize.x));


    // Fetch from textures.
    uvec4 floatBufferData = texelFetch(textureBuffer, texPos0, 0);
    mat4 T_camera_group = getGroupTransform(floatBufferData.w);

    // Any early return will discard the fragment.
    gl_Position = vec4(0.0, 0.0, 2.0, 1.0);

    // Get center wrt camera. modelViewMatrix is T_cam_world.
    vec3 center = uintBitsToFloat(floatBufferData.xyz);
    vec4 c_cam = T_camera_group * vec4(center, 1);
    if (-c_cam.z < near || -c_cam.z > far)
      return;
    vec4 pos2d = projectionMatrix * c_cam;
    float clip = 1.1 * pos2d.w;
    if (pos2d.x < -clip || pos2d.x > clip || pos2d.y < -clip || pos2d.y > clip)
      return;

    // Read covariance terms.
    ivec2 texPos1 = ivec2((texStart + 1u) % uint(texSize.x), (texStart + 1u) / uint(texSize.x));
    uvec4 intBufferData = texelFetch(textureBuffer, texPos1, 0);

    // Get covariance terms from int buffer.
    uint rgbaUint32 = intBufferData.w;
    vec2 triu01 = unpackHalf2x16(intBufferData.x);
    vec2 triu23 = unpackHalf2x16(intBufferData.y);
    vec2 triu45 = unpackHalf2x16(intBufferData.z);

    // Transition in.
    float startTime = 0.8 * float(sortedIndex) / float(numGaussians);
    float cov_scale = smoothstep(startTime, startTime + 0.2, transitionInState);

    // Do the actual splatting.
    mat3 cov3d = mat3(
        triu01.x, triu01.y, triu23.x,
        triu01.y, triu23.y, triu45.x,
        triu23.x, triu45.x, triu45.y
    );
    mat3 J = mat3(
        // Matrices are column-major.
        focal.x / c_cam.z, 0., 0.0,
        0., focal.y / c_cam.z, 0.0,
        -(focal.x * c_cam.x) / (c_cam.z * c_cam.z), -(focal.y * c_cam.y) / (c_cam.z * c_cam.z), 0.
    );
    mat3 A = J * mat3(T_camera_group);
    mat3 cov_proj = A * cov3d * transpose(A);
    float diag1 = cov_proj[0][0] + 0.3;
    float offDiag = cov_proj[0][1];
    float diag2 = cov_proj[1][1] + 0.3;

    // Eigendecomposition.
    float mid = 0.5 * (diag1 + diag2);
    float radius = length(vec2((diag1 - diag2) / 2.0, offDiag));
    float lambda1 = mid + radius;
    float lambda2 = mid - radius;
    if (lambda2 < 0.0)
      return;
    vec2 diagonalVector = normalize(vec2(offDiag, lambda1 - diag1));
    vec2 v1 = min(sqrt(2.0 * lambda1), 1024.0) * diagonalVector;
    vec2 v2 = min(sqrt(2.0 * lambda2), 1024.0) * vec2(diagonalVector.y, -diagonalVector.x);

    vRgba = vec4(
      float(rgbaUint32 & uint(0xFF)) / 255.0,
      float((rgbaUint32 >> uint(8)) & uint(0xFF)) / 255.0,
      float((rgbaUint32 >> uint(16)) & uint(0xFF)) / 255.0,
      float(rgbaUint32 >> uint(24)) / 255.0
    );

    // Throw the Gaussian off the screen if it's too close, too far, or too small.
    float weightedDeterminant = vRgba.a * (diag1 * diag2 - offDiag * offDiag);
    if (weightedDeterminant < 0.25)
      return;
    vPosition = position.xy;

    gl_Position = vec4(
        vec2(pos2d) / pos2d.w
            + position.x * v1 / viewport * 2.0
            + position.y * v2 / viewport * 2.0, pos2d.z / pos2d.w, 1.);
  }
`,`precision mediump float;

  uniform vec2 viewport;
  uniform vec2 focal;

  in vec4 vRgba;
  in vec2 vPosition;

  void main () {
    float A = -dot(vPosition, vPosition);
    if (A < -4.0) discard;
    float B = exp(A) * vRgba.a;
    if (B < 0.01) discard;  // alphaTest.
    gl_FragColor = vec4(vRgba.rgb, B);
  }`);function eMe(t,e){const n=t.length/8,i=mi(d=>d.gl).capabilities.maxTextureSize,r=new jC;r.instanceCount=n,r.setIndex(new In(new Uint32Array([0,2,1,0,3,2]),1)),r.setAttribute("position",new In(new Float32Array([-2,-2,2,-2,2,2,-2,2]),2));const a=new uh(new Uint32Array(n),1);a.setUsage(EA),r.setAttribute("sortedIndex",a);const s=Math.min(n*2,i),o=Math.ceil(n*2/s),l=new Uint32Array(s*o*4);l.set(t);const c=new bs(l,s,o,Py,dc);c.internalFormat="RGBA32UI",c.needsUpdate=!0;const u=new Float32Array(e*12),f=new bs(u,e*12/4,1,Yr,yr);f.internalFormat="RGBA32F",f.needsUpdate=!0;const h=new QEe;return h.textureBuffer=c,h.textureT_camera_groups=f,h.numGaussians=n,h.focal=[640,480],{geometry:r,material:h,textureBuffer:c,sortedIndexAttribute:a,textureT_camera_groups:f,rowMajorT_camera_groups:u}}function tMe(){const t=ke.useRef({});return ke.useState(()=>I_(e=>({groupBufferFromId:{},nodeRefFromId:t,setBuffer:(n,i)=>e(r=>({groupBufferFromId:{...r.groupBufferFromId,[n]:i}})),removeBuffer:n=>e(i=>{const{[n]:r,...a}=i.groupBufferFromId;return{groupBufferFromId:a}})})))[0]}const P_=ke.createContext(null);function nMe({children:t}){const e=tMe();return C.jsxs(P_.Provider,{value:{useGaussianSplatStore:e,updateCamera:ke.useRef(null),meshPropsRef:ke.useRef(null)},children:[C.jsx(rMe,{}),t]})}const iMe=ke.forwardRef(function({buffer:e,children:n},i){const r=ke.useContext(P_),a=r.useGaussianSplatStore(c=>c.setBuffer),s=r.useGaussianSplatStore(c=>c.removeBuffer),o=r.useGaussianSplatStore(c=>c.nodeRefFromId),l=ke.useMemo(()=>V$(),[e]);return ke.useEffect(()=>(a(l,e),()=>{s(l),delete o.current[l]}),[e]),C.jsx("group",{ref:c=>{c!==null&&(i!==null&&("current"in i?i.current=c:i(c)),o.current[l]=c)},children:n})});function rMe(){const e=ke.useContext(P_).useGaussianSplatStore(n=>n.groupBufferFromId);return Object.keys(e).length>0?C.jsx(aMe,{}):null}function aMe(){const t=ke.useContext(P_),e=t.useGaussianSplatStore(y=>y.groupBufferFromId),n=t.useGaussianSplatStore(y=>y.nodeRefFromId),i=sMe(e),r=eMe(i.gaussianBuffer,i.numGroups);t.meshPropsRef.current=r;const a=new KEe;let s=!1;a.onmessage=y=>{const v=y.data.sortedIndices;r.sortedIndexAttribute.set(v),r.sortedIndexAttribute.needsUpdate=!0,s||(r.material.uniforms.numGaussians.value=i.numGaussians,r.textureBuffer.needsUpdate=!0,s=!0)};function o(y){a.postMessage(y)}o({setBuffer:i.gaussianBuffer,setGroupIndices:i.groupIndices}),ke.useEffect(()=>()=>{r.textureBuffer.dispose(),r.geometry.dispose(),r.material.dispose(),o({close:!0})});const l=ke.useRef(null),c=new kt,u=new Float32Array(i.numGroups*4),f=r.rowMajorT_camera_groups.slice().fill(0),h=[],d=ke.useRef(null);ke.useEffect(()=>{(async()=>d.current=new(await XEe()).Sorter(i.gaussianBuffer,i.groupIndices))()},[i.gaussianBuffer,i.groupIndices]);const b=ke.useCallback(function(v,m,x,_){const E=v.fov*Math.PI/180,A=m/x,w=2*Math.atan(Math.tan(E/2)*A),T=x/(2*Math.tan(E/2)),k=m/(2*Math.tan(w/2));if(r.material===void 0)return;const N=r.material.uniforms;N.focal.value=[k,T],N.near.value=v.near,N.far.value=v.far,N.viewport.value=[m,x],v.updateMatrixWorld();const D=v.matrixWorldInverse,P=[];let B=!1;for(const[H,V]of Object.keys(e).entries()){const U=n.current[V];if(U===void 0)continue;c.copy(D).multiply(U.matrixWorld);const F=c.elements;u.set([F[2],F[6],F[10],F[14]],H*4);const q=c.transpose().elements;r.rowMajorT_camera_groups.set(q.slice(0,12),H*12);let X=U.visible&&U.parent!==null;X&&U.traverseAncestors(z=>{X=X&&z.visible}),P.push(X&&h[H]===!0),h[H]!==X&&(h[H]=X,B=!0)}const G=!r.rowMajorT_camera_groups.every((H,V)=>H===f[V]);if(G)if(_&&d.current!==null){const H=d.current.sort(u);r.sortedIndexAttribute.set(H),r.sortedIndexAttribute.needsUpdate=!0}else o({setTz_camera_groups:u});if(G||B){for(const[H,V]of P.entries())V||(r.rowMajorT_camera_groups[H*12+3]=1e10,r.rowMajorT_camera_groups[H*12+7]=1e10,r.rowMajorT_camera_groups[H*12+11]=1e10);f.set(r.rowMajorT_camera_groups),r.textureT_camera_groups.needsUpdate=!0}},[r]);return t.updateCamera.current=b,ca((y,v)=>{if(l.current===null||a===null||r.rowMajorT_camera_groups.length===0)return;const x=r.material.uniforms;x.transitionInState.value=Math.min(x.transitionInState.value+v*2,1),b(y.camera,y.viewport.dpr*y.size.width,y.viewport.dpr*y.size.height,!1)},-100),C.jsx("mesh",{ref:l,geometry:r.geometry,material:r.material,renderOrder:1e4})}function sMe(t){let e=0;for(const o of Object.values(t))e+=o.length;const n=e/8,i=new Uint32Array(e),r=new Uint32Array(n);let a=0;for(const[o,l]of Object.values(t).entries()){r.fill(o,a/8,(a+l.length)/8),i.set(l,a);for(let c=0;c<l.length;c+=8)i[a+c+3]=o;a+=l.length}const s=Object.keys(t).length;return{numGaussians:n,gaussianBuffer:i,numGroups:s,groupIndices:r}}const _s=I.createContext({folderDepth:0,setValue:()=>{},messageSender:()=>{},GuiContainer:()=>{throw new Error("GuiComponentContext not initialized")}});var KP="_11mcxao0",G$="_11mcxao1";function JC(t){if(t!==null){if(Array.isArray(t)){const[e,n,i]=t;return`#${e.toString(16).padStart(2,"0")}${n.toString(16).padStart(2,"0")}${i.toString(16).padStart(2,"0")}`}return t}}function R5(t){return`rgb(${Math.round(t[0])}, ${Math.round(t[1])}, ${Math.round(t[2])})`}function k5(t){return`rgba(${Math.round(t[0])}, ${Math.round(t[1])}, ${Math.round(t[2])}, ${(t[3]/255).toFixed(4)})`}function vx(t){const e=t.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/);if(e)return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])];const n=t.match(/^#([0-9A-Fa-f]{3}|[0-9A-Fa-f]{6})$/);if(n){const i=n[1];let r,a,s;return i.length===3?(r=parseInt(i[0]+i[0],16),a=parseInt(i[1]+i[1],16),s=parseInt(i[2]+i[2],16)):(r=parseInt(i.substring(0,2),16),a=parseInt(i.substring(2,4),16),s=parseInt(i.substring(4,6),16)),[r,a,s]}return null}function Jw(t){const e=t.match(/rgba\((\d+),\s*(\d+),\s*(\d+),\s*([\d.]+)\)/);if(e)return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3]),Math.round(parseFloat(e[4])*255)];const n=t.match(/^#([0-9A-Fa-f]{3,8})$/);if(n){const r=n[1];if(r.length===4)return[parseInt(r[0]+r[0],16),parseInt(r[1]+r[1],16),parseInt(r[2]+r[2],16),parseInt(r[3]+r[3],16)];if(r.length===8)return[parseInt(r.substring(0,2),16),parseInt(r.substring(2,4),16),parseInt(r.substring(4,6),16),parseInt(r.substring(6,8),16)]}const i=vx(t);return i?[...i,255]:null}function Jk(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function $k(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function oMe({uuid:t,props:{visible:e,disabled:n,label:i,color:r,_icon_html:a}}){const{messageSender:s}=ke.useContext(_s);return e??!0?C.jsx(et,{mx:"xs",pb:"0.5em",children:C.jsx(ds,{id:t,fullWidth:!0,color:JC(r),onClick:()=>s({type:"GuiUpdateMessage",uuid:t,updates:{value:!0}}),style:{height:"2em"},disabled:n??!1,size:"sm",leftSection:a===null?void 0:C.jsx("div",{className:KP,dangerouslySetInnerHTML:{__html:a}}),children:i})}):null}function pu({uuid:t,label:e,hint:n,children:i}){const{folderDepth:r}=I.useContext(_s);return n!=null&&(i=C.jsx(Tr,{zIndex:100,label:n,multiline:!0,style:{width:"15rem"},withArrow:!0,openDelay:500,withinPortal:!0,children:C.jsx(et,{children:i})})),e!==void 0&&(i=C.jsx(lMe,{uuid:t,label:e,input:i,folderDepth:r})),C.jsx(et,{pb:"0.5em",px:"xs",children:i})}function lMe(t){return C.jsxs(lh,{align:"center",children:[C.jsx(et,{pr:"xs",style:{width:`${7.25-t.folderDepth*.6375}em`,flexShrink:0,position:"relative"},children:C.jsx(iu,{c:"dimmed",style:{fontSize:"0.875em",fontWeight:"450",lineHeight:"1.375em",letterSpacing:"-0.75px",width:"100%",boxSizing:"content-box"},unselectable:"off",children:C.jsx("label",{htmlFor:t.uuid,children:t.label})})}),C.jsx(et,{style:{flexGrow:1},children:t.input})]})}function W$(t){return C.jsx(lh,{justify:"space-between",columnGap:"0.5em",children:[...Array(t.n).keys()].map(e=>C.jsx(rg,{id:e===0?t.uuid:void 0,value:t.value[e],onChange:n=>{const i=[...t.value];i[e]=n===""?0:Number(n),t.onChange(i)},size:"xs",styles:{root:{flexGrow:1,width:0},input:{paddingLeft:"0.5em",paddingRight:"1.75em",textAlign:"right",height:"1.875em",minHeight:"1.875em"},controls:{height:"1.25em",width:"0.825em"}},rightSectionWidth:"1em",decimalScale:t.precision,step:t.step,min:t.min===null?void 0:t.min[e],max:t.max===null?void 0:t.max[e],stepHoldDelay:500,stepHoldInterval:n=>Math.max(1e3/n**2,25),disabled:t.disabled},e))})}function cMe({uuid:t,value:e,props:{label:n,hint:i,visible:r,disabled:a,min:s,max:o,precision:l,step:c,_marks:u}}){const{setValue:f}=ke.useContext(_s);if(!r)return null;const h=b=>f(t,b),d=C.jsxs(lh,{justify:"space-between",children:[C.jsx(aC,{id:t,className:u===null?G$:void 0,size:"xs",thumbSize:0,radius:"xs",style:{flexGrow:1},styles:b=>({thumb:{height:"0.75rem",width:"0.5rem",background:b.colors[b.primaryColor][6]},trackContainer:{zIndex:3,position:"relative"},markLabel:{transform:"translate(-50%, 0.05rem)",fontSize:"0.6rem",textAlign:"center"},mark:{transform:"scale(2)"}}),pt:"0.3em",pb:"0.2em",showLabelOnHover:!1,min:s,max:o,step:c??void 0,precision:l,value:e,onChange:h,marks:u===null?[{value:s,label:`${s.toFixed(6).replace(/\.?0+$/,"")}`},{value:o,label:`${o.toFixed(6).replace(/\.?0+$/,"")}`}]:u,disabled:a}),C.jsx(rg,{value:e,onChange:b=>{b!==""&&h(Number(b))},size:"xs",min:s,max:o,hideControls:!0,step:c??void 0,style:{width:"3rem"},styles:{input:{padding:"0.375em",letterSpacing:"-0.5px",minHeight:"1.875em",height:"1.875em"}},ml:"xs"})]});return C.jsx(pu,{uuid:t,hint:i,label:n,children:d})}function uMe({uuid:t,value:e,props:{visible:n,label:i,hint:r,disabled:a,precision:s,min:o,max:l,step:c}}){const{setValue:u}=I.useContext(_s);return n?C.jsx(pu,{uuid:t,hint:r,label:i,children:C.jsx(rg,{id:t,value:e,decimalScale:s,min:o??void 0,max:l??void 0,step:c,size:"xs",onChange:f=>{f!==""&&u(t,f)},styles:{input:{minHeight:"1.625rem",height:"1.625rem"},controls:{height:"1.625em",width:"0.825em"}},disabled:a,stepHoldDelay:500,stepHoldInterval:f=>Math.max(1e3/f**2,25)})}):null}function fMe({uuid:t,value:e,props:{hint:n,label:i,disabled:r,visible:a,multiline:s}}){const{setValue:o}=I.useContext(_s);return a?C.jsx(pu,{uuid:t,hint:n,label:i,children:s?C.jsx(qT,{value:e,size:"xs",onChange:l=>{o(t,l.target.value)},styles:{input:{padding:"0 0.5em"}},disabled:r,minRows:2,maxRows:6,autosize:!0,resize:"vertical"}):C.jsx(sg,{value:e,size:"xs",onChange:l=>{o(t,l.target.value)},styles:{input:{minHeight:"1.625rem",height:"1.625rem",padding:"0 0.5em"}},disabled:r})}):null}function hMe({uuid:t,value:e,props:{disabled:n,visible:i,hint:r,label:a}}){const{setValue:s}=I.useContext(_s);if(!i)return null;let o=C.jsx(ch,{id:t,checked:e,size:"xs",onChange:l=>{s(t,l.target.checked)},disabled:n});return r!=null&&(o=C.jsx(Tr,{zIndex:100,label:r,multiline:!0,style:{width:"15rem"},withArrow:!0,openDelay:500,withinPortal:!0,children:C.jsx(et,{style:{display:"inline-block"},children:o})})),C.jsx(pu,{uuid:t,label:a,children:o})}function dMe({uuid:t,value:e,props:{hint:n,label:i,visible:r,disabled:a,min:s,max:o,step:l,precision:c}}){const{setValue:u}=I.useContext(_s);return r?C.jsx(pu,{uuid:t,hint:n,label:i,children:C.jsx(W$,{uuid:t,n:2,value:e,onChange:f=>u(t,f),min:s,max:o,step:l,precision:c,disabled:a})}):null}function pMe({uuid:t,value:e,props:{hint:n,label:i,visible:r,disabled:a,min:s,max:o,step:l,precision:c}}){const{setValue:u}=I.useContext(_s);return r?C.jsx(pu,{uuid:t,hint:n,label:i,children:C.jsx(W$,{uuid:t,n:3,value:e,onChange:f=>u(t,f),min:s,max:o,step:l,precision:c,disabled:a})}):null}function mMe({uuid:t,value:e,props:{hint:n,label:i,disabled:r,visible:a,options:s}}){const{setValue:o}=I.useContext(_s);return a?C.jsx(pu,{uuid:t,hint:n,label:i,children:C.jsx(Dy,{id:t,radius:"xs",value:e,data:s,onChange:l=>l!==null&&o(t,l),disabled:r,searchable:!0,maxDropdownHeight:400,size:"xs",rightSectionWidth:"1.2em",styles:{input:{padding:"0.5em",letterSpacing:"-0.5px",minHeight:"1.625rem",height:"1.625rem"}},comboboxProps:{zIndex:1e3}})}):null}/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var gMe={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=(t,e,n,i)=>{const r=I.forwardRef(({color:a="currentColor",size:s=24,stroke:o=2,title:l,className:c,children:u,...f},h)=>I.createElement("svg",{ref:h,...gMe[t],width:s,height:s,className:["tabler-icon",`tabler-icon-${e}`,c].join(" "),...t==="filled"?{fill:a}:{strokeWidth:o,stroke:a},...f},[l&&I.createElement("title",{key:"svg-title"},l),...i.map(([d,b])=>I.createElement(d,b)),...Array.isArray(u)?u:[u]]));return r.displayName=`${n}`,r};/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const bMe=[["path",{d:"M4 10a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M6 4v4",key:"svg-1"}],["path",{d:"M6 12v8",key:"svg-2"}],["path",{d:"M10 16a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-3"}],["path",{d:"M12 4v10",key:"svg-4"}],["path",{d:"M12 18v2",key:"svg-5"}],["path",{d:"M16 7a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-6"}],["path",{d:"M18 4v1",key:"svg-7"}],["path",{d:"M18 9v11",key:"svg-8"}]],yMe=qi("outline","adjustments","Adjustments",bMe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const vMe=[["path",{d:"M9 11l-4 4l4 4m-4 -4h11a4 4 0 0 0 0 -8h-1",key:"svg-0"}]],xMe=qi("outline","arrow-back","ArrowBack",vMe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Me=[["path",{d:"M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5",key:"svg-0"}]],SMe=qi("outline","brand-github","BrandGithub",_Me);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const wMe=[["path",{d:"M6 10l6 6l6 -6h-12",key:"svg-0"}]],EMe=qi("outline","caret-down","CaretDown",wMe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const MMe=[["path",{d:"M10 18l6 -6l-6 -6v12",key:"svg-0"}]],AMe=qi("outline","caret-right","CaretRight",MMe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const TMe=[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]],YP=qi("outline","check","Check",TMe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const CMe=[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]],RMe=qi("outline","chevron-down","ChevronDown",CMe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const kMe=[["path",{d:"M15 6l-6 6l6 6",key:"svg-0"}]],DMe=qi("outline","chevron-left","ChevronLeft",kMe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const NMe=[["path",{d:"M9 6l6 6l-6 6",key:"svg-0"}]],IMe=qi("outline","chevron-right","ChevronRight",NMe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const OMe=[["path",{d:"M6 15l6 -6l6 6",key:"svg-0"}]],LMe=qi("outline","chevron-up","ChevronUp",OMe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const PMe=[["path",{d:"M11 18.004h-4.343c-2.572 -.004 -4.657 -2.011 -4.657 -4.487c0 -2.475 2.085 -4.482 4.657 -4.482c.393 -1.762 1.794 -3.2 3.675 -3.773c1.88 -.572 3.956 -.193 5.444 1c1.488 1.19 2.162 3.007 1.77 4.769h.99c1.388 0 2.585 .82 3.138 2.007",key:"svg-0"}],["path",{d:"M15 19l2 2l4 -4",key:"svg-1"}]],UMe=qi("outline","cloud-check","CloudCheck",PMe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const FMe=[["path",{d:"M11 7l6 6",key:"svg-0"}],["path",{d:"M4 16l11.7 -11.7a1 1 0 0 1 1.4 0l2.6 2.6a1 1 0 0 1 0 1.4l-11.7 11.7h-4v-4z",key:"svg-1"}]],q$=qi("outline","color-picker","ColorPicker",FMe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const zMe=[["path",{d:"M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z",key:"svg-0"}],["path",{d:"M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1",key:"svg-1"}]],jMe=qi("outline","copy","Copy",zMe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const BMe=[["path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2",key:"svg-0"}],["path",{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M14 4l0 4l-6 0l0 -4",key:"svg-2"}]],HMe=qi("outline","device-floppy","DeviceFloppy",BMe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const VMe=[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 11l5 5l5 -5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]],GMe=qi("outline","download","Download",VMe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const WMe=[["path",{d:"M10.585 10.587a2 2 0 0 0 2.829 2.828",key:"svg-0"}],["path",{d:"M16.681 16.673a8.717 8.717 0 0 1 -4.681 1.327c-3.6 0 -6.6 -2 -9 -6c1.272 -2.12 2.712 -3.678 4.32 -4.674m2.86 -1.146a9.055 9.055 0 0 1 1.82 -.18c3.6 0 6.6 2 9 6c-.666 1.11 -1.379 2.067 -2.138 2.87",key:"svg-1"}],["path",{d:"M3 3l18 18",key:"svg-2"}]],qMe=qi("outline","eye-off","EyeOff",WMe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const XMe=[["path",{d:"M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M13.048 17.942a9.298 9.298 0 0 1 -1.048 .058c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6a17.986 17.986 0 0 1 -1.362 1.975",key:"svg-1"}],["path",{d:"M22 22l-5 -5",key:"svg-2"}],["path",{d:"M17 22l5 -5",key:"svg-3"}]],KMe=qi("outline","eye-x","EyeX",XMe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const YMe=[["path",{d:"M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6",key:"svg-1"}]],JMe=qi("outline","eye","Eye",YMe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Me=[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z",key:"svg-1"}],["path",{d:"M9 17h6",key:"svg-2"}],["path",{d:"M9 13h6",key:"svg-3"}]],ZMe=qi("outline","file-description","FileDescription",$Me);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const QMe=[["path",{d:"M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2",key:"svg-0"}],["path",{d:"M19 12h2l-9 -9l-9 9h2v7a2 2 0 0 0 2 2h5.5",key:"svg-1"}],["path",{d:"M16 19h6",key:"svg-2"}],["path",{d:"M19 16l3 3l-3 3",key:"svg-3"}]],eAe=qi("outline","home-move","HomeMove",QMe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const tAe=[["path",{d:"M2 6m0 2a2 2 0 0 1 2 -2h16a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-16a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M6 10l0 .01",key:"svg-1"}],["path",{d:"M10 10l0 .01",key:"svg-2"}],["path",{d:"M14 10l0 .01",key:"svg-3"}],["path",{d:"M18 10l0 .01",key:"svg-4"}],["path",{d:"M6 14l0 .01",key:"svg-5"}],["path",{d:"M18 14l0 .01",key:"svg-6"}],["path",{d:"M10 14l4 .01",key:"svg-7"}]],nAe=qi("outline","keyboard","Keyboard",tAe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const iAe=[["path",{d:"M4 8v-2a2 2 0 0 1 2 -2h2",key:"svg-0"}],["path",{d:"M4 16v2a2 2 0 0 0 2 2h2",key:"svg-1"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v2",key:"svg-2"}],["path",{d:"M16 20h2a2 2 0 0 0 2 -2v-2",key:"svg-3"}]],X$=qi("outline","maximize","Maximize",iAe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const rAe=[["path",{d:"M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4",key:"svg-0"}],["path",{d:"M13.5 6.5l4 4",key:"svg-1"}]],aAe=qi("outline","pencil","Pencil",rAe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const sAe=[["path",{d:"M15 8h.01",key:"svg-0"}],["path",{d:"M3 6a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3v-12z",key:"svg-1"}],["path",{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l5 5",key:"svg-2"}],["path",{d:"M14 14l1 -1c.928 -.893 2.072 -.893 3 0l3 3",key:"svg-3"}]],oAe=qi("outline","photo","Photo",sAe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const lAe=[["path",{d:"M20 16l-4 4",key:"svg-0"}],["path",{d:"M7 12l5 5l-1.5 1.5a3.536 3.536 0 1 1 -5 -5l1.5 -1.5z",key:"svg-1"}],["path",{d:"M17 12l-5 -5l1.5 -1.5a3.536 3.536 0 1 1 5 5l-1.5 1.5z",key:"svg-2"}],["path",{d:"M3 21l2.5 -2.5",key:"svg-3"}],["path",{d:"M18.5 5.5l2.5 -2.5",key:"svg-4"}],["path",{d:"M10 11l-2 2",key:"svg-5"}],["path",{d:"M13 14l-2 2",key:"svg-6"}],["path",{d:"M16 16l4 4",key:"svg-7"}]],cAe=qi("outline","plug-connected-x","PlugConnectedX",lAe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const uAe=[["path",{d:"M8 4h1a1 1 0 0 1 1 1v1m-.297 3.711a1 1 0 0 1 -.703 .289h-4a1 1 0 0 1 -1 -1v-4c0 -.275 .11 -.524 .29 -.705",key:"svg-0"}],["path",{d:"M7 17v.01",key:"svg-1"}],["path",{d:"M14 4m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-2"}],["path",{d:"M7 7v.01",key:"svg-3"}],["path",{d:"M4 14m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-4"}],["path",{d:"M17 7v.01",key:"svg-5"}],["path",{d:"M20 14v.01",key:"svg-6"}],["path",{d:"M14 14v3",key:"svg-7"}],["path",{d:"M14 20h3",key:"svg-8"}],["path",{d:"M3 3l18 18",key:"svg-9"}]],fAe=qi("outline","qrcode-off","QrcodeOff",uAe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const hAe=[["path",{d:"M4 4m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M7 17l0 .01",key:"svg-1"}],["path",{d:"M14 4m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-2"}],["path",{d:"M7 7l0 .01",key:"svg-3"}],["path",{d:"M4 14m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-4"}],["path",{d:"M17 7l0 .01",key:"svg-5"}],["path",{d:"M14 14l3 0",key:"svg-6"}],["path",{d:"M20 14l0 .01",key:"svg-7"}],["path",{d:"M14 14l0 3",key:"svg-8"}],["path",{d:"M14 20l3 0",key:"svg-9"}],["path",{d:"M17 17l3 0",key:"svg-10"}],["path",{d:"M20 17l0 3",key:"svg-11"}]],dAe=qi("outline","qrcode","Qrcode",hAe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const pAe=[["path",{d:"M6 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-0"}],["path",{d:"M18 6m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-1"}],["path",{d:"M18 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-2"}],["path",{d:"M8.7 10.7l6.6 -3.4",key:"svg-3"}],["path",{d:"M8.7 13.3l6.6 3.4",key:"svg-4"}]],mAe=qi("outline","share","Share",pAe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const gAe=[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]],bAe=qi("outline","x","X",gAe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const yAe=[["path",{d:"M9 4h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h2a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2z",key:"svg-0"}],["path",{d:"M17 4h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h2a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2z",key:"svg-1"}]],vAe=qi("filled","player-pause-filled","PlayerPauseFilled",yAe);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const xAe=[["path",{d:"M6 4v16a1 1 0 0 0 1.524 .852l13 -8a1 1 0 0 0 0 -1.704l-13 -8a1 1 0 0 0 -1.524 .852z",key:"svg-0"}]],_Ae=qi("filled","player-play-filled","PlayerPlayFilled",xAe);function SAe({uuid:t,value:e,props:{label:n,hint:i,disabled:r,visible:a}}){const{setValue:s}=I.useContext(_s),[o,l]=I.useState(R5(e));return I.useEffect(()=>{const c=vx(o);(!c||!Jk(c,e))&&l(R5(e))},[e]),a?C.jsx(pu,{uuid:t,hint:i,label:n,children:C.jsx(Ry,{disabled:r,size:"xs",value:o,format:"rgb",eyeDropperIcon:C.jsx(q$,{size:18,stroke:1.5}),popoverProps:{zIndex:1e3},styles:{input:{height:"1.625rem",minHeight:"1.625rem"}},onChange:c=>{if(l(c),c.startsWith("rgb(")){const u=vx(c);u&&!Jk(u,e)&&s(t,u)}},onKeyDown:c=>{if(c.key==="Enter"){const u=vx(o);u&&s(t,u)}},onBlur:()=>{const c=vx(o);c&&!Jk(c,e)&&s(t,c)}})}):null}function wAe({uuid:t,value:e,props:{label:n,hint:i,disabled:r,visible:a}}){const{setValue:s}=I.useContext(_s),[o,l]=I.useState(k5(e));return I.useEffect(()=>{const c=Jw(o);(!c||!$k(c,e))&&l(k5(e))},[e,o]),a?C.jsx(pu,{uuid:t,hint:i,label:n,children:C.jsx(Ry,{disabled:r,size:"xs",value:o,format:"rgba",eyeDropperIcon:C.jsx(q$,{size:18,stroke:1.5}),popoverProps:{zIndex:1e3},styles:{input:{height:"1.625rem",minHeight:"1.625rem"}},onChange:c=>{if(l(c),c.startsWith("rgba(")){const u=Jw(c);u&&!$k(u,e)&&s(t,u)}},onKeyDown:c=>{if(c.key==="Enter"){const u=Jw(o);u&&s(t,u)}},onBlur:()=>{const c=Jw(o);c&&!$k(c,e)&&s(t,c)}})}):null}function EAe({uuid:t,props:{hint:e,label:n,visible:i,disabled:r,options:a}}){const{messageSender:s}=I.useContext(_s);return i?C.jsx(pu,{uuid:t,hint:e,label:n,children:C.jsx(lh,{justify:"space-between",columnGap:"xs",children:a.map((o,l)=>C.jsx(ds,{onClick:()=>s({type:"GuiUpdateMessage",uuid:t,updates:{value:o}}),style:{flexGrow:1,wuuidth:0},disabled:r,size:"compact-xs",variant:"outline",children:o},l))})}):null}const LN={},K$=ke.createContext(LN);function Y$(t){const e=ke.useContext(K$);return ke.useMemo(function(){return typeof t=="function"?t(e):{...e,...t}},[e,t])}function MAe(t){let e;return t.disableParentContext?e=typeof t.components=="function"?t.components(LN):t.components||LN:e=Y$(t.components),ke.createElement(K$.Provider,{value:e},t.children)}const AAe=Object.freeze(Object.defineProperty({__proto__:null,MDXProvider:MAe,useMDXComponents:Y$},Symbol.toStringTag,{value:"Module"}));function sc(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?D5(t.position):"start"in t||"end"in t?D5(t):"line"in t||"column"in t?PN(t):""}function PN(t){return N5(t&&t.line)+":"+N5(t&&t.column)}function D5(t){return PN(t&&t.start)+"-"+PN(t&&t.end)}function N5(t){return t&&typeof t=="number"?t:1}class Vi extends Error{constructor(e,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let r="",a={},s=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?r=e:!a.cause&&e&&(s=!0,r=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof i=="string"){const l=i.indexOf(":");l===-1?a.ruleId=i:(a.source=i.slice(0,l),a.ruleId=i.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const o=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=r,this.line=o?o.line:void 0,this.name=sc(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Vi.prototype.file="";Vi.prototype.name="";Vi.prototype.reason="";Vi.prototype.message="";Vi.prototype.stack="";Vi.prototype.column=void 0;Vi.prototype.line=void 0;Vi.prototype.ancestors=void 0;Vi.prototype.cause=void 0;Vi.prototype.fatal=void 0;Vi.prototype.place=void 0;Vi.prototype.ruleId=void 0;Vi.prototype.source=void 0;const ku={basename:TAe,dirname:CAe,extname:RAe,join:kAe,sep:"/"};function TAe(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');U_(t);let n=0,i=-1,r=t.length,a;if(e===void 0||e.length===0||e.length>t.length){for(;r--;)if(t.codePointAt(r)===47){if(a){n=r+1;break}}else i<0&&(a=!0,i=r+1);return i<0?"":t.slice(n,i)}if(e===t)return"";let s=-1,o=e.length-1;for(;r--;)if(t.codePointAt(r)===47){if(a){n=r+1;break}}else s<0&&(a=!0,s=r+1),o>-1&&(t.codePointAt(r)===e.codePointAt(o--)?o<0&&(i=r):(o=-1,i=s));return n===i?i=s:i<0&&(i=t.length),t.slice(n,i)}function CAe(t){if(U_(t),t.length===0)return".";let e=-1,n=t.length,i;for(;--n;)if(t.codePointAt(n)===47){if(i){e=n;break}}else i||(i=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function RAe(t){U_(t);let e=t.length,n=-1,i=0,r=-1,a=0,s;for(;e--;){const o=t.codePointAt(e);if(o===47){if(s){i=e+1;break}continue}n<0&&(s=!0,n=e+1),o===46?r<0?r=e:a!==1&&(a=1):r>-1&&(a=-1)}return r<0||n<0||a===0||a===1&&r===n-1&&r===i+1?"":t.slice(r,n)}function kAe(...t){let e=-1,n;for(;++e<t.length;)U_(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":DAe(n)}function DAe(t){U_(t);const e=t.codePointAt(0)===47;let n=NAe(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function NAe(t,e){let n="",i=0,r=-1,a=0,s=-1,o,l;for(;++s<=t.length;){if(s<t.length)o=t.codePointAt(s);else{if(o===47)break;o=47}if(o===47){if(!(r===s-1||a===1))if(r!==s-1&&a===2){if(n.length<2||i!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",i=0):(n=n.slice(0,l),i=n.length-1-n.lastIndexOf("/")),r=s,a=0;continue}}else if(n.length>0){n="",i=0,r=s,a=0;continue}}e&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+t.slice(r+1,s):n=t.slice(r+1,s),i=s-r-1;r=s,a=0}else o===46&&a>-1?a++:a=-1}return n}function U_(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const IAe={cwd:OAe};function OAe(){return"/"}function UN(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function LAe(t){if(typeof t=="string")t=new URL(t);else if(!UN(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return PAe(t)}function PAe(t){if(t.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const i=e.codePointAt(n+2);if(i===70||i===102){const r=new TypeError("File URL path must not include encoded / characters");throw r.code="ERR_INVALID_FILE_URL_PATH",r}}return decodeURIComponent(e)}const Zk=["history","path","basename","stem","extname","dirname"];class J${constructor(e){let n;e?UN(e)?n={path:e}:typeof e=="string"||UAe(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":IAe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<Zk.length;){const a=Zk[i];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let r;for(r in n)Zk.includes(r)||(this[r]=n[r])}get basename(){return typeof this.path=="string"?ku.basename(this.path):void 0}set basename(e){e8(e,"basename"),Qk(e,"basename"),this.path=ku.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?ku.dirname(this.path):void 0}set dirname(e){I5(this.basename,"dirname"),this.path=ku.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?ku.extname(this.path):void 0}set extname(e){if(Qk(e,"extname"),I5(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ku.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){UN(e)&&(e=LAe(e)),e8(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?ku.basename(this.path,this.extname):void 0}set stem(e){e8(e,"stem"),Qk(e,"stem"),this.path=ku.join(this.dirname||"",e+(this.extname||""))}fail(e,n,i){const r=this.message(e,n,i);throw r.fatal=!0,r}info(e,n,i){const r=this.message(e,n,i);return r.fatal=void 0,r}message(e,n,i){const r=new Vi(e,n,i);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Qk(t,e){if(t&&t.includes(ku.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+ku.sep+"`")}function e8(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function I5(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function UAe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const FAe=["md","markdown","mdown","mkdn","mkd","mdwn","mkdown","ron"],zAe=FAe.map(function(t){return"."+t});function jAe(t,e){const n=BAe(t)?t:new J$(t),{format:i,...r}=e||{};return{file:n,options:{format:i==="md"||i==="mdx"?i:n.extname&&(r.mdExtensions||zAe).includes(n.extname)?"md":"mdx",...r}}}function BAe(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}const HAe=/[$_\p{ID_Start}]/u,VAe=/[$_\u{200C}\u{200D}\p{ID_Continue}]/u,GAe=/[-$_\u{200C}\u{200D}\p{ID_Continue}]/u,WAe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,qAe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,$$={};function Lc(t){return t?HAe.test(String.fromCodePoint(t)):!1}function Jv(t,e){const i=(e||$$).jsx?GAe:VAe;return t?i.test(String.fromCodePoint(t)):!1}function Ku(t,e){return((e||$$).jsx?qAe:WAe).test(t)}class XAe{constructor(){this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.context={skip:()=>this.should_skip=!0,remove:()=>this.should_remove=!0,replace:e=>this.replacement=e}}replace(e,n,i,r){e&&n&&(i!=null?e[n][i]=r:e[n]=r)}remove(e,n,i){e&&n&&(i!=null?e[n].splice(i,1):delete e[n])}}class KAe extends XAe{constructor(e,n){super(),this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.context={skip:()=>this.should_skip=!0,remove:()=>this.should_remove=!0,replace:i=>this.replacement=i},this.enter=e,this.leave=n}visit(e,n,i,r){if(e){if(this.enter){const s=this.should_skip,o=this.should_remove,l=this.replacement;this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.enter.call(this.context,e,n,i,r),this.replacement&&(e=this.replacement,this.replace(n,i,r,e)),this.should_remove&&this.remove(n,i,r);const c=this.should_skip,u=this.should_remove;if(this.should_skip=s,this.should_remove=o,this.replacement=l,c)return e;if(u)return null}let a;for(a in e){const s=e[a];if(s&&typeof s=="object")if(Array.isArray(s)){const o=s;for(let l=0;l<o.length;l+=1){const c=o[l];O5(c)&&(this.visit(c,e,a,l)||l--)}}else O5(s)&&this.visit(s,e,a,null)}if(this.leave){const s=this.replacement,o=this.should_remove;this.replacement=null,this.should_remove=!1,this.leave.call(this.context,e,n,i,r),this.replacement&&(e=this.replacement,this.replace(n,i,r,e)),this.should_remove&&this.remove(n,i,r);const l=this.should_remove;if(this.replacement=s,this.should_remove=o,l)return null}}return e}}function O5(t){return t!==null&&typeof t=="object"&&"type"in t&&typeof t.type=="string"}function y0(t,{enter:e,leave:n}){return new KAe(e,n).visit(t,null)}const t8=/@(jsx|jsxFrag|jsxImportSource|jsxRuntime)\s+(\S+)/g;function YAe(t,e){const n=e||{};let i=n.runtime==="automatic";const r={},a={};y0(t,{enter(s){if(s.type==="Program"){const o=s.comments||[];let l=-1;for(;++l<o.length;){t8.lastIndex=0;let c=t8.exec(o[l].value);for(;c;)r[c[1]]=c[2],c=t8.exec(o[l].value)}if(r.jsxRuntime)if(r.jsxRuntime==="automatic"){if(i=!0,r.jsx)throw new Error("Unexpected `@jsx` pragma w/ automatic runtime");if(r.jsxFrag)throw new Error("Unexpected `@jsxFrag` pragma w/ automatic runtime")}else if(r.jsxRuntime==="classic"){if(i=!1,r.jsxImportSource)throw new Error("Unexpected `@jsxImportSource` w/ classic runtime")}else throw new Error("Unexpected `jsxRuntime` `"+r.jsxRuntime+"`, expected `automatic` or `classic`")}},leave(s){if(s.type==="Program"){const y=[];if(a.fragment&&y.push({type:"ImportSpecifier",imported:{type:"Identifier",name:"Fragment"},local:{type:"Identifier",name:"_Fragment"}}),a.jsx&&y.push({type:"ImportSpecifier",imported:{type:"Identifier",name:"jsx"},local:{type:"Identifier",name:"_jsx"}}),a.jsxs&&y.push({type:"ImportSpecifier",imported:{type:"Identifier",name:"jsxs"},local:{type:"Identifier",name:"_jsxs"}}),a.jsxDEV&&y.push({type:"ImportSpecifier",imported:{type:"Identifier",name:"jsxDEV"},local:{type:"Identifier",name:"_jsxDEV"}}),y.length>0){let v=0;for(;v<s.body.length;){const m=s.body[v];if("directive"in m&&m.directive)v++;else break}s.body.splice(v,0,{type:"ImportDeclaration",specifiers:y,source:{type:"Literal",value:(r.jsxImportSource||n.importSource||"react")+(n.development?"/jsx-dev-runtime":"/jsx-runtime")}})}}if(s.type!=="JSXElement"&&s.type!=="JSXFragment")return;const o=[];let l=-1;for(;++l<s.children.length;){const y=s.children[l];if(y.type==="JSXExpressionContainer")y.expression.type!=="JSXEmptyExpression"&&o.push(y.expression);else if(y.type==="JSXText"){const v=y.value.replace(/\t/g," ").replace(/ *(\r?\n|\r) */g,`
`).replace(/\n+/g,`
`).replace(/\n+$/,"").replace(/^\n+/,"").replace(/\n/g," ");if(v){const m={type:"Literal",value:v};$x(y,m),o.push(m)}}else y.type!=="JSXElement"&&y.type!=="JSXFragment"&&y.type,o.push(y)}let c;const u=[];let f=[],h;if(s.type==="JSXElement"){if(c=UA(s.openingElement.name),c.type==="Identifier"&&/^[a-z]/.test(c.name)){const x={type:"Literal",value:c.name};$x(c,x),c=x}let y;const v=s.openingElement.attributes;let m=-1;for(;++m<v.length;){const x=v[m];if(x.type==="JSXSpreadAttribute")x.argument.type==="ObjectExpression"?u.push(...x.argument.properties):u.push({type:"SpreadElement",argument:x.argument}),y=!0;else{const _=JAe(x);if(i&&_.key.type==="Identifier"&&_.key.name==="key"){if(y)throw new Error("Expected `key` to come before any spread expressions");const E=_.value;E.type!=="AssignmentPattern"&&E.type!=="ArrayPattern"&&E.type!=="ObjectPattern"&&E.type,h=E}else u.push(_)}}}else i?(a.fragment=!0,c={type:"Identifier",name:"_Fragment"}):c=L5(r.jsxFrag||n.pragmaFrag||"React.Fragment");i?o.length>0&&u.push({type:"Property",key:{type:"Identifier",name:"children"},value:o.length>1?{type:"ArrayExpression",elements:o}:o[0],kind:"init",method:!1,shorthand:!1,computed:!1}):f=o;let d;if(i){f.push({type:"ObjectExpression",properties:u}),h?f.push(h):n.development&&f.push({type:"Identifier",name:"undefined"});const y=o.length>1;if(n.development){a.jsxDEV=!0,d={type:"Identifier",name:"_jsxDEV"},f.push({type:"Literal",value:y});const v={type:"ObjectExpression",properties:[{type:"Property",method:!1,shorthand:!1,computed:!1,kind:"init",key:{type:"Identifier",name:"fileName"},value:{type:"Literal",value:n.filePath||"<source.js>"}}]};s.loc&&v.properties.push({type:"Property",method:!1,shorthand:!1,computed:!1,kind:"init",key:{type:"Identifier",name:"lineNumber"},value:{type:"Literal",value:s.loc.start.line}},{type:"Property",method:!1,shorthand:!1,computed:!1,kind:"init",key:{type:"Identifier",name:"columnNumber"},value:{type:"Literal",value:s.loc.start.column+1}}),f.push(v,{type:"ThisExpression"})}else y?(a.jsxs=!0,d={type:"Identifier",name:"_jsxs"}):(a.jsx=!0,d={type:"Identifier",name:"_jsx"})}else u.length>0?f.unshift({type:"ObjectExpression",properties:u}):f.length>0&&f.unshift({type:"Literal",value:null}),d=L5(r.jsx||n.pragma||"React.createElement");f.unshift(c);const b={type:"CallExpression",callee:d,arguments:f,optional:!1};$x(s,b),this.replace(b)}})}function JAe(t){let e;if(t.value)if(t.value.type==="JSXExpressionContainer"){const i=t.value.expression;i.type,e=i}else{const i=t.value;i.type!=="JSXElement"&&i.type,e=i,delete e.raw}else e={type:"Literal",value:!0};const n={type:"Property",key:UA(t.name),value:e,kind:"init",method:!1,shorthand:!1,computed:!1};return $x(t,n),n}function UA(t){let e;if(t.type==="JSXMemberExpression"){const n=UA(t.property);e={type:"MemberExpression",object:UA(t.object),property:n,computed:n.type==="Literal",optional:!1}}else t.type==="JSXNamespacedName"?e={type:"Literal",value:t.namespace.name+":"+t.name.name}:e=Ku(t.name)?{type:"Identifier",name:t.name}:{type:"Literal",value:t.name};return $x(t,e),e}function L5(t){const e=t.split(".");let n=-1,i;for(;++n<e.length;){const r=Ku(e[n])?{type:"Identifier",name:e[n]}:{type:"Literal",value:e[n]};i=i?{type:"MemberExpression",object:i,property:r,computed:!!(n&&r.type==="Literal"),optional:!1}:r}return i}function $x(t,e){const n=["start","end","loc","range","comments"];let i=-1;for(;++i<n.length;){const r=n[i];r in t&&(e[r]=t[r])}}function $Ae(t){return function(e,n){YAe(e,{filePath:n.history[0],...t})}}var Z$={exports:{}},ZAe={quot:'"',amp:"&",apos:"'",lt:"<",gt:">",nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",times:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",divide:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",fnof:"",circ:"",tilde:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",bull:"",hellip:"",permil:"",prime:"",Prime:"",lsaquo:"",rsaquo:"",oline:"",frasl:"",euro:"",image:"",weierp:"",real:"",trade:"",alefsym:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lArr:"",uArr:"",rArr:"",dArr:"",hArr:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",lceil:"",rceil:"",lfloor:"",rfloor:"",lang:"",rang:"",loz:"",spades:"",clubs:"",hearts:"",diams:""},$w={exports:{}},P5;function FN(){return P5||(P5=1,function(t,e){(function(n,i){i(e)})(Nm,function(n){var i=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,80,3,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,343,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,726,6,110,6,6,9,4759,9,787719,239],r=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,2,60,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,42,9,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,496,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],a="-----------------------------------------------------------------------------------------------------------------------------------------------------",s="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",o={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},l="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",c={5:l,"5module":l+" export import",6:l+" const class extends export import super"},u=/^in(stanceof)?$/,f=new RegExp("["+s+"]"),h=new RegExp("["+s+a+"]");function d(S,O){for(var W=65536,ne=0;ne<O.length;ne+=2){if(W+=O[ne],W>S)return!1;if(W+=O[ne+1],W>=S)return!0}return!1}function b(S,O){return S<65?S===36:S<91?!0:S<97?S===95:S<123?!0:S<=65535?S>=170&&f.test(String.fromCharCode(S)):O===!1?!1:d(S,r)}function y(S,O){return S<48?S===36:S<58?!0:S<65?!1:S<91?!0:S<97?S===95:S<123?!0:S<=65535?S>=170&&h.test(String.fromCharCode(S)):O===!1?!1:d(S,r)||d(S,i)}var v=function(O,W){W===void 0&&(W={}),this.label=O,this.keyword=W.keyword,this.beforeExpr=!!W.beforeExpr,this.startsExpr=!!W.startsExpr,this.isLoop=!!W.isLoop,this.isAssign=!!W.isAssign,this.prefix=!!W.prefix,this.postfix=!!W.postfix,this.binop=W.binop||null,this.updateContext=null};function m(S,O){return new v(S,{beforeExpr:!0,binop:O})}var x={beforeExpr:!0},_={startsExpr:!0},E={};function A(S,O){return O===void 0&&(O={}),O.keyword=S,E[S]=new v(S,O)}var w={num:new v("num",_),regexp:new v("regexp",_),string:new v("string",_),name:new v("name",_),privateId:new v("privateId",_),eof:new v("eof"),bracketL:new v("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new v("]"),braceL:new v("{",{beforeExpr:!0,startsExpr:!0}),braceR:new v("}"),parenL:new v("(",{beforeExpr:!0,startsExpr:!0}),parenR:new v(")"),comma:new v(",",x),semi:new v(";",x),colon:new v(":",x),dot:new v("."),question:new v("?",x),questionDot:new v("?."),arrow:new v("=>",x),template:new v("template"),invalidTemplate:new v("invalidTemplate"),ellipsis:new v("...",x),backQuote:new v("`",_),dollarBraceL:new v("${",{beforeExpr:!0,startsExpr:!0}),eq:new v("=",{beforeExpr:!0,isAssign:!0}),assign:new v("_=",{beforeExpr:!0,isAssign:!0}),incDec:new v("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new v("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:m("||",1),logicalAND:m("&&",2),bitwiseOR:m("|",3),bitwiseXOR:m("^",4),bitwiseAND:m("&",5),equality:m("==/!=/===/!==",6),relational:m("</>/<=/>=",7),bitShift:m("<</>>/>>>",8),plusMin:new v("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:m("%",10),star:m("*",10),slash:m("/",10),starstar:new v("**",{beforeExpr:!0}),coalesce:m("??",1),_break:A("break"),_case:A("case",x),_catch:A("catch"),_continue:A("continue"),_debugger:A("debugger"),_default:A("default",x),_do:A("do",{isLoop:!0,beforeExpr:!0}),_else:A("else",x),_finally:A("finally"),_for:A("for",{isLoop:!0}),_function:A("function",_),_if:A("if"),_return:A("return",x),_switch:A("switch"),_throw:A("throw",x),_try:A("try"),_var:A("var"),_const:A("const"),_while:A("while",{isLoop:!0}),_with:A("with"),_new:A("new",{beforeExpr:!0,startsExpr:!0}),_this:A("this",_),_super:A("super",_),_class:A("class",_),_extends:A("extends",x),_export:A("export"),_import:A("import",_),_null:A("null",_),_true:A("true",_),_false:A("false",_),_in:A("in",{beforeExpr:!0,binop:7}),_instanceof:A("instanceof",{beforeExpr:!0,binop:7}),_typeof:A("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:A("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:A("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},T=/\r\n?|\n|\u2028|\u2029/,k=new RegExp(T.source,"g");function N(S){return S===10||S===13||S===8232||S===8233}function D(S,O,W){W===void 0&&(W=S.length);for(var ne=O;ne<W;ne++){var de=S.charCodeAt(ne);if(N(de))return ne<W-1&&de===13&&S.charCodeAt(ne+1)===10?ne+2:ne+1}return-1}var P=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,B=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,G=Object.prototype,H=G.hasOwnProperty,V=G.toString,U=Object.hasOwn||function(S,O){return H.call(S,O)},F=Array.isArray||function(S){return V.call(S)==="[object Array]"},q=Object.create(null);function X(S){return q[S]||(q[S]=new RegExp("^(?:"+S.replace(/ /g,"|")+")$"))}function z(S){return S<=65535?String.fromCharCode(S):(S-=65536,String.fromCharCode((S>>10)+55296,(S&1023)+56320))}var oe=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,fe=function(O,W){this.line=O,this.column=W};fe.prototype.offset=function(O){return new fe(this.line,this.column+O)};var K=function(O,W,ne){this.start=W,this.end=ne,O.sourceFile!==null&&(this.source=O.sourceFile)};function Me(S,O){for(var W=1,ne=0;;){var de=D(S,ne,O);if(de<0)return new fe(W,O-ne);++W,ne=de}}var _e={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},pe=!1;function xe(S){var O={};for(var W in _e)O[W]=S&&U(S,W)?S[W]:_e[W];if(O.ecmaVersion==="latest"?O.ecmaVersion=1e8:O.ecmaVersion==null?(!pe&&typeof console=="object"&&console.warn&&(pe=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),O.ecmaVersion=11):O.ecmaVersion>=2015&&(O.ecmaVersion-=2009),O.allowReserved==null&&(O.allowReserved=O.ecmaVersion<5),(!S||S.allowHashBang==null)&&(O.allowHashBang=O.ecmaVersion>=14),F(O.onToken)){var ne=O.onToken;O.onToken=function(de){return ne.push(de)}}return F(O.onComment)&&(O.onComment=Oe(O,O.onComment)),O}function Oe(S,O){return function(W,ne,de,Pe,Xe,It){var Ft={type:W?"Block":"Line",value:ne,start:de,end:Pe};S.locations&&(Ft.loc=new K(this,Xe,It)),S.ranges&&(Ft.range=[de,Pe]),O.push(Ft)}}var Ge=1,Ye=2,ct=4,Tt=8,he=16,Ve=32,Be=64,ot=128,Ae=256,Ue=512,Ne=Ge|Ye|Ae;function We(S,O){return Ye|(S?ct:0)|(O?Tt:0)}var Et=0,vt=1,re=2,J=3,ue=4,se=5,be=function(O,W,ne){this.options=O=xe(O),this.sourceFile=O.sourceFile,this.keywords=X(c[O.ecmaVersion>=6?6:O.sourceType==="module"?"5module":5]);var de="";O.allowReserved!==!0&&(de=o[O.ecmaVersion>=6?6:O.ecmaVersion===5?5:3],O.sourceType==="module"&&(de+=" await")),this.reservedWords=X(de);var Pe=(de?de+" ":"")+o.strict;this.reservedWordsStrict=X(Pe),this.reservedWordsStrictBind=X(Pe+" "+o.strictBind),this.input=String(W),this.containsEsc=!1,ne?(this.pos=ne,this.lineStart=this.input.lastIndexOf(`
`,ne-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(T).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=w.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=O.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&O.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(Ge),this.regexpState=null,this.privateNameStack=[]},$={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};be.prototype.parse=function(){var O=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(O)},$.inFunction.get=function(){return(this.currentVarScope().flags&Ye)>0},$.inGenerator.get=function(){return(this.currentVarScope().flags&Tt)>0},$.inAsync.get=function(){return(this.currentVarScope().flags&ct)>0},$.canAwait.get=function(){for(var S=this.scopeStack.length-1;S>=0;S--){var O=this.scopeStack[S],W=O.flags;if(W&(Ae|Ue))return!1;if(W&Ye)return(W&ct)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},$.allowSuper.get=function(){var S=this.currentThisScope(),O=S.flags;return(O&Be)>0||this.options.allowSuperOutsideMethod},$.allowDirectSuper.get=function(){return(this.currentThisScope().flags&ot)>0},$.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},$.allowNewDotTarget.get=function(){for(var S=this.scopeStack.length-1;S>=0;S--){var O=this.scopeStack[S],W=O.flags;if(W&(Ae|Ue)||W&Ye&&!(W&he))return!0}return!1},$.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&Ae)>0},be.extend=function(){for(var O=[],W=arguments.length;W--;)O[W]=arguments[W];for(var ne=this,de=0;de<O.length;de++)ne=O[de](ne);return ne},be.parse=function(O,W){return new this(W,O).parse()},be.parseExpressionAt=function(O,W,ne){var de=new this(ne,O,W);return de.nextToken(),de.parseExpression()},be.tokenizer=function(O,W){return new this(W,O)},Object.defineProperties(be.prototype,$);var Ke=be.prototype,tt=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;Ke.strictDirective=function(S){if(this.options.ecmaVersion<5)return!1;for(;;){B.lastIndex=S,S+=B.exec(this.input)[0].length;var O=tt.exec(this.input.slice(S));if(!O)return!1;if((O[1]||O[2])==="use strict"){B.lastIndex=S+O[0].length;var W=B.exec(this.input),ne=W.index+W[0].length,de=this.input.charAt(ne);return de===";"||de==="}"||T.test(W[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(de)||de==="!"&&this.input.charAt(ne+1)==="=")}S+=O[0].length,B.lastIndex=S,S+=B.exec(this.input)[0].length,this.input[S]===";"&&S++}},Ke.eat=function(S){return this.type===S?(this.next(),!0):!1},Ke.isContextual=function(S){return this.type===w.name&&this.value===S&&!this.containsEsc},Ke.eatContextual=function(S){return this.isContextual(S)?(this.next(),!0):!1},Ke.expectContextual=function(S){this.eatContextual(S)||this.unexpected()},Ke.canInsertSemicolon=function(){return this.type===w.eof||this.type===w.braceR||T.test(this.input.slice(this.lastTokEnd,this.start))},Ke.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},Ke.semicolon=function(){!this.eat(w.semi)&&!this.insertSemicolon()&&this.unexpected()},Ke.afterTrailingComma=function(S,O){if(this.type===S)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),O||this.next(),!0},Ke.expect=function(S){this.eat(S)||this.unexpected()},Ke.unexpected=function(S){this.raise(S??this.start,"Unexpected token")};var pt=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};Ke.checkPatternErrors=function(S,O){if(S){S.trailingComma>-1&&this.raiseRecoverable(S.trailingComma,"Comma is not permitted after the rest element");var W=O?S.parenthesizedAssign:S.parenthesizedBind;W>-1&&this.raiseRecoverable(W,O?"Assigning to rvalue":"Parenthesized pattern")}},Ke.checkExpressionErrors=function(S,O){if(!S)return!1;var W=S.shorthandAssign,ne=S.doubleProto;if(!O)return W>=0||ne>=0;W>=0&&this.raise(W,"Shorthand property assignments are valid only in destructuring patterns"),ne>=0&&this.raiseRecoverable(ne,"Redefinition of __proto__ property")},Ke.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},Ke.isSimpleAssignTarget=function(S){return S.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(S.expression):S.type==="Identifier"||S.type==="MemberExpression"};var ze=be.prototype;ze.parseTopLevel=function(S){var O=Object.create(null);for(S.body||(S.body=[]);this.type!==w.eof;){var W=this.parseStatement(null,!0,O);S.body.push(W)}if(this.inModule)for(var ne=0,de=Object.keys(this.undefinedExports);ne<de.length;ne+=1){var Pe=de[ne];this.raiseRecoverable(this.undefinedExports[Pe].start,"Export '"+Pe+"' is not defined")}return this.adaptDirectivePrologue(S.body),this.next(),S.sourceType=this.options.sourceType,this.finishNode(S,"Program")};var rt={kind:"loop"},$e={kind:"switch"};ze.isLet=function(S){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;B.lastIndex=this.pos;var O=B.exec(this.input),W=this.pos+O[0].length,ne=this.input.charCodeAt(W);if(ne===91||ne===92)return!0;if(S)return!1;if(ne===123||ne>55295&&ne<56320)return!0;if(b(ne,!0)){for(var de=W+1;y(ne=this.input.charCodeAt(de),!0);)++de;if(ne===92||ne>55295&&ne<56320)return!0;var Pe=this.input.slice(W,de);if(!u.test(Pe))return!0}return!1},ze.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;B.lastIndex=this.pos;var S=B.exec(this.input),O=this.pos+S[0].length,W;return!T.test(this.input.slice(this.pos,O))&&this.input.slice(O,O+8)==="function"&&(O+8===this.input.length||!(y(W=this.input.charCodeAt(O+8))||W>55295&&W<56320))},ze.isUsingKeyword=function(S,O){if(this.options.ecmaVersion<17||!this.isContextual(S?"await":"using"))return!1;B.lastIndex=this.pos;var W=B.exec(this.input),ne=this.pos+W[0].length;if(T.test(this.input.slice(this.pos,ne)))return!1;if(S){var de=ne+5,Pe;if(this.input.slice(ne,de)!=="using"||de===this.input.length||y(Pe=this.input.charCodeAt(de))||Pe>55295&&Pe<56320)return!1;B.lastIndex=de;var Xe=B.exec(this.input);if(Xe&&T.test(this.input.slice(de,de+Xe[0].length)))return!1}if(O){var It=ne+2,Ft;if(this.input.slice(ne,It)==="of"&&(It===this.input.length||!y(Ft=this.input.charCodeAt(It))&&!(Ft>55295&&Ft<56320)))return!1}var mn=this.input.charCodeAt(ne);return b(mn,!0)||mn===92},ze.isAwaitUsing=function(S){return this.isUsingKeyword(!0,S)},ze.isUsing=function(S){return this.isUsingKeyword(!1,S)},ze.parseStatement=function(S,O,W){var ne=this.type,de=this.startNode(),Pe;switch(this.isLet(S)&&(ne=w._var,Pe="let"),ne){case w._break:case w._continue:return this.parseBreakContinueStatement(de,ne.keyword);case w._debugger:return this.parseDebuggerStatement(de);case w._do:return this.parseDoStatement(de);case w._for:return this.parseForStatement(de);case w._function:return S&&(this.strict||S!=="if"&&S!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(de,!1,!S);case w._class:return S&&this.unexpected(),this.parseClass(de,!0);case w._if:return this.parseIfStatement(de);case w._return:return this.parseReturnStatement(de);case w._switch:return this.parseSwitchStatement(de);case w._throw:return this.parseThrowStatement(de);case w._try:return this.parseTryStatement(de);case w._const:case w._var:return Pe=Pe||this.value,S&&Pe!=="var"&&this.unexpected(),this.parseVarStatement(de,Pe);case w._while:return this.parseWhileStatement(de);case w._with:return this.parseWithStatement(de);case w.braceL:return this.parseBlock(!0,de);case w.semi:return this.parseEmptyStatement(de);case w._export:case w._import:if(this.options.ecmaVersion>10&&ne===w._import){B.lastIndex=this.pos;var Xe=B.exec(this.input),It=this.pos+Xe[0].length,Ft=this.input.charCodeAt(It);if(Ft===40||Ft===46)return this.parseExpressionStatement(de,this.parseExpression())}return this.options.allowImportExportEverywhere||(O||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),ne===w._import?this.parseImport(de):this.parseExport(de,W);default:if(this.isAsyncFunction())return S&&this.unexpected(),this.next(),this.parseFunctionStatement(de,!0,!S);var mn=this.isAwaitUsing(!1)?"await using":this.isUsing(!1)?"using":null;if(mn)return O&&this.options.sourceType==="script"&&this.raise(this.start,"Using declaration cannot appear in the top level when source type is `script`"),mn==="await using"&&(this.canAwait||this.raise(this.start,"Await using cannot appear outside of async function"),this.next()),this.next(),this.parseVar(de,!1,mn),this.semicolon(),this.finishNode(de,"VariableDeclaration");var En=this.value,Ai=this.parseExpression();return ne===w.name&&Ai.type==="Identifier"&&this.eat(w.colon)?this.parseLabeledStatement(de,En,Ai,S):this.parseExpressionStatement(de,Ai)}},ze.parseBreakContinueStatement=function(S,O){var W=O==="break";this.next(),this.eat(w.semi)||this.insertSemicolon()?S.label=null:this.type!==w.name?this.unexpected():(S.label=this.parseIdent(),this.semicolon());for(var ne=0;ne<this.labels.length;++ne){var de=this.labels[ne];if((S.label==null||de.name===S.label.name)&&(de.kind!=null&&(W||de.kind==="loop")||S.label&&W))break}return ne===this.labels.length&&this.raise(S.start,"Unsyntactic "+O),this.finishNode(S,W?"BreakStatement":"ContinueStatement")},ze.parseDebuggerStatement=function(S){return this.next(),this.semicolon(),this.finishNode(S,"DebuggerStatement")},ze.parseDoStatement=function(S){return this.next(),this.labels.push(rt),S.body=this.parseStatement("do"),this.labels.pop(),this.expect(w._while),S.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(w.semi):this.semicolon(),this.finishNode(S,"DoWhileStatement")},ze.parseForStatement=function(S){this.next();var O=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(rt),this.enterScope(0),this.expect(w.parenL),this.type===w.semi)return O>-1&&this.unexpected(O),this.parseFor(S,null);var W=this.isLet();if(this.type===w._var||this.type===w._const||W){var ne=this.startNode(),de=W?"let":this.value;return this.next(),this.parseVar(ne,!0,de),this.finishNode(ne,"VariableDeclaration"),this.parseForAfterInit(S,ne,O)}var Pe=this.isContextual("let"),Xe=!1,It=this.isUsing(!0)?"using":this.isAwaitUsing(!0)?"await using":null;if(It){var Ft=this.startNode();return this.next(),It==="await using"&&this.next(),this.parseVar(Ft,!0,It),this.finishNode(Ft,"VariableDeclaration"),this.parseForAfterInit(S,Ft,O)}var mn=this.containsEsc,En=new pt,Ai=this.start,Mn=O>-1?this.parseExprSubscripts(En,"await"):this.parseExpression(!0,En);return this.type===w._in||(Xe=this.options.ecmaVersion>=6&&this.isContextual("of"))?(O>-1?(this.type===w._in&&this.unexpected(O),S.await=!0):Xe&&this.options.ecmaVersion>=8&&(Mn.start===Ai&&!mn&&Mn.type==="Identifier"&&Mn.name==="async"?this.unexpected():this.options.ecmaVersion>=9&&(S.await=!1)),Pe&&Xe&&this.raise(Mn.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(Mn,!1,En),this.checkLValPattern(Mn),this.parseForIn(S,Mn)):(this.checkExpressionErrors(En,!0),O>-1&&this.unexpected(O),this.parseFor(S,Mn))},ze.parseForAfterInit=function(S,O,W){return(this.type===w._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&O.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===w._in?W>-1&&this.unexpected(W):S.await=W>-1),this.parseForIn(S,O)):(W>-1&&this.unexpected(W),this.parseFor(S,O))},ze.parseFunctionStatement=function(S,O,W){return this.next(),this.parseFunction(S,Ot|(W?0:ft),!1,O)},ze.parseIfStatement=function(S){return this.next(),S.test=this.parseParenExpression(),S.consequent=this.parseStatement("if"),S.alternate=this.eat(w._else)?this.parseStatement("if"):null,this.finishNode(S,"IfStatement")},ze.parseReturnStatement=function(S){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(w.semi)||this.insertSemicolon()?S.argument=null:(S.argument=this.parseExpression(),this.semicolon()),this.finishNode(S,"ReturnStatement")},ze.parseSwitchStatement=function(S){this.next(),S.discriminant=this.parseParenExpression(),S.cases=[],this.expect(w.braceL),this.labels.push($e),this.enterScope(0);for(var O,W=!1;this.type!==w.braceR;)if(this.type===w._case||this.type===w._default){var ne=this.type===w._case;O&&this.finishNode(O,"SwitchCase"),S.cases.push(O=this.startNode()),O.consequent=[],this.next(),ne?O.test=this.parseExpression():(W&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),W=!0,O.test=null),this.expect(w.colon)}else O||this.unexpected(),O.consequent.push(this.parseStatement(null));return this.exitScope(),O&&this.finishNode(O,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(S,"SwitchStatement")},ze.parseThrowStatement=function(S){return this.next(),T.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),S.argument=this.parseExpression(),this.semicolon(),this.finishNode(S,"ThrowStatement")};var Xt=[];ze.parseCatchClauseParam=function(){var S=this.parseBindingAtom(),O=S.type==="Identifier";return this.enterScope(O?Ve:0),this.checkLValPattern(S,O?ue:re),this.expect(w.parenR),S},ze.parseTryStatement=function(S){if(this.next(),S.block=this.parseBlock(),S.handler=null,this.type===w._catch){var O=this.startNode();this.next(),this.eat(w.parenL)?O.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),O.param=null,this.enterScope(0)),O.body=this.parseBlock(!1),this.exitScope(),S.handler=this.finishNode(O,"CatchClause")}return S.finalizer=this.eat(w._finally)?this.parseBlock():null,!S.handler&&!S.finalizer&&this.raise(S.start,"Missing catch or finally clause"),this.finishNode(S,"TryStatement")},ze.parseVarStatement=function(S,O,W){return this.next(),this.parseVar(S,!1,O,W),this.semicolon(),this.finishNode(S,"VariableDeclaration")},ze.parseWhileStatement=function(S){return this.next(),S.test=this.parseParenExpression(),this.labels.push(rt),S.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(S,"WhileStatement")},ze.parseWithStatement=function(S){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),S.object=this.parseParenExpression(),S.body=this.parseStatement("with"),this.finishNode(S,"WithStatement")},ze.parseEmptyStatement=function(S){return this.next(),this.finishNode(S,"EmptyStatement")},ze.parseLabeledStatement=function(S,O,W,ne){for(var de=0,Pe=this.labels;de<Pe.length;de+=1){var Xe=Pe[de];Xe.name===O&&this.raise(W.start,"Label '"+O+"' is already declared")}for(var It=this.type.isLoop?"loop":this.type===w._switch?"switch":null,Ft=this.labels.length-1;Ft>=0;Ft--){var mn=this.labels[Ft];if(mn.statementStart===S.start)mn.statementStart=this.start,mn.kind=It;else break}return this.labels.push({name:O,kind:It,statementStart:this.start}),S.body=this.parseStatement(ne?ne.indexOf("label")===-1?ne+"label":ne:"label"),this.labels.pop(),S.label=W,this.finishNode(S,"LabeledStatement")},ze.parseExpressionStatement=function(S,O){return S.expression=O,this.semicolon(),this.finishNode(S,"ExpressionStatement")},ze.parseBlock=function(S,O,W){for(S===void 0&&(S=!0),O===void 0&&(O=this.startNode()),O.body=[],this.expect(w.braceL),S&&this.enterScope(0);this.type!==w.braceR;){var ne=this.parseStatement(null);O.body.push(ne)}return W&&(this.strict=!1),this.next(),S&&this.exitScope(),this.finishNode(O,"BlockStatement")},ze.parseFor=function(S,O){return S.init=O,this.expect(w.semi),S.test=this.type===w.semi?null:this.parseExpression(),this.expect(w.semi),S.update=this.type===w.parenR?null:this.parseExpression(),this.expect(w.parenR),S.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(S,"ForStatement")},ze.parseForIn=function(S,O){var W=this.type===w._in;return this.next(),O.type==="VariableDeclaration"&&O.declarations[0].init!=null&&(!W||this.options.ecmaVersion<8||this.strict||O.kind!=="var"||O.declarations[0].id.type!=="Identifier")&&this.raise(O.start,(W?"for-in":"for-of")+" loop variable declaration may not have an initializer"),S.left=O,S.right=W?this.parseExpression():this.parseMaybeAssign(),this.expect(w.parenR),S.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(S,W?"ForInStatement":"ForOfStatement")},ze.parseVar=function(S,O,W,ne){for(S.declarations=[],S.kind=W;;){var de=this.startNode();if(this.parseVarId(de,W),this.eat(w.eq)?de.init=this.parseMaybeAssign(O):!ne&&W==="const"&&!(this.type===w._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!ne&&(W==="using"||W==="await using")&&this.options.ecmaVersion>=17&&this.type!==w._in&&!this.isContextual("of")?this.raise(this.lastTokEnd,"Missing initializer in "+W+" declaration"):!ne&&de.id.type!=="Identifier"&&!(O&&(this.type===w._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):de.init=null,S.declarations.push(this.finishNode(de,"VariableDeclarator")),!this.eat(w.comma))break}return S},ze.parseVarId=function(S,O){S.id=O==="using"||O==="await using"?this.parseIdent():this.parseBindingAtom(),this.checkLValPattern(S.id,O==="var"?vt:re,!1)};var Ot=1,ft=2,jt=4;ze.parseFunction=function(S,O,W,ne,de){this.initFunction(S),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!ne)&&(this.type===w.star&&O&ft&&this.unexpected(),S.generator=this.eat(w.star)),this.options.ecmaVersion>=8&&(S.async=!!ne),O&Ot&&(S.id=O&jt&&this.type!==w.name?null:this.parseIdent(),S.id&&!(O&ft)&&this.checkLValSimple(S.id,this.strict||S.generator||S.async?this.treatFunctionsAsVar?vt:re:J));var Pe=this.yieldPos,Xe=this.awaitPos,It=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(We(S.async,S.generator)),O&Ot||(S.id=this.type===w.name?this.parseIdent():null),this.parseFunctionParams(S),this.parseFunctionBody(S,W,!1,de),this.yieldPos=Pe,this.awaitPos=Xe,this.awaitIdentPos=It,this.finishNode(S,O&Ot?"FunctionDeclaration":"FunctionExpression")},ze.parseFunctionParams=function(S){this.expect(w.parenL),S.params=this.parseBindingList(w.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},ze.parseClass=function(S,O){this.next();var W=this.strict;this.strict=!0,this.parseClassId(S,O),this.parseClassSuper(S);var ne=this.enterClassBody(),de=this.startNode(),Pe=!1;for(de.body=[],this.expect(w.braceL);this.type!==w.braceR;){var Xe=this.parseClassElement(S.superClass!==null);Xe&&(de.body.push(Xe),Xe.type==="MethodDefinition"&&Xe.kind==="constructor"?(Pe&&this.raiseRecoverable(Xe.start,"Duplicate constructor in the same class"),Pe=!0):Xe.key&&Xe.key.type==="PrivateIdentifier"&&Re(ne,Xe)&&this.raiseRecoverable(Xe.key.start,"Identifier '#"+Xe.key.name+"' has already been declared"))}return this.strict=W,this.next(),S.body=this.finishNode(de,"ClassBody"),this.exitClassBody(),this.finishNode(S,O?"ClassDeclaration":"ClassExpression")},ze.parseClassElement=function(S){if(this.eat(w.semi))return null;var O=this.options.ecmaVersion,W=this.startNode(),ne="",de=!1,Pe=!1,Xe="method",It=!1;if(this.eatContextual("static")){if(O>=13&&this.eat(w.braceL))return this.parseClassStaticBlock(W),W;this.isClassElementNameStart()||this.type===w.star?It=!0:ne="static"}if(W.static=It,!ne&&O>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===w.star)&&!this.canInsertSemicolon()?Pe=!0:ne="async"),!ne&&(O>=9||!Pe)&&this.eat(w.star)&&(de=!0),!ne&&!Pe&&!de){var Ft=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?Xe=Ft:ne=Ft)}if(ne?(W.computed=!1,W.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),W.key.name=ne,this.finishNode(W.key,"Identifier")):this.parseClassElementName(W),O<13||this.type===w.parenL||Xe!=="method"||de||Pe){var mn=!W.static&&Fe(W,"constructor"),En=mn&&S;mn&&Xe!=="method"&&this.raise(W.key.start,"Constructor can't have get/set modifier"),W.kind=mn?"constructor":Xe,this.parseClassMethod(W,de,Pe,En)}else this.parseClassField(W);return W},ze.isClassElementNameStart=function(){return this.type===w.name||this.type===w.privateId||this.type===w.num||this.type===w.string||this.type===w.bracketL||this.type.keyword},ze.parseClassElementName=function(S){this.type===w.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),S.computed=!1,S.key=this.parsePrivateIdent()):this.parsePropertyName(S)},ze.parseClassMethod=function(S,O,W,ne){var de=S.key;S.kind==="constructor"?(O&&this.raise(de.start,"Constructor can't be a generator"),W&&this.raise(de.start,"Constructor can't be an async method")):S.static&&Fe(S,"prototype")&&this.raise(de.start,"Classes may not have a static property named prototype");var Pe=S.value=this.parseMethod(O,W,ne);return S.kind==="get"&&Pe.params.length!==0&&this.raiseRecoverable(Pe.start,"getter should have no params"),S.kind==="set"&&Pe.params.length!==1&&this.raiseRecoverable(Pe.start,"setter should have exactly one param"),S.kind==="set"&&Pe.params[0].type==="RestElement"&&this.raiseRecoverable(Pe.params[0].start,"Setter cannot use rest params"),this.finishNode(S,"MethodDefinition")},ze.parseClassField=function(S){return Fe(S,"constructor")?this.raise(S.key.start,"Classes can't have a field named 'constructor'"):S.static&&Fe(S,"prototype")&&this.raise(S.key.start,"Classes can't have a static field named 'prototype'"),this.eat(w.eq)?(this.enterScope(Ue|Be),S.value=this.parseMaybeAssign(),this.exitScope()):S.value=null,this.semicolon(),this.finishNode(S,"PropertyDefinition")},ze.parseClassStaticBlock=function(S){S.body=[];var O=this.labels;for(this.labels=[],this.enterScope(Ae|Be);this.type!==w.braceR;){var W=this.parseStatement(null);S.body.push(W)}return this.next(),this.exitScope(),this.labels=O,this.finishNode(S,"StaticBlock")},ze.parseClassId=function(S,O){this.type===w.name?(S.id=this.parseIdent(),O&&this.checkLValSimple(S.id,re,!1)):(O===!0&&this.unexpected(),S.id=null)},ze.parseClassSuper=function(S){S.superClass=this.eat(w._extends)?this.parseExprSubscripts(null,!1):null},ze.enterClassBody=function(){var S={declared:Object.create(null),used:[]};return this.privateNameStack.push(S),S.declared},ze.exitClassBody=function(){var S=this.privateNameStack.pop(),O=S.declared,W=S.used;if(this.options.checkPrivateFields)for(var ne=this.privateNameStack.length,de=ne===0?null:this.privateNameStack[ne-1],Pe=0;Pe<W.length;++Pe){var Xe=W[Pe];U(O,Xe.name)||(de?de.used.push(Xe):this.raiseRecoverable(Xe.start,"Private field '#"+Xe.name+"' must be declared in an enclosing class"))}};function Re(S,O){var W=O.key.name,ne=S[W],de="true";return O.type==="MethodDefinition"&&(O.kind==="get"||O.kind==="set")&&(de=(O.static?"s":"i")+O.kind),ne==="iget"&&de==="iset"||ne==="iset"&&de==="iget"||ne==="sget"&&de==="sset"||ne==="sset"&&de==="sget"?(S[W]="true",!1):ne?!0:(S[W]=de,!1)}function Fe(S,O){var W=S.computed,ne=S.key;return!W&&(ne.type==="Identifier"&&ne.name===O||ne.type==="Literal"&&ne.value===O)}ze.parseExportAllDeclaration=function(S,O){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(S.exported=this.parseModuleExportName(),this.checkExport(O,S.exported,this.lastTokStart)):S.exported=null),this.expectContextual("from"),this.type!==w.string&&this.unexpected(),S.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(S.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(S,"ExportAllDeclaration")},ze.parseExport=function(S,O){if(this.next(),this.eat(w.star))return this.parseExportAllDeclaration(S,O);if(this.eat(w._default))return this.checkExport(O,"default",this.lastTokStart),S.declaration=this.parseExportDefaultDeclaration(),this.finishNode(S,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())S.declaration=this.parseExportDeclaration(S),S.declaration.type==="VariableDeclaration"?this.checkVariableExport(O,S.declaration.declarations):this.checkExport(O,S.declaration.id,S.declaration.id.start),S.specifiers=[],S.source=null,this.options.ecmaVersion>=16&&(S.attributes=[]);else{if(S.declaration=null,S.specifiers=this.parseExportSpecifiers(O),this.eatContextual("from"))this.type!==w.string&&this.unexpected(),S.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(S.attributes=this.parseWithClause());else{for(var W=0,ne=S.specifiers;W<ne.length;W+=1){var de=ne[W];this.checkUnreserved(de.local),this.checkLocalExport(de.local),de.local.type==="Literal"&&this.raise(de.local.start,"A string literal cannot be used as an exported binding without `from`.")}S.source=null,this.options.ecmaVersion>=16&&(S.attributes=[])}this.semicolon()}return this.finishNode(S,"ExportNamedDeclaration")},ze.parseExportDeclaration=function(S){return this.parseStatement(null)},ze.parseExportDefaultDeclaration=function(){var S;if(this.type===w._function||(S=this.isAsyncFunction())){var O=this.startNode();return this.next(),S&&this.next(),this.parseFunction(O,Ot|jt,!1,S)}else if(this.type===w._class){var W=this.startNode();return this.parseClass(W,"nullableID")}else{var ne=this.parseMaybeAssign();return this.semicolon(),ne}},ze.checkExport=function(S,O,W){S&&(typeof O!="string"&&(O=O.type==="Identifier"?O.name:O.value),U(S,O)&&this.raiseRecoverable(W,"Duplicate export '"+O+"'"),S[O]=!0)},ze.checkPatternExport=function(S,O){var W=O.type;if(W==="Identifier")this.checkExport(S,O,O.start);else if(W==="ObjectPattern")for(var ne=0,de=O.properties;ne<de.length;ne+=1){var Pe=de[ne];this.checkPatternExport(S,Pe)}else if(W==="ArrayPattern")for(var Xe=0,It=O.elements;Xe<It.length;Xe+=1){var Ft=It[Xe];Ft&&this.checkPatternExport(S,Ft)}else W==="Property"?this.checkPatternExport(S,O.value):W==="AssignmentPattern"?this.checkPatternExport(S,O.left):W==="RestElement"&&this.checkPatternExport(S,O.argument)},ze.checkVariableExport=function(S,O){if(S)for(var W=0,ne=O;W<ne.length;W+=1){var de=ne[W];this.checkPatternExport(S,de.id)}},ze.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()},ze.parseExportSpecifier=function(S){var O=this.startNode();return O.local=this.parseModuleExportName(),O.exported=this.eatContextual("as")?this.parseModuleExportName():O.local,this.checkExport(S,O.exported,O.exported.start),this.finishNode(O,"ExportSpecifier")},ze.parseExportSpecifiers=function(S){var O=[],W=!0;for(this.expect(w.braceL);!this.eat(w.braceR);){if(W)W=!1;else if(this.expect(w.comma),this.afterTrailingComma(w.braceR))break;O.push(this.parseExportSpecifier(S))}return O},ze.parseImport=function(S){return this.next(),this.type===w.string?(S.specifiers=Xt,S.source=this.parseExprAtom()):(S.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),S.source=this.type===w.string?this.parseExprAtom():this.unexpected()),this.options.ecmaVersion>=16&&(S.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(S,"ImportDeclaration")},ze.parseImportSpecifier=function(){var S=this.startNode();return S.imported=this.parseModuleExportName(),this.eatContextual("as")?S.local=this.parseIdent():(this.checkUnreserved(S.imported),S.local=S.imported),this.checkLValSimple(S.local,re),this.finishNode(S,"ImportSpecifier")},ze.parseImportDefaultSpecifier=function(){var S=this.startNode();return S.local=this.parseIdent(),this.checkLValSimple(S.local,re),this.finishNode(S,"ImportDefaultSpecifier")},ze.parseImportNamespaceSpecifier=function(){var S=this.startNode();return this.next(),this.expectContextual("as"),S.local=this.parseIdent(),this.checkLValSimple(S.local,re),this.finishNode(S,"ImportNamespaceSpecifier")},ze.parseImportSpecifiers=function(){var S=[],O=!0;if(this.type===w.name&&(S.push(this.parseImportDefaultSpecifier()),!this.eat(w.comma)))return S;if(this.type===w.star)return S.push(this.parseImportNamespaceSpecifier()),S;for(this.expect(w.braceL);!this.eat(w.braceR);){if(O)O=!1;else if(this.expect(w.comma),this.afterTrailingComma(w.braceR))break;S.push(this.parseImportSpecifier())}return S},ze.parseWithClause=function(){var S=[];if(!this.eat(w._with))return S;this.expect(w.braceL);for(var O={},W=!0;!this.eat(w.braceR);){if(W)W=!1;else if(this.expect(w.comma),this.afterTrailingComma(w.braceR))break;var ne=this.parseImportAttribute(),de=ne.key.type==="Identifier"?ne.key.name:ne.key.value;U(O,de)&&this.raiseRecoverable(ne.key.start,"Duplicate attribute key '"+de+"'"),O[de]=!0,S.push(ne)}return S},ze.parseImportAttribute=function(){var S=this.startNode();return S.key=this.type===w.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never"),this.expect(w.colon),this.type!==w.string&&this.unexpected(),S.value=this.parseExprAtom(),this.finishNode(S,"ImportAttribute")},ze.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===w.string){var S=this.parseLiteral(this.value);return oe.test(S.value)&&this.raise(S.start,"An export name cannot include a lone surrogate."),S}return this.parseIdent(!0)},ze.adaptDirectivePrologue=function(S){for(var O=0;O<S.length&&this.isDirectiveCandidate(S[O]);++O)S[O].directive=S[O].expression.raw.slice(1,-1)},ze.isDirectiveCandidate=function(S){return this.options.ecmaVersion>=5&&S.type==="ExpressionStatement"&&S.expression.type==="Literal"&&typeof S.expression.value=="string"&&(this.input[S.start]==='"'||this.input[S.start]==="'")};var wt=be.prototype;wt.toAssignable=function(S,O,W){if(this.options.ecmaVersion>=6&&S)switch(S.type){case"Identifier":this.inAsync&&S.name==="await"&&this.raise(S.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":S.type="ObjectPattern",W&&this.checkPatternErrors(W,!0);for(var ne=0,de=S.properties;ne<de.length;ne+=1){var Pe=de[ne];this.toAssignable(Pe,O),Pe.type==="RestElement"&&(Pe.argument.type==="ArrayPattern"||Pe.argument.type==="ObjectPattern")&&this.raise(Pe.argument.start,"Unexpected token")}break;case"Property":S.kind!=="init"&&this.raise(S.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(S.value,O);break;case"ArrayExpression":S.type="ArrayPattern",W&&this.checkPatternErrors(W,!0),this.toAssignableList(S.elements,O);break;case"SpreadElement":S.type="RestElement",this.toAssignable(S.argument,O),S.argument.type==="AssignmentPattern"&&this.raise(S.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":S.operator!=="="&&this.raise(S.left.end,"Only '=' operator can be used for specifying default value."),S.type="AssignmentPattern",delete S.operator,this.toAssignable(S.left,O);break;case"ParenthesizedExpression":this.toAssignable(S.expression,O,W);break;case"ChainExpression":this.raiseRecoverable(S.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!O)break;default:this.raise(S.start,"Assigning to rvalue")}else W&&this.checkPatternErrors(W,!0);return S},wt.toAssignableList=function(S,O){for(var W=S.length,ne=0;ne<W;ne++){var de=S[ne];de&&this.toAssignable(de,O)}if(W){var Pe=S[W-1];this.options.ecmaVersion===6&&O&&Pe&&Pe.type==="RestElement"&&Pe.argument.type!=="Identifier"&&this.unexpected(Pe.argument.start)}return S},wt.parseSpread=function(S){var O=this.startNode();return this.next(),O.argument=this.parseMaybeAssign(!1,S),this.finishNode(O,"SpreadElement")},wt.parseRestBinding=function(){var S=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==w.name&&this.unexpected(),S.argument=this.parseBindingAtom(),this.finishNode(S,"RestElement")},wt.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case w.bracketL:var S=this.startNode();return this.next(),S.elements=this.parseBindingList(w.bracketR,!0,!0),this.finishNode(S,"ArrayPattern");case w.braceL:return this.parseObj(!0)}return this.parseIdent()},wt.parseBindingList=function(S,O,W,ne){for(var de=[],Pe=!0;!this.eat(S);)if(Pe?Pe=!1:this.expect(w.comma),O&&this.type===w.comma)de.push(null);else{if(W&&this.afterTrailingComma(S))break;if(this.type===w.ellipsis){var Xe=this.parseRestBinding();this.parseBindingListItem(Xe),de.push(Xe),this.type===w.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(S);break}else de.push(this.parseAssignableListItem(ne))}return de},wt.parseAssignableListItem=function(S){var O=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(O),O},wt.parseBindingListItem=function(S){return S},wt.parseMaybeDefault=function(S,O,W){if(W=W||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(w.eq))return W;var ne=this.startNodeAt(S,O);return ne.left=W,ne.right=this.parseMaybeAssign(),this.finishNode(ne,"AssignmentPattern")},wt.checkLValSimple=function(S,O,W){O===void 0&&(O=Et);var ne=O!==Et;switch(S.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(S.name)&&this.raiseRecoverable(S.start,(ne?"Binding ":"Assigning to ")+S.name+" in strict mode"),ne&&(O===re&&S.name==="let"&&this.raiseRecoverable(S.start,"let is disallowed as a lexically bound name"),W&&(U(W,S.name)&&this.raiseRecoverable(S.start,"Argument name clash"),W[S.name]=!0),O!==se&&this.declareName(S.name,O,S.start));break;case"ChainExpression":this.raiseRecoverable(S.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":ne&&this.raiseRecoverable(S.start,"Binding member expression");break;case"ParenthesizedExpression":return ne&&this.raiseRecoverable(S.start,"Binding parenthesized expression"),this.checkLValSimple(S.expression,O,W);default:this.raise(S.start,(ne?"Binding":"Assigning to")+" rvalue")}},wt.checkLValPattern=function(S,O,W){switch(O===void 0&&(O=Et),S.type){case"ObjectPattern":for(var ne=0,de=S.properties;ne<de.length;ne+=1){var Pe=de[ne];this.checkLValInnerPattern(Pe,O,W)}break;case"ArrayPattern":for(var Xe=0,It=S.elements;Xe<It.length;Xe+=1){var Ft=It[Xe];Ft&&this.checkLValInnerPattern(Ft,O,W)}break;default:this.checkLValSimple(S,O,W)}},wt.checkLValInnerPattern=function(S,O,W){switch(O===void 0&&(O=Et),S.type){case"Property":this.checkLValInnerPattern(S.value,O,W);break;case"AssignmentPattern":this.checkLValPattern(S.left,O,W);break;case"RestElement":this.checkLValPattern(S.argument,O,W);break;default:this.checkLValPattern(S,O,W)}};var Wt=function(O,W,ne,de,Pe){this.token=O,this.isExpr=!!W,this.preserveSpace=!!ne,this.override=de,this.generator=!!Pe},ut={b_stat:new Wt("{",!1),b_expr:new Wt("{",!0),b_tmpl:new Wt("${",!1),p_stat:new Wt("(",!1),p_expr:new Wt("(",!0),q_tmpl:new Wt("`",!0,!0,function(S){return S.tryReadTemplateToken()}),f_stat:new Wt("function",!1),f_expr:new Wt("function",!0),f_expr_gen:new Wt("function",!0,!1,null,!0),f_gen:new Wt("function",!1,!1,null,!0)},mt=be.prototype;mt.initialContext=function(){return[ut.b_stat]},mt.curContext=function(){return this.context[this.context.length-1]},mt.braceIsBlock=function(S){var O=this.curContext();return O===ut.f_expr||O===ut.f_stat?!0:S===w.colon&&(O===ut.b_stat||O===ut.b_expr)?!O.isExpr:S===w._return||S===w.name&&this.exprAllowed?T.test(this.input.slice(this.lastTokEnd,this.start)):S===w._else||S===w.semi||S===w.eof||S===w.parenR||S===w.arrow?!0:S===w.braceL?O===ut.b_stat:S===w._var||S===w._const||S===w.name?!1:!this.exprAllowed},mt.inGeneratorContext=function(){for(var S=this.context.length-1;S>=1;S--){var O=this.context[S];if(O.token==="function")return O.generator}return!1},mt.updateContext=function(S){var O,W=this.type;W.keyword&&S===w.dot?this.exprAllowed=!1:(O=W.updateContext)?O.call(this,S):this.exprAllowed=W.beforeExpr},mt.overrideContext=function(S){this.curContext()!==S&&(this.context[this.context.length-1]=S)},w.parenR.updateContext=w.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var S=this.context.pop();S===ut.b_stat&&this.curContext().token==="function"&&(S=this.context.pop()),this.exprAllowed=!S.isExpr},w.braceL.updateContext=function(S){this.context.push(this.braceIsBlock(S)?ut.b_stat:ut.b_expr),this.exprAllowed=!0},w.dollarBraceL.updateContext=function(){this.context.push(ut.b_tmpl),this.exprAllowed=!0},w.parenL.updateContext=function(S){var O=S===w._if||S===w._for||S===w._with||S===w._while;this.context.push(O?ut.p_stat:ut.p_expr),this.exprAllowed=!0},w.incDec.updateContext=function(){},w._function.updateContext=w._class.updateContext=function(S){S.beforeExpr&&S!==w._else&&!(S===w.semi&&this.curContext()!==ut.p_stat)&&!(S===w._return&&T.test(this.input.slice(this.lastTokEnd,this.start)))&&!((S===w.colon||S===w.braceL)&&this.curContext()===ut.b_stat)?this.context.push(ut.f_expr):this.context.push(ut.f_stat),this.exprAllowed=!1},w.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0},w.backQuote.updateContext=function(){this.curContext()===ut.q_tmpl?this.context.pop():this.context.push(ut.q_tmpl),this.exprAllowed=!1},w.star.updateContext=function(S){if(S===w._function){var O=this.context.length-1;this.context[O]===ut.f_expr?this.context[O]=ut.f_expr_gen:this.context[O]=ut.f_gen}this.exprAllowed=!0},w.name.updateContext=function(S){var O=!1;this.options.ecmaVersion>=6&&S!==w.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(O=!0),this.exprAllowed=O};var Mt=be.prototype;Mt.checkPropClash=function(S,O,W){if(!(this.options.ecmaVersion>=9&&S.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(S.computed||S.method||S.shorthand))){var ne=S.key,de;switch(ne.type){case"Identifier":de=ne.name;break;case"Literal":de=String(ne.value);break;default:return}var Pe=S.kind;if(this.options.ecmaVersion>=6){de==="__proto__"&&Pe==="init"&&(O.proto&&(W?W.doubleProto<0&&(W.doubleProto=ne.start):this.raiseRecoverable(ne.start,"Redefinition of __proto__ property")),O.proto=!0);return}de="$"+de;var Xe=O[de];if(Xe){var It;Pe==="init"?It=this.strict&&Xe.init||Xe.get||Xe.set:It=Xe.init||Xe[Pe],It&&this.raiseRecoverable(ne.start,"Redefinition of property")}else Xe=O[de]={init:!1,get:!1,set:!1};Xe[Pe]=!0}},Mt.parseExpression=function(S,O){var W=this.start,ne=this.startLoc,de=this.parseMaybeAssign(S,O);if(this.type===w.comma){var Pe=this.startNodeAt(W,ne);for(Pe.expressions=[de];this.eat(w.comma);)Pe.expressions.push(this.parseMaybeAssign(S,O));return this.finishNode(Pe,"SequenceExpression")}return de},Mt.parseMaybeAssign=function(S,O,W){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(S);this.exprAllowed=!1}var ne=!1,de=-1,Pe=-1,Xe=-1;O?(de=O.parenthesizedAssign,Pe=O.trailingComma,Xe=O.doubleProto,O.parenthesizedAssign=O.trailingComma=-1):(O=new pt,ne=!0);var It=this.start,Ft=this.startLoc;(this.type===w.parenL||this.type===w.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=S==="await");var mn=this.parseMaybeConditional(S,O);if(W&&(mn=W.call(this,mn,It,Ft)),this.type.isAssign){var En=this.startNodeAt(It,Ft);return En.operator=this.value,this.type===w.eq&&(mn=this.toAssignable(mn,!1,O)),ne||(O.parenthesizedAssign=O.trailingComma=O.doubleProto=-1),O.shorthandAssign>=mn.start&&(O.shorthandAssign=-1),this.type===w.eq?this.checkLValPattern(mn):this.checkLValSimple(mn),En.left=mn,this.next(),En.right=this.parseMaybeAssign(S),Xe>-1&&(O.doubleProto=Xe),this.finishNode(En,"AssignmentExpression")}else ne&&this.checkExpressionErrors(O,!0);return de>-1&&(O.parenthesizedAssign=de),Pe>-1&&(O.trailingComma=Pe),mn},Mt.parseMaybeConditional=function(S,O){var W=this.start,ne=this.startLoc,de=this.parseExprOps(S,O);if(this.checkExpressionErrors(O))return de;if(this.eat(w.question)){var Pe=this.startNodeAt(W,ne);return Pe.test=de,Pe.consequent=this.parseMaybeAssign(),this.expect(w.colon),Pe.alternate=this.parseMaybeAssign(S),this.finishNode(Pe,"ConditionalExpression")}return de},Mt.parseExprOps=function(S,O){var W=this.start,ne=this.startLoc,de=this.parseMaybeUnary(O,!1,!1,S);return this.checkExpressionErrors(O)||de.start===W&&de.type==="ArrowFunctionExpression"?de:this.parseExprOp(de,W,ne,-1,S)},Mt.parseExprOp=function(S,O,W,ne,de){var Pe=this.type.binop;if(Pe!=null&&(!de||this.type!==w._in)&&Pe>ne){var Xe=this.type===w.logicalOR||this.type===w.logicalAND,It=this.type===w.coalesce;It&&(Pe=w.logicalAND.binop);var Ft=this.value;this.next();var mn=this.start,En=this.startLoc,Ai=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,de),mn,En,Pe,de),Mn=this.buildBinary(O,W,S,Ai,Ft,Xe||It);return(Xe&&this.type===w.coalesce||It&&(this.type===w.logicalOR||this.type===w.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(Mn,O,W,ne,de)}return S},Mt.buildBinary=function(S,O,W,ne,de,Pe){ne.type==="PrivateIdentifier"&&this.raise(ne.start,"Private identifier can only be left side of binary expression");var Xe=this.startNodeAt(S,O);return Xe.left=W,Xe.operator=de,Xe.right=ne,this.finishNode(Xe,Pe?"LogicalExpression":"BinaryExpression")},Mt.parseMaybeUnary=function(S,O,W,ne){var de=this.start,Pe=this.startLoc,Xe;if(this.isContextual("await")&&this.canAwait)Xe=this.parseAwait(ne),O=!0;else if(this.type.prefix){var It=this.startNode(),Ft=this.type===w.incDec;It.operator=this.value,It.prefix=!0,this.next(),It.argument=this.parseMaybeUnary(null,!0,Ft,ne),this.checkExpressionErrors(S,!0),Ft?this.checkLValSimple(It.argument):this.strict&&It.operator==="delete"&&gn(It.argument)?this.raiseRecoverable(It.start,"Deleting local variable in strict mode"):It.operator==="delete"&&Gn(It.argument)?this.raiseRecoverable(It.start,"Private fields can not be deleted"):O=!0,Xe=this.finishNode(It,Ft?"UpdateExpression":"UnaryExpression")}else if(!O&&this.type===w.privateId)(ne||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),Xe=this.parsePrivateIdent(),this.type!==w._in&&this.unexpected();else{if(Xe=this.parseExprSubscripts(S,ne),this.checkExpressionErrors(S))return Xe;for(;this.type.postfix&&!this.canInsertSemicolon();){var mn=this.startNodeAt(de,Pe);mn.operator=this.value,mn.prefix=!1,mn.argument=Xe,this.checkLValSimple(Xe),this.next(),Xe=this.finishNode(mn,"UpdateExpression")}}if(!W&&this.eat(w.starstar))if(O)this.unexpected(this.lastTokStart);else return this.buildBinary(de,Pe,Xe,this.parseMaybeUnary(null,!1,!1,ne),"**",!1);else return Xe};function gn(S){return S.type==="Identifier"||S.type==="ParenthesizedExpression"&&gn(S.expression)}function Gn(S){return S.type==="MemberExpression"&&S.property.type==="PrivateIdentifier"||S.type==="ChainExpression"&&Gn(S.expression)||S.type==="ParenthesizedExpression"&&Gn(S.expression)}Mt.parseExprSubscripts=function(S,O){var W=this.start,ne=this.startLoc,de=this.parseExprAtom(S,O);if(de.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return de;var Pe=this.parseSubscripts(de,W,ne,!1,O);return S&&Pe.type==="MemberExpression"&&(S.parenthesizedAssign>=Pe.start&&(S.parenthesizedAssign=-1),S.parenthesizedBind>=Pe.start&&(S.parenthesizedBind=-1),S.trailingComma>=Pe.start&&(S.trailingComma=-1)),Pe},Mt.parseSubscripts=function(S,O,W,ne,de){for(var Pe=this.options.ecmaVersion>=8&&S.type==="Identifier"&&S.name==="async"&&this.lastTokEnd===S.end&&!this.canInsertSemicolon()&&S.end-S.start===5&&this.potentialArrowAt===S.start,Xe=!1;;){var It=this.parseSubscript(S,O,W,ne,Pe,Xe,de);if(It.optional&&(Xe=!0),It===S||It.type==="ArrowFunctionExpression"){if(Xe){var Ft=this.startNodeAt(O,W);Ft.expression=It,It=this.finishNode(Ft,"ChainExpression")}return It}S=It}},Mt.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(w.arrow)},Mt.parseSubscriptAsyncArrow=function(S,O,W,ne){return this.parseArrowExpression(this.startNodeAt(S,O),W,!0,ne)},Mt.parseSubscript=function(S,O,W,ne,de,Pe,Xe){var It=this.options.ecmaVersion>=11,Ft=It&&this.eat(w.questionDot);ne&&Ft&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var mn=this.eat(w.bracketL);if(mn||Ft&&this.type!==w.parenL&&this.type!==w.backQuote||this.eat(w.dot)){var En=this.startNodeAt(O,W);En.object=S,mn?(En.property=this.parseExpression(),this.expect(w.bracketR)):this.type===w.privateId&&S.type!=="Super"?En.property=this.parsePrivateIdent():En.property=this.parseIdent(this.options.allowReserved!=="never"),En.computed=!!mn,It&&(En.optional=Ft),S=this.finishNode(En,"MemberExpression")}else if(!ne&&this.eat(w.parenL)){var Ai=new pt,Mn=this.yieldPos,Si=this.awaitPos,ba=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var lr=this.parseExprList(w.parenR,this.options.ecmaVersion>=8,!1,Ai);if(de&&!Ft&&this.shouldParseAsyncArrow())return this.checkPatternErrors(Ai,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=Mn,this.awaitPos=Si,this.awaitIdentPos=ba,this.parseSubscriptAsyncArrow(O,W,lr,Xe);this.checkExpressionErrors(Ai,!0),this.yieldPos=Mn||this.yieldPos,this.awaitPos=Si||this.awaitPos,this.awaitIdentPos=ba||this.awaitIdentPos;var Yi=this.startNodeAt(O,W);Yi.callee=S,Yi.arguments=lr,It&&(Yi.optional=Ft),S=this.finishNode(Yi,"CallExpression")}else if(this.type===w.backQuote){(Ft||Pe)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var Ji=this.startNodeAt(O,W);Ji.tag=S,Ji.quasi=this.parseTemplate({isTagged:!0}),S=this.finishNode(Ji,"TaggedTemplateExpression")}return S},Mt.parseExprAtom=function(S,O,W){this.type===w.slash&&this.readRegexp();var ne,de=this.potentialArrowAt===this.start;switch(this.type){case w._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),ne=this.startNode(),this.next(),this.type===w.parenL&&!this.allowDirectSuper&&this.raise(ne.start,"super() call outside constructor of a subclass"),this.type!==w.dot&&this.type!==w.bracketL&&this.type!==w.parenL&&this.unexpected(),this.finishNode(ne,"Super");case w._this:return ne=this.startNode(),this.next(),this.finishNode(ne,"ThisExpression");case w.name:var Pe=this.start,Xe=this.startLoc,It=this.containsEsc,Ft=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!It&&Ft.name==="async"&&!this.canInsertSemicolon()&&this.eat(w._function))return this.overrideContext(ut.f_expr),this.parseFunction(this.startNodeAt(Pe,Xe),0,!1,!0,O);if(de&&!this.canInsertSemicolon()){if(this.eat(w.arrow))return this.parseArrowExpression(this.startNodeAt(Pe,Xe),[Ft],!1,O);if(this.options.ecmaVersion>=8&&Ft.name==="async"&&this.type===w.name&&!It&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return Ft=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(w.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(Pe,Xe),[Ft],!0,O)}return Ft;case w.regexp:var mn=this.value;return ne=this.parseLiteral(mn.value),ne.regex={pattern:mn.pattern,flags:mn.flags},ne;case w.num:case w.string:return this.parseLiteral(this.value);case w._null:case w._true:case w._false:return ne=this.startNode(),ne.value=this.type===w._null?null:this.type===w._true,ne.raw=this.type.keyword,this.next(),this.finishNode(ne,"Literal");case w.parenL:var En=this.start,Ai=this.parseParenAndDistinguishExpression(de,O);return S&&(S.parenthesizedAssign<0&&!this.isSimpleAssignTarget(Ai)&&(S.parenthesizedAssign=En),S.parenthesizedBind<0&&(S.parenthesizedBind=En)),Ai;case w.bracketL:return ne=this.startNode(),this.next(),ne.elements=this.parseExprList(w.bracketR,!0,!0,S),this.finishNode(ne,"ArrayExpression");case w.braceL:return this.overrideContext(ut.b_expr),this.parseObj(!1,S);case w._function:return ne=this.startNode(),this.next(),this.parseFunction(ne,0);case w._class:return this.parseClass(this.startNode(),!1);case w._new:return this.parseNew();case w.backQuote:return this.parseTemplate();case w._import:return this.options.ecmaVersion>=11?this.parseExprImport(W):this.unexpected();default:return this.parseExprAtomDefault()}},Mt.parseExprAtomDefault=function(){this.unexpected()},Mt.parseExprImport=function(S){var O=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===w.parenL&&!S)return this.parseDynamicImport(O);if(this.type===w.dot){var W=this.startNodeAt(O.start,O.loc&&O.loc.start);return W.name="import",O.meta=this.finishNode(W,"Identifier"),this.parseImportMeta(O)}else this.unexpected()},Mt.parseDynamicImport=function(S){if(this.next(),S.source=this.parseMaybeAssign(),this.options.ecmaVersion>=16)this.eat(w.parenR)?S.options=null:(this.expect(w.comma),this.afterTrailingComma(w.parenR)?S.options=null:(S.options=this.parseMaybeAssign(),this.eat(w.parenR)||(this.expect(w.comma),this.afterTrailingComma(w.parenR)||this.unexpected())));else if(!this.eat(w.parenR)){var O=this.start;this.eat(w.comma)&&this.eat(w.parenR)?this.raiseRecoverable(O,"Trailing comma is not allowed in import()"):this.unexpected(O)}return this.finishNode(S,"ImportExpression")},Mt.parseImportMeta=function(S){this.next();var O=this.containsEsc;return S.property=this.parseIdent(!0),S.property.name!=="meta"&&this.raiseRecoverable(S.property.start,"The only valid meta property for import is 'import.meta'"),O&&this.raiseRecoverable(S.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(S.start,"Cannot use 'import.meta' outside a module"),this.finishNode(S,"MetaProperty")},Mt.parseLiteral=function(S){var O=this.startNode();return O.value=S,O.raw=this.input.slice(this.start,this.end),O.raw.charCodeAt(O.raw.length-1)===110&&(O.bigint=O.value!=null?O.value.toString():O.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(O,"Literal")},Mt.parseParenExpression=function(){this.expect(w.parenL);var S=this.parseExpression();return this.expect(w.parenR),S},Mt.shouldParseArrow=function(S){return!this.canInsertSemicolon()},Mt.parseParenAndDistinguishExpression=function(S,O){var W=this.start,ne=this.startLoc,de,Pe=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var Xe=this.start,It=this.startLoc,Ft=[],mn=!0,En=!1,Ai=new pt,Mn=this.yieldPos,Si=this.awaitPos,ba;for(this.yieldPos=0,this.awaitPos=0;this.type!==w.parenR;)if(mn?mn=!1:this.expect(w.comma),Pe&&this.afterTrailingComma(w.parenR,!0)){En=!0;break}else if(this.type===w.ellipsis){ba=this.start,Ft.push(this.parseParenItem(this.parseRestBinding())),this.type===w.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else Ft.push(this.parseMaybeAssign(!1,Ai,this.parseParenItem));var lr=this.lastTokEnd,Yi=this.lastTokEndLoc;if(this.expect(w.parenR),S&&this.shouldParseArrow(Ft)&&this.eat(w.arrow))return this.checkPatternErrors(Ai,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=Mn,this.awaitPos=Si,this.parseParenArrowList(W,ne,Ft,O);(!Ft.length||En)&&this.unexpected(this.lastTokStart),ba&&this.unexpected(ba),this.checkExpressionErrors(Ai,!0),this.yieldPos=Mn||this.yieldPos,this.awaitPos=Si||this.awaitPos,Ft.length>1?(de=this.startNodeAt(Xe,It),de.expressions=Ft,this.finishNodeAt(de,"SequenceExpression",lr,Yi)):de=Ft[0]}else de=this.parseParenExpression();if(this.options.preserveParens){var Ji=this.startNodeAt(W,ne);return Ji.expression=de,this.finishNode(Ji,"ParenthesizedExpression")}else return de},Mt.parseParenItem=function(S){return S},Mt.parseParenArrowList=function(S,O,W,ne){return this.parseArrowExpression(this.startNodeAt(S,O),W,!1,ne)};var jn=[];Mt.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var S=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===w.dot){var O=this.startNodeAt(S.start,S.loc&&S.loc.start);O.name="new",S.meta=this.finishNode(O,"Identifier"),this.next();var W=this.containsEsc;return S.property=this.parseIdent(!0),S.property.name!=="target"&&this.raiseRecoverable(S.property.start,"The only valid meta property for new is 'new.target'"),W&&this.raiseRecoverable(S.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(S.start,"'new.target' can only be used in functions and class static block"),this.finishNode(S,"MetaProperty")}var ne=this.start,de=this.startLoc;return S.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),ne,de,!0,!1),this.eat(w.parenL)?S.arguments=this.parseExprList(w.parenR,this.options.ecmaVersion>=8,!1):S.arguments=jn,this.finishNode(S,"NewExpression")},Mt.parseTemplateElement=function(S){var O=S.isTagged,W=this.startNode();return this.type===w.invalidTemplate?(O||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),W.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}):W.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),W.tail=this.type===w.backQuote,this.finishNode(W,"TemplateElement")},Mt.parseTemplate=function(S){S===void 0&&(S={});var O=S.isTagged;O===void 0&&(O=!1);var W=this.startNode();this.next(),W.expressions=[];var ne=this.parseTemplateElement({isTagged:O});for(W.quasis=[ne];!ne.tail;)this.type===w.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(w.dollarBraceL),W.expressions.push(this.parseExpression()),this.expect(w.braceR),W.quasis.push(ne=this.parseTemplateElement({isTagged:O}));return this.next(),this.finishNode(W,"TemplateLiteral")},Mt.isAsyncProp=function(S){return!S.computed&&S.key.type==="Identifier"&&S.key.name==="async"&&(this.type===w.name||this.type===w.num||this.type===w.string||this.type===w.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===w.star)&&!T.test(this.input.slice(this.lastTokEnd,this.start))},Mt.parseObj=function(S,O){var W=this.startNode(),ne=!0,de={};for(W.properties=[],this.next();!this.eat(w.braceR);){if(ne)ne=!1;else if(this.expect(w.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(w.braceR))break;var Pe=this.parseProperty(S,O);S||this.checkPropClash(Pe,de,O),W.properties.push(Pe)}return this.finishNode(W,S?"ObjectPattern":"ObjectExpression")},Mt.parseProperty=function(S,O){var W=this.startNode(),ne,de,Pe,Xe;if(this.options.ecmaVersion>=9&&this.eat(w.ellipsis))return S?(W.argument=this.parseIdent(!1),this.type===w.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(W,"RestElement")):(W.argument=this.parseMaybeAssign(!1,O),this.type===w.comma&&O&&O.trailingComma<0&&(O.trailingComma=this.start),this.finishNode(W,"SpreadElement"));this.options.ecmaVersion>=6&&(W.method=!1,W.shorthand=!1,(S||O)&&(Pe=this.start,Xe=this.startLoc),S||(ne=this.eat(w.star)));var It=this.containsEsc;return this.parsePropertyName(W),!S&&!It&&this.options.ecmaVersion>=8&&!ne&&this.isAsyncProp(W)?(de=!0,ne=this.options.ecmaVersion>=9&&this.eat(w.star),this.parsePropertyName(W)):de=!1,this.parsePropertyValue(W,S,ne,de,Pe,Xe,O,It),this.finishNode(W,"Property")},Mt.parseGetterSetter=function(S){var O=S.key.name;this.parsePropertyName(S),S.value=this.parseMethod(!1),S.kind=O;var W=S.kind==="get"?0:1;if(S.value.params.length!==W){var ne=S.value.start;S.kind==="get"?this.raiseRecoverable(ne,"getter should have no params"):this.raiseRecoverable(ne,"setter should have exactly one param")}else S.kind==="set"&&S.value.params[0].type==="RestElement"&&this.raiseRecoverable(S.value.params[0].start,"Setter cannot use rest params")},Mt.parsePropertyValue=function(S,O,W,ne,de,Pe,Xe,It){(W||ne)&&this.type===w.colon&&this.unexpected(),this.eat(w.colon)?(S.value=O?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,Xe),S.kind="init"):this.options.ecmaVersion>=6&&this.type===w.parenL?(O&&this.unexpected(),S.method=!0,S.value=this.parseMethod(W,ne),S.kind="init"):!O&&!It&&this.options.ecmaVersion>=5&&!S.computed&&S.key.type==="Identifier"&&(S.key.name==="get"||S.key.name==="set")&&this.type!==w.comma&&this.type!==w.braceR&&this.type!==w.eq?((W||ne)&&this.unexpected(),this.parseGetterSetter(S)):this.options.ecmaVersion>=6&&!S.computed&&S.key.type==="Identifier"?((W||ne)&&this.unexpected(),this.checkUnreserved(S.key),S.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=de),O?S.value=this.parseMaybeDefault(de,Pe,this.copyNode(S.key)):this.type===w.eq&&Xe?(Xe.shorthandAssign<0&&(Xe.shorthandAssign=this.start),S.value=this.parseMaybeDefault(de,Pe,this.copyNode(S.key))):S.value=this.copyNode(S.key),S.kind="init",S.shorthand=!0):this.unexpected()},Mt.parsePropertyName=function(S){if(this.options.ecmaVersion>=6){if(this.eat(w.bracketL))return S.computed=!0,S.key=this.parseMaybeAssign(),this.expect(w.bracketR),S.key;S.computed=!1}return S.key=this.type===w.num||this.type===w.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")},Mt.initFunction=function(S){S.id=null,this.options.ecmaVersion>=6&&(S.generator=S.expression=!1),this.options.ecmaVersion>=8&&(S.async=!1)},Mt.parseMethod=function(S,O,W){var ne=this.startNode(),de=this.yieldPos,Pe=this.awaitPos,Xe=this.awaitIdentPos;return this.initFunction(ne),this.options.ecmaVersion>=6&&(ne.generator=S),this.options.ecmaVersion>=8&&(ne.async=!!O),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(We(O,ne.generator)|Be|(W?ot:0)),this.expect(w.parenL),ne.params=this.parseBindingList(w.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(ne,!1,!0,!1),this.yieldPos=de,this.awaitPos=Pe,this.awaitIdentPos=Xe,this.finishNode(ne,"FunctionExpression")},Mt.parseArrowExpression=function(S,O,W,ne){var de=this.yieldPos,Pe=this.awaitPos,Xe=this.awaitIdentPos;return this.enterScope(We(W,!1)|he),this.initFunction(S),this.options.ecmaVersion>=8&&(S.async=!!W),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,S.params=this.toAssignableList(O,!0),this.parseFunctionBody(S,!0,!1,ne),this.yieldPos=de,this.awaitPos=Pe,this.awaitIdentPos=Xe,this.finishNode(S,"ArrowFunctionExpression")},Mt.parseFunctionBody=function(S,O,W,ne){var de=O&&this.type!==w.braceL,Pe=this.strict,Xe=!1;if(de)S.body=this.parseMaybeAssign(ne),S.expression=!0,this.checkParams(S,!1);else{var It=this.options.ecmaVersion>=7&&!this.isSimpleParamList(S.params);(!Pe||It)&&(Xe=this.strictDirective(this.end),Xe&&It&&this.raiseRecoverable(S.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var Ft=this.labels;this.labels=[],Xe&&(this.strict=!0),this.checkParams(S,!Pe&&!Xe&&!O&&!W&&this.isSimpleParamList(S.params)),this.strict&&S.id&&this.checkLValSimple(S.id,se),S.body=this.parseBlock(!1,void 0,Xe&&!Pe),S.expression=!1,this.adaptDirectivePrologue(S.body.body),this.labels=Ft}this.exitScope()},Mt.isSimpleParamList=function(S){for(var O=0,W=S;O<W.length;O+=1){var ne=W[O];if(ne.type!=="Identifier")return!1}return!0},Mt.checkParams=function(S,O){for(var W=Object.create(null),ne=0,de=S.params;ne<de.length;ne+=1){var Pe=de[ne];this.checkLValInnerPattern(Pe,vt,O?null:W)}},Mt.parseExprList=function(S,O,W,ne){for(var de=[],Pe=!0;!this.eat(S);){if(Pe)Pe=!1;else if(this.expect(w.comma),O&&this.afterTrailingComma(S))break;var Xe=void 0;W&&this.type===w.comma?Xe=null:this.type===w.ellipsis?(Xe=this.parseSpread(ne),ne&&this.type===w.comma&&ne.trailingComma<0&&(ne.trailingComma=this.start)):Xe=this.parseMaybeAssign(!1,ne),de.push(Xe)}return de},Mt.checkUnreserved=function(S){var O=S.start,W=S.end,ne=S.name;if(this.inGenerator&&ne==="yield"&&this.raiseRecoverable(O,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&ne==="await"&&this.raiseRecoverable(O,"Cannot use 'await' as identifier inside an async function"),!(this.currentThisScope().flags&Ne)&&ne==="arguments"&&this.raiseRecoverable(O,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(ne==="arguments"||ne==="await")&&this.raise(O,"Cannot use "+ne+" in class static initialization block"),this.keywords.test(ne)&&this.raise(O,"Unexpected keyword '"+ne+"'"),!(this.options.ecmaVersion<6&&this.input.slice(O,W).indexOf("\\")!==-1)){var de=this.strict?this.reservedWordsStrict:this.reservedWords;de.test(ne)&&(!this.inAsync&&ne==="await"&&this.raiseRecoverable(O,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(O,"The keyword '"+ne+"' is reserved"))}},Mt.parseIdent=function(S){var O=this.parseIdentNode();return this.next(!!S),this.finishNode(O,"Identifier"),S||(this.checkUnreserved(O),O.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=O.start)),O},Mt.parseIdentNode=function(){var S=this.startNode();return this.type===w.name?S.name=this.value:this.type.keyword?(S.name=this.type.keyword,(S.name==="class"||S.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=w.name):this.unexpected(),S},Mt.parsePrivateIdent=function(){var S=this.startNode();return this.type===w.privateId?S.name=this.value:this.unexpected(),this.next(),this.finishNode(S,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(S.start,"Private field '#"+S.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(S)),S},Mt.parseYield=function(S){this.yieldPos||(this.yieldPos=this.start);var O=this.startNode();return this.next(),this.type===w.semi||this.canInsertSemicolon()||this.type!==w.star&&!this.type.startsExpr?(O.delegate=!1,O.argument=null):(O.delegate=this.eat(w.star),O.argument=this.parseMaybeAssign(S)),this.finishNode(O,"YieldExpression")},Mt.parseAwait=function(S){this.awaitPos||(this.awaitPos=this.start);var O=this.startNode();return this.next(),O.argument=this.parseMaybeUnary(null,!0,!1,S),this.finishNode(O,"AwaitExpression")};var Xi=be.prototype;Xi.raise=function(S,O){var W=Me(this.input,S);O+=" ("+W.line+":"+W.column+")",this.sourceFile&&(O+=" in "+this.sourceFile);var ne=new SyntaxError(O);throw ne.pos=S,ne.loc=W,ne.raisedAt=this.pos,ne},Xi.raiseRecoverable=Xi.raise,Xi.curPosition=function(){if(this.options.locations)return new fe(this.curLine,this.pos-this.lineStart)};var Wn=be.prototype,Zr=function(O){this.flags=O,this.var=[],this.lexical=[],this.functions=[]};Wn.enterScope=function(S){this.scopeStack.push(new Zr(S))},Wn.exitScope=function(){this.scopeStack.pop()},Wn.treatFunctionsAsVarInScope=function(S){return S.flags&Ye||!this.inModule&&S.flags&Ge},Wn.declareName=function(S,O,W){var ne=!1;if(O===re){var de=this.currentScope();ne=de.lexical.indexOf(S)>-1||de.functions.indexOf(S)>-1||de.var.indexOf(S)>-1,de.lexical.push(S),this.inModule&&de.flags&Ge&&delete this.undefinedExports[S]}else if(O===ue){var Pe=this.currentScope();Pe.lexical.push(S)}else if(O===J){var Xe=this.currentScope();this.treatFunctionsAsVar?ne=Xe.lexical.indexOf(S)>-1:ne=Xe.lexical.indexOf(S)>-1||Xe.var.indexOf(S)>-1,Xe.functions.push(S)}else for(var It=this.scopeStack.length-1;It>=0;--It){var Ft=this.scopeStack[It];if(Ft.lexical.indexOf(S)>-1&&!(Ft.flags&Ve&&Ft.lexical[0]===S)||!this.treatFunctionsAsVarInScope(Ft)&&Ft.functions.indexOf(S)>-1){ne=!0;break}if(Ft.var.push(S),this.inModule&&Ft.flags&Ge&&delete this.undefinedExports[S],Ft.flags&Ne)break}ne&&this.raiseRecoverable(W,"Identifier '"+S+"' has already been declared")},Wn.checkLocalExport=function(S){this.scopeStack[0].lexical.indexOf(S.name)===-1&&this.scopeStack[0].var.indexOf(S.name)===-1&&(this.undefinedExports[S.name]=S)},Wn.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},Wn.currentVarScope=function(){for(var S=this.scopeStack.length-1;;S--){var O=this.scopeStack[S];if(O.flags&(Ne|Ue|Ae))return O}},Wn.currentThisScope=function(){for(var S=this.scopeStack.length-1;;S--){var O=this.scopeStack[S];if(O.flags&(Ne|Ue|Ae)&&!(O.flags&he))return O}};var Ii=function(O,W,ne){this.type="",this.start=W,this.end=0,O.options.locations&&(this.loc=new K(O,ne)),O.options.directSourceFile&&(this.sourceFile=O.options.directSourceFile),O.options.ranges&&(this.range=[W,0])},tr=be.prototype;tr.startNode=function(){return new Ii(this,this.start,this.startLoc)},tr.startNodeAt=function(S,O){return new Ii(this,S,O)};function _i(S,O,W,ne){return S.type=O,S.end=W,this.options.locations&&(S.loc.end=ne),this.options.ranges&&(S.range[1]=W),S}tr.finishNode=function(S,O){return _i.call(this,S,O,this.lastTokEnd,this.lastTokEndLoc)},tr.finishNodeAt=function(S,O,W,ne){return _i.call(this,S,O,W,ne)},tr.copyNode=function(S){var O=new Ii(this,S.start,this.startLoc);for(var W in S)O[W]=S[W];return O};var Qr="Gara Garay Gukh Gurung_Khema Hrkt Katakana_Or_Hiragana Kawi Kirat_Rai Krai Nag_Mundari Nagm Ol_Onal Onao Sunu Sunuwar Todhri Todr Tulu_Tigalari Tutg Unknown Zzzz",zi="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",dn=zi+" Extended_Pictographic",ga=dn,Ni=ga+" EBase EComp EMod EPres ExtPict",ie=Ni,le=ie,Te={9:zi,10:dn,11:ga,12:Ni,13:ie,14:le},qe="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",at={9:"",10:"",11:"",12:"",13:"",14:qe},Ze="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",At="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",Z=At+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",me=Z+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",Se=me+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",Ee=Se+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",ye=Ee+" "+Qr,dt={9:At,10:Z,11:me,12:Se,13:Ee,14:ye},it={};function ht(S){var O=it[S]={binary:X(Te[S]+" "+Ze),binaryOfStrings:X(at[S]),nonBinary:{General_Category:X(Ze),Script:X(dt[S])}};O.nonBinary.Script_Extensions=O.nonBinary.Script,O.nonBinary.gc=O.nonBinary.General_Category,O.nonBinary.sc=O.nonBinary.Script,O.nonBinary.scx=O.nonBinary.Script_Extensions}for(var bt=0,Dt=[9,10,11,12,13,14];bt<Dt.length;bt+=1){var qt=Dt[bt];ht(qt)}var Je=be.prototype,nn=function(O,W){this.parent=O,this.base=W||this};nn.prototype.separatedFrom=function(O){for(var W=this;W;W=W.parent)for(var ne=O;ne;ne=ne.parent)if(W.base===ne.base&&W!==ne)return!0;return!1},nn.prototype.sibling=function(){return new nn(this.parent,this.base)};var cn=function(O){this.parser=O,this.validFlags="gim"+(O.options.ecmaVersion>=6?"uy":"")+(O.options.ecmaVersion>=9?"s":"")+(O.options.ecmaVersion>=13?"d":"")+(O.options.ecmaVersion>=15?"v":""),this.unicodeProperties=it[O.options.ecmaVersion>=14?14:O.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null};cn.prototype.reset=function(O,W,ne){var de=ne.indexOf("v")!==-1,Pe=ne.indexOf("u")!==-1;this.start=O|0,this.source=W+"",this.flags=ne,de&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=Pe&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=Pe&&this.parser.options.ecmaVersion>=9)},cn.prototype.raise=function(O){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+O)},cn.prototype.at=function(O,W){W===void 0&&(W=!1);var ne=this.source,de=ne.length;if(O>=de)return-1;var Pe=ne.charCodeAt(O);if(!(W||this.switchU)||Pe<=55295||Pe>=57344||O+1>=de)return Pe;var Xe=ne.charCodeAt(O+1);return Xe>=56320&&Xe<=57343?(Pe<<10)+Xe-56613888:Pe},cn.prototype.nextIndex=function(O,W){W===void 0&&(W=!1);var ne=this.source,de=ne.length;if(O>=de)return de;var Pe=ne.charCodeAt(O),Xe;return!(W||this.switchU)||Pe<=55295||Pe>=57344||O+1>=de||(Xe=ne.charCodeAt(O+1))<56320||Xe>57343?O+1:O+2},cn.prototype.current=function(O){return O===void 0&&(O=!1),this.at(this.pos,O)},cn.prototype.lookahead=function(O){return O===void 0&&(O=!1),this.at(this.nextIndex(this.pos,O),O)},cn.prototype.advance=function(O){O===void 0&&(O=!1),this.pos=this.nextIndex(this.pos,O)},cn.prototype.eat=function(O,W){return W===void 0&&(W=!1),this.current(W)===O?(this.advance(W),!0):!1},cn.prototype.eatChars=function(O,W){W===void 0&&(W=!1);for(var ne=this.pos,de=0,Pe=O;de<Pe.length;de+=1){var Xe=Pe[de],It=this.at(ne,W);if(It===-1||It!==Xe)return!1;ne=this.nextIndex(ne,W)}return this.pos=ne,!0},Je.validateRegExpFlags=function(S){for(var O=S.validFlags,W=S.flags,ne=!1,de=!1,Pe=0;Pe<W.length;Pe++){var Xe=W.charAt(Pe);O.indexOf(Xe)===-1&&this.raise(S.start,"Invalid regular expression flag"),W.indexOf(Xe,Pe+1)>-1&&this.raise(S.start,"Duplicate regular expression flag"),Xe==="u"&&(ne=!0),Xe==="v"&&(de=!0)}this.options.ecmaVersion>=15&&ne&&de&&this.raise(S.start,"Invalid regular expression flag")};function un(S){for(var O in S)return!0;return!1}Je.validateRegExpPattern=function(S){this.regexp_pattern(S),!S.switchN&&this.options.ecmaVersion>=9&&un(S.groupNames)&&(S.switchN=!0,this.regexp_pattern(S))},Je.regexp_pattern=function(S){S.pos=0,S.lastIntValue=0,S.lastStringValue="",S.lastAssertionIsQuantifiable=!1,S.numCapturingParens=0,S.maxBackReference=0,S.groupNames=Object.create(null),S.backReferenceNames.length=0,S.branchID=null,this.regexp_disjunction(S),S.pos!==S.source.length&&(S.eat(41)&&S.raise("Unmatched ')'"),(S.eat(93)||S.eat(125))&&S.raise("Lone quantifier brackets")),S.maxBackReference>S.numCapturingParens&&S.raise("Invalid escape");for(var O=0,W=S.backReferenceNames;O<W.length;O+=1){var ne=W[O];S.groupNames[ne]||S.raise("Invalid named capture referenced")}},Je.regexp_disjunction=function(S){var O=this.options.ecmaVersion>=16;for(O&&(S.branchID=new nn(S.branchID,null)),this.regexp_alternative(S);S.eat(124);)O&&(S.branchID=S.branchID.sibling()),this.regexp_alternative(S);O&&(S.branchID=S.branchID.parent),this.regexp_eatQuantifier(S,!0)&&S.raise("Nothing to repeat"),S.eat(123)&&S.raise("Lone quantifier brackets")},Je.regexp_alternative=function(S){for(;S.pos<S.source.length&&this.regexp_eatTerm(S););},Je.regexp_eatTerm=function(S){return this.regexp_eatAssertion(S)?(S.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(S)&&S.switchU&&S.raise("Invalid quantifier"),!0):(S.switchU?this.regexp_eatAtom(S):this.regexp_eatExtendedAtom(S))?(this.regexp_eatQuantifier(S),!0):!1},Je.regexp_eatAssertion=function(S){var O=S.pos;if(S.lastAssertionIsQuantifiable=!1,S.eat(94)||S.eat(36))return!0;if(S.eat(92)){if(S.eat(66)||S.eat(98))return!0;S.pos=O}if(S.eat(40)&&S.eat(63)){var W=!1;if(this.options.ecmaVersion>=9&&(W=S.eat(60)),S.eat(61)||S.eat(33))return this.regexp_disjunction(S),S.eat(41)||S.raise("Unterminated group"),S.lastAssertionIsQuantifiable=!W,!0}return S.pos=O,!1},Je.regexp_eatQuantifier=function(S,O){return O===void 0&&(O=!1),this.regexp_eatQuantifierPrefix(S,O)?(S.eat(63),!0):!1},Je.regexp_eatQuantifierPrefix=function(S,O){return S.eat(42)||S.eat(43)||S.eat(63)||this.regexp_eatBracedQuantifier(S,O)},Je.regexp_eatBracedQuantifier=function(S,O){var W=S.pos;if(S.eat(123)){var ne=0,de=-1;if(this.regexp_eatDecimalDigits(S)&&(ne=S.lastIntValue,S.eat(44)&&this.regexp_eatDecimalDigits(S)&&(de=S.lastIntValue),S.eat(125)))return de!==-1&&de<ne&&!O&&S.raise("numbers out of order in {} quantifier"),!0;S.switchU&&!O&&S.raise("Incomplete quantifier"),S.pos=W}return!1},Je.regexp_eatAtom=function(S){return this.regexp_eatPatternCharacters(S)||S.eat(46)||this.regexp_eatReverseSolidusAtomEscape(S)||this.regexp_eatCharacterClass(S)||this.regexp_eatUncapturingGroup(S)||this.regexp_eatCapturingGroup(S)},Je.regexp_eatReverseSolidusAtomEscape=function(S){var O=S.pos;if(S.eat(92)){if(this.regexp_eatAtomEscape(S))return!0;S.pos=O}return!1},Je.regexp_eatUncapturingGroup=function(S){var O=S.pos;if(S.eat(40)){if(S.eat(63)){if(this.options.ecmaVersion>=16){var W=this.regexp_eatModifiers(S),ne=S.eat(45);if(W||ne){for(var de=0;de<W.length;de++){var Pe=W.charAt(de);W.indexOf(Pe,de+1)>-1&&S.raise("Duplicate regular expression modifiers")}if(ne){var Xe=this.regexp_eatModifiers(S);!W&&!Xe&&S.current()===58&&S.raise("Invalid regular expression modifiers");for(var It=0;It<Xe.length;It++){var Ft=Xe.charAt(It);(Xe.indexOf(Ft,It+1)>-1||W.indexOf(Ft)>-1)&&S.raise("Duplicate regular expression modifiers")}}}}if(S.eat(58)){if(this.regexp_disjunction(S),S.eat(41))return!0;S.raise("Unterminated group")}}S.pos=O}return!1},Je.regexp_eatCapturingGroup=function(S){if(S.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(S):S.current()===63&&S.raise("Invalid group"),this.regexp_disjunction(S),S.eat(41))return S.numCapturingParens+=1,!0;S.raise("Unterminated group")}return!1},Je.regexp_eatModifiers=function(S){for(var O="",W=0;(W=S.current())!==-1&&kn(W);)O+=z(W),S.advance();return O};function kn(S){return S===105||S===109||S===115}Je.regexp_eatExtendedAtom=function(S){return S.eat(46)||this.regexp_eatReverseSolidusAtomEscape(S)||this.regexp_eatCharacterClass(S)||this.regexp_eatUncapturingGroup(S)||this.regexp_eatCapturingGroup(S)||this.regexp_eatInvalidBracedQuantifier(S)||this.regexp_eatExtendedPatternCharacter(S)},Je.regexp_eatInvalidBracedQuantifier=function(S){return this.regexp_eatBracedQuantifier(S,!0)&&S.raise("Nothing to repeat"),!1},Je.regexp_eatSyntaxCharacter=function(S){var O=S.current();return Jt(O)?(S.lastIntValue=O,S.advance(),!0):!1};function Jt(S){return S===36||S>=40&&S<=43||S===46||S===63||S>=91&&S<=94||S>=123&&S<=125}Je.regexp_eatPatternCharacters=function(S){for(var O=S.pos,W=0;(W=S.current())!==-1&&!Jt(W);)S.advance();return S.pos!==O},Je.regexp_eatExtendedPatternCharacter=function(S){var O=S.current();return O!==-1&&O!==36&&!(O>=40&&O<=43)&&O!==46&&O!==63&&O!==91&&O!==94&&O!==124?(S.advance(),!0):!1},Je.regexp_groupSpecifier=function(S){if(S.eat(63)){this.regexp_eatGroupName(S)||S.raise("Invalid group");var O=this.options.ecmaVersion>=16,W=S.groupNames[S.lastStringValue];if(W)if(O)for(var ne=0,de=W;ne<de.length;ne+=1){var Pe=de[ne];Pe.separatedFrom(S.branchID)||S.raise("Duplicate capture group name")}else S.raise("Duplicate capture group name");O?(W||(S.groupNames[S.lastStringValue]=[])).push(S.branchID):S.groupNames[S.lastStringValue]=!0}},Je.regexp_eatGroupName=function(S){if(S.lastStringValue="",S.eat(60)){if(this.regexp_eatRegExpIdentifierName(S)&&S.eat(62))return!0;S.raise("Invalid capture group name")}return!1},Je.regexp_eatRegExpIdentifierName=function(S){if(S.lastStringValue="",this.regexp_eatRegExpIdentifierStart(S)){for(S.lastStringValue+=z(S.lastIntValue);this.regexp_eatRegExpIdentifierPart(S);)S.lastStringValue+=z(S.lastIntValue);return!0}return!1},Je.regexp_eatRegExpIdentifierStart=function(S){var O=S.pos,W=this.options.ecmaVersion>=11,ne=S.current(W);return S.advance(W),ne===92&&this.regexp_eatRegExpUnicodeEscapeSequence(S,W)&&(ne=S.lastIntValue),Kt(ne)?(S.lastIntValue=ne,!0):(S.pos=O,!1)};function Kt(S){return b(S,!0)||S===36||S===95}Je.regexp_eatRegExpIdentifierPart=function(S){var O=S.pos,W=this.options.ecmaVersion>=11,ne=S.current(W);return S.advance(W),ne===92&&this.regexp_eatRegExpUnicodeEscapeSequence(S,W)&&(ne=S.lastIntValue),Xn(ne)?(S.lastIntValue=ne,!0):(S.pos=O,!1)};function Xn(S){return y(S,!0)||S===36||S===95||S===8204||S===8205}Je.regexp_eatAtomEscape=function(S){return this.regexp_eatBackReference(S)||this.regexp_eatCharacterClassEscape(S)||this.regexp_eatCharacterEscape(S)||S.switchN&&this.regexp_eatKGroupName(S)?!0:(S.switchU&&(S.current()===99&&S.raise("Invalid unicode escape"),S.raise("Invalid escape")),!1)},Je.regexp_eatBackReference=function(S){var O=S.pos;if(this.regexp_eatDecimalEscape(S)){var W=S.lastIntValue;if(S.switchU)return W>S.maxBackReference&&(S.maxBackReference=W),!0;if(W<=S.numCapturingParens)return!0;S.pos=O}return!1},Je.regexp_eatKGroupName=function(S){if(S.eat(107)){if(this.regexp_eatGroupName(S))return S.backReferenceNames.push(S.lastStringValue),!0;S.raise("Invalid named reference")}return!1},Je.regexp_eatCharacterEscape=function(S){return this.regexp_eatControlEscape(S)||this.regexp_eatCControlLetter(S)||this.regexp_eatZero(S)||this.regexp_eatHexEscapeSequence(S)||this.regexp_eatRegExpUnicodeEscapeSequence(S,!1)||!S.switchU&&this.regexp_eatLegacyOctalEscapeSequence(S)||this.regexp_eatIdentityEscape(S)},Je.regexp_eatCControlLetter=function(S){var O=S.pos;if(S.eat(99)){if(this.regexp_eatControlLetter(S))return!0;S.pos=O}return!1},Je.regexp_eatZero=function(S){return S.current()===48&&!pr(S.lookahead())?(S.lastIntValue=0,S.advance(),!0):!1},Je.regexp_eatControlEscape=function(S){var O=S.current();return O===116?(S.lastIntValue=9,S.advance(),!0):O===110?(S.lastIntValue=10,S.advance(),!0):O===118?(S.lastIntValue=11,S.advance(),!0):O===102?(S.lastIntValue=12,S.advance(),!0):O===114?(S.lastIntValue=13,S.advance(),!0):!1},Je.regexp_eatControlLetter=function(S){var O=S.current();return yn(O)?(S.lastIntValue=O%32,S.advance(),!0):!1};function yn(S){return S>=65&&S<=90||S>=97&&S<=122}Je.regexp_eatRegExpUnicodeEscapeSequence=function(S,O){O===void 0&&(O=!1);var W=S.pos,ne=O||S.switchU;if(S.eat(117)){if(this.regexp_eatFixedHexDigits(S,4)){var de=S.lastIntValue;if(ne&&de>=55296&&de<=56319){var Pe=S.pos;if(S.eat(92)&&S.eat(117)&&this.regexp_eatFixedHexDigits(S,4)){var Xe=S.lastIntValue;if(Xe>=56320&&Xe<=57343)return S.lastIntValue=(de-55296)*1024+(Xe-56320)+65536,!0}S.pos=Pe,S.lastIntValue=de}return!0}if(ne&&S.eat(123)&&this.regexp_eatHexDigits(S)&&S.eat(125)&&yi(S.lastIntValue))return!0;ne&&S.raise("Invalid unicode escape"),S.pos=W}return!1};function yi(S){return S>=0&&S<=1114111}Je.regexp_eatIdentityEscape=function(S){if(S.switchU)return this.regexp_eatSyntaxCharacter(S)?!0:S.eat(47)?(S.lastIntValue=47,!0):!1;var O=S.current();return O!==99&&(!S.switchN||O!==107)?(S.lastIntValue=O,S.advance(),!0):!1},Je.regexp_eatDecimalEscape=function(S){S.lastIntValue=0;var O=S.current();if(O>=49&&O<=57){do S.lastIntValue=10*S.lastIntValue+(O-48),S.advance();while((O=S.current())>=48&&O<=57);return!0}return!1};var Fn=0,Tn=1,_n=2;Je.regexp_eatCharacterClassEscape=function(S){var O=S.current();if(fn(O))return S.lastIntValue=-1,S.advance(),Tn;var W=!1;if(S.switchU&&this.options.ecmaVersion>=9&&((W=O===80)||O===112)){S.lastIntValue=-1,S.advance();var ne;if(S.eat(123)&&(ne=this.regexp_eatUnicodePropertyValueExpression(S))&&S.eat(125))return W&&ne===_n&&S.raise("Invalid property name"),ne;S.raise("Invalid property name")}return Fn};function fn(S){return S===100||S===68||S===115||S===83||S===119||S===87}Je.regexp_eatUnicodePropertyValueExpression=function(S){var O=S.pos;if(this.regexp_eatUnicodePropertyName(S)&&S.eat(61)){var W=S.lastStringValue;if(this.regexp_eatUnicodePropertyValue(S)){var ne=S.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(S,W,ne),Tn}}if(S.pos=O,this.regexp_eatLoneUnicodePropertyNameOrValue(S)){var de=S.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(S,de)}return Fn},Je.regexp_validateUnicodePropertyNameAndValue=function(S,O,W){U(S.unicodeProperties.nonBinary,O)||S.raise("Invalid property name"),S.unicodeProperties.nonBinary[O].test(W)||S.raise("Invalid property value")},Je.regexp_validateUnicodePropertyNameOrValue=function(S,O){if(S.unicodeProperties.binary.test(O))return Tn;if(S.switchV&&S.unicodeProperties.binaryOfStrings.test(O))return _n;S.raise("Invalid property name")},Je.regexp_eatUnicodePropertyName=function(S){var O=0;for(S.lastStringValue="";ui(O=S.current());)S.lastStringValue+=z(O),S.advance();return S.lastStringValue!==""};function ui(S){return yn(S)||S===95}Je.regexp_eatUnicodePropertyValue=function(S){var O=0;for(S.lastStringValue="";Ki(O=S.current());)S.lastStringValue+=z(O),S.advance();return S.lastStringValue!==""};function Ki(S){return ui(S)||pr(S)}Je.regexp_eatLoneUnicodePropertyNameOrValue=function(S){return this.regexp_eatUnicodePropertyValue(S)},Je.regexp_eatCharacterClass=function(S){if(S.eat(91)){var O=S.eat(94),W=this.regexp_classContents(S);return S.eat(93)||S.raise("Unterminated character class"),O&&W===_n&&S.raise("Negated character class may contain strings"),!0}return!1},Je.regexp_classContents=function(S){return S.current()===93?Tn:S.switchV?this.regexp_classSetExpression(S):(this.regexp_nonEmptyClassRanges(S),Tn)},Je.regexp_nonEmptyClassRanges=function(S){for(;this.regexp_eatClassAtom(S);){var O=S.lastIntValue;if(S.eat(45)&&this.regexp_eatClassAtom(S)){var W=S.lastIntValue;S.switchU&&(O===-1||W===-1)&&S.raise("Invalid character class"),O!==-1&&W!==-1&&O>W&&S.raise("Range out of order in character class")}}},Je.regexp_eatClassAtom=function(S){var O=S.pos;if(S.eat(92)){if(this.regexp_eatClassEscape(S))return!0;if(S.switchU){var W=S.current();(W===99||wc(W))&&S.raise("Invalid class escape"),S.raise("Invalid escape")}S.pos=O}var ne=S.current();return ne!==93?(S.lastIntValue=ne,S.advance(),!0):!1},Je.regexp_eatClassEscape=function(S){var O=S.pos;if(S.eat(98))return S.lastIntValue=8,!0;if(S.switchU&&S.eat(45))return S.lastIntValue=45,!0;if(!S.switchU&&S.eat(99)){if(this.regexp_eatClassControlLetter(S))return!0;S.pos=O}return this.regexp_eatCharacterClassEscape(S)||this.regexp_eatCharacterEscape(S)},Je.regexp_classSetExpression=function(S){var O=Tn,W;if(!this.regexp_eatClassSetRange(S))if(W=this.regexp_eatClassSetOperand(S)){W===_n&&(O=_n);for(var ne=S.pos;S.eatChars([38,38]);){if(S.current()!==38&&(W=this.regexp_eatClassSetOperand(S))){W!==_n&&(O=Tn);continue}S.raise("Invalid character in character class")}if(ne!==S.pos)return O;for(;S.eatChars([45,45]);)this.regexp_eatClassSetOperand(S)||S.raise("Invalid character in character class");if(ne!==S.pos)return O}else S.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(S)){if(W=this.regexp_eatClassSetOperand(S),!W)return O;W===_n&&(O=_n)}},Je.regexp_eatClassSetRange=function(S){var O=S.pos;if(this.regexp_eatClassSetCharacter(S)){var W=S.lastIntValue;if(S.eat(45)&&this.regexp_eatClassSetCharacter(S)){var ne=S.lastIntValue;return W!==-1&&ne!==-1&&W>ne&&S.raise("Range out of order in character class"),!0}S.pos=O}return!1},Je.regexp_eatClassSetOperand=function(S){return this.regexp_eatClassSetCharacter(S)?Tn:this.regexp_eatClassStringDisjunction(S)||this.regexp_eatNestedClass(S)},Je.regexp_eatNestedClass=function(S){var O=S.pos;if(S.eat(91)){var W=S.eat(94),ne=this.regexp_classContents(S);if(S.eat(93))return W&&ne===_n&&S.raise("Negated character class may contain strings"),ne;S.pos=O}if(S.eat(92)){var de=this.regexp_eatCharacterClassEscape(S);if(de)return de;S.pos=O}return null},Je.regexp_eatClassStringDisjunction=function(S){var O=S.pos;if(S.eatChars([92,113])){if(S.eat(123)){var W=this.regexp_classStringDisjunctionContents(S);if(S.eat(125))return W}else S.raise("Invalid escape");S.pos=O}return null},Je.regexp_classStringDisjunctionContents=function(S){for(var O=this.regexp_classString(S);S.eat(124);)this.regexp_classString(S)===_n&&(O=_n);return O},Je.regexp_classString=function(S){for(var O=0;this.regexp_eatClassSetCharacter(S);)O++;return O===1?Tn:_n},Je.regexp_eatClassSetCharacter=function(S){var O=S.pos;if(S.eat(92))return this.regexp_eatCharacterEscape(S)||this.regexp_eatClassSetReservedPunctuator(S)?!0:S.eat(98)?(S.lastIntValue=8,!0):(S.pos=O,!1);var W=S.current();return W<0||W===S.lookahead()&&ei(W)||Mi(W)?!1:(S.advance(),S.lastIntValue=W,!0)};function ei(S){return S===33||S>=35&&S<=38||S>=42&&S<=44||S===46||S>=58&&S<=64||S===94||S===96||S===126}function Mi(S){return S===40||S===41||S===45||S===47||S>=91&&S<=93||S>=123&&S<=125}Je.regexp_eatClassSetReservedPunctuator=function(S){var O=S.current();return Hs(O)?(S.lastIntValue=O,S.advance(),!0):!1};function Hs(S){return S===33||S===35||S===37||S===38||S===44||S===45||S>=58&&S<=62||S===64||S===96||S===126}Je.regexp_eatClassControlLetter=function(S){var O=S.current();return pr(O)||O===95?(S.lastIntValue=O%32,S.advance(),!0):!1},Je.regexp_eatHexEscapeSequence=function(S){var O=S.pos;if(S.eat(120)){if(this.regexp_eatFixedHexDigits(S,2))return!0;S.switchU&&S.raise("Invalid escape"),S.pos=O}return!1},Je.regexp_eatDecimalDigits=function(S){var O=S.pos,W=0;for(S.lastIntValue=0;pr(W=S.current());)S.lastIntValue=10*S.lastIntValue+(W-48),S.advance();return S.pos!==O};function pr(S){return S>=48&&S<=57}Je.regexp_eatHexDigits=function(S){var O=S.pos,W=0;for(S.lastIntValue=0;cf(W=S.current());)S.lastIntValue=16*S.lastIntValue+Lo(W),S.advance();return S.pos!==O};function cf(S){return S>=48&&S<=57||S>=65&&S<=70||S>=97&&S<=102}function Lo(S){return S>=65&&S<=70?10+(S-65):S>=97&&S<=102?10+(S-97):S-48}Je.regexp_eatLegacyOctalEscapeSequence=function(S){if(this.regexp_eatOctalDigit(S)){var O=S.lastIntValue;if(this.regexp_eatOctalDigit(S)){var W=S.lastIntValue;O<=3&&this.regexp_eatOctalDigit(S)?S.lastIntValue=O*64+W*8+S.lastIntValue:S.lastIntValue=O*8+W}else S.lastIntValue=O;return!0}return!1},Je.regexp_eatOctalDigit=function(S){var O=S.current();return wc(O)?(S.lastIntValue=O-48,S.advance(),!0):(S.lastIntValue=0,!1)};function wc(S){return S>=48&&S<=55}Je.regexp_eatFixedHexDigits=function(S,O){var W=S.pos;S.lastIntValue=0;for(var ne=0;ne<O;++ne){var de=S.current();if(!cf(de))return S.pos=W,!1;S.lastIntValue=16*S.lastIntValue+Lo(de),S.advance()}return!0};var Po=function(O){this.type=O.type,this.value=O.value,this.start=O.start,this.end=O.end,O.options.locations&&(this.loc=new K(O,O.startLoc,O.endLoc)),O.options.ranges&&(this.range=[O.start,O.end])},Sn=be.prototype;Sn.next=function(S){!S&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Po(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},Sn.getToken=function(){return this.next(),new Po(this)},typeof Symbol<"u"&&(Sn[Symbol.iterator]=function(){var S=this;return{next:function(){var O=S.getToken();return{done:O.type===w.eof,value:O}}}}),Sn.nextToken=function(){var S=this.curContext();if((!S||!S.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(w.eof);if(S.override)return S.override(this);this.readToken(this.fullCharCodeAtPos())},Sn.readToken=function(S){return b(S,this.options.ecmaVersion>=6)||S===92?this.readWord():this.getTokenFromCode(S)},Sn.fullCharCodeAtPos=function(){var S=this.input.charCodeAt(this.pos);if(S<=55295||S>=56320)return S;var O=this.input.charCodeAt(this.pos+1);return O<=56319||O>=57344?S:(S<<10)+O-56613888},Sn.skipBlockComment=function(){var S=this.options.onComment&&this.curPosition(),O=this.pos,W=this.input.indexOf("*/",this.pos+=2);if(W===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=W+2,this.options.locations)for(var ne=void 0,de=O;(ne=D(this.input,de,this.pos))>-1;)++this.curLine,de=this.lineStart=ne;this.options.onComment&&this.options.onComment(!0,this.input.slice(O+2,W),O,this.pos,S,this.curPosition())},Sn.skipLineComment=function(S){for(var O=this.pos,W=this.options.onComment&&this.curPosition(),ne=this.input.charCodeAt(this.pos+=S);this.pos<this.input.length&&!N(ne);)ne=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(O+S,this.pos),O,this.pos,W,this.curPosition())},Sn.skipSpace=function(){e:for(;this.pos<this.input.length;){var S=this.input.charCodeAt(this.pos);switch(S){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(S>8&&S<14||S>=5760&&P.test(String.fromCharCode(S)))++this.pos;else break e}}},Sn.finishToken=function(S,O){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var W=this.type;this.type=S,this.value=O,this.updateContext(W)},Sn.readToken_dot=function(){var S=this.input.charCodeAt(this.pos+1);if(S>=48&&S<=57)return this.readNumber(!0);var O=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&S===46&&O===46?(this.pos+=3,this.finishToken(w.ellipsis)):(++this.pos,this.finishToken(w.dot))},Sn.readToken_slash=function(){var S=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):S===61?this.finishOp(w.assign,2):this.finishOp(w.slash,1)},Sn.readToken_mult_modulo_exp=function(S){var O=this.input.charCodeAt(this.pos+1),W=1,ne=S===42?w.star:w.modulo;return this.options.ecmaVersion>=7&&S===42&&O===42&&(++W,ne=w.starstar,O=this.input.charCodeAt(this.pos+2)),O===61?this.finishOp(w.assign,W+1):this.finishOp(ne,W)},Sn.readToken_pipe_amp=function(S){var O=this.input.charCodeAt(this.pos+1);if(O===S){if(this.options.ecmaVersion>=12){var W=this.input.charCodeAt(this.pos+2);if(W===61)return this.finishOp(w.assign,3)}return this.finishOp(S===124?w.logicalOR:w.logicalAND,2)}return O===61?this.finishOp(w.assign,2):this.finishOp(S===124?w.bitwiseOR:w.bitwiseAND,1)},Sn.readToken_caret=function(){var S=this.input.charCodeAt(this.pos+1);return S===61?this.finishOp(w.assign,2):this.finishOp(w.bitwiseXOR,1)},Sn.readToken_plus_min=function(S){var O=this.input.charCodeAt(this.pos+1);return O===S?O===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||T.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(w.incDec,2):O===61?this.finishOp(w.assign,2):this.finishOp(w.plusMin,1)},Sn.readToken_lt_gt=function(S){var O=this.input.charCodeAt(this.pos+1),W=1;return O===S?(W=S===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+W)===61?this.finishOp(w.assign,W+1):this.finishOp(w.bitShift,W)):O===33&&S===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(O===61&&(W=2),this.finishOp(w.relational,W))},Sn.readToken_eq_excl=function(S){var O=this.input.charCodeAt(this.pos+1);return O===61?this.finishOp(w.equality,this.input.charCodeAt(this.pos+2)===61?3:2):S===61&&O===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(w.arrow)):this.finishOp(S===61?w.eq:w.prefix,1)},Sn.readToken_question=function(){var S=this.options.ecmaVersion;if(S>=11){var O=this.input.charCodeAt(this.pos+1);if(O===46){var W=this.input.charCodeAt(this.pos+2);if(W<48||W>57)return this.finishOp(w.questionDot,2)}if(O===63){if(S>=12){var ne=this.input.charCodeAt(this.pos+2);if(ne===61)return this.finishOp(w.assign,3)}return this.finishOp(w.coalesce,2)}}return this.finishOp(w.question,1)},Sn.readToken_numberSign=function(){var S=this.options.ecmaVersion,O=35;if(S>=13&&(++this.pos,O=this.fullCharCodeAtPos(),b(O,!0)||O===92))return this.finishToken(w.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+z(O)+"'")},Sn.getTokenFromCode=function(S){switch(S){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(w.parenL);case 41:return++this.pos,this.finishToken(w.parenR);case 59:return++this.pos,this.finishToken(w.semi);case 44:return++this.pos,this.finishToken(w.comma);case 91:return++this.pos,this.finishToken(w.bracketL);case 93:return++this.pos,this.finishToken(w.bracketR);case 123:return++this.pos,this.finishToken(w.braceL);case 125:return++this.pos,this.finishToken(w.braceR);case 58:return++this.pos,this.finishToken(w.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(w.backQuote);case 48:var O=this.input.charCodeAt(this.pos+1);if(O===120||O===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(O===111||O===79)return this.readRadixNumber(8);if(O===98||O===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(S);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(S);case 124:case 38:return this.readToken_pipe_amp(S);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(S);case 60:case 62:return this.readToken_lt_gt(S);case 61:case 33:return this.readToken_eq_excl(S);case 63:return this.readToken_question();case 126:return this.finishOp(w.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+z(S)+"'")},Sn.finishOp=function(S,O){var W=this.input.slice(this.pos,this.pos+O);return this.pos+=O,this.finishToken(S,W)},Sn.readRegexp=function(){for(var S,O,W=this.pos;;){this.pos>=this.input.length&&this.raise(W,"Unterminated regular expression");var ne=this.input.charAt(this.pos);if(T.test(ne)&&this.raise(W,"Unterminated regular expression"),S)S=!1;else{if(ne==="[")O=!0;else if(ne==="]"&&O)O=!1;else if(ne==="/"&&!O)break;S=ne==="\\"}++this.pos}var de=this.input.slice(W,this.pos);++this.pos;var Pe=this.pos,Xe=this.readWord1();this.containsEsc&&this.unexpected(Pe);var It=this.regexpState||(this.regexpState=new cn(this));It.reset(W,de,Xe),this.validateRegExpFlags(It),this.validateRegExpPattern(It);var Ft=null;try{Ft=new RegExp(de,Xe)}catch{}return this.finishToken(w.regexp,{pattern:de,flags:Xe,value:Ft})},Sn.readInt=function(S,O,W){for(var ne=this.options.ecmaVersion>=12&&O===void 0,de=W&&this.input.charCodeAt(this.pos)===48,Pe=this.pos,Xe=0,It=0,Ft=0,mn=O??1/0;Ft<mn;++Ft,++this.pos){var En=this.input.charCodeAt(this.pos),Ai=void 0;if(ne&&En===95){de&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),It===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),Ft===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),It=En;continue}if(En>=97?Ai=En-97+10:En>=65?Ai=En-65+10:En>=48&&En<=57?Ai=En-48:Ai=1/0,Ai>=S)break;It=En,Xe=Xe*S+Ai}return ne&&It===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===Pe||O!=null&&this.pos-Pe!==O?null:Xe};function Vs(S,O){return O?parseInt(S,8):parseFloat(S.replace(/_/g,""))}function El(S){return typeof BigInt!="function"?null:BigInt(S.replace(/_/g,""))}Sn.readRadixNumber=function(S){var O=this.pos;this.pos+=2;var W=this.readInt(S);return W==null&&this.raise(this.start+2,"Expected number in radix "+S),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(W=El(this.input.slice(O,this.pos)),++this.pos):b(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(w.num,W)},Sn.readNumber=function(S){var O=this.pos;!S&&this.readInt(10,void 0,!0)===null&&this.raise(O,"Invalid number");var W=this.pos-O>=2&&this.input.charCodeAt(O)===48;W&&this.strict&&this.raise(O,"Invalid number");var ne=this.input.charCodeAt(this.pos);if(!W&&!S&&this.options.ecmaVersion>=11&&ne===110){var de=El(this.input.slice(O,this.pos));return++this.pos,b(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(w.num,de)}W&&/[89]/.test(this.input.slice(O,this.pos))&&(W=!1),ne===46&&!W&&(++this.pos,this.readInt(10),ne=this.input.charCodeAt(this.pos)),(ne===69||ne===101)&&!W&&(ne=this.input.charCodeAt(++this.pos),(ne===43||ne===45)&&++this.pos,this.readInt(10)===null&&this.raise(O,"Invalid number")),b(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var Pe=Vs(this.input.slice(O,this.pos),W);return this.finishToken(w.num,Pe)},Sn.readCodePoint=function(){var S=this.input.charCodeAt(this.pos),O;if(S===123){this.options.ecmaVersion<6&&this.unexpected();var W=++this.pos;O=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,O>1114111&&this.invalidStringToken(W,"Code point out of bounds")}else O=this.readHexChar(4);return O},Sn.readString=function(S){for(var O="",W=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var ne=this.input.charCodeAt(this.pos);if(ne===S)break;ne===92?(O+=this.input.slice(W,this.pos),O+=this.readEscapedChar(!1),W=this.pos):ne===8232||ne===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(N(ne)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return O+=this.input.slice(W,this.pos++),this.finishToken(w.string,O)};var Ec={};Sn.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(S){if(S===Ec)this.readInvalidTemplateToken();else throw S}this.inTemplateElement=!1},Sn.invalidStringToken=function(S,O){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Ec;this.raise(S,O)},Sn.readTmplToken=function(){for(var S="",O=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var W=this.input.charCodeAt(this.pos);if(W===96||W===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===w.template||this.type===w.invalidTemplate)?W===36?(this.pos+=2,this.finishToken(w.dollarBraceL)):(++this.pos,this.finishToken(w.backQuote)):(S+=this.input.slice(O,this.pos),this.finishToken(w.template,S));if(W===92)S+=this.input.slice(O,this.pos),S+=this.readEscapedChar(!0),O=this.pos;else if(N(W)){switch(S+=this.input.slice(O,this.pos),++this.pos,W){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:S+=`
`;break;default:S+=String.fromCharCode(W);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),O=this.pos}else++this.pos}},Sn.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(w.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":this.input[this.pos+1]===`
`&&++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")},Sn.readEscapedChar=function(S){var O=this.input.charCodeAt(++this.pos);switch(++this.pos,O){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return z(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),S){var W=this.pos-1;this.invalidStringToken(W,"Invalid escape sequence in template string")}default:if(O>=48&&O<=55){var ne=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],de=parseInt(ne,8);return de>255&&(ne=ne.slice(0,-1),de=parseInt(ne,8)),this.pos+=ne.length-1,O=this.input.charCodeAt(this.pos),(ne!=="0"||O===56||O===57)&&(this.strict||S)&&this.invalidStringToken(this.pos-1-ne.length,S?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(de)}return N(O)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(O)}},Sn.readHexChar=function(S){var O=this.pos,W=this.readInt(16,S);return W===null&&this.invalidStringToken(O,"Bad character escape sequence"),W},Sn.readWord1=function(){this.containsEsc=!1;for(var S="",O=!0,W=this.pos,ne=this.options.ecmaVersion>=6;this.pos<this.input.length;){var de=this.fullCharCodeAtPos();if(y(de,ne))this.pos+=de<=65535?1:2;else if(de===92){this.containsEsc=!0,S+=this.input.slice(W,this.pos);var Pe=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var Xe=this.readCodePoint();(O?b:y)(Xe,ne)||this.invalidStringToken(Pe,"Invalid Unicode escape"),S+=z(Xe),W=this.pos}else break;O=!1}return S+this.input.slice(W,this.pos)},Sn.readWord=function(){var S=this.readWord1(),O=w.name;return this.keywords.test(S)&&(O=E[S]),this.finishToken(O,S)};var Pr="8.15.0";be.acorn={Parser:be,version:Pr,defaultOptions:_e,Position:fe,SourceLocation:K,getLineInfo:Me,Node:Ii,TokenType:v,tokTypes:w,keywordTypes:E,TokContext:Wt,tokContexts:ut,isIdentifierChar:y,isIdentifierStart:b,Token:Po,isNewLine:N,lineBreak:T,lineBreakG:k,nonASCIIwhitespace:P};function uf(S,O){return be.parse(S,O)}function Uo(S,O,W){return be.parseExpressionAt(S,O,W)}function mu(S,O){return be.tokenizer(S,O)}n.Node=Ii,n.Parser=be,n.Position=fe,n.SourceLocation=K,n.TokContext=Wt,n.Token=Po,n.TokenType=v,n.defaultOptions=_e,n.getLineInfo=Me,n.isIdentifierChar=y,n.isIdentifierStart=b,n.isNewLine=N,n.keywordTypes=E,n.lineBreak=T,n.lineBreakG=k,n.nonASCIIwhitespace=P,n.parse=uf,n.parseExpressionAt=Uo,n.tokContexts=ut,n.tokTypes=w,n.tokenizer=mu,n.version=Pr})}($w,$w.exports)),$w.exports}(function(t){const e=ZAe,n=/^[\da-fA-F]+$/,i=/^\d+$/,r=new WeakMap;function a(l){l=l.Parser.acorn||l;let c=r.get(l);if(!c){const u=l.tokTypes,f=l.TokContext,h=l.TokenType,d=new f("<tag",!1),b=new f("</tag",!1),y=new f("<tag>...</tag>",!0,!0),v={tc_oTag:d,tc_cTag:b,tc_expr:y},m={jsxName:new h("jsxName"),jsxText:new h("jsxText",{beforeExpr:!0}),jsxTagStart:new h("jsxTagStart",{startsExpr:!0}),jsxTagEnd:new h("jsxTagEnd")};m.jsxTagStart.updateContext=function(){this.context.push(y),this.context.push(d),this.exprAllowed=!1},m.jsxTagEnd.updateContext=function(x){let _=this.context.pop();_===d&&x===u.slash||_===b?(this.context.pop(),this.exprAllowed=this.curContext()===y):this.exprAllowed=!0},c={tokContexts:v,tokTypes:m},r.set(l,c)}return c}function s(l){if(!l)return l;if(l.type==="JSXIdentifier")return l.name;if(l.type==="JSXNamespacedName")return l.namespace.name+":"+l.name.name;if(l.type==="JSXMemberExpression")return s(l.object)+"."+s(l.property)}t.exports=function(l){return l=l||{},function(c){return o({allowNamespaces:l.allowNamespaces!==!1,allowNamespacedObjects:!!l.allowNamespacedObjects},c)}},Object.defineProperty(t.exports,"tokTypes",{get:function(){return a(FN()).tokTypes},configurable:!0,enumerable:!0});function o(l,c){const u=c.acorn||FN(),f=a(u),h=u.tokTypes,d=f.tokTypes,b=u.tokContexts,y=f.tokContexts.tc_oTag,v=f.tokContexts.tc_cTag,m=f.tokContexts.tc_expr,x=u.isNewLine,_=u.isIdentifierStart,E=u.isIdentifierChar;return class extends c{static get acornJsx(){return f}jsx_readToken(){let A="",w=this.pos;for(;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated JSX contents");let T=this.input.charCodeAt(this.pos);switch(T){case 60:case 123:return this.pos===this.start?T===60&&this.exprAllowed?(++this.pos,this.finishToken(d.jsxTagStart)):this.getTokenFromCode(T):(A+=this.input.slice(w,this.pos),this.finishToken(d.jsxText,A));case 38:A+=this.input.slice(w,this.pos),A+=this.jsx_readEntity(),w=this.pos;break;case 62:case 125:this.raise(this.pos,"Unexpected token `"+this.input[this.pos]+"`. Did you mean `"+(T===62?"&gt;":"&rbrace;")+'` or `{"'+this.input[this.pos]+'"}`?');default:x(T)?(A+=this.input.slice(w,this.pos),A+=this.jsx_readNewLine(!0),w=this.pos):++this.pos}}}jsx_readNewLine(A){let w=this.input.charCodeAt(this.pos),T;return++this.pos,w===13&&this.input.charCodeAt(this.pos)===10?(++this.pos,T=A?`
`:`\r
`):T=String.fromCharCode(w),this.options.locations&&(++this.curLine,this.lineStart=this.pos),T}jsx_readString(A){let w="",T=++this.pos;for(;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");let k=this.input.charCodeAt(this.pos);if(k===A)break;k===38?(w+=this.input.slice(T,this.pos),w+=this.jsx_readEntity(),T=this.pos):x(k)?(w+=this.input.slice(T,this.pos),w+=this.jsx_readNewLine(!1),T=this.pos):++this.pos}return w+=this.input.slice(T,this.pos++),this.finishToken(h.string,w)}jsx_readEntity(){let A="",w=0,T,k=this.input[this.pos];k!=="&"&&this.raise(this.pos,"Entity must start with an ampersand");let N=++this.pos;for(;this.pos<this.input.length&&w++<10;){if(k=this.input[this.pos++],k===";"){A[0]==="#"?A[1]==="x"?(A=A.substr(2),n.test(A)&&(T=String.fromCharCode(parseInt(A,16)))):(A=A.substr(1),i.test(A)&&(T=String.fromCharCode(parseInt(A,10)))):T=e[A];break}A+=k}return T||(this.pos=N,"&")}jsx_readWord(){let A,w=this.pos;do A=this.input.charCodeAt(++this.pos);while(E(A)||A===45);return this.finishToken(d.jsxName,this.input.slice(w,this.pos))}jsx_parseIdentifier(){let A=this.startNode();return this.type===d.jsxName?A.name=this.value:this.type.keyword?A.name=this.type.keyword:this.unexpected(),this.next(),this.finishNode(A,"JSXIdentifier")}jsx_parseNamespacedName(){let A=this.start,w=this.startLoc,T=this.jsx_parseIdentifier();if(!l.allowNamespaces||!this.eat(h.colon))return T;var k=this.startNodeAt(A,w);return k.namespace=T,k.name=this.jsx_parseIdentifier(),this.finishNode(k,"JSXNamespacedName")}jsx_parseElementName(){if(this.type===d.jsxTagEnd)return"";let A=this.start,w=this.startLoc,T=this.jsx_parseNamespacedName();for(this.type===h.dot&&T.type==="JSXNamespacedName"&&!l.allowNamespacedObjects&&this.unexpected();this.eat(h.dot);){let k=this.startNodeAt(A,w);k.object=T,k.property=this.jsx_parseIdentifier(),T=this.finishNode(k,"JSXMemberExpression")}return T}jsx_parseAttributeValue(){switch(this.type){case h.braceL:let A=this.jsx_parseExpressionContainer();return A.expression.type==="JSXEmptyExpression"&&this.raise(A.start,"JSX attributes must only be assigned a non-empty expression"),A;case d.jsxTagStart:case h.string:return this.parseExprAtom();default:this.raise(this.start,"JSX value should be either an expression or a quoted JSX text")}}jsx_parseEmptyExpression(){let A=this.startNodeAt(this.lastTokEnd,this.lastTokEndLoc);return this.finishNodeAt(A,"JSXEmptyExpression",this.start,this.startLoc)}jsx_parseExpressionContainer(){let A=this.startNode();return this.next(),A.expression=this.type===h.braceR?this.jsx_parseEmptyExpression():this.parseExpression(),this.expect(h.braceR),this.finishNode(A,"JSXExpressionContainer")}jsx_parseAttribute(){let A=this.startNode();return this.eat(h.braceL)?(this.expect(h.ellipsis),A.argument=this.parseMaybeAssign(),this.expect(h.braceR),this.finishNode(A,"JSXSpreadAttribute")):(A.name=this.jsx_parseNamespacedName(),A.value=this.eat(h.eq)?this.jsx_parseAttributeValue():null,this.finishNode(A,"JSXAttribute"))}jsx_parseOpeningElementAt(A,w){let T=this.startNodeAt(A,w);T.attributes=[];let k=this.jsx_parseElementName();for(k&&(T.name=k);this.type!==h.slash&&this.type!==d.jsxTagEnd;)T.attributes.push(this.jsx_parseAttribute());return T.selfClosing=this.eat(h.slash),this.expect(d.jsxTagEnd),this.finishNode(T,k?"JSXOpeningElement":"JSXOpeningFragment")}jsx_parseClosingElementAt(A,w){let T=this.startNodeAt(A,w),k=this.jsx_parseElementName();return k&&(T.name=k),this.expect(d.jsxTagEnd),this.finishNode(T,k?"JSXClosingElement":"JSXClosingFragment")}jsx_parseElementAt(A,w){let T=this.startNodeAt(A,w),k=[],N=this.jsx_parseOpeningElementAt(A,w),D=null;if(!N.selfClosing){e:for(;;)switch(this.type){case d.jsxTagStart:if(A=this.start,w=this.startLoc,this.next(),this.eat(h.slash)){D=this.jsx_parseClosingElementAt(A,w);break e}k.push(this.jsx_parseElementAt(A,w));break;case d.jsxText:k.push(this.parseExprAtom());break;case h.braceL:k.push(this.jsx_parseExpressionContainer());break;default:this.unexpected()}s(D.name)!==s(N.name)&&this.raise(D.start,"Expected corresponding JSX closing tag for <"+s(N.name)+">")}let P=N.name?"Element":"Fragment";return T["opening"+P]=N,T["closing"+P]=D,T.children=k,this.type===h.relational&&this.value==="<"&&this.raise(this.start,"Adjacent JSX elements must be wrapped in an enclosing tag"),this.finishNode(T,"JSX"+P)}jsx_parseText(){let A=this.parseLiteral(this.value);return A.type="JSXText",A}jsx_parseElement(){let A=this.start,w=this.startLoc;return this.next(),this.jsx_parseElementAt(A,w)}parseExprAtom(A){return this.type===d.jsxText?this.jsx_parseText():this.type===d.jsxTagStart?this.jsx_parseElement():super.parseExprAtom(A)}readToken(A){let w=this.curContext();if(w===m)return this.jsx_readToken();if(w===y||w===v){if(_(A))return this.jsx_readWord();if(A==62)return++this.pos,this.finishToken(d.jsxTagEnd);if((A===34||A===39)&&w==y)return this.jsx_readString(A)}return A===60&&this.exprAllowed&&this.input.charCodeAt(this.pos+1)!==33?(++this.pos,this.finishToken(d.jsxTagStart)):super.readToken(A)}updateContext(A){if(this.type==h.braceL){var w=this.curContext();w==y?this.context.push(b.b_expr):w==m?this.context.push(b.b_tmpl):super.updateContext(A),this.exprAllowed=!0}else if(this.type===h.slash&&A===d.jsxTagStart)this.context.length-=2,this.context.push(v),this.exprAllowed=!1;else return super.updateContext(A)}}}})(Z$);var QAe=Z$.exports;const Q$=mc(QAe),{stringify:eTe}=JSON;if(!String.prototype.repeat)throw new Error("String.prototype.repeat is undefined, see https://github.com/davidbonnet/astring#installation");if(!String.prototype.endsWith)throw new Error("String.prototype.endsWith is undefined, see https://github.com/davidbonnet/astring#installation");const Zw={"||":2,"??":3,"&&":4,"|":5,"^":6,"&":7,"==":8,"!=":8,"===":8,"!==":8,"<":9,">":9,"<=":9,">=":9,in:9,instanceof:9,"<<":10,">>":10,">>>":10,"+":11,"-":11,"*":12,"%":12,"/":12,"**":13},Gc=17,tTe={ArrayExpression:20,TaggedTemplateExpression:20,ThisExpression:20,Identifier:20,PrivateIdentifier:20,Literal:18,TemplateLiteral:20,Super:20,SequenceExpression:20,MemberExpression:19,ChainExpression:19,CallExpression:19,NewExpression:19,ArrowFunctionExpression:Gc,ClassExpression:Gc,FunctionExpression:Gc,ObjectExpression:Gc,UpdateExpression:16,UnaryExpression:15,AwaitExpression:15,BinaryExpression:14,LogicalExpression:13,ConditionalExpression:4,AssignmentExpression:3,YieldExpression:2,RestElement:1};function Eb(t,e){const{generator:n}=t;if(t.write("("),e!=null&&e.length>0){n[e[0].type](e[0],t);const{length:i}=e;for(let r=1;r<i;r++){const a=e[r];t.write(", "),n[a.type](a,t)}}t.write(")")}function eZ(t,e,n,i){const r=t.expressionsPrecedence[e.type];if(r===Gc)return!0;const a=t.expressionsPrecedence[n.type];return r!==a?!i&&r===15&&a===14&&n.operator==="**"||r<a:r!==13&&r!==14?!1:e.operator==="**"&&n.operator==="**"?!i:r===13&&a===13&&(e.operator==="??"||n.operator==="??")?!0:i?Zw[e.operator]<=Zw[n.operator]:Zw[e.operator]<Zw[n.operator]}function Qw(t,e,n,i){const{generator:r}=t;eZ(t,e,n,i)?(t.write("("),r[e.type](e,t),t.write(")")):r[e.type](e,t)}function nTe(t,e,n,i){const r=e.split(`
`),a=r.length-1;if(t.write(r[0].trim()),a>0){t.write(i);for(let s=1;s<a;s++)t.write(n+r[s].trim()+i);t.write(n+r[a].trim())}}function to(t,e,n,i){const{length:r}=e;for(let a=0;a<r;a++){const s=e[a];t.write(n),s.type[0]==="L"?t.write("// "+s.value.trim()+`
`,s):(t.write("/*"),nTe(t,s.value,n,i),t.write("*/"+i))}}function iTe(t){let e=t;for(;e!=null;){const{type:n}=e;if(n[0]==="C"&&n[1]==="a")return!0;if(n[0]==="M"&&n[1]==="e"&&n[2]==="m")e=e.object;else return!1}}function n8(t,e){const{generator:n}=t,{declarations:i}=e;t.write(e.kind+" ");const{length:r}=i;if(r>0){n.VariableDeclarator(i[0],t);for(let a=1;a<r;a++)t.write(", "),n.VariableDeclarator(i[a],t)}}let U5,F5,z5,j5,B5,H5;const tZ={Program(t,e){const n=e.indent.repeat(e.indentLevel),{lineEnd:i,writeComments:r}=e;r&&t.comments!=null&&to(e,t.comments,n,i);const a=t.body,{length:s}=a;for(let o=0;o<s;o++){const l=a[o];r&&l.comments!=null&&to(e,l.comments,n,i),e.write(n),this[l.type](l,e),e.write(i)}r&&t.trailingComments!=null&&to(e,t.trailingComments,n,i)},BlockStatement:H5=function(t,e){const n=e.indent.repeat(e.indentLevel++),{lineEnd:i,writeComments:r}=e,a=n+e.indent;e.write("{");const s=t.body;if(s!=null&&s.length>0){e.write(i),r&&t.comments!=null&&to(e,t.comments,a,i);const{length:o}=s;for(let l=0;l<o;l++){const c=s[l];r&&c.comments!=null&&to(e,c.comments,a,i),e.write(a),this[c.type](c,e),e.write(i)}e.write(n)}else r&&t.comments!=null&&(e.write(i),to(e,t.comments,a,i),e.write(n));r&&t.trailingComments!=null&&to(e,t.trailingComments,a,i),e.write("}"),e.indentLevel--},ClassBody:H5,StaticBlock(t,e){e.write("static "),this.BlockStatement(t,e)},EmptyStatement(t,e){e.write(";")},ExpressionStatement(t,e){const n=e.expressionsPrecedence[t.expression.type];n===Gc||n===3&&t.expression.left.type[0]==="O"?(e.write("("),this[t.expression.type](t.expression,e),e.write(")")):this[t.expression.type](t.expression,e),e.write(";")},IfStatement(t,e){e.write("if ("),this[t.test.type](t.test,e),e.write(") "),this[t.consequent.type](t.consequent,e),t.alternate!=null&&(e.write(" else "),this[t.alternate.type](t.alternate,e))},LabeledStatement(t,e){this[t.label.type](t.label,e),e.write(": "),this[t.body.type](t.body,e)},BreakStatement(t,e){e.write("break"),t.label!=null&&(e.write(" "),this[t.label.type](t.label,e)),e.write(";")},ContinueStatement(t,e){e.write("continue"),t.label!=null&&(e.write(" "),this[t.label.type](t.label,e)),e.write(";")},WithStatement(t,e){e.write("with ("),this[t.object.type](t.object,e),e.write(") "),this[t.body.type](t.body,e)},SwitchStatement(t,e){const n=e.indent.repeat(e.indentLevel++),{lineEnd:i,writeComments:r}=e;e.indentLevel++;const a=n+e.indent,s=a+e.indent;e.write("switch ("),this[t.discriminant.type](t.discriminant,e),e.write(") {"+i);const{cases:o}=t,{length:l}=o;for(let c=0;c<l;c++){const u=o[c];r&&u.comments!=null&&to(e,u.comments,a,i),u.test?(e.write(a+"case "),this[u.test.type](u.test,e),e.write(":"+i)):e.write(a+"default:"+i);const{consequent:f}=u,{length:h}=f;for(let d=0;d<h;d++){const b=f[d];r&&b.comments!=null&&to(e,b.comments,s,i),e.write(s),this[b.type](b,e),e.write(i)}}e.indentLevel-=2,e.write(n+"}")},ReturnStatement(t,e){e.write("return"),t.argument&&(e.write(" "),this[t.argument.type](t.argument,e)),e.write(";")},ThrowStatement(t,e){e.write("throw "),this[t.argument.type](t.argument,e),e.write(";")},TryStatement(t,e){if(e.write("try "),this[t.block.type](t.block,e),t.handler){const{handler:n}=t;n.param==null?e.write(" catch "):(e.write(" catch ("),this[n.param.type](n.param,e),e.write(") ")),this[n.body.type](n.body,e)}t.finalizer&&(e.write(" finally "),this[t.finalizer.type](t.finalizer,e))},WhileStatement(t,e){e.write("while ("),this[t.test.type](t.test,e),e.write(") "),this[t.body.type](t.body,e)},DoWhileStatement(t,e){e.write("do "),this[t.body.type](t.body,e),e.write(" while ("),this[t.test.type](t.test,e),e.write(");")},ForStatement(t,e){if(e.write("for ("),t.init!=null){const{init:n}=t;n.type[0]==="V"?n8(e,n):this[n.type](n,e)}e.write("; "),t.test&&this[t.test.type](t.test,e),e.write("; "),t.update&&this[t.update.type](t.update,e),e.write(") "),this[t.body.type](t.body,e)},ForInStatement:U5=function(t,e){e.write(`for ${t.await?"await ":""}(`);const{left:n}=t;n.type[0]==="V"?n8(e,n):this[n.type](n,e),e.write(t.type[3]==="I"?" in ":" of "),this[t.right.type](t.right,e),e.write(") "),this[t.body.type](t.body,e)},ForOfStatement:U5,DebuggerStatement(t,e){e.write("debugger;",t)},FunctionDeclaration:F5=function(t,e){e.write((t.async?"async ":"")+(t.generator?"function* ":"function ")+(t.id?t.id.name:""),t),Eb(e,t.params),e.write(" "),this[t.body.type](t.body,e)},FunctionExpression:F5,VariableDeclaration(t,e){n8(e,t),e.write(";")},VariableDeclarator(t,e){this[t.id.type](t.id,e),t.init!=null&&(e.write(" = "),this[t.init.type](t.init,e))},ClassDeclaration(t,e){if(e.write("class "+(t.id?`${t.id.name} `:""),t),t.superClass){e.write("extends ");const{superClass:n}=t,{type:i}=n,r=e.expressionsPrecedence[i];(i[0]!=="C"||i[1]!=="l"||i[5]!=="E")&&(r===Gc||r<e.expressionsPrecedence.ClassExpression)?(e.write("("),this[t.superClass.type](n,e),e.write(")")):this[n.type](n,e),e.write(" ")}this.ClassBody(t.body,e)},ImportDeclaration(t,e){e.write("import ");const{specifiers:n,attributes:i}=t,{length:r}=n;let a=0;if(r>0){for(;a<r;){a>0&&e.write(", ");const s=n[a],o=s.type[6];if(o==="D")e.write(s.local.name,s),a++;else if(o==="N")e.write("* as "+s.local.name,s),a++;else break}if(a<r){for(e.write("{");;){const s=n[a],{name:o}=s.imported;if(e.write(o,s),o!==s.local.name&&e.write(" as "+s.local.name),++a<r)e.write(", ");else break}e.write("}")}e.write(" from ")}if(this.Literal(t.source,e),i&&i.length>0){e.write(" with { ");for(let s=0;s<i.length;s++)this.ImportAttribute(i[s],e),s<i.length-1&&e.write(", ");e.write(" }")}e.write(";")},ImportAttribute(t,e){this.Identifier(t.key,e),e.write(": "),this.Literal(t.value,e)},ImportExpression(t,e){e.write("import("),this[t.source.type](t.source,e),e.write(")")},ExportDefaultDeclaration(t,e){e.write("export default "),this[t.declaration.type](t.declaration,e),e.expressionsPrecedence[t.declaration.type]!=null&&t.declaration.type[0]!=="F"&&e.write(";")},ExportNamedDeclaration(t,e){if(e.write("export "),t.declaration)this[t.declaration.type](t.declaration,e);else{e.write("{");const{specifiers:n}=t,{length:i}=n;if(i>0)for(let r=0;;){const a=n[r],{name:s}=a.local;if(e.write(s,a),s!==a.exported.name&&e.write(" as "+a.exported.name),++r<i)e.write(", ");else break}if(e.write("}"),t.source&&(e.write(" from "),this.Literal(t.source,e)),t.attributes&&t.attributes.length>0){e.write(" with { ");for(let r=0;r<t.attributes.length;r++)this.ImportAttribute(t.attributes[r],e),r<t.attributes.length-1&&e.write(", ");e.write(" }")}e.write(";")}},ExportAllDeclaration(t,e){if(t.exported!=null?e.write("export * as "+t.exported.name+" from "):e.write("export * from "),this.Literal(t.source,e),t.attributes&&t.attributes.length>0){e.write(" with { ");for(let n=0;n<t.attributes.length;n++)this.ImportAttribute(t.attributes[n],e),n<t.attributes.length-1&&e.write(", ");e.write(" }")}e.write(";")},MethodDefinition(t,e){t.static&&e.write("static ");const n=t.kind[0];(n==="g"||n==="s")&&e.write(t.kind+" "),t.value.async&&e.write("async "),t.value.generator&&e.write("*"),t.computed?(e.write("["),this[t.key.type](t.key,e),e.write("]")):this[t.key.type](t.key,e),Eb(e,t.value.params),e.write(" "),this[t.value.body.type](t.value.body,e)},ClassExpression(t,e){this.ClassDeclaration(t,e)},ArrowFunctionExpression(t,e){e.write(t.async?"async ":"",t);const{params:n}=t;n!=null&&(n.length===1&&n[0].type[0]==="I"?e.write(n[0].name,n[0]):Eb(e,t.params)),e.write(" => "),t.body.type[0]==="O"?(e.write("("),this.ObjectExpression(t.body,e),e.write(")")):this[t.body.type](t.body,e)},ThisExpression(t,e){e.write("this",t)},Super(t,e){e.write("super",t)},RestElement:z5=function(t,e){e.write("..."),this[t.argument.type](t.argument,e)},SpreadElement:z5,YieldExpression(t,e){e.write(t.delegate?"yield*":"yield"),t.argument&&(e.write(" "),this[t.argument.type](t.argument,e))},AwaitExpression(t,e){e.write("await ",t),Qw(e,t.argument,t)},TemplateLiteral(t,e){const{quasis:n,expressions:i}=t;e.write("`");const{length:r}=i;for(let s=0;s<r;s++){const o=i[s],l=n[s];e.write(l.value.raw,l),e.write("${"),this[o.type](o,e),e.write("}")}const a=n[n.length-1];e.write(a.value.raw,a),e.write("`")},TemplateElement(t,e){e.write(t.value.raw,t)},TaggedTemplateExpression(t,e){Qw(e,t.tag,t),this[t.quasi.type](t.quasi,e)},ArrayExpression:B5=function(t,e){if(e.write("["),t.elements.length>0){const{elements:n}=t,{length:i}=n;for(let r=0;;){const a=n[r];if(a!=null&&this[a.type](a,e),++r<i)e.write(", ");else{a==null&&e.write(", ");break}}}e.write("]")},ArrayPattern:B5,ObjectExpression(t,e){const n=e.indent.repeat(e.indentLevel++),{lineEnd:i,writeComments:r}=e,a=n+e.indent;if(e.write("{"),t.properties.length>0){e.write(i),r&&t.comments!=null&&to(e,t.comments,a,i);const s=","+i,{properties:o}=t,{length:l}=o;for(let c=0;;){const u=o[c];if(r&&u.comments!=null&&to(e,u.comments,a,i),e.write(a),this[u.type](u,e),++c<l)e.write(s);else break}e.write(i),r&&t.trailingComments!=null&&to(e,t.trailingComments,a,i),e.write(n+"}")}else r?t.comments!=null?(e.write(i),to(e,t.comments,a,i),t.trailingComments!=null&&to(e,t.trailingComments,a,i),e.write(n+"}")):t.trailingComments!=null?(e.write(i),to(e,t.trailingComments,a,i),e.write(n+"}")):e.write("}"):e.write("}");e.indentLevel--},Property(t,e){t.method||t.kind[0]!=="i"?this.MethodDefinition(t,e):(t.shorthand||(t.computed?(e.write("["),this[t.key.type](t.key,e),e.write("]")):this[t.key.type](t.key,e),e.write(": ")),this[t.value.type](t.value,e))},PropertyDefinition(t,e){if(t.static&&e.write("static "),t.computed&&e.write("["),this[t.key.type](t.key,e),t.computed&&e.write("]"),t.value==null){t.key.type[0]!=="F"&&e.write(";");return}e.write(" = "),this[t.value.type](t.value,e),e.write(";")},ObjectPattern(t,e){if(e.write("{"),t.properties.length>0){const{properties:n}=t,{length:i}=n;for(let r=0;this[n[r].type](n[r],e),++r<i;)e.write(", ")}e.write("}")},SequenceExpression(t,e){Eb(e,t.expressions)},UnaryExpression(t,e){if(t.prefix){const{operator:n,argument:i,argument:{type:r}}=t;e.write(n);const a=eZ(e,i,t);!a&&(n.length>1||r[0]==="U"&&(r[1]==="n"||r[1]==="p")&&i.prefix&&i.operator[0]===n&&(n==="+"||n==="-"))&&e.write(" "),a?(e.write(n.length>1?" (":"("),this[r](i,e),e.write(")")):this[r](i,e)}else this[t.argument.type](t.argument,e),e.write(t.operator)},UpdateExpression(t,e){t.prefix?(e.write(t.operator),this[t.argument.type](t.argument,e)):(this[t.argument.type](t.argument,e),e.write(t.operator))},AssignmentExpression(t,e){this[t.left.type](t.left,e),e.write(" "+t.operator+" "),this[t.right.type](t.right,e)},AssignmentPattern(t,e){this[t.left.type](t.left,e),e.write(" = "),this[t.right.type](t.right,e)},BinaryExpression:j5=function(t,e){const n=t.operator==="in";n&&e.write("("),Qw(e,t.left,t,!1),e.write(" "+t.operator+" "),Qw(e,t.right,t,!0),n&&e.write(")")},LogicalExpression:j5,ConditionalExpression(t,e){const{test:n}=t,i=e.expressionsPrecedence[n.type];i===Gc||i<=e.expressionsPrecedence.ConditionalExpression?(e.write("("),this[n.type](n,e),e.write(")")):this[n.type](n,e),e.write(" ? "),this[t.consequent.type](t.consequent,e),e.write(" : "),this[t.alternate.type](t.alternate,e)},NewExpression(t,e){e.write("new ");const n=e.expressionsPrecedence[t.callee.type];n===Gc||n<e.expressionsPrecedence.CallExpression||iTe(t.callee)?(e.write("("),this[t.callee.type](t.callee,e),e.write(")")):this[t.callee.type](t.callee,e),Eb(e,t.arguments)},CallExpression(t,e){const n=e.expressionsPrecedence[t.callee.type];n===Gc||n<e.expressionsPrecedence.CallExpression?(e.write("("),this[t.callee.type](t.callee,e),e.write(")")):this[t.callee.type](t.callee,e),t.optional&&e.write("?."),Eb(e,t.arguments)},ChainExpression(t,e){this[t.expression.type](t.expression,e)},MemberExpression(t,e){const n=e.expressionsPrecedence[t.object.type];n===Gc||n<e.expressionsPrecedence.MemberExpression?(e.write("("),this[t.object.type](t.object,e),e.write(")")):this[t.object.type](t.object,e),t.computed?(t.optional&&e.write("?."),e.write("["),this[t.property.type](t.property,e),e.write("]")):(t.optional?e.write("?."):e.write("."),this[t.property.type](t.property,e))},MetaProperty(t,e){e.write(t.meta.name+"."+t.property.name,t)},Identifier(t,e){e.write(t.name,t)},PrivateIdentifier(t,e){e.write(`#${t.name}`,t)},Literal(t,e){t.raw!=null?e.write(t.raw,t):t.regex!=null?this.RegExpLiteral(t,e):t.bigint!=null?e.write(t.bigint+"n",t):e.write(eTe(t.value),t)},RegExpLiteral(t,e){const{regex:n}=t;e.write(`/${n.pattern}/${n.flags}`,t)}},rTe={};class aTe{constructor(e){const n=e??rTe;this.output="",n.output!=null?(this.output=n.output,this.write=this.writeToStream):this.output="",this.generator=n.generator!=null?n.generator:tZ,this.expressionsPrecedence=n.expressionsPrecedence!=null?n.expressionsPrecedence:tTe,this.indent=n.indent!=null?n.indent:"  ",this.lineEnd=n.lineEnd!=null?n.lineEnd:`
`,this.indentLevel=n.startingIndentLevel!=null?n.startingIndentLevel:0,this.writeComments=n.comments?n.comments:!1,n.sourceMap!=null&&(this.write=n.output==null?this.writeAndMap:this.writeToStreamAndMap,this.sourceMap=n.sourceMap,this.line=1,this.column=0,this.lineEndSize=this.lineEnd.split(`
`).length-1,this.mapping={original:null,generated:this,name:void 0,source:n.sourceMap.file||n.sourceMap._file})}write(e){this.output+=e}writeToStream(e){this.output.write(e)}writeAndMap(e,n){this.output+=e,this.map(e,n)}writeToStreamAndMap(e,n){this.output.write(e),this.map(e,n)}map(e,n){if(n!=null){const{type:a}=n;if(a[0]==="L"&&a[2]==="n"){this.column=0,this.line++;return}if(n.loc!=null){const{mapping:s}=this;s.original=n.loc.start,s.name=n.name,this.sourceMap.addMapping(s)}if(a[0]==="T"&&a[8]==="E"||a[0]==="L"&&a[1]==="i"&&typeof n.value=="string"){const{length:s}=e;let{column:o,line:l}=this;for(let c=0;c<s;c++)e[c]===`
`?(o=0,l++):o++;this.column=o,this.line=l;return}}const{length:i}=e,{lineEnd:r}=this;i>0&&(this.lineEndSize>0&&(r.length===1?e[i-1]===r:e.endsWith(r))?(this.line+=this.lineEndSize,this.column=0):this.column+=i)}toString(){return this.output}}function sTe(t,e){const n=new aTe(e);return n.generator[t.type](t,n),n.output}const oTe={};function lTe(t,e){const{SourceMapGenerator:n,filePath:i,handlers:r}=e||oTe,a=n?new n({file:i||"<unknown>.js"}):void 0,s=sTe(t,{comments:!0,generator:{...tZ,...r},sourceMap:a||void 0}),o=a?a.toJSON():void 0;return{value:s,map:o}}const cTe={JSXAttribute:uTe,JSXClosingElement:fTe,JSXClosingFragment:hTe,JSXElement:dTe,JSXEmptyExpression:pTe,JSXExpressionContainer:mTe,JSXFragment:gTe,JSXIdentifier:bTe,JSXMemberExpression:yTe,JSXNamespacedName:vTe,JSXOpeningElement:xTe,JSXOpeningFragment:_Te,JSXSpreadAttribute:STe,JSXText:wTe};function uTe(t,e){this[t.name.type](t.name,e),t.value!==null&&t.value!==void 0&&(e.write("="),t.value.type==="Literal"?e.write('"'+nZ(String(t.value.value)).replace(/"/g,"&quot;")+'"',t):this[t.value.type](t.value,e))}function fTe(t,e){e.write("</"),this[t.name.type](t.name,e),e.write(">")}function hTe(t,e){e.write("</>",t)}function dTe(t,e){let n=-1;if(this[t.openingElement.type](t.openingElement,e),t.children)for(;++n<t.children.length;){const i=t.children[n];if(i.type==="JSXSpreadChild")throw new Error("JSX spread children are not supported");this[i.type](i,e)}t.closingElement&&this[t.closingElement.type](t.closingElement,e)}function pTe(){}function mTe(t,e){e.write("{"),this[t.expression.type](t.expression,e),e.write("}")}function gTe(t,e){let n=-1;if(this[t.openingFragment.type](t.openingFragment,e),t.children)for(;++n<t.children.length;){const i=t.children[n];if(i.type==="JSXSpreadChild")throw new Error("JSX spread children are not supported");this[i.type](i,e)}this[t.closingFragment.type](t.closingFragment,e)}function bTe(t,e){e.write(t.name,t)}function yTe(t,e){this[t.object.type](t.object,e),e.write("."),this[t.property.type](t.property,e)}function vTe(t,e){this[t.namespace.type](t.namespace,e),e.write(":"),this[t.name.type](t.name,e)}function xTe(t,e){let n=-1;if(e.write("<"),this[t.name.type](t.name,e),t.attributes)for(;++n<t.attributes.length;)e.write(" "),this[t.attributes[n].type](t.attributes[n],e);e.write(t.selfClosing?" />":">")}function _Te(t,e){e.write("<>",t)}function STe(t,e){e.write("{"),this.SpreadElement(t,e),e.write("}")}function wTe(t,e){e.write(nZ(t.value).replace(/[<>{}]/g,ETe),t)}function nZ(t){return t.replace(/&(?=[#a-z])/gi,"&amp;")}function ETe(t){return t==="<"?"&lt;":t===">"?"&gt;":t==="{"?"&#123;":"&#125;"}function MTe(){const t=this.data(),e=t.settings||(t.settings={}),n=e.handlers||(e.handlers={});(e.plugins||(e.plugins=[])).push(Q$()),Object.assign(n,cTe)}function ATe(t){const e=this;this.compiler=n;function n(i,r){const a={...e.data("settings"),...t},s=lTe(i,{SourceMapGenerator:a.SourceMapGenerator,filePath:r.path||"unknown.js",handlers:a.handlers});return r.map=s.map,s.value}}function TTe(t,e){const n={type:"Block",value:t.value};e.inherit(t,n),e.comments.push(n);const i={type:"JSXEmptyExpression",comments:[Object.assign({},n,{leading:!1,trailing:!0})]};e.patch(t,i);const r={type:"JSXExpressionContainer",expression:i};return e.patch(t,r),r}function CTe(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}class F_{constructor(e,n,i){this.normal=n,this.property=e,i&&(this.space=i)}}F_.prototype.normal={};F_.prototype.property={};F_.prototype.space=void 0;function iZ(t,e){const n={},i={};for(const r of t)Object.assign(n,r.property),Object.assign(i,r.normal);return new F_(n,i,e)}function zN(t){return t.toLowerCase()}class Oo{constructor(e,n){this.attribute=n,this.property=e}}Oo.prototype.attribute="";Oo.prototype.booleanish=!1;Oo.prototype.boolean=!1;Oo.prototype.commaOrSpaceSeparated=!1;Oo.prototype.commaSeparated=!1;Oo.prototype.defined=!1;Oo.prototype.mustUseProperty=!1;Oo.prototype.number=!1;Oo.prototype.overloadedBoolean=!1;Oo.prototype.property="";Oo.prototype.spaceSeparated=!1;Oo.prototype.space=void 0;let RTe=0;const Qn=ug(),_a=ug(),jN=ug(),Vt=ug(),Mr=ug(),v0=ug(),nl=ug();function ug(){return 2**++RTe}const BN=Object.freeze(Object.defineProperty({__proto__:null,boolean:Qn,booleanish:_a,commaOrSpaceSeparated:nl,commaSeparated:v0,number:Vt,overloadedBoolean:jN,spaceSeparated:Mr},Symbol.toStringTag,{value:"Module"})),i8=Object.keys(BN);class JP extends Oo{constructor(e,n,i,r){let a=-1;if(super(e,n),V5(this,"space",r),typeof i=="number")for(;++a<i8.length;){const s=i8[a];V5(this,i8[a],(i&BN[s])===BN[s])}}}JP.prototype.defined=!0;function V5(t,e,n){n&&(t[e]=n)}function qy(t){const e={},n={};for(const[i,r]of Object.entries(t.properties)){const a=new JP(i,t.transform(t.attributes||{},i),r,t.space);t.mustUseProperty&&t.mustUseProperty.includes(i)&&(a.mustUseProperty=!0),e[i]=a,n[zN(i)]=i,n[zN(a.attribute)]=i}return new F_(e,n,t.space)}const rZ=qy({properties:{ariaActiveDescendant:null,ariaAtomic:_a,ariaAutoComplete:null,ariaBusy:_a,ariaChecked:_a,ariaColCount:Vt,ariaColIndex:Vt,ariaColSpan:Vt,ariaControls:Mr,ariaCurrent:null,ariaDescribedBy:Mr,ariaDetails:null,ariaDisabled:_a,ariaDropEffect:Mr,ariaErrorMessage:null,ariaExpanded:_a,ariaFlowTo:Mr,ariaGrabbed:_a,ariaHasPopup:null,ariaHidden:_a,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Mr,ariaLevel:Vt,ariaLive:null,ariaModal:_a,ariaMultiLine:_a,ariaMultiSelectable:_a,ariaOrientation:null,ariaOwns:Mr,ariaPlaceholder:null,ariaPosInSet:Vt,ariaPressed:_a,ariaReadOnly:_a,ariaRelevant:null,ariaRequired:_a,ariaRoleDescription:Mr,ariaRowCount:Vt,ariaRowIndex:Vt,ariaRowSpan:Vt,ariaSelected:_a,ariaSetSize:Vt,ariaSort:null,ariaValueMax:Vt,ariaValueMin:Vt,ariaValueNow:Vt,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function aZ(t,e){return e in t?t[e]:e}function sZ(t,e){return aZ(t,e.toLowerCase())}const kTe=qy({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:v0,acceptCharset:Mr,accessKey:Mr,action:null,allow:null,allowFullScreen:Qn,allowPaymentRequest:Qn,allowUserMedia:Qn,alt:null,as:null,async:Qn,autoCapitalize:null,autoComplete:Mr,autoFocus:Qn,autoPlay:Qn,blocking:Mr,capture:null,charSet:null,checked:Qn,cite:null,className:Mr,cols:Vt,colSpan:null,content:null,contentEditable:_a,controls:Qn,controlsList:Mr,coords:Vt|v0,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Qn,defer:Qn,dir:null,dirName:null,disabled:Qn,download:jN,draggable:_a,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Qn,formTarget:null,headers:Mr,height:Vt,hidden:jN,high:Vt,href:null,hrefLang:null,htmlFor:Mr,httpEquiv:Mr,id:null,imageSizes:null,imageSrcSet:null,inert:Qn,inputMode:null,integrity:null,is:null,isMap:Qn,itemId:null,itemProp:Mr,itemRef:Mr,itemScope:Qn,itemType:Mr,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Qn,low:Vt,manifest:null,max:null,maxLength:Vt,media:null,method:null,min:null,minLength:Vt,multiple:Qn,muted:Qn,name:null,nonce:null,noModule:Qn,noValidate:Qn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Qn,optimum:Vt,pattern:null,ping:Mr,placeholder:null,playsInline:Qn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Qn,referrerPolicy:null,rel:Mr,required:Qn,reversed:Qn,rows:Vt,rowSpan:Vt,sandbox:Mr,scope:null,scoped:Qn,seamless:Qn,selected:Qn,shadowRootClonable:Qn,shadowRootDelegatesFocus:Qn,shadowRootMode:null,shape:null,size:Vt,sizes:null,slot:null,span:Vt,spellCheck:_a,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Vt,step:null,style:null,tabIndex:Vt,target:null,title:null,translate:null,type:null,typeMustMatch:Qn,useMap:null,value:_a,width:Vt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Mr,axis:null,background:null,bgColor:null,border:Vt,borderColor:null,bottomMargin:Vt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Qn,declare:Qn,event:null,face:null,frame:null,frameBorder:null,hSpace:Vt,leftMargin:Vt,link:null,longDesc:null,lowSrc:null,marginHeight:Vt,marginWidth:Vt,noResize:Qn,noHref:Qn,noShade:Qn,noWrap:Qn,object:null,profile:null,prompt:null,rev:null,rightMargin:Vt,rules:null,scheme:null,scrolling:_a,standby:null,summary:null,text:null,topMargin:Vt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Vt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Qn,disableRemotePlayback:Qn,prefix:null,property:null,results:Vt,security:null,unselectable:null},space:"html",transform:sZ}),DTe=qy({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:nl,accentHeight:Vt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Vt,amplitude:Vt,arabicForm:null,ascent:Vt,attributeName:null,attributeType:null,azimuth:Vt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Vt,by:null,calcMode:null,capHeight:Vt,className:Mr,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Vt,diffuseConstant:Vt,direction:null,display:null,dur:null,divisor:Vt,dominantBaseline:null,download:Qn,dx:null,dy:null,edgeMode:null,editable:null,elevation:Vt,enableBackground:null,end:null,event:null,exponent:Vt,externalResourcesRequired:null,fill:null,fillOpacity:Vt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:v0,g2:v0,glyphName:v0,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Vt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Vt,horizOriginX:Vt,horizOriginY:Vt,id:null,ideographic:Vt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Vt,k:Vt,k1:Vt,k2:Vt,k3:Vt,k4:Vt,kernelMatrix:nl,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Vt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Vt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Vt,overlineThickness:Vt,paintOrder:null,panose1:null,path:null,pathLength:Vt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Mr,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Vt,pointsAtY:Vt,pointsAtZ:Vt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:nl,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:nl,rev:nl,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:nl,requiredFeatures:nl,requiredFonts:nl,requiredFormats:nl,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Vt,specularExponent:Vt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Vt,strikethroughThickness:Vt,string:null,stroke:null,strokeDashArray:nl,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Vt,strokeOpacity:Vt,strokeWidth:null,style:null,surfaceScale:Vt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:nl,tabIndex:Vt,tableValues:null,target:null,targetX:Vt,targetY:Vt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:nl,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Vt,underlineThickness:Vt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Vt,values:null,vAlphabetic:Vt,vMathematical:Vt,vectorEffect:null,vHanging:Vt,vIdeographic:Vt,version:null,vertAdvY:Vt,vertOriginX:Vt,vertOriginY:Vt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Vt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:aZ}),oZ=qy({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),lZ=qy({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:sZ}),cZ=qy({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),NTe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},ITe=/[A-Z]/g,G5=/-[a-z]/g,OTe=/^data[-\w.:]+$/i;function LTe(t,e){const n=zN(e);let i=e,r=Oo;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&OTe.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(G5,UTe);i="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!G5.test(a)){let s=a.replace(ITe,PTe);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}r=JP}return new r(i,e)}function PTe(t){return"-"+t.toLowerCase()}function UTe(t){return t.charAt(1).toUpperCase()}const FTe=iZ([rZ,kTe,oZ,lZ,cZ],"html"),$P=iZ([rZ,DTe,oZ,lZ,cZ],"svg");function zTe(t){return t.join(" ").trim()}var ZP={},W5=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,jTe=/\n/g,BTe=/^\s*/,HTe=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,VTe=/^:\s*/,GTe=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,WTe=/^[;\s]*/,qTe=/^\s+|\s+$/g,XTe=`
`,q5="/",X5="*",Zp="",KTe="comment",YTe="declaration",JTe=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,i=1;function r(b){var y=b.match(jTe);y&&(n+=y.length);var v=b.lastIndexOf(XTe);i=~v?b.length-v:i+b.length}function a(){var b={line:n,column:i};return function(y){return y.position=new s(b),c(),y}}function s(b){this.start=b,this.end={line:n,column:i},this.source=e.source}s.prototype.content=t;function o(b){var y=new Error(e.source+":"+n+":"+i+": "+b);if(y.reason=b,y.filename=e.source,y.line=n,y.column=i,y.source=t,!e.silent)throw y}function l(b){var y=b.exec(t);if(y){var v=y[0];return r(v),t=t.slice(v.length),y}}function c(){l(BTe)}function u(b){var y;for(b=b||[];y=f();)y!==!1&&b.push(y);return b}function f(){var b=a();if(!(q5!=t.charAt(0)||X5!=t.charAt(1))){for(var y=2;Zp!=t.charAt(y)&&(X5!=t.charAt(y)||q5!=t.charAt(y+1));)++y;if(y+=2,Zp===t.charAt(y-1))return o("End of comment missing");var v=t.slice(2,y-2);return i+=2,r(v),t=t.slice(y),i+=2,b({type:KTe,comment:v})}}function h(){var b=a(),y=l(HTe);if(y){if(f(),!l(VTe))return o("property missing ':'");var v=l(GTe),m=b({type:YTe,property:K5(y[0].replace(W5,Zp)),value:v?K5(v[0].replace(W5,Zp)):Zp});return l(WTe),m}}function d(){var b=[];u(b);for(var y;y=h();)y!==!1&&(b.push(y),u(b));return b}return c(),d()};function K5(t){return t?t.replace(qTe,Zp):Zp}var $Te=Nm&&Nm.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ZP,"__esModule",{value:!0});ZP.default=QTe;var ZTe=$Te(JTe);function QTe(t,e){var n=null;if(!t||typeof t!="string")return n;var i=(0,ZTe.default)(t),r=typeof e=="function";return i.forEach(function(a){if(a.type==="declaration"){var s=a.property,o=a.value;r?e(s,o,a):o&&(n=n||{},n[s]=o)}}),n}var $C={};Object.defineProperty($C,"__esModule",{value:!0});$C.camelCase=void 0;var eCe=/^--[a-zA-Z0-9_-]+$/,tCe=/-([a-z])/g,nCe=/^[^-]+$/,iCe=/^-(webkit|moz|ms|o|khtml)-/,rCe=/^-(ms)-/,aCe=function(t){return!t||nCe.test(t)||eCe.test(t)},sCe=function(t,e){return e.toUpperCase()},Y5=function(t,e){return"".concat(e,"-")},oCe=function(t,e){return e===void 0&&(e={}),aCe(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace(rCe,Y5):t=t.replace(iCe,Y5),t.replace(tCe,sCe))};$C.camelCase=oCe;var lCe=Nm&&Nm.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},cCe=lCe(ZP),uCe=$C;function HN(t,e){var n={};return!t||typeof t!="string"||(0,cCe.default)(t,function(i,r){i&&r&&(n[(0,uCe.camelCase)(i,e)]=r)}),n}HN.default=HN;var fCe=HN;const hCe=mc(fCe),VN={}.hasOwnProperty,dCe=/[A-Z]/g,pCe=new Set(["td","th"]);function mCe(t,e){const n=e.schema;let i=n;const r=t.properties||{};n.space==="html"&&t.tagName.toLowerCase()==="svg"&&(i=$P,e.schema=i);const a=e.all(t),s=[];let o,l,c;for(o in r)if(VN.call(r,o)){let f=r[o];const h=LTe(i,o);let d;if(f==null||f===!1||typeof f=="number"&&Number.isNaN(f)||!f&&h.boolean)continue;if(o=e.elementAttributeNameCase==="react"&&h.space?NTe[h.property]||h.property:h.attribute,Array.isArray(f)&&(f=h.commaSeparated?CTe(f):zTe(f)),o==="style"){let b=typeof f=="object"?f:gCe(String(f),t.tagName);e.stylePropertyNameCase==="css"&&(b=bCe(b));const y=[];let v;for(v in b)VN.call(b,v)&&y.push({type:"Property",method:!1,shorthand:!1,computed:!1,key:Ku(v)?{type:"Identifier",name:v}:{type:"Literal",value:v},value:{type:"Literal",value:String(b[v])},kind:"init"});c=y,d={type:"JSXExpressionContainer",expression:{type:"ObjectExpression",properties:y}}}else if(f===!0)d=null;else if(e.tableCellAlignToStyle&&pCe.has(t.tagName)&&o==="align"){l=String(f);continue}else d={type:"Literal",value:String(f)};Ku(o,{jsx:!0})?s.push({type:"JSXAttribute",name:{type:"JSXIdentifier",name:o},value:d}):s.push({type:"JSXSpreadAttribute",argument:{type:"ObjectExpression",properties:[{type:"Property",method:!1,shorthand:!1,computed:!1,key:{type:"Literal",value:String(o)},value:d||{type:"Literal",value:!0},kind:"init"}]}})}if(l!==void 0){c||(c=[],s.push({type:"JSXAttribute",name:{type:"JSXIdentifier",name:"style"},value:{type:"JSXExpressionContainer",expression:{type:"ObjectExpression",properties:c}}}));const f=e.stylePropertyNameCase==="css"?uZ("textAlign"):"textAlign";c.push({type:"Property",method:!1,shorthand:!1,computed:!1,key:Ku(f)?{type:"Identifier",name:f}:{type:"Literal",value:f},value:{type:"Literal",value:l},kind:"init"})}e.schema=n;const u={type:"JSXElement",openingElement:{type:"JSXOpeningElement",attributes:s,name:e.createJsxElementName(t.tagName),selfClosing:a.length===0},closingElement:a.length>0?{type:"JSXClosingElement",name:e.createJsxElementName(t.tagName)}:null,children:a};return e.inherit(t,u),u}function gCe(t,e){try{return hCe(t,{reactCompat:!0})}catch(n){const i=n;throw new Error("Could not parse `style` attribute on `"+e+"`",{cause:i})}}function bCe(t){const e={};let n;for(n in t)VN.call(t,n)&&(e[uZ(n)]=t[n]);return e}function uZ(t){let e=t.replace(dCe,yCe);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function yCe(t){return"-"+t.toLowerCase()}const vCe={}.hasOwnProperty,xCe=[];function FA(t,e){const n=e?[...e].sort(QP):xCe;n.length>0&&fZ(t,{comments:n,index:0})}function fZ(t,e){if(e.index===e.comments.length)return;const n=[],i=[];let r;for(r in t)if(vCe.call(t,r)){const s=t[r];if(s&&typeof s=="object"&&r!=="comments")if(Array.isArray(s)){let o=-1;for(;++o<s.length;)s[o]&&typeof s[o].type=="string"&&n.push(s[o])}else typeof s.type=="string"&&n.push(s)}n.sort(QP),i.push(...J5(e,t,!1,{leading:!0,trailing:!1}));let a=-1;for(;++a<n.length;)fZ(n[a],e);i.push(...J5(e,t,!0,{leading:!1,trailing:n.length>0})),i.length>0&&(t.comments=i)}function J5(t,e,n,i){const r=[];for(;t.comments[t.index]&&QP(t.comments[t.index],e,n)<1;)r.push(Object.assign({},t.comments[t.index++],i));return r}function QP(t,e,n){const i=n?"end":"start";return t.range&&e.range?t.range[0]-e.range[n?1:0]:t.loc&&t.loc.start&&e.loc&&e.loc[i]?t.loc.start.line-e.loc[i].line||t.loc.start.column-e.loc[i].column:"start"in t&&i in e?t.start-e[i]:Number.NaN}function $5(t,e){const n=t.data&&t.data.estree,i=n&&n.comments||[];let r;n&&(e.comments.push(...i),FA(n,n.comments),r=n.body[0]&&n.body[0].type==="ExpressionStatement"&&n.body[0].expression||void 0),r||(r={type:"JSXEmptyExpression"},e.patch(t,r));const a={type:"JSXExpressionContainer",expression:r};return e.inherit(t,a),a}function Z5(t,e){const n=e.schema;let i=n;const r=t.attributes||[];let a=-1;t.name&&n.space==="html"&&t.name.toLowerCase()==="svg"&&(i=$P,e.schema=i);const s=e.all(t),o=[];for(;++a<r.length;){const c=r[a],u=c.value;let f;if(c.type==="mdxJsxAttribute"){if(u==null)f=null;else if(typeof u=="object"){const d=u.data&&u.data.estree,b=d&&d.comments||[];let y;d&&(e.comments.push(...b),FA(d,d.comments),y=d.body[0]&&d.body[0].type==="ExpressionStatement"&&d.body[0].expression||void 0),f={type:"JSXExpressionContainer",expression:y||{type:"JSXEmptyExpression"}},e.inherit(u,f)}else f={type:"Literal",value:String(u)};const h={type:"JSXAttribute",name:e.createJsxAttributeName(c.name),value:f};e.inherit(c,h),o.push(h)}else{const h=c.data&&c.data.estree,d=h&&h.comments||[];let b;h&&(e.comments.push(...d),FA(h,h.comments),b=h.body[0]&&h.body[0].type==="ExpressionStatement"&&h.body[0].expression&&h.body[0].expression.type==="ObjectExpression"&&h.body[0].expression.properties&&h.body[0].expression.properties[0]&&h.body[0].expression.properties[0].type==="SpreadElement"&&h.body[0].expression.properties[0].argument||void 0);const y={type:"JSXSpreadAttribute",argument:b||{type:"ObjectExpression",properties:[]}};e.inherit(c,y),o.push(y)}}e.schema=n;const l=t.name?{type:"JSXElement",openingElement:{type:"JSXOpeningElement",attributes:o,name:e.createJsxElementName(t.name),selfClosing:s.length===0},closingElement:s.length>0?{type:"JSXClosingElement",name:e.createJsxElementName(t.name)}:null,children:s}:{type:"JSXFragment",openingFragment:{type:"JSXOpeningFragment"},closingFragment:{type:"JSXClosingFragment"},children:s};return e.inherit(t,l),l}function _Ce(t,e){const n=t.data&&t.data.estree,i=n&&n.comments||[];n&&(e.comments.push(...i),FA(n,i),e.esm.push(...n.body))}const SCe=/[ \t\n\f\r]/g;function wCe(t){return typeof t=="object"?t.type==="text"?Q5(t.value):!1:Q5(t)}function Q5(t){return t.replace(SCe,"")===""}function ECe(t,e){const n=e.all(t),i=[];let r=-1,a;for(;++r<n.length;){const o=n[r];o.type==="JSXExpressionContainer"&&o.expression.type==="Literal"&&wCe(String(o.expression.value))?a&&a.push(o):(a&&i.push(...a),i.push(o),a=[])}const s={type:"JSXFragment",openingFragment:{type:"JSXOpeningFragment"},closingFragment:{type:"JSXClosingFragment"},children:i};return e.inherit(t,s),s}function MCe(t,e){const n=String(t.value||"");if(n){const i={type:"Literal",value:n};e.inherit(t,i);const r={type:"JSXExpressionContainer",expression:i};return e.patch(t,r),r}}const ACe={comment:TTe,doctype:TCe,element:mCe,mdxFlowExpression:$5,mdxJsxFlowElement:Z5,mdxJsxTextElement:Z5,mdxTextExpression:$5,mdxjsEsm:_Ce,root:ECe,text:MCe};function TCe(){}const hZ=pZ("end"),dZ=pZ("start");function pZ(t){return e;function e(n){const i=n&&n.position&&n.position[t]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function mZ(t){const e=dZ(t),n=hZ(t);if(e&&n)return{start:e,end:n}}const e6={}.hasOwnProperty;function CCe(t,e){const n=e||{};function i(r,...a){let s=i.invalid;const o=i.handlers;if(r&&e6.call(r,t)){const l=String(r[t]);s=e6.call(o,l)?o[l]:i.unknown}if(s)return s.call(this,r,...a)}return i.handlers=n.handlers||{},i.invalid=n.invalid,i.unknown=n.unknown,i}const RCe={}.hasOwnProperty,kCe=new Set(["table","tbody","thead","tfoot","tr"]);function DCe(t){const e=CCe("type",{invalid:NCe,unknown:ICe,handlers:{...ACe,...t.handlers}});return{elementAttributeNameCase:t.elementAttributeNameCase||"react",schema:t.space==="svg"?$P:FTe,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1,comments:[],esm:[],all:OCe,createJsxAttributeName:PCe,createJsxElementName:UCe,handle:n,inherit:LCe,patch:gZ};function n(i){return e(i,this)}}function NCe(t){throw new Error("Cannot handle value `"+t+"`, expected node")}function ICe(t){throw new Error("Cannot handle unknown node `"+t.type+"`")}function OCe(t){const e=t.children||[];let n=-1;const i=[],r=this.schema.space==="html"&&t.type==="element"&&kCe.has(t.tagName.toLowerCase());for(;++n<e.length;){const a=e[n];if(r&&a.type==="text"&&a.value===`
`)continue;const s=this.handle(a);Array.isArray(s)?i.push(...s):s&&i.push(s)}return i}function LCe(t,e){const n=t.data;let i,r;if(gZ(t,e),n){for(r in n)RCe.call(n,r)&&r!=="estree"&&(i||(i={}),i[r]=n[r]);i&&(e.data=i)}}function gZ(t,e){const n=mZ(t);n&&n.start.offset!==void 0&&n.end.offset!==void 0&&(e.start=n.start.offset,e.end=n.end.offset,e.loc={start:{line:n.start.line,column:n.start.column-1},end:{line:n.end.line,column:n.end.column-1}},e.range=[n.start.offset,n.end.offset])}function PCe(t){const e=bZ(t);if(e.type==="JSXMemberExpression")throw new Error("Member expressions in attribute names are not supported");return e}function UCe(t){return bZ(t)}function bZ(t){if(t.includes(".")){const e=t.split(".");let n=e.shift(),i={type:"JSXIdentifier",name:n};for(;n=e.shift();)i={type:"JSXMemberExpression",object:i,property:{type:"JSXIdentifier",name:n}};return i}if(t.includes(":")){const e=t.split(":");return{type:"JSXNamespacedName",namespace:{type:"JSXIdentifier",name:e[0]},name:{type:"JSXIdentifier",name:e[1]}}}return{type:"JSXIdentifier",name:t}}function FCe(t,e){const n=DCe(e||{});let i=n.handle(t);const r=n.esm;if(i){i.type!=="JSXFragment"&&i.type!=="JSXElement"&&(i={type:"JSXFragment",openingFragment:{type:"JSXOpeningFragment"},closingFragment:{type:"JSXClosingFragment"},children:[i]},n.patch(t,i));const s={type:"ExpressionStatement",expression:i};n.patch(t,s),r.push(s)}const a={type:"Program",body:r,sourceType:"module",comments:n.comments};return n.patch(t,a),a}function zCe(t){return function(e){return FCe(e,t)}}function jCe(){return{enter:{mdxFlowExpression:HCe,mdxTextExpression:VCe},exit:{mdxFlowExpression:t6,mdxFlowExpressionChunk:n6,mdxTextExpression:t6,mdxTextExpressionChunk:n6}}}function BCe(){return{handlers:{mdxFlowExpression:i6,mdxTextExpression:i6},unsafe:[{character:"{",inConstruct:["phrasing"]},{atBreak:!0,character:"{"}]}}function HCe(t){this.enter({type:"mdxFlowExpression",value:""},t),this.buffer()}function VCe(t){this.enter({type:"mdxTextExpression",value:""},t),this.buffer()}function t6(t){const e=this.resume(),n=t.estree,i=this.stack[this.stack.length-1];i.type==="mdxFlowExpression"||i.type,this.exit(t),i.value=e,n&&(i.data={estree:n})}function n6(t){this.config.enter.data.call(this,t),this.config.exit.data.call(this,t)}function i6(t,e,n){const i=t.value||"";return"{"+n.indentLines(i,function(a,s,o){return(s===0||o?"":"  ")+a})+"}"}function zA(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let i=0,r=n.indexOf(e);for(;r!==-1;)i++,r=n.indexOf(e,r+e.length);return i}const GCe=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],r6={0:"",128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""};function yZ(t){const e=typeof t=="string"?t.charCodeAt(0):t;return e>=48&&e<=57}function WCe(t){const e=typeof t=="string"?t.charCodeAt(0):t;return e>=97&&e<=102||e>=65&&e<=70||e>=48&&e<=57}function qCe(t){const e=typeof t=="string"?t.charCodeAt(0):t;return e>=97&&e<=122||e>=65&&e<=90}function a6(t){return qCe(t)||yZ(t)}const s6=document.createElement("i");function U1(t){const e="&"+t+";";s6.innerHTML=e;const n=s6.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}const XCe=["","Named character references must be terminated by a semicolon","Numeric character references must be terminated by a semicolon","Named character references cannot be empty","Numeric character references cannot be empty","Named character references must be known","Numeric character references cannot be disallowed","Numeric character references cannot be outside the permissible Unicode range"];function KCe(t,e){const n=e||{},i=typeof n.additional=="string"?n.additional.charCodeAt(0):n.additional,r=[];let a=0,s=-1,o="",l,c;n.position&&("start"in n.position||"indent"in n.position?(c=n.position.indent,l=n.position.start):l=n.position);let u=(l?l.line:0)||1,f=(l?l.column:0)||1,h=b(),d;for(a--;++a<=t.length;)if(d===10&&(f=(c?c[s]:0)||1),d=t.charCodeAt(a),d===38){const m=t.charCodeAt(a+1);if(m===9||m===10||m===12||m===32||m===38||m===60||Number.isNaN(m)||i&&m===i){o+=String.fromCharCode(d),f++;continue}const x=a+1;let _=x,E=x,A;if(m===35){E=++_;const G=t.charCodeAt(E);G===88||G===120?(A="hexadecimal",E=++_):A="decimal"}else A="named";let w="",T="",k="";const N=A==="named"?a6:A==="decimal"?yZ:WCe;for(E--;++E<=t.length;){const G=t.charCodeAt(E);if(!N(G))break;k+=String.fromCharCode(G),A==="named"&&GCe.includes(k)&&(w=k,T=U1(k))}let D=t.charCodeAt(E)===59;if(D){E++;const G=A==="named"?U1(k):!1;G&&(w=k,T=G)}let P=1+E-x,B="";if(!(!D&&n.nonTerminated===!1))if(!k)A!=="named"&&y(4,P);else if(A==="named"){if(D&&!T)y(5,1);else if(w!==k&&(E=_+w.length,P=1+E-_,D=!1),!D){const G=w?1:3;if(n.attribute){const H=t.charCodeAt(E);H===61?(y(G,P),T=""):a6(H)?T="":y(G,P)}else y(G,P)}B=T}else{D||y(2,P);let G=Number.parseInt(k,A==="hexadecimal"?16:10);if(YCe(G))y(7,P),B="";else if(G in r6)y(6,P),B=r6[G];else{let H="";JCe(G)&&y(6,P),G>65535&&(G-=65536,H+=String.fromCharCode(G>>>10|55296),G=56320|G&1023),B=H+String.fromCharCode(G)}}if(B){v(),h=b(),a=E-1,f+=E-x+1,r.push(B);const G=b();G.offset++,n.reference&&n.reference.call(n.referenceContext||void 0,B,{start:h,end:G},t.slice(x-1,E)),h=G}else k=t.slice(x-1,E),o+=k,f+=k.length,a=E-1}else d===10&&(u++,s++,f=0),Number.isNaN(d)?v():(o+=String.fromCharCode(d),f++);return r.join("");function b(){return{line:u,column:f,offset:a+((l?l.offset:0)||0)}}function y(m,x){let _;n.warning&&(_=b(),_.column+=x,_.offset+=x,n.warning.call(n.warningContext||void 0,XCe[m],_,m))}function v(){o&&(r.push(o),n.text&&n.text.call(n.textContext||void 0,o,{start:h,end:b()}),o="")}}function YCe(t){return t>=55296&&t<=57343||t>1114111}function JCe(t){return t>=1&&t<=8||t===11||t>=13&&t<=31||t>=127&&t<=159||t>=64976&&t<=65007||(t&65535)===65535||(t&65535)===65534}const $Ce=/["&'<>`]/g,ZCe=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,QCe=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,e2e=/[|\\{}()[\]^$+*?.]/g,o6=new WeakMap;function t2e(t,e){if(t=t.replace(e.subset?n2e(e.subset):$Ce,i),e.subset||e.escapeOnly)return t;return t.replace(ZCe,n).replace(QCe,i);function n(r,a,s){return e.format((r.charCodeAt(0)-55296)*1024+r.charCodeAt(1)-56320+65536,s.charCodeAt(a+2),e)}function i(r,a,s){return e.format(r.charCodeAt(0),s.charCodeAt(a+1),e)}}function n2e(t){let e=o6.get(t);return e||(e=i2e(t),o6.set(t,e)),e}function i2e(t){const e=[];let n=-1;for(;++n<t.length;)e.push(t[n].replace(e2e,"\\$&"));return new RegExp("(?:"+e.join("|")+")","g")}function r2e(t){return"&#x"+t.toString(16).toUpperCase()+";"}function a2e(t,e){return t2e(t,Object.assign({format:r2e},e))}const vZ="  ";function s2e(){return{canContainEols:["mdxJsxTextElement"],enter:{mdxJsxFlowTag:i,mdxJsxFlowTagClosingMarker:r,mdxJsxFlowTagAttribute:f,mdxJsxFlowTagExpressionAttribute:h,mdxJsxFlowTagAttributeValueLiteral:t,mdxJsxFlowTagAttributeValueExpression:t,mdxJsxFlowTagSelfClosingMarker:s,mdxJsxTextTag:i,mdxJsxTextTagClosingMarker:r,mdxJsxTextTagAttribute:f,mdxJsxTextTagExpressionAttribute:h,mdxJsxTextTagAttributeValueLiteral:t,mdxJsxTextTagAttributeValueExpression:t,mdxJsxTextTagSelfClosingMarker:s},exit:{mdxJsxFlowTagClosingMarker:o,mdxJsxFlowTagNamePrimary:l,mdxJsxFlowTagNameMember:c,mdxJsxFlowTagNameLocal:u,mdxJsxFlowTagExpressionAttribute:d,mdxJsxFlowTagExpressionAttributeValue:n,mdxJsxFlowTagAttributeNamePrimary:b,mdxJsxFlowTagAttributeNameLocal:y,mdxJsxFlowTagAttributeValueLiteral:v,mdxJsxFlowTagAttributeValueLiteralValue:n,mdxJsxFlowTagAttributeValueExpression:m,mdxJsxFlowTagAttributeValueExpressionValue:n,mdxJsxFlowTagSelfClosingMarker:x,mdxJsxFlowTag:_,mdxJsxTextTagClosingMarker:o,mdxJsxTextTagNamePrimary:l,mdxJsxTextTagNameMember:c,mdxJsxTextTagNameLocal:u,mdxJsxTextTagExpressionAttribute:d,mdxJsxTextTagExpressionAttributeValue:n,mdxJsxTextTagAttributeNamePrimary:b,mdxJsxTextTagAttributeNameLocal:y,mdxJsxTextTagAttributeValueLiteral:v,mdxJsxTextTagAttributeValueLiteralValue:n,mdxJsxTextTagAttributeValueExpression:m,mdxJsxTextTagAttributeValueExpressionValue:n,mdxJsxTextTagSelfClosingMarker:x,mdxJsxTextTag:_}};function t(){this.buffer()}function e(T){return{line:T.line,column:T.column,offset:T.offset}}function n(T){this.config.enter.data.call(this,T),this.config.exit.data.call(this,T)}function i(T){const k={name:void 0,attributes:[],close:!1,selfClosing:!1,start:T.start,end:T.end};this.data.mdxJsxTagStack||(this.data.mdxJsxTagStack=[]),this.data.mdxJsxTag=k,this.buffer()}function r(T){if(this.data.mdxJsxTagStack.length===0)throw new Vi("Unexpected closing slash `/` in tag, expected an open tag first",{start:T.start,end:T.end},"mdast-util-mdx-jsx:unexpected-closing-slash")}function a(T){if(this.data.mdxJsxTag.close)throw new Vi("Unexpected attribute in closing tag, expected the end of the tag",{start:T.start,end:T.end},"mdast-util-mdx-jsx:unexpected-attribute")}function s(T){if(this.data.mdxJsxTag.close)throw new Vi("Unexpected self-closing slash `/` in closing tag, expected the end of the tag",{start:T.start,end:T.end},"mdast-util-mdx-jsx:unexpected-self-closing-slash")}function o(){const T=this.data.mdxJsxTag;T.close=!0}function l(T){const k=this.data.mdxJsxTag;k.name=this.sliceSerialize(T)}function c(T){const k=this.data.mdxJsxTag;k.name+="."+this.sliceSerialize(T)}function u(T){const k=this.data.mdxJsxTag;k.name+=":"+this.sliceSerialize(T)}function f(T){const k=this.data.mdxJsxTag;a.call(this,T),k.attributes.push({type:"mdxJsxAttribute",name:"",value:null,position:{start:e(T.start),end:void 0}})}function h(T){const k=this.data.mdxJsxTag;a.call(this,T),k.attributes.push({type:"mdxJsxExpressionAttribute",value:"",position:{start:e(T.start),end:void 0}}),this.buffer()}function d(T){const k=this.data.mdxJsxTag,N=k.attributes[k.attributes.length-1];N.type;const D=T.estree;N.value=this.resume(),N.position,N.position.end=e(T.end),D&&(N.data={estree:D})}function b(T){const k=this.data.mdxJsxTag,N=k.attributes[k.attributes.length-1];N.type,N.name=this.sliceSerialize(T),N.position,N.position.end=e(T.end)}function y(T){const k=this.data.mdxJsxTag,N=k.attributes[k.attributes.length-1];N.type,N.name+=":"+this.sliceSerialize(T),N.position,N.position.end=e(T.end)}function v(T){const k=this.data.mdxJsxTag,N=k.attributes[k.attributes.length-1];N.value=KCe(this.resume(),{nonTerminated:!1}),N.position,N.position.end=e(T.end)}function m(T){const k=this.data.mdxJsxTag,N=k.attributes[k.attributes.length-1];N.type;const D={type:"mdxJsxAttributeValueExpression",value:this.resume()},P=T.estree;P&&(D.data={estree:P}),N.value=D,N.position,N.position.end=e(T.end)}function x(){const T=this.data.mdxJsxTag;T.selfClosing=!0}function _(T){const k=this.data.mdxJsxTag,N=this.data.mdxJsxTagStack,D=N[N.length-1];if(k.close&&D.name!==k.name)throw new Vi("Unexpected closing tag `"+w(k)+"`, expected corresponding closing tag for `"+w(D)+"` ("+sc(D)+")",{start:T.start,end:T.end},"mdast-util-mdx-jsx:end-tag-mismatch");this.resume(),k.close?N.pop():this.enter({type:T.type==="mdxJsxTextTag"?"mdxJsxTextElement":"mdxJsxFlowElement",name:k.name||null,attributes:k.attributes,children:[]},T,E),k.selfClosing||k.close?this.exit(T,A):N.push(k)}function E(T,k){const N=this.data.mdxJsxTagStack,D=N[N.length-1],P=T?" before the end of `"+T.type+"`":"",B=T?{start:T.start,end:T.end}:void 0;throw new Vi("Expected a closing tag for `"+w(D)+"` ("+sc({start:k.start,end:k.end})+")"+P,B,"mdast-util-mdx-jsx:end-tag-mismatch")}function A(T,k){const N=this.data.mdxJsxTag;throw new Vi("Expected the closing tag `"+w(N)+"` either after the end of `"+k.type+"` ("+sc(k.end)+") or another opening tag after the start of `"+k.type+"` ("+sc(k.start)+")",{start:T.start,end:T.end},"mdast-util-mdx-jsx:end-tag-mismatch")}function w(T){return"<"+(T.close?"/":"")+(T.name||"")+">"}}function o2e(t){const e=t||{},n=e.quote||'"',i=e.quoteSmart||!1,r=e.tightSelfClosing||!1,a=e.printWidth||Number.POSITIVE_INFINITY,s=n==='"'?"'":'"';if(n!=='"'&&n!=="'")throw new Error("Cannot serialize attribute values with `"+n+"` for `options.quote`, expected `\"`, or `'`");return o.peek=c2e,{handlers:{mdxJsxFlowElement:o,mdxJsxTextElement:o},unsafe:[{character:"<",inConstruct:["phrasing"]},{atBreak:!0,character:"<"}],fences:!0,resourceLink:!0};function o(l,c,u,f){const h=l.type==="mdxJsxFlowElement",d=l.name?!l.children||l.children.length===0:!1,b=xZ(u),y=_Z(b),v=u.createTracker(f),m=u.createTracker(f),x=[],_=(h?y:"")+"<"+(l.name||""),E=u.enter(l.type);if(v.move(_),m.move(_),l.attributes&&l.attributes.length>0){if(!l.name)throw new Error("Cannot serialize fragment w/ attributes");let N=-1;for(;++N<l.attributes.length;){const D=l.attributes[N];let P;if(D.type==="mdxJsxExpressionAttribute")P="{"+(D.value||"")+"}";else{if(!D.name)throw new Error("Cannot serialize attribute w/o name");const B=D.value,G=D.name;let H="";if(B!=null)if(typeof B=="object")H="{"+(B.value||"")+"}";else{const V=i&&zA(B,n)>zA(B,s)?s:n;H=V+a2e(B,{subset:[V]})+V}P=G+(H?"=":"")+H}x.push(P)}}let A=!1;const w=x.join(" ");h&&(/\r?\n|\r/.test(w)||v.current().now.column+w.length+(d?r?2:3:1)>a)&&(A=!0);let T=v,k=_;if(A){T=m;let N=-1;for(;++N<x.length;)x[N]=y+vZ+x[N];k+=T.move(`
`+x.join(`
`)+`
`+y)}else w&&(k+=T.move(" "+w));return d&&(k+=T.move((r||A?"":" ")+"/")),k+=T.move(">"),l.children&&l.children.length>0&&(l.type==="mdxJsxTextElement"?k+=T.move(u.containerPhrasing(l,{...T.current(),before:">",after:"<"})):(T.shift(2),k+=T.move(`
`),k+=T.move(l2e(l,u,T.current())),k+=T.move(`
`))),d||(k+=T.move((h?y:"")+"</"+(l.name||"")+">")),E(),k}}function l2e(t,e,n){const i=e.indexStack,r=t.children,a=e.createTracker(n),s=_Z(xZ(e)),o=[];let l=-1;for(i.push(-1);++l<r.length;){const c=r[l];i[i.length-1]=l;const u={before:`
`,after:`
`,...a.current()},f=e.handle(c,t,e,u),h=c.type==="mdxJsxFlowElement"?f:e.indentLines(f,function(d,b,y){return(y?"":s)+d});o.push(a.move(h)),c.type!=="list"&&(e.bulletLastUsed=void 0),l<r.length-1&&o.push(a.move(`

`))}return i.pop(),o.join("")}function xZ(t){let e=0,n=t.stack.length;for(;--n>-1;){const i=t.stack[n];if(i==="blockquote"||i==="listItem")break;i==="mdxJsxFlowElement"&&e++}return e}function _Z(t){return vZ.repeat(t)}function c2e(){return"<"}function u2e(){return{enter:{mdxjsEsm:h2e},exit:{mdxjsEsm:d2e,mdxjsEsmData:p2e}}}function f2e(){return{handlers:{mdxjsEsm:m2e}}}function h2e(t){this.enter({type:"mdxjsEsm",value:""},t),this.buffer()}function d2e(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,this.exit(t);const i=t.estree;n.value=e,i&&(n.data={estree:i})}function p2e(t){this.config.enter.data.call(this,t),this.config.exit.data.call(this,t)}function m2e(t){return t.value||""}function g2e(){return[jCe(),s2e(),u2e()]}function b2e(t){return{extensions:[BCe(),o2e(t),f2e()]}}var y2e=FN();const Ps=Jd(/[A-Za-z]/),zs=Jd(/[\dA-Za-z]/),v2e=Jd(/[#-'*+\--9=?A-Z^-~]/);function jA(t){return t!==null&&(t<32||t===127)}const GN=Jd(/\d/),x2e=Jd(/[\dA-Fa-f]/),_2e=Jd(/[!-/:-@[-`{-~]/);function hn(t){return t!==null&&t<-2}function Ri(t){return t!==null&&(t<0||t===32)}function Jn(t){return t===-2||t===-1||t===32}const ZC=Jd(new RegExp("\\p{P}|\\p{S}","u")),ro=Jd(/\s/);function Jd(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function bi(t,e,n,i){const r=i?i-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(l){return Jn(l)?(t.enter(n),o(l)):e(l)}function o(l){return Jn(l)&&a++<r?(t.consume(l),o):(t.exit(n),e(l))}}const S2e={}.hasOwnProperty,w2e=Symbol("continue"),r8=Symbol("exit"),E2e=Symbol("skip");function M2e(t,e){let n,i;typeof e=="function"?n=e:e&&typeof e=="object"&&(e.enter&&(n=e.enter),e.leave&&(i=e.leave)),r(t,void 0,void 0,[])();function r(a,s,o,l){return a8(a)&&(c.displayName="node ("+a.type+")"),c;function c(){const u=n?l6(n(a,s,o,l)):[];if(u[0]===r8)return u;if(u[0]!==E2e){let f;for(f in a)if(S2e.call(a,f)&&a[f]&&typeof a[f]=="object"&&f!=="data"&&f!=="position"){const h=l.concat(a),d=a[f];if(Array.isArray(d)){const b=d;let y=0;for(;y>-1&&y<b.length;){const v=b[y];if(a8(v)){const m=r(v,f,y,h)();if(m[0]===r8)return m;y=typeof m[1]=="number"?m[1]:y+1}else y++}}else if(a8(d)){const b=r(d,f,void 0,h)();if(b[0]===r8)return b}}}return i?l6(i(a,s,o,l)):u}}}function l6(t){return Array.isArray(t)?t:typeof t=="number"?[w2e,t]:[t]}function a8(t){return!!(t&&typeof t=="object"&&"type"in t&&typeof t.type=="string"&&t.type.length>0)}function SZ(t,e){const n=e.prefix||"",i=e.suffix||"",r=Object.assign({},e.acornOptions),a=[],s=[],o=r.onComment,l=r.onToken;let c=!1,u,f;const h=Object.assign({},r,{onComment:a,preserveParens:!0});l&&(h.onToken=s);const d=A2e(t,e.tokenTypes),b=d.value,y=n+b+i,v=e.expression&&c6(b);if(v&&!e.allowEmpty)throw new Vi("Unexpected empty expression",{place:x(0),ruleId:"unexpected-empty-expression",source:"micromark-extension-mdx-expression"});try{u=e.expression&&!v?e.acorn.parseExpressionAt(y,0,h):e.acorn.parse(y,h)}catch(_){const E=_,A=x(E.pos);E.message=String(E.message).replace(/ \(\d+:\d+\)$/,""),E.pos=A.offset,E.loc={line:A.line,column:A.column-1},f=E,c=E.raisedAt>=n.length+b.length||E.message==="Unterminated comment"}if(u&&e.expression&&!v)if(c6(y.slice(u.end,y.length-i.length)))u={type:"Program",start:0,end:n.length+b.length,body:[{type:"ExpressionStatement",expression:u,start:0,end:n.length+b.length}],sourceType:"module",comments:[]};else{const _=x(u.end),E=new Error("Unexpected content after expression");E.pos=_.offset,E.loc={line:_.line,column:_.column-1},f=E,u=void 0}if(u){if(u.comments=a,M2e(u,function(_,E,A,w){let T=w[w.length-1],k=E;_.type==="ParenthesizedExpression"&&T&&k&&(typeof A=="number"&&(T=T[k],k=A),T[k]=_.expression),m(_)}),Array.isArray(o))o.push(...a);else if(typeof o=="function")for(const _ of a)o(_.type==="Block",_.value,_.start,_.end,_.loc.start,_.loc.end);for(const _ of s)_.end<=n.length||_.start-n.length>=b.length||(m(_),Array.isArray(l)?l.push(_):l(_))}return{estree:u,error:f,swallow:c};function m(_){const E=x(_.start),A=x(_.end);_.start=E.offset,_.end=A.offset,_.loc={start:{line:E.line,column:E.column-1,offset:E.offset},end:{line:A.line,column:A.column-1,offset:A.offset}},_.range=[_.start,_.end]}function x(_){let E=_-n.length;E<0?E=0:E>b.length&&(E=b.length);let A=T2e(d.stops,E);return A||(A={line:e.start.line,column:e.start.column,offset:e.start.offset}),A}}function c6(t){return/^\s*$/.test(t.replace(/\/\*[\s\S]*?\*\//g,"").replace(/\/\/[^\r\n]*(\r\n|\n|\r)/g,""))}function A2e(t,e){const n={value:"",stops:[]};let i=-1;for(;++i<t.length;){const r=t[i];if(r[0]==="enter"){const a=r[1].type;if(a==="lineEnding"||e.includes(a)){const s=r[2].sliceStream(r[1]);for(;s.length>0&&s[0]===-1;)s.shift();const o=C2e(s);n.stops.push([n.value.length,r[1].start]),n.value+=o,n.stops.push([n.value.length,r[1].end])}}}return n}function T2e(t,e){let n=0;for(;n<t.length&&t[n][0]<=e;)n+=1;if(n===0)return;const[i,r]=t[n-1],a=e-i;return{line:r.line,column:r.column+a,offset:r.offset+a}}function C2e(t){let e=-1;const n=[];let i;for(;++e<t.length;){const r=t[e];let a;if(typeof r=="string")a=r;else switch(r){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a="	";break}case-1:{if(i)continue;a=" ";break}default:a=String.fromCharCode(r)}i=r===-2,n.push(a)}return n.join("")}function qf(t){const e=t||{},n=e.loc||{},i=e.range||[void 0,void 0],r=u6(n.start,i[0]||e.start),a=u6(n.end,i[1]||e.end);if(r&&a)return{start:r,end:a}}function u6(t,e){if(t&&typeof t=="object"){const n="line"in t?s8(t.line):void 0,i="column"in t?s8(t.column):void 0;if(n&&i!==void 0)return{line:n,column:i+1,offset:s8(e)}}}function s8(t){return typeof t=="number"&&t>-1?t:void 0}const R2e=2,Qb="https://github.com/micromark/micromark-extension-mdx-expression/tree/main/packages/micromark-extension-mdx-expression",k2e="#unexpected-end-of-file-in-expression-expected-a-corresponding-closing-brace-for-",D2e="#unexpected-lazy-line-in-expression-in-container-expected-line-to-be-prefixed",f6="#unexpected-type-in-code-expected-an-object-spread-spread",N2e="#unexpected-extra-content-in-spread-only-a-single-spread-is-supported",I2e="#could-not-parse-expression-with-acorn";function BA(t,e,n,i,r,a,s,o,l,c,u){const f=this,h=this.events.length+3;let d=0,b,y;return v;function v(E){return t.enter(n),t.enter(i),t.consume(E),t.exit(i),b=f.now(),m}function m(E){if(E===null){if(y)throw y;const A=new Vi("Unexpected end of file in expression, expected a corresponding closing brace for `{`",{place:f.now(),ruleId:"unexpected-eof",source:"micromark-extension-mdx-expression"});throw A.url=Qb+k2e,A}if(hn(E))return t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),_;if(E===125&&d===0){const A=a?O2e.call(f,a,s,r,h,b,c||!1,l||!1):{type:"ok",estree:void 0};if(A.type==="ok"){t.enter(i),t.consume(E),t.exit(i);const w=t.exit(n);return o&&A.estree&&Object.assign(w,{estree:A.estree}),e}return y=A.message,t.enter(r),t.consume(E),x}return t.enter(r),x(E)}function x(E){return E===125&&d===0||E===null||hn(E)?(t.exit(r),m(E)):(E===123&&!a?d+=1:E===125&&(d-=1),t.consume(E),x)}function _(E){const A=f.now();if(A.line!==b.line&&!u&&f.parser.lazy[A.line]){const w=new Vi("Unexpected lazy line in expression in container, expected line to be prefixed with `>` when in a block quote, whitespace when in a list, etc",{place:f.now(),ruleId:"unexpected-lazy",source:"micromark-extension-mdx-expression"});throw w.url=Qb+D2e,w}return Jn(E)?bi(t,m,"linePrefix",R2e+1)(E):m(E)}}function O2e(t,e,n,i,r,a,s){const o=SZ(this.events.slice(i),{acorn:t,tokenTypes:[n],acornOptions:e,start:r,expression:!0,allowEmpty:a,prefix:s?"({":"",suffix:s?"})":""}),l=o.estree;if(s&&l){const c=l.body[0];if(c.type!=="ExpressionStatement"||c.expression.type!=="ObjectExpression"){const u=qf(c),f=new Vi("Unexpected `"+c.type+"` in code: expected an object spread (`{...spread}`)",{place:u.start,ruleId:"non-spread",source:"micromark-extension-mdx-expression"});throw f.url=Qb+f6,f}if(c.expression.properties[1]){const u=qf(c.expression.properties[1]),f=new Vi("Unexpected extra content in spread: only a single spread is supported",{place:u.start,ruleId:"spread-extra",source:"micromark-extension-mdx-expression"});throw f.url=Qb+N2e,f}if(c.expression.properties[0]&&c.expression.properties[0].type!=="SpreadElement"){const u=qf(c.expression.properties[0]),f=new Vi("Unexpected `"+c.expression.properties[0].type+"` in code: only spread elements are supported",{place:u.start,ruleId:"non-spread",source:"micromark-extension-mdx-expression"});throw f.url=Qb+f6,f}}if(o.error){const c=new Vi("Could not parse expression with acorn",{cause:o.error,place:{line:o.error.loc.line,column:o.error.loc.column+1,offset:o.error.pos},ruleId:"acorn",source:"micromark-extension-mdx-expression"});return c.url=Qb+I2e,{type:"nok",message:c}}return{type:"ok",estree:l}}function L2e(t){const e=t||{},n=e.addResult,i=e.acorn,r=e.spread;let a=e.allowEmpty,s;if(a==null&&(a=!0),i){if(!i.parseExpressionAt)throw new Error("Expected a proper `acorn` instance passed in as `options.acorn`");s=Object.assign({ecmaVersion:2024,sourceType:"module"},e.acornOptions)}else if(e.acornOptions||e.addResult)throw new Error("Expected an `acorn` instance passed in as `options.acorn`");return{flow:{123:{name:"mdxFlowExpression",tokenize:o,concrete:!0}},text:{123:{name:"mdxTextExpression",tokenize:l}}};function o(c,u,f){const h=this;return d;function d(m){return b(m)}function b(m){return BA.call(h,c,y,"mdxFlowExpression","mdxFlowExpressionMarker","mdxFlowExpressionChunk",i,s,n,r,a)(m)}function y(m){return Jn(m)?bi(c,v,"whitespace")(m):v(m)}function v(m){const x=h.parser.constructs.flow[60],E=(Array.isArray(x)?x:x?[x]:[]).find(function(A){return A.name==="mdxJsxFlowTag"});return m===60&&E?c.attempt(E,v,f)(m):m===null||hn(m)?u(m):f(m)}}function l(c,u){const f=this;return h;function h(d){return BA.call(f,c,u,"mdxTextExpression","mdxTextExpressionMarker","mdxTextExpressionChunk",i,s,n,r,a,!0)(d)}}}const h6="https://github.com/micromark/micromark-extension-mdx-jsx";function wZ(t,e,n,i,r,a,s,o,l,c,u,f,h,d,b,y,v,m,x,_,E,A,w,T,k,N,D,P,B,G,H,V){const U=this;let F,q;return X;function X($){return t.enter(o),t.enter(l),t.consume($),t.exit(l),z}function z($){return Ri($)?n($):(F=oe,J($))}function oe($){if($===47)return t.enter(c),t.consume($),t.exit(c),F=fe,J;if($===62)return re($);if($!==null&&$>=0&&Lc($))return t.enter(f),t.enter(h),t.consume($),K;be($,"before name","a character that can start a name, such as a letter, `$`, or `_`"+($===33?" (note: to create a comment in MDX, use `{/* text */}`)":""))}function fe($){if($===62)return re($);if($!==null&&$>=0&&Lc($))return t.enter(f),t.enter(h),t.consume($),K;be($,"before name","a character that can start a name, such as a letter, `$`, or `_`"+($===42||$===47?" (note: JS comments in JSX tags are not supported in MDX)":""))}function K($){if($!==null&&$>=0&&Jv($,{jsx:!0}))return t.consume($),K;if($===46||$===47||$===58||$===62||$===123||Ri($)||ro($))return t.exit(h),F=Me,J($);be($,"in name","a name character such as letters, digits, `$`, or `_`; whitespace before attributes; or the end of the tag"+($===64?" (note: to create a link in MDX, use `[text](url)`)":""))}function Me($){if($===46)return t.enter(d),t.consume($),t.exit(d),F=_e,J;if($===58)return t.enter(y),t.consume($),t.exit(y),F=Oe,J;if($===47||$===62||$===123||$!==null&&$>=0&&Lc($))return t.exit(f),ct($);be($,"after name","a character that can start an attribute name, such as a letter, `$`, or `_`; whitespace before attributes; or the end of the tag")}function _e($){if($!==null&&$>=0&&Lc($))return t.enter(b),t.consume($),pe;be($,"before member name","a character that can start an attribute name, such as a letter, `$`, or `_`; whitespace before attributes; or the end of the tag")}function pe($){if($!==null&&$>=0&&Jv($,{jsx:!0}))return t.consume($),pe;if($===46||$===47||$===62||$===123||Ri($)||ro($))return t.exit(b),F=xe,J($);be($,"in member name","a name character such as letters, digits, `$`, or `_`; whitespace before attributes; or the end of the tag"+($===64?" (note: to create a link in MDX, use `[text](url)`)":""))}function xe($){if($===46)return t.enter(d),t.consume($),t.exit(d),F=_e,J;if($===47||$===62||$===123||$!==null&&$>=0&&Lc($))return t.exit(f),ct($);be($,"after member name","a character that can start an attribute name, such as a letter, `$`, or `_`; whitespace before attributes; or the end of the tag")}function Oe($){if($!==null&&$>=0&&Lc($))return t.enter(v),t.consume($),Ge;be($,"before local name","a character that can start a name, such as a letter, `$`, or `_`"+($===43||$!==null&&$>46&&$<58?" (note: to create a link in MDX, use `[text](url)`)":""))}function Ge($){if($!==null&&$>=0&&Jv($,{jsx:!0}))return t.consume($),Ge;if($===47||$===62||$===123||Ri($)||ro($))return t.exit(v),F=Ye,J($);be($,"in local name","a name character such as letters, digits, `$`, or `_`; whitespace before attributes; or the end of the tag")}function Ye($){if($===47||$===62||$===123||$!==null&&$>=0&&Lc($))return t.exit(f),ct($);be($,"after local name","a character that can start an attribute name, such as a letter, `$`, or `_`; whitespace before attributes; or the end of the tag")}function ct($){if($===47)return t.enter(u),t.consume($),t.exit(u),F=vt,J;if($===62)return re($);if($===123)return BA.call(U,t,Tt,m,x,_,i,r,a,!0,!1,s)($);if($!==null&&$>=0&&Lc($))return t.enter(E),t.enter(A),t.enter(w),t.consume($),he;be($,"before attribute name","a character that can start an attribute name, such as a letter, `$`, or `_`; whitespace before attributes; or the end of the tag")}function Tt($){return F=ct,J($)}function he($){if($!==null&&$>=0&&Jv($,{jsx:!0}))return t.consume($),he;if($===47||$===58||$===61||$===62||$===123||Ri($)||ro($))return t.exit(w),F=Ve,J($);be($,"in attribute name","an attribute name character such as letters, digits, `$`, or `_`; `=` to initialize a value; whitespace before attributes; or the end of the tag")}function Ve($){if($===58)return t.enter(T),t.consume($),t.exit(T),F=Be,J;if($===61)return t.exit(A),t.enter(N),t.consume($),t.exit(N),F=Ue,J;if($===47||$===62||$===123||Ri($)||ro($)||$!==null&&$>=0&&Lc($))return t.exit(A),t.exit(E),F=ct,J($);be($,"after attribute name","a character that can start an attribute name, such as a letter, `$`, or `_`; `=` to initialize a value; or the end of the tag")}function Be($){if($!==null&&$>=0&&Lc($))return t.enter(k),t.consume($),ot;be($,"before local attribute name","a character that can start an attribute name, such as a letter, `$`, or `_`; `=` to initialize a value; or the end of the tag")}function ot($){if($!==null&&$>=0&&Jv($,{jsx:!0}))return t.consume($),ot;if($===47||$===61||$===62||$===123||Ri($)||ro($))return t.exit(k),t.exit(A),F=Ae,J($);be($,"in local attribute name","an attribute name character such as letters, digits, `$`, or `_`; `=` to initialize a value; whitespace before attributes; or the end of the tag")}function Ae($){if($===61)return t.enter(N),t.consume($),t.exit(N),F=Ue,J;if($===47||$===62||$===123||$!==null&&$>=0&&Lc($))return t.exit(E),ct($);be($,"after local attribute name","a character that can start an attribute name, such as a letter, `$`, or `_`; `=` to initialize a value; or the end of the tag")}function Ue($){if($===34||$===39)return t.enter(D),t.enter(P),t.consume($),t.exit(P),q=$,We;if($===123)return BA.call(U,t,Ne,G,H,V,i,r,a,!1,!1,s)($);be($,"before attribute value","a character that can start an attribute value, such as `\"`, `'`, or `{`"+($===60?" (note: to use an element or fragment as a prop value in MDX, use `{<element />}`)":""))}function Ne($){return t.exit(E),F=ct,J($)}function We($){return $===null&&be($,"in attribute value","a corresponding closing quote `"+String.fromCodePoint(q)+"`"),$===q?(t.enter(P),t.consume($),t.exit(P),t.exit(D),t.exit(E),q=void 0,F=ct,J):hn($)?(F=We,J($)):(t.enter(B),Et($))}function Et($){return $===null||$===q||hn($)?(t.exit(B),We($)):(t.consume($),Et)}function vt($){if($===62)return re($);be($,"after self-closing slash","`>` to end the tag"+($===42||$===47?" (note: JS comments in JSX tags are not supported in MDX)":""))}function re($){return t.enter(l),t.consume($),t.exit(l),t.exit(o),e}function J($){return hn($)?(t.enter("lineEnding"),t.consume($),t.exit("lineEnding"),se):Jn($)||ro($)?(t.enter("esWhitespace"),ue($)):F($)}function ue($){return hn($)?(t.exit("esWhitespace"),J($)):Jn($)||ro($)?(t.consume($),ue):(t.exit("esWhitespace"),F($))}function se($){if(!s&&U.parser.lazy[U.now().line]){const Ke=new Vi("Unexpected lazy line in container, expected line to be prefixed with `>` when in a block quote, whitespace when in a list, etc",U.now(),"micromark-extension-mdx-jsx:unexpected-lazy");throw Ke.url=h6+"#unexpected-lazy-line-in-container-expected-line-to-be",Ke}return J($)}function be($,Ke,tt){const pt=new Vi("Unexpected "+($===null?"end of file":"character `"+($===96?"` ` `":String.fromCodePoint($))+"` ("+P2e($)+")")+" "+Ke+", expected "+tt,U.now(),"micromark-extension-mdx-jsx:unexpected-"+($===null?"eof":"character"));throw pt.url=h6+($===null?"#unexpected-end-of-file-at-expected-expect":"#unexpected-character-at-expected-expect"),pt}}function P2e(t){return"U+"+t.toString(16).toUpperCase().padStart(4,"0")}function U2e(t,e){return{name:"mdxJsxTextTag",tokenize:n};function n(i,r,a){return wZ.call(this,i,r,a,t,e.acornOptions,e.addResult,!0,"mdxJsxTextTag","mdxJsxTextTagMarker","mdxJsxTextTagClosingMarker","mdxJsxTextTagSelfClosingMarker","mdxJsxTextTagName","mdxJsxTextTagNamePrimary","mdxJsxTextTagNameMemberMarker","mdxJsxTextTagNameMember","mdxJsxTextTagNamePrefixMarker","mdxJsxTextTagNameLocal","mdxJsxTextTagExpressionAttribute","mdxJsxTextTagExpressionAttributeMarker","mdxJsxTextTagExpressionAttributeValue","mdxJsxTextTagAttribute","mdxJsxTextTagAttributeName","mdxJsxTextTagAttributeNamePrimary","mdxJsxTextTagAttributeNamePrefixMarker","mdxJsxTextTagAttributeNameLocal","mdxJsxTextTagAttributeInitializerMarker","mdxJsxTextTagAttributeValueLiteral","mdxJsxTextTagAttributeValueLiteralMarker","mdxJsxTextTagAttributeValueLiteralValue","mdxJsxTextTagAttributeValueExpression","mdxJsxTextTagAttributeValueExpressionMarker","mdxJsxTextTagAttributeValueExpressionValue")}}function F2e(t,e){return{concrete:!0,name:"mdxJsxFlowTag",tokenize:n};function n(i,r,a){const s=this;return o;function o(f){return l(f)}function l(f){return wZ.call(s,i,c,a,t,e.acornOptions,e.addResult,!1,"mdxJsxFlowTag","mdxJsxFlowTagMarker","mdxJsxFlowTagClosingMarker","mdxJsxFlowTagSelfClosingMarker","mdxJsxFlowTagName","mdxJsxFlowTagNamePrimary","mdxJsxFlowTagNameMemberMarker","mdxJsxFlowTagNameMember","mdxJsxFlowTagNamePrefixMarker","mdxJsxFlowTagNameLocal","mdxJsxFlowTagExpressionAttribute","mdxJsxFlowTagExpressionAttributeMarker","mdxJsxFlowTagExpressionAttributeValue","mdxJsxFlowTagAttribute","mdxJsxFlowTagAttributeName","mdxJsxFlowTagAttributeNamePrimary","mdxJsxFlowTagAttributeNamePrefixMarker","mdxJsxFlowTagAttributeNameLocal","mdxJsxFlowTagAttributeInitializerMarker","mdxJsxFlowTagAttributeValueLiteral","mdxJsxFlowTagAttributeValueLiteralMarker","mdxJsxFlowTagAttributeValueLiteralValue","mdxJsxFlowTagAttributeValueExpression","mdxJsxFlowTagAttributeValueExpressionMarker","mdxJsxFlowTagAttributeValueExpressionValue")(f)}function c(f){return Jn(f)?bi(i,u,"whitespace")(f):u(f)}function u(f){const h=s.parser.constructs.flow[123],d=Array.isArray(h)?h:h?[h]:[];let b;for(const y of d)if(y.name==="mdxFlowExpression"){b=y;break}return f===60?o(f):f===123&&b?i.attempt(b,u,a)(f):f===null||hn(f)?r(f):a(f)}}}function z2e(t){const e=t||{},n=e.acorn;let i;if(n){if(!n.parse||!n.parseExpressionAt)throw new Error("Expected a proper `acorn` instance passed in as `options.acorn`");i=Object.assign({ecmaVersion:2024,sourceType:"module"},e.acornOptions,{locations:!0})}else if(e.acornOptions||e.addResult)throw new Error("Expected an `acorn` instance passed in as `options.acorn`");return{flow:{60:F2e(n||void 0,{acornOptions:i,addResult:e.addResult||void 0})},text:{60:U2e(n||void 0,{acornOptions:i,addResult:e.addResult||void 0})}}}function j2e(){return{disable:{null:["autolink","codeIndented","htmlFlow","htmlText"]}}}function pl(t,e,n,i){const r=t.length;let a=0,s;if(e<0?e=-e>r?0:r+e:e=e>r?r:e,n=n>0?n:0,i.length<1e4)s=Array.from(i),s.unshift(e,n),t.splice(...s);else for(n&&t.splice(e,n);a<i.length;)s=i.slice(a,a+1e4),s.unshift(e,0),t.splice(...s),a+=1e4,e+=1e4}function Jl(t,e){return t.length>0?(pl(t,t.length,0,e),t):e}function oy(t){if(t===null||Ri(t)||ro(t))return 1;if(ZC(t))return 2}function QC(t,e,n){const i=[];let r=-1;for(;++r<t.length;){const a=t[r].resolveAll;a&&!i.includes(a)&&(e=a(e,n),i.push(a))}return e}const WN={name:"attention",resolveAll:B2e,tokenize:H2e};function B2e(t,e){let n=-1,i,r,a,s,o,l,c,u;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(i=n;i--;)if(t[i][0]==="exit"&&t[i][1].type==="attentionSequence"&&t[i][1]._open&&e.sliceSerialize(t[i][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[i][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[i][1].end.offset-t[i][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[i][1].end.offset-t[i][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const f={...t[i][1].end},h={...t[n][1].start};d6(f,-l),d6(h,l),s={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...t[i][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:h},a={type:l>1?"strongText":"emphasisText",start:{...t[i][1].end},end:{...t[n][1].start}},r={type:l>1?"strong":"emphasis",start:{...s.start},end:{...o.end}},t[i][1].end={...s.start},t[n][1].start={...o.end},c=[],t[i][1].end.offset-t[i][1].start.offset&&(c=Jl(c,[["enter",t[i][1],e],["exit",t[i][1],e]])),c=Jl(c,[["enter",r,e],["enter",s,e],["exit",s,e],["enter",a,e]]),c=Jl(c,QC(e.parser.constructs.insideSpan.null,t.slice(i+1,n),e)),c=Jl(c,[["exit",a,e],["enter",o,e],["exit",o,e],["exit",r,e]]),t[n][1].end.offset-t[n][1].start.offset?(u=2,c=Jl(c,[["enter",t[n][1],e],["exit",t[n][1],e]])):u=0,pl(t,i-1,n-i+3,c),n=i+c.length-u-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function H2e(t,e){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,r=oy(i);let a;return s;function s(l){return a=l,t.enter("attentionSequence"),o(l)}function o(l){if(l===a)return t.consume(l),o;const c=t.exit("attentionSequence"),u=oy(l),f=!u||u===2&&r||n.includes(l),h=!r||r===2&&u||n.includes(i);return c._open=!!(a===42?f:f&&(r||!h)),c._close=!!(a===42?h:h&&(u||!f)),e(l)}}function d6(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const V2e={name:"autolink",tokenize:G2e};function G2e(t,e,n){let i=0;return r;function r(d){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(d),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(d){return Ps(d)?(t.consume(d),s):d===64?n(d):c(d)}function s(d){return d===43||d===45||d===46||zs(d)?(i=1,o(d)):c(d)}function o(d){return d===58?(t.consume(d),i=0,l):(d===43||d===45||d===46||zs(d))&&i++<32?(t.consume(d),o):(i=0,c(d))}function l(d){return d===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(d),t.exit("autolinkMarker"),t.exit("autolink"),e):d===null||d===32||d===60||jA(d)?n(d):(t.consume(d),l)}function c(d){return d===64?(t.consume(d),u):v2e(d)?(t.consume(d),c):n(d)}function u(d){return zs(d)?f(d):n(d)}function f(d){return d===46?(t.consume(d),i=0,u):d===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(d),t.exit("autolinkMarker"),t.exit("autolink"),e):h(d)}function h(d){if((d===45||zs(d))&&i++<63){const b=d===45?h:f;return t.consume(d),b}return n(d)}}const Xy={partial:!0,tokenize:W2e};function W2e(t,e,n){return i;function i(a){return Jn(a)?bi(t,r,"linePrefix")(a):r(a)}function r(a){return a===null||hn(a)?e(a):n(a)}}const EZ={continuation:{tokenize:X2e},exit:K2e,name:"blockQuote",tokenize:q2e};function q2e(t,e,n){const i=this;return r;function r(s){if(s===62){const o=i.containerState;return o.open||(t.enter("blockQuote",{_container:!0}),o.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(s),t.exit("blockQuoteMarker"),a}return n(s)}function a(s){return Jn(s)?(t.enter("blockQuotePrefixWhitespace"),t.consume(s),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(s))}}function X2e(t,e,n){const i=this;return r;function r(s){return Jn(s)?bi(t,a,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return t.attempt(EZ,e,n)(s)}}function K2e(t){t.exit("blockQuote")}const MZ={name:"characterEscape",tokenize:Y2e};function Y2e(t,e,n){return i;function i(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),r}function r(a){return _2e(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}const AZ={name:"characterReference",tokenize:J2e};function J2e(t,e,n){const i=this;let r=0,a,s;return o;function o(f){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),l}function l(f){return f===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(f),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),a=31,s=zs,u(f))}function c(f){return f===88||f===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(f),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,s=x2e,u):(t.enter("characterReferenceValue"),a=7,s=GN,u(f))}function u(f){if(f===59&&r){const h=t.exit("characterReferenceValue");return s===zs&&!U1(i.sliceSerialize(h))?n(f):(t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return s(f)&&r++<a?(t.consume(f),u):n(f)}}const p6={partial:!0,tokenize:Z2e},m6={concrete:!0,name:"codeFenced",tokenize:$2e};function $2e(t,e,n){const i=this,r={partial:!0,tokenize:A};let a=0,s=0,o;return l;function l(w){return c(w)}function c(w){const T=i.events[i.events.length-1];return a=T&&T[1].type==="linePrefix"?T[2].sliceSerialize(T[1],!0).length:0,o=w,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),u(w)}function u(w){return w===o?(s++,t.consume(w),u):s<3?n(w):(t.exit("codeFencedFenceSequence"),Jn(w)?bi(t,f,"whitespace")(w):f(w))}function f(w){return w===null||hn(w)?(t.exit("codeFencedFence"),i.interrupt?e(w):t.check(p6,y,E)(w)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),h(w))}function h(w){return w===null||hn(w)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),f(w)):Jn(w)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),bi(t,d,"whitespace")(w)):w===96&&w===o?n(w):(t.consume(w),h)}function d(w){return w===null||hn(w)?f(w):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),b(w))}function b(w){return w===null||hn(w)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),f(w)):w===96&&w===o?n(w):(t.consume(w),b)}function y(w){return t.attempt(r,E,v)(w)}function v(w){return t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),m}function m(w){return a>0&&Jn(w)?bi(t,x,"linePrefix",a+1)(w):x(w)}function x(w){return w===null||hn(w)?t.check(p6,y,E)(w):(t.enter("codeFlowValue"),_(w))}function _(w){return w===null||hn(w)?(t.exit("codeFlowValue"),x(w)):(t.consume(w),_)}function E(w){return t.exit("codeFenced"),e(w)}function A(w,T,k){let N=0;return D;function D(V){return w.enter("lineEnding"),w.consume(V),w.exit("lineEnding"),P}function P(V){return w.enter("codeFencedFence"),Jn(V)?bi(w,B,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(V):B(V)}function B(V){return V===o?(w.enter("codeFencedFenceSequence"),G(V)):k(V)}function G(V){return V===o?(N++,w.consume(V),G):N>=s?(w.exit("codeFencedFenceSequence"),Jn(V)?bi(w,H,"whitespace")(V):H(V)):k(V)}function H(V){return V===null||hn(V)?(w.exit("codeFencedFence"),T(V)):k(V)}}}function Z2e(t,e,n){const i=this;return r;function r(s){return s===null?n(s):(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a)}function a(s){return i.parser.lazy[i.now().line]?n(s):e(s)}}const o8={name:"codeIndented",tokenize:eRe},Q2e={partial:!0,tokenize:tRe};function eRe(t,e,n){const i=this;return r;function r(c){return t.enter("codeIndented"),bi(t,a,"linePrefix",5)(c)}function a(c){const u=i.events[i.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?s(c):n(c)}function s(c){return c===null?l(c):hn(c)?t.attempt(Q2e,s,l)(c):(t.enter("codeFlowValue"),o(c))}function o(c){return c===null||hn(c)?(t.exit("codeFlowValue"),s(c)):(t.consume(c),o)}function l(c){return t.exit("codeIndented"),e(c)}}function tRe(t,e,n){const i=this;return r;function r(s){return i.parser.lazy[i.now().line]?n(s):hn(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),r):bi(t,a,"linePrefix",5)(s)}function a(s){const o=i.events[i.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(s):hn(s)?r(s):n(s)}}const nRe={name:"codeText",previous:rRe,resolve:iRe,tokenize:aRe};function iRe(t){let e=t.length-4,n=3,i,r;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(i=n;++i<e;)if(t[i][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(i=n-1,e++;++i<=e;)r===void 0?i!==e&&t[i][1].type!=="lineEnding"&&(r=i):(i===e||t[i][1].type==="lineEnding")&&(t[r][1].type="codeTextData",i!==r+2&&(t[r][1].end=t[i-1][1].end,t.splice(r+2,i-r-2),e-=i-r-2,i=r+2),r=void 0);return t}function rRe(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function aRe(t,e,n){let i=0,r,a;return s;function s(f){return t.enter("codeText"),t.enter("codeTextSequence"),o(f)}function o(f){return f===96?(t.consume(f),i++,o):(t.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(t.enter("space"),t.consume(f),t.exit("space"),l):f===96?(a=t.enter("codeTextSequence"),r=0,u(f)):hn(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),l):(t.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||hn(f)?(t.exit("codeTextData"),l(f)):(t.consume(f),c)}function u(f){return f===96?(t.consume(f),r++,u):r===i?(t.exit("codeTextSequence"),t.exit("codeText"),e(f)):(a.type="codeTextData",c(f))}}class sRe{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const i=n??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(e,i):e>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(e,n,i){const r=n||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return i&&$v(this.left,i),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),$v(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),$v(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);$v(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);$v(this.left,n.reverse())}}}function $v(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function TZ(t){const e={};let n=-1,i,r,a,s,o,l,c;const u=new sRe(t);for(;++n<u.length;){for(;n in e;)n=e[n];if(i=u.get(n),n&&i[1].type==="chunkFlow"&&u.get(n-1)[1].type==="listItemPrefix"&&(l=i[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(i[0]==="enter")i[1].contentType&&(Object.assign(e,oRe(u,n)),n=e[n],c=!0);else if(i[1]._container){for(a=n,r=void 0;a--;)if(s=u.get(a),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(r&&(u.get(r)[1].type="lineEndingBlank"),s[1].type="lineEnding",r=a);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;r&&(i[1].end={...u.get(r)[1].start},o=u.slice(r,n),o.unshift(i),u.splice(r,n-r+1,o))}}return pl(t,0,Number.POSITIVE_INFINITY,u.slice(0)),!c}function oRe(t,e){const n=t.get(e)[1],i=t.get(e)[2];let r=e-1;const a=[];let s=n._tokenizer;s||(s=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const o=s.events,l=[],c={};let u,f,h=-1,d=n,b=0,y=0;const v=[y];for(;d;){for(;t.get(++r)[1]!==d;);a.push(r),d._tokenizer||(u=i.sliceStream(d),d.next||u.push(null),f&&s.defineSkip(d.start),d._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(u),d._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),f=d,d=d.next}for(d=n;++h<o.length;)o[h][0]==="exit"&&o[h-1][0]==="enter"&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(y=h+1,v.push(y),d._tokenizer=void 0,d.previous=void 0,d=d.next);for(s.events=[],d?(d._tokenizer=void 0,d.previous=void 0):v.pop(),h=v.length;h--;){const m=o.slice(v[h],v[h+1]),x=a.pop();l.push([x,x+m.length-1]),t.splice(x,2,m)}for(l.reverse(),h=-1;++h<l.length;)c[b+l[h][0]]=b+l[h][1],b+=l[h][1]-l[h][0]-1;return c}const lRe={resolve:uRe,tokenize:fRe},cRe={partial:!0,tokenize:hRe};function uRe(t){return TZ(t),t}function fRe(t,e){let n;return i;function i(o){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),r(o)}function r(o){return o===null?a(o):hn(o)?t.check(cRe,s,a)(o):(t.consume(o),r)}function a(o){return t.exit("chunkContent"),t.exit("content"),e(o)}function s(o){return t.consume(o),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}}function hRe(t,e,n){const i=this;return r;function r(s){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),bi(t,a,"linePrefix")}function a(s){if(s===null||hn(s))return n(s);const o=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(s):t.interrupt(i.parser.constructs.flow,n,e)(s)}}function CZ(t,e,n,i,r,a,s,o,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return f;function f(m){return m===60?(t.enter(i),t.enter(r),t.enter(a),t.consume(m),t.exit(a),h):m===null||m===32||m===41||jA(m)?n(m):(t.enter(i),t.enter(s),t.enter(o),t.enter("chunkString",{contentType:"string"}),y(m))}function h(m){return m===62?(t.enter(a),t.consume(m),t.exit(a),t.exit(r),t.exit(i),e):(t.enter(o),t.enter("chunkString",{contentType:"string"}),d(m))}function d(m){return m===62?(t.exit("chunkString"),t.exit(o),h(m)):m===null||m===60||hn(m)?n(m):(t.consume(m),m===92?b:d)}function b(m){return m===60||m===62||m===92?(t.consume(m),d):d(m)}function y(m){return!u&&(m===null||m===41||Ri(m))?(t.exit("chunkString"),t.exit(o),t.exit(s),t.exit(i),e(m)):u<c&&m===40?(t.consume(m),u++,y):m===41?(t.consume(m),u--,y):m===null||m===32||m===40||jA(m)?n(m):(t.consume(m),m===92?v:y)}function v(m){return m===40||m===41||m===92?(t.consume(m),y):y(m)}}function RZ(t,e,n,i,r,a){const s=this;let o=0,l;return c;function c(d){return t.enter(i),t.enter(r),t.consume(d),t.exit(r),t.enter(a),u}function u(d){return o>999||d===null||d===91||d===93&&!l||d===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?n(d):d===93?(t.exit(a),t.enter(r),t.consume(d),t.exit(r),t.exit(i),e):hn(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),u):(t.enter("chunkString",{contentType:"string"}),f(d))}function f(d){return d===null||d===91||d===93||hn(d)||o++>999?(t.exit("chunkString"),u(d)):(t.consume(d),l||(l=!Jn(d)),d===92?h:f)}function h(d){return d===91||d===92||d===93?(t.consume(d),o++,f):f(d)}}function kZ(t,e,n,i,r,a){let s;return o;function o(h){return h===34||h===39||h===40?(t.enter(i),t.enter(r),t.consume(h),t.exit(r),s=h===40?41:h,l):n(h)}function l(h){return h===s?(t.enter(r),t.consume(h),t.exit(r),t.exit(i),e):(t.enter(a),c(h))}function c(h){return h===s?(t.exit(a),l(s)):h===null?n(h):hn(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),bi(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),u(h))}function u(h){return h===s||h===null||hn(h)?(t.exit("chunkString"),c(h)):(t.consume(h),h===92?f:u)}function f(h){return h===s||h===92?(t.consume(h),u):u(h)}}function Zx(t,e){let n;return i;function i(r){return hn(r)?(t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),n=!0,i):Jn(r)?bi(t,i,n?"linePrefix":"lineSuffix")(r):e(r)}}function ru(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const dRe={name:"definition",tokenize:mRe},pRe={partial:!0,tokenize:gRe};function mRe(t,e,n){const i=this;let r;return a;function a(d){return t.enter("definition"),s(d)}function s(d){return RZ.call(i,t,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(d)}function o(d){return r=ru(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),d===58?(t.enter("definitionMarker"),t.consume(d),t.exit("definitionMarker"),l):n(d)}function l(d){return Ri(d)?Zx(t,c)(d):c(d)}function c(d){return CZ(t,u,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(d)}function u(d){return t.attempt(pRe,f,f)(d)}function f(d){return Jn(d)?bi(t,h,"whitespace")(d):h(d)}function h(d){return d===null||hn(d)?(t.exit("definition"),i.parser.defined.push(r),e(d)):n(d)}}function gRe(t,e,n){return i;function i(o){return Ri(o)?Zx(t,r)(o):n(o)}function r(o){return kZ(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function a(o){return Jn(o)?bi(t,s,"whitespace")(o):s(o)}function s(o){return o===null||hn(o)?e(o):n(o)}}const bRe={name:"hardBreakEscape",tokenize:yRe};function yRe(t,e,n){return i;function i(a){return t.enter("hardBreakEscape"),t.consume(a),r}function r(a){return hn(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}const vRe={name:"headingAtx",resolve:xRe,tokenize:_Re};function xRe(t,e){let n=t.length-2,i=3,r,a;return t[i][1].type==="whitespace"&&(i+=2),n-2>i&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&t[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(r={type:"atxHeadingText",start:t[i][1].start,end:t[n][1].end},a={type:"chunkText",start:t[i][1].start,end:t[n][1].end,contentType:"text"},pl(t,i,n-i+1,[["enter",r,e],["enter",a,e],["exit",a,e],["exit",r,e]])),t}function _Re(t,e,n){let i=0;return r;function r(u){return t.enter("atxHeading"),a(u)}function a(u){return t.enter("atxHeadingSequence"),s(u)}function s(u){return u===35&&i++<6?(t.consume(u),s):u===null||Ri(u)?(t.exit("atxHeadingSequence"),o(u)):n(u)}function o(u){return u===35?(t.enter("atxHeadingSequence"),l(u)):u===null||hn(u)?(t.exit("atxHeading"),e(u)):Jn(u)?bi(t,o,"whitespace")(u):(t.enter("atxHeadingText"),c(u))}function l(u){return u===35?(t.consume(u),l):(t.exit("atxHeadingSequence"),o(u))}function c(u){return u===null||u===35||Ri(u)?(t.exit("atxHeadingText"),o(u)):(t.consume(u),c)}}const SRe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],g6=["pre","script","style","textarea"],wRe={concrete:!0,name:"htmlFlow",resolveTo:ARe,tokenize:TRe},ERe={partial:!0,tokenize:RRe},MRe={partial:!0,tokenize:CRe};function ARe(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function TRe(t,e,n){const i=this;let r,a,s,o,l;return c;function c(K){return u(K)}function u(K){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(K),f}function f(K){return K===33?(t.consume(K),h):K===47?(t.consume(K),a=!0,y):K===63?(t.consume(K),r=3,i.interrupt?e:z):Ps(K)?(t.consume(K),s=String.fromCharCode(K),v):n(K)}function h(K){return K===45?(t.consume(K),r=2,d):K===91?(t.consume(K),r=5,o=0,b):Ps(K)?(t.consume(K),r=4,i.interrupt?e:z):n(K)}function d(K){return K===45?(t.consume(K),i.interrupt?e:z):n(K)}function b(K){const Me="CDATA[";return K===Me.charCodeAt(o++)?(t.consume(K),o===Me.length?i.interrupt?e:B:b):n(K)}function y(K){return Ps(K)?(t.consume(K),s=String.fromCharCode(K),v):n(K)}function v(K){if(K===null||K===47||K===62||Ri(K)){const Me=K===47,_e=s.toLowerCase();return!Me&&!a&&g6.includes(_e)?(r=1,i.interrupt?e(K):B(K)):SRe.includes(s.toLowerCase())?(r=6,Me?(t.consume(K),m):i.interrupt?e(K):B(K)):(r=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(K):a?x(K):_(K))}return K===45||zs(K)?(t.consume(K),s+=String.fromCharCode(K),v):n(K)}function m(K){return K===62?(t.consume(K),i.interrupt?e:B):n(K)}function x(K){return Jn(K)?(t.consume(K),x):D(K)}function _(K){return K===47?(t.consume(K),D):K===58||K===95||Ps(K)?(t.consume(K),E):Jn(K)?(t.consume(K),_):D(K)}function E(K){return K===45||K===46||K===58||K===95||zs(K)?(t.consume(K),E):A(K)}function A(K){return K===61?(t.consume(K),w):Jn(K)?(t.consume(K),A):_(K)}function w(K){return K===null||K===60||K===61||K===62||K===96?n(K):K===34||K===39?(t.consume(K),l=K,T):Jn(K)?(t.consume(K),w):k(K)}function T(K){return K===l?(t.consume(K),l=null,N):K===null||hn(K)?n(K):(t.consume(K),T)}function k(K){return K===null||K===34||K===39||K===47||K===60||K===61||K===62||K===96||Ri(K)?A(K):(t.consume(K),k)}function N(K){return K===47||K===62||Jn(K)?_(K):n(K)}function D(K){return K===62?(t.consume(K),P):n(K)}function P(K){return K===null||hn(K)?B(K):Jn(K)?(t.consume(K),P):n(K)}function B(K){return K===45&&r===2?(t.consume(K),U):K===60&&r===1?(t.consume(K),F):K===62&&r===4?(t.consume(K),oe):K===63&&r===3?(t.consume(K),z):K===93&&r===5?(t.consume(K),X):hn(K)&&(r===6||r===7)?(t.exit("htmlFlowData"),t.check(ERe,fe,G)(K)):K===null||hn(K)?(t.exit("htmlFlowData"),G(K)):(t.consume(K),B)}function G(K){return t.check(MRe,H,fe)(K)}function H(K){return t.enter("lineEnding"),t.consume(K),t.exit("lineEnding"),V}function V(K){return K===null||hn(K)?G(K):(t.enter("htmlFlowData"),B(K))}function U(K){return K===45?(t.consume(K),z):B(K)}function F(K){return K===47?(t.consume(K),s="",q):B(K)}function q(K){if(K===62){const Me=s.toLowerCase();return g6.includes(Me)?(t.consume(K),oe):B(K)}return Ps(K)&&s.length<8?(t.consume(K),s+=String.fromCharCode(K),q):B(K)}function X(K){return K===93?(t.consume(K),z):B(K)}function z(K){return K===62?(t.consume(K),oe):K===45&&r===2?(t.consume(K),z):B(K)}function oe(K){return K===null||hn(K)?(t.exit("htmlFlowData"),fe(K)):(t.consume(K),oe)}function fe(K){return t.exit("htmlFlow"),e(K)}}function CRe(t,e,n){const i=this;return r;function r(s){return hn(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a):n(s)}function a(s){return i.parser.lazy[i.now().line]?n(s):e(s)}}function RRe(t,e,n){return i;function i(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),t.attempt(Xy,e,n)}}const kRe={name:"htmlText",tokenize:DRe};function DRe(t,e,n){const i=this;let r,a,s;return o;function o(z){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(z),l}function l(z){return z===33?(t.consume(z),c):z===47?(t.consume(z),A):z===63?(t.consume(z),_):Ps(z)?(t.consume(z),k):n(z)}function c(z){return z===45?(t.consume(z),u):z===91?(t.consume(z),a=0,b):Ps(z)?(t.consume(z),x):n(z)}function u(z){return z===45?(t.consume(z),d):n(z)}function f(z){return z===null?n(z):z===45?(t.consume(z),h):hn(z)?(s=f,F(z)):(t.consume(z),f)}function h(z){return z===45?(t.consume(z),d):f(z)}function d(z){return z===62?U(z):z===45?h(z):f(z)}function b(z){const oe="CDATA[";return z===oe.charCodeAt(a++)?(t.consume(z),a===oe.length?y:b):n(z)}function y(z){return z===null?n(z):z===93?(t.consume(z),v):hn(z)?(s=y,F(z)):(t.consume(z),y)}function v(z){return z===93?(t.consume(z),m):y(z)}function m(z){return z===62?U(z):z===93?(t.consume(z),m):y(z)}function x(z){return z===null||z===62?U(z):hn(z)?(s=x,F(z)):(t.consume(z),x)}function _(z){return z===null?n(z):z===63?(t.consume(z),E):hn(z)?(s=_,F(z)):(t.consume(z),_)}function E(z){return z===62?U(z):_(z)}function A(z){return Ps(z)?(t.consume(z),w):n(z)}function w(z){return z===45||zs(z)?(t.consume(z),w):T(z)}function T(z){return hn(z)?(s=T,F(z)):Jn(z)?(t.consume(z),T):U(z)}function k(z){return z===45||zs(z)?(t.consume(z),k):z===47||z===62||Ri(z)?N(z):n(z)}function N(z){return z===47?(t.consume(z),U):z===58||z===95||Ps(z)?(t.consume(z),D):hn(z)?(s=N,F(z)):Jn(z)?(t.consume(z),N):U(z)}function D(z){return z===45||z===46||z===58||z===95||zs(z)?(t.consume(z),D):P(z)}function P(z){return z===61?(t.consume(z),B):hn(z)?(s=P,F(z)):Jn(z)?(t.consume(z),P):N(z)}function B(z){return z===null||z===60||z===61||z===62||z===96?n(z):z===34||z===39?(t.consume(z),r=z,G):hn(z)?(s=B,F(z)):Jn(z)?(t.consume(z),B):(t.consume(z),H)}function G(z){return z===r?(t.consume(z),r=void 0,V):z===null?n(z):hn(z)?(s=G,F(z)):(t.consume(z),G)}function H(z){return z===null||z===34||z===39||z===60||z===61||z===96?n(z):z===47||z===62||Ri(z)?N(z):(t.consume(z),H)}function V(z){return z===47||z===62||Ri(z)?N(z):n(z)}function U(z){return z===62?(t.consume(z),t.exit("htmlTextData"),t.exit("htmlText"),e):n(z)}function F(z){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(z),t.exit("lineEnding"),q}function q(z){return Jn(z)?bi(t,X,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):X(z)}function X(z){return t.enter("htmlTextData"),s(z)}}const eU={name:"labelEnd",resolveAll:LRe,resolveTo:PRe,tokenize:URe},NRe={tokenize:FRe},IRe={tokenize:zRe},ORe={tokenize:jRe};function LRe(t){let e=-1;const n=[];for(;++e<t.length;){const i=t[e][1];if(n.push(t[e]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const r=i.type==="labelImage"?4:2;i.type="data",e+=r}}return t.length!==n.length&&pl(t,0,t.length,n),t}function PRe(t,e){let n=t.length,i=0,r,a,s,o;for(;n--;)if(r=t[n][1],a){if(r.type==="link"||r.type==="labelLink"&&r._inactive)break;t[n][0]==="enter"&&r.type==="labelLink"&&(r._inactive=!0)}else if(s){if(t[n][0]==="enter"&&(r.type==="labelImage"||r.type==="labelLink")&&!r._balanced&&(a=n,r.type!=="labelLink")){i=2;break}}else r.type==="labelEnd"&&(s=n);const l={type:t[a][1].type==="labelLink"?"link":"image",start:{...t[a][1].start},end:{...t[t.length-1][1].end}},c={type:"label",start:{...t[a][1].start},end:{...t[s][1].end}},u={type:"labelText",start:{...t[a+i+2][1].end},end:{...t[s-2][1].start}};return o=[["enter",l,e],["enter",c,e]],o=Jl(o,t.slice(a+1,a+i+3)),o=Jl(o,[["enter",u,e]]),o=Jl(o,QC(e.parser.constructs.insideSpan.null,t.slice(a+i+4,s-3),e)),o=Jl(o,[["exit",u,e],t[s-2],t[s-1],["exit",c,e]]),o=Jl(o,t.slice(s+1)),o=Jl(o,[["exit",l,e]]),pl(t,a,t.length,o),t}function URe(t,e,n){const i=this;let r=i.events.length,a,s;for(;r--;)if((i.events[r][1].type==="labelImage"||i.events[r][1].type==="labelLink")&&!i.events[r][1]._balanced){a=i.events[r][1];break}return o;function o(h){return a?a._inactive?f(h):(s=i.parser.defined.includes(ru(i.sliceSerialize({start:a.end,end:i.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelEnd"),l):n(h)}function l(h){return h===40?t.attempt(NRe,u,s?u:f)(h):h===91?t.attempt(IRe,u,s?c:f)(h):s?u(h):f(h)}function c(h){return t.attempt(ORe,u,f)(h)}function u(h){return e(h)}function f(h){return a._balanced=!0,n(h)}}function FRe(t,e,n){return i;function i(f){return t.enter("resource"),t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),r}function r(f){return Ri(f)?Zx(t,a)(f):a(f)}function a(f){return f===41?u(f):CZ(t,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function s(f){return Ri(f)?Zx(t,l)(f):u(f)}function o(f){return n(f)}function l(f){return f===34||f===39||f===40?kZ(t,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):u(f)}function c(f){return Ri(f)?Zx(t,u)(f):u(f)}function u(f){return f===41?(t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),t.exit("resource"),e):n(f)}}function zRe(t,e,n){const i=this;return r;function r(o){return RZ.call(i,t,a,s,"reference","referenceMarker","referenceString")(o)}function a(o){return i.parser.defined.includes(ru(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?e(o):n(o)}function s(o){return n(o)}}function jRe(t,e,n){return i;function i(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),r}function r(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}const BRe={name:"labelStartImage",resolveAll:eU.resolveAll,tokenize:HRe};function HRe(t,e,n){const i=this;return r;function r(o){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(o),t.exit("labelImageMarker"),a}function a(o){return o===91?(t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelImage"),s):n(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(o):e(o)}}const VRe={name:"labelStartLink",resolveAll:eU.resolveAll,tokenize:GRe};function GRe(t,e,n){const i=this;return r;function r(s){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(s):e(s)}}const l8={name:"lineEnding",tokenize:WRe};function WRe(t,e){return n;function n(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),bi(t,e,"linePrefix")}}const KE={name:"thematicBreak",tokenize:qRe};function qRe(t,e,n){let i=0,r;return a;function a(c){return t.enter("thematicBreak"),s(c)}function s(c){return r=c,o(c)}function o(c){return c===r?(t.enter("thematicBreakSequence"),l(c)):i>=3&&(c===null||hn(c))?(t.exit("thematicBreak"),e(c)):n(c)}function l(c){return c===r?(t.consume(c),i++,l):(t.exit("thematicBreakSequence"),Jn(c)?bi(t,o,"whitespace")(c):o(c))}}const So={continuation:{tokenize:JRe},exit:ZRe,name:"list",tokenize:YRe},XRe={partial:!0,tokenize:QRe},KRe={partial:!0,tokenize:$Re};function YRe(t,e,n){const i=this,r=i.events[i.events.length-1];let a=r&&r[1].type==="linePrefix"?r[2].sliceSerialize(r[1],!0).length:0,s=0;return o;function o(d){const b=i.containerState.type||(d===42||d===43||d===45?"listUnordered":"listOrdered");if(b==="listUnordered"?!i.containerState.marker||d===i.containerState.marker:GN(d)){if(i.containerState.type||(i.containerState.type=b,t.enter(b,{_container:!0})),b==="listUnordered")return t.enter("listItemPrefix"),d===42||d===45?t.check(KE,n,c)(d):c(d);if(!i.interrupt||d===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(d)}return n(d)}function l(d){return GN(d)&&++s<10?(t.consume(d),l):(!i.interrupt||s<2)&&(i.containerState.marker?d===i.containerState.marker:d===41||d===46)?(t.exit("listItemValue"),c(d)):n(d)}function c(d){return t.enter("listItemMarker"),t.consume(d),t.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||d,t.check(Xy,i.interrupt?n:u,t.attempt(XRe,h,f))}function u(d){return i.containerState.initialBlankLine=!0,a++,h(d)}function f(d){return Jn(d)?(t.enter("listItemPrefixWhitespace"),t.consume(d),t.exit("listItemPrefixWhitespace"),h):n(d)}function h(d){return i.containerState.size=a+i.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(d)}}function JRe(t,e,n){const i=this;return i.containerState._closeFlow=void 0,t.check(Xy,r,a);function r(o){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,bi(t,e,"listItemIndent",i.containerState.size+1)(o)}function a(o){return i.containerState.furtherBlankLines||!Jn(o)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,s(o)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,t.attempt(KRe,e,s)(o))}function s(o){return i.containerState._closeFlow=!0,i.interrupt=void 0,bi(t,t.attempt(So,e,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function $Re(t,e,n){const i=this;return bi(t,r,"listItemIndent",i.containerState.size+1);function r(a){const s=i.events[i.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===i.containerState.size?e(a):n(a)}}function ZRe(t){t.exit(this.containerState.type)}function QRe(t,e,n){const i=this;return bi(t,r,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function r(a){const s=i.events[i.events.length-1];return!Jn(a)&&s&&s[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}const b6={name:"setextUnderline",resolveTo:e3e,tokenize:t3e};function e3e(t,e){let n=t.length,i,r,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){i=n;break}t[n][1].type==="paragraph"&&(r=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);const s={type:"setextHeading",start:{...t[i][1].start},end:{...t[t.length-1][1].end}};return t[r][1].type="setextHeadingText",a?(t.splice(r,0,["enter",s,e]),t.splice(a+1,0,["exit",t[i][1],e]),t[i][1].end={...t[a][1].end}):t[i][1]=s,t.push(["exit",s,e]),t}function t3e(t,e,n){const i=this;let r;return a;function a(c){let u=i.events.length,f;for(;u--;)if(i.events[u][1].type!=="lineEnding"&&i.events[u][1].type!=="linePrefix"&&i.events[u][1].type!=="content"){f=i.events[u][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||f)?(t.enter("setextHeadingLine"),r=c,s(c)):n(c)}function s(c){return t.enter("setextHeadingLineSequence"),o(c)}function o(c){return c===r?(t.consume(c),o):(t.exit("setextHeadingLineSequence"),Jn(c)?bi(t,l,"lineSuffix")(c):l(c))}function l(c){return c===null||hn(c)?(t.exit("setextHeadingLine"),e(c)):n(c)}}const n3e={tokenize:a3e,partial:!0},y6="https://github.com/micromark/micromark-extension-mdxjs-esm",i3e=new Set(["ExportAllDeclaration","ExportDefaultDeclaration","ExportNamedDeclaration","ImportDeclaration"]);function r3e(t){const e={tokenize:r,concrete:!0};if(!t||!t.acorn||!t.acorn.parse)throw new Error("Expected an `acorn` instance passed in as `options.acorn`");const n=t.acorn,i=Object.assign({ecmaVersion:2024,sourceType:"module"},t.acornOptions,{locations:!0});return{flow:{101:e,105:e}};function r(a,s,o){const l=this,c=l.parser.definedModuleSpecifiers||(l.parser.definedModuleSpecifiers=[]),u=this.events.length+1;let f="";return l.interrupt?o:h;function h(x){return l.now().column>1?o(x):(a.enter("mdxjsEsm"),a.enter("mdxjsEsmData"),a.consume(x),f+=String.fromCharCode(x),d)}function d(x){return Ps(x)?(a.consume(x),f+=String.fromCharCode(x),d):(f==="import"||f==="export")&&x===32?(a.consume(x),b):o(x)}function b(x){return x===null||hn(x)?(a.exit("mdxjsEsmData"),y(x)):(a.consume(x),b)}function y(x){return x===null?m(x):hn(x)?a.check(n3e,m,v)(x):(a.enter("mdxjsEsmData"),b(x))}function v(x){return a.enter("lineEnding"),a.consume(x),a.exit("lineEnding"),y}function m(x){const _=SZ(l.events.slice(u),{acorn:n,acornOptions:i,tokenTypes:["mdxjsEsmData"],prefix:c.length>0?"var "+c.join(",")+`
`:""});if(_.error){if(x!==null&&_.swallow)return v(x);const A=new Vi("Could not parse import/exports with acorn",{cause:_.error,place:{line:_.error.loc.line,column:_.error.loc.column+1,offset:_.error.pos},ruleId:"acorn",source:"micromark-extension-mdxjs-esm"});throw A.url=y6+"#could-not-parse-importexports-with-acorn",A}c.length>0&&_.estree.body.shift();let E=-1;for(;++E<_.estree.body.length;){const A=_.estree.body[E];if(!i3e.has(A.type)){const w=new Vi("Unexpected `"+A.type+"` in code: only import/exports are supported",{place:qf(A),ruleId:"non-esm",source:"micromark-extension-mdxjs-esm"});throw w.url=y6+"#unexpected-type-in-code-only-importexports-are-supported",w}if(A.type==="ImportDeclaration"&&!l.interrupt){let w=-1;for(;++w<A.specifiers.length;){const T=A.specifiers[w];c.push(T.local.name)}}}return Object.assign(a.exit("mdxjsEsm"),t.addResult?{estree:_.estree}:void 0),s(x)}}}function a3e(t,e,n){return i;function i(r){return t.enter("lineEndingBlank"),t.consume(r),t.exit("lineEndingBlank"),t.attempt(Xy,e,n)}}const v6={}.hasOwnProperty;function tU(t){const e={};let n=-1;for(;++n<t.length;)s3e(e,t[n]);return e}function s3e(t,e){let n;for(n in e){const r=(v6.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n];let s;if(a)for(s in a){v6.call(r,s)||(r[s]=[]);const o=a[s];o3e(r[s],Array.isArray(o)?o:o?[o]:[])}}}function o3e(t,e){let n=-1;const i=[];for(;++n<e.length;)(e[n].add==="after"?t:i).push(e[n]);pl(t,0,0,i)}function l3e(t){const e=Object.assign({acorn:y2e.Parser.extend(Q$()),acornOptions:{ecmaVersion:2024,sourceType:"module"},addResult:!0},t);return tU([r3e(e),L2e(e),z2e(e),j2e()])}const c3e={};function u3e(t){const e=this,n=t||c3e,i=e.data(),r=i.micromarkExtensions||(i.micromarkExtensions=[]),a=i.fromMarkdownExtensions||(i.fromMarkdownExtensions=[]),s=i.toMarkdownExtensions||(i.toMarkdownExtensions=[]);r.push(l3e(n)),a.push(g2e()),s.push(b2e(n))}const f3e={};function nU(t,e){const n=f3e,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,r=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return DZ(t,i,r)}function DZ(t,e,n){if(h3e(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return x6(t.children,e,n)}return Array.isArray(t)?x6(t,e,n):""}function x6(t,e,n){const i=[];let r=-1;for(;++r<t.length;)i[r]=DZ(t[r],e,n);return i.join("")}function h3e(t){return!!(t&&typeof t=="object")}function NZ(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Ky(t){const e=[];let n=-1,i=0,r=0;for(;++n<t.length;){const a=t.charCodeAt(n);let s="";if(a===37&&zs(t.charCodeAt(n+1))&&zs(t.charCodeAt(n+2)))r=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const o=t.charCodeAt(n+1);a<56320&&o>56319&&o<57344?(s=String.fromCharCode(a,o),r=1):s=""}else s=String.fromCharCode(a);s&&(e.push(t.slice(i,n),encodeURIComponent(s)),i=n+r+1,s=""),r&&(n+=r,r=0)}return e.join("")+t.slice(i)}const d3e={tokenize:p3e};function p3e(t){const e=t.attempt(this.parser.constructs.contentInitial,i,r);let n;return e;function i(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),bi(t,e,"linePrefix")}function r(o){return t.enter("paragraph"),a(o)}function a(o){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(o)}function s(o){if(o===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(o);return}return hn(o)?(t.consume(o),t.exit("chunkText"),a):(t.consume(o),s)}}const m3e={tokenize:g3e},_6={tokenize:b3e};function g3e(t){const e=this,n=[];let i=0,r,a,s;return o;function o(_){if(i<n.length){const E=n[i];return e.containerState=E[1],t.attempt(E[0].continuation,l,c)(_)}return c(_)}function l(_){if(i++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,r&&x();const E=e.events.length;let A=E,w;for(;A--;)if(e.events[A][0]==="exit"&&e.events[A][1].type==="chunkFlow"){w=e.events[A][1].end;break}m(i);let T=E;for(;T<e.events.length;)e.events[T][1].end={...w},T++;return pl(e.events,A+1,0,e.events.slice(E)),e.events.length=T,c(_)}return o(_)}function c(_){if(i===n.length){if(!r)return h(_);if(r.currentConstruct&&r.currentConstruct.concrete)return b(_);e.interrupt=!!(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(_6,u,f)(_)}function u(_){return r&&x(),m(i),h(_)}function f(_){return e.parser.lazy[e.now().line]=i!==n.length,s=e.now().offset,b(_)}function h(_){return e.containerState={},t.attempt(_6,d,b)(_)}function d(_){return i++,n.push([e.currentConstruct,e.containerState]),h(_)}function b(_){if(_===null){r&&x(),m(0),t.consume(_);return}return r=r||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:a}),y(_)}function y(_){if(_===null){v(t.exit("chunkFlow"),!0),m(0),t.consume(_);return}return hn(_)?(t.consume(_),v(t.exit("chunkFlow")),i=0,e.interrupt=void 0,o):(t.consume(_),y)}function v(_,E){const A=e.sliceStream(_);if(E&&A.push(null),_.previous=a,a&&(a.next=_),a=_,r.defineSkip(_.start),r.write(A),e.parser.lazy[_.start.line]){let w=r.events.length;for(;w--;)if(r.events[w][1].start.offset<s&&(!r.events[w][1].end||r.events[w][1].end.offset>s))return;const T=e.events.length;let k=T,N,D;for(;k--;)if(e.events[k][0]==="exit"&&e.events[k][1].type==="chunkFlow"){if(N){D=e.events[k][1].end;break}N=!0}for(m(i),w=T;w<e.events.length;)e.events[w][1].end={...D},w++;pl(e.events,k+1,0,e.events.slice(T)),e.events.length=w}}function m(_){let E=n.length;for(;E-- >_;){const A=n[E];e.containerState=A[1],A[0].exit.call(e,t)}n.length=_}function x(){r.write([null]),a=void 0,r=void 0,e.containerState._closeFlow=void 0}}function b3e(t,e,n){return bi(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}const y3e={tokenize:v3e};function v3e(t){const e=this,n=t.attempt(Xy,i,t.attempt(this.parser.constructs.flowInitial,r,bi(t,t.attempt(this.parser.constructs.flow,r,t.attempt(lRe,r)),"linePrefix")));return n;function i(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function r(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const x3e={resolveAll:OZ()},_3e=IZ("string"),S3e=IZ("text");function IZ(t){return{resolveAll:OZ(t==="text"?w3e:void 0),tokenize:e};function e(n){const i=this,r=this.parser.constructs[t],a=n.attempt(r,s,o);return s;function s(u){return c(u)?a(u):o(u)}function o(u){if(u===null){n.consume(u);return}return n.enter("data"),n.consume(u),l}function l(u){return c(u)?(n.exit("data"),a(u)):(n.consume(u),l)}function c(u){if(u===null)return!0;const f=r[u];let h=-1;if(f)for(;++h<f.length;){const d=f[h];if(!d.previous||d.previous.call(i,i.previous))return!0}return!1}}}function OZ(t){return e;function e(n,i){let r=-1,a;for(;++r<=n.length;)a===void 0?n[r]&&n[r][1].type==="data"&&(a=r,r++):(!n[r]||n[r][1].type!=="data")&&(r!==a+2&&(n[a][1].end=n[r-1][1].end,n.splice(a+2,r-a-2),r=a+2),a=void 0);return t?t(n,i):n}}function w3e(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const i=t[n-1][1],r=e.sliceStream(i);let a=r.length,s=-1,o=0,l;for(;a--;){const c=r[a];if(typeof c=="string"){for(s=c.length;c.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(c===-2)l=!0,o++;else if(c!==-1){a++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(o=0),o){const c={type:n===t.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:i.start._bufferIndex+s,_index:i.start._index+a,line:i.end.line,column:i.end.column-o,offset:i.end.offset-o},end:{...i.end}};i.end={...c.start},i.start.offset===i.end.offset?Object.assign(i,c):(t.splice(n,0,["enter",c,e],["exit",c,e]),n+=2)}n++}return t}const E3e={42:So,43:So,45:So,48:So,49:So,50:So,51:So,52:So,53:So,54:So,55:So,56:So,57:So,62:EZ},M3e={91:dRe},A3e={[-2]:o8,[-1]:o8,32:o8},T3e={35:vRe,42:KE,45:[b6,KE],60:wRe,61:b6,95:KE,96:m6,126:m6},C3e={38:AZ,92:MZ},R3e={[-5]:l8,[-4]:l8,[-3]:l8,33:BRe,38:AZ,42:WN,60:[V2e,kRe],91:VRe,92:[bRe,MZ],93:eU,95:WN,96:nRe},k3e={null:[WN,x3e]},D3e={null:[42,95]},N3e={null:[]},I3e=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:D3e,contentInitial:M3e,disable:N3e,document:E3e,flow:T3e,flowInitial:A3e,insideSpan:k3e,string:C3e,text:R3e},Symbol.toStringTag,{value:"Module"}));function O3e(t,e,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const r={},a=[];let s=[],o=[];const l={attempt:T(A),check:T(w),consume:x,enter:_,exit:E,interrupt:T(w,{interrupt:!0})},c={code:null,containerState:{},defineSkip:y,events:[],now:b,parser:t,previous:null,sliceSerialize:h,sliceStream:d,write:f};let u=e.tokenize.call(c,l);return e.resolveAll&&a.push(e),c;function f(P){return s=Jl(s,P),v(),s[s.length-1]!==null?[]:(k(e,0),c.events=QC(a,c.events,c),c.events)}function h(P,B){return P3e(d(P),B)}function d(P){return L3e(s,P)}function b(){const{_bufferIndex:P,_index:B,line:G,column:H,offset:V}=i;return{_bufferIndex:P,_index:B,line:G,column:H,offset:V}}function y(P){r[P.line]=P.column,D()}function v(){let P;for(;i._index<s.length;){const B=s[i._index];if(typeof B=="string")for(P=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===P&&i._bufferIndex<B.length;)m(B.charCodeAt(i._bufferIndex));else m(B)}}function m(P){u=u(P)}function x(P){hn(P)?(i.line++,i.column=1,i.offset+=P===-3?2:1,D()):P!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===s[i._index].length&&(i._bufferIndex=-1,i._index++)),c.previous=P}function _(P,B){const G=B||{};return G.type=P,G.start=b(),c.events.push(["enter",G,c]),o.push(G),G}function E(P){const B=o.pop();return B.end=b(),c.events.push(["exit",B,c]),B}function A(P,B){k(P,B.from)}function w(P,B){B.restore()}function T(P,B){return G;function G(H,V,U){let F,q,X,z;return Array.isArray(H)?fe(H):"tokenize"in H?fe([H]):oe(H);function oe(pe){return xe;function xe(Oe){const Ge=Oe!==null&&pe[Oe],Ye=Oe!==null&&pe.null,ct=[...Array.isArray(Ge)?Ge:Ge?[Ge]:[],...Array.isArray(Ye)?Ye:Ye?[Ye]:[]];return fe(ct)(Oe)}}function fe(pe){return F=pe,q=0,pe.length===0?U:K(pe[q])}function K(pe){return xe;function xe(Oe){return z=N(),X=pe,pe.partial||(c.currentConstruct=pe),pe.name&&c.parser.constructs.disable.null.includes(pe.name)?_e():pe.tokenize.call(B?Object.assign(Object.create(c),B):c,l,Me,_e)(Oe)}}function Me(pe){return P(X,z),V}function _e(pe){return z.restore(),++q<F.length?K(F[q]):U}}}function k(P,B){P.resolveAll&&!a.includes(P)&&a.push(P),P.resolve&&pl(c.events,B,c.events.length-B,P.resolve(c.events.slice(B),c)),P.resolveTo&&(c.events=P.resolveTo(c.events,c))}function N(){const P=b(),B=c.previous,G=c.currentConstruct,H=c.events.length,V=Array.from(o);return{from:H,restore:U};function U(){i=P,c.previous=B,c.currentConstruct=G,c.events.length=H,o=V,D()}}function D(){i.line in r&&i.column<2&&(i.column=r[i.line],i.offset+=r[i.line]-1)}}function L3e(t,e){const n=e.start._index,i=e.start._bufferIndex,r=e.end._index,a=e.end._bufferIndex;let s;if(n===r)s=[t[n].slice(i,a)];else{if(s=t.slice(n,r),i>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(i):s.shift()}a>0&&s.push(t[r].slice(0,a))}return s}function P3e(t,e){let n=-1;const i=[];let r;for(;++n<t.length;){const a=t[n];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=e?" ":"	";break}case-1:{if(!e&&r)continue;s=" ";break}default:s=String.fromCharCode(a)}r=a===-2,i.push(s)}return i.join("")}function U3e(t){const i={constructs:tU([I3e,...(t||{}).extensions||[]]),content:r(d3e),defined:[],document:r(m3e),flow:r(y3e),lazy:{},string:r(_3e),text:r(S3e)};return i;function r(a){return s;function s(o){return O3e(i,a,o)}}}function F3e(t){for(;!TZ(t););return t}const S6=/[\0\t\n\r]/g;function z3e(){let t=1,e="",n=!0,i;return r;function r(a,s,o){const l=[];let c,u,f,h,d;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),f=0,e="",n&&(a.charCodeAt(0)===65279&&f++,n=void 0);f<a.length;){if(S6.lastIndex=f,c=S6.exec(a),h=c&&c.index!==void 0?c.index:a.length,d=a.charCodeAt(h),!c){e=a.slice(f);break}if(d===10&&f===h&&i)l.push(-3),i=void 0;else switch(i&&(l.push(-5),i=void 0),f<h&&(l.push(a.slice(f,h)),t+=h-f),d){case 0:{l.push(65533),t++;break}case 9:{for(u=Math.ceil(t/4)*4,l.push(-2);t++<u;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:i=!0,t=1}f=h+1}return o&&(i&&l.push(-5),e&&l.push(e),l.push(null)),l}}const j3e=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function B3e(t){return t.replace(j3e,H3e)}function H3e(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const r=n.charCodeAt(1),a=r===120||r===88;return NZ(n.slice(a?2:1),a?16:10)}return U1(n)||t}const LZ={}.hasOwnProperty;function V3e(t,e,n){return typeof e!="string"&&(n=e,e=void 0),G3e(n)(F3e(U3e(n).document().write(z3e()(t,e,!0))))}function G3e(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(Ne),autolinkProtocol:N,autolinkEmail:N,atxHeading:a(Be),blockQuote:a(Ye),characterEscape:N,characterReference:N,codeFenced:a(ct),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(ct,s),codeText:a(Tt,s),codeTextData:N,data:N,codeFlowValue:N,definition:a(he),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a(Ve),hardBreakEscape:a(ot),hardBreakTrailing:a(ot),htmlFlow:a(Ae,s),htmlFlowData:N,htmlText:a(Ae,s),htmlTextData:N,image:a(Ue),label:s,link:a(Ne),listItem:a(Et),listItemValue:h,listOrdered:a(We,f),listUnordered:a(We),paragraph:a(vt),reference:K,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(Be),strong:a(re),thematicBreak:a(ue)},exit:{atxHeading:l(),atxHeadingSequence:A,autolink:l(),autolinkEmail:Ge,autolinkProtocol:Oe,blockQuote:l(),characterEscapeValue:D,characterReferenceMarkerHexadecimal:_e,characterReferenceMarkerNumeric:_e,characterReferenceValue:pe,characterReference:xe,codeFenced:l(v),codeFencedFence:y,codeFencedFenceInfo:d,codeFencedFenceMeta:b,codeFlowValue:D,codeIndented:l(m),codeText:l(V),codeTextData:D,data:D,definition:l(),definitionDestinationString:E,definitionLabelString:x,definitionTitleString:_,emphasis:l(),hardBreakEscape:l(B),hardBreakTrailing:l(B),htmlFlow:l(G),htmlFlowData:D,htmlText:l(H),htmlTextData:D,image:l(F),label:X,labelText:q,lineEnding:P,link:l(U),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:Me,resourceDestinationString:z,resourceTitleString:oe,resource:fe,setextHeading:l(k),setextHeadingLineSequence:T,setextHeadingText:w,strong:l(),thematicBreak:l()}};PZ(e,(t||{}).mdastExtensions||[]);const n={};return i;function i(se){let be={type:"root",children:[]};const $={stack:[be],tokenStack:[],config:e,enter:o,exit:c,buffer:s,resume:u,data:n},Ke=[];let tt=-1;for(;++tt<se.length;)if(se[tt][1].type==="listOrdered"||se[tt][1].type==="listUnordered")if(se[tt][0]==="enter")Ke.push(tt);else{const pt=Ke.pop();tt=r(se,pt,tt)}for(tt=-1;++tt<se.length;){const pt=e[se[tt][0]];LZ.call(pt,se[tt][1].type)&&pt[se[tt][1].type].call(Object.assign({sliceSerialize:se[tt][2].sliceSerialize},$),se[tt][1])}if($.tokenStack.length>0){const pt=$.tokenStack[$.tokenStack.length-1];(pt[1]||w6).call($,void 0,pt[0])}for(be.position={start:Yh(se.length>0?se[0][1].start:{line:1,column:1,offset:0}),end:Yh(se.length>0?se[se.length-2][1].end:{line:1,column:1,offset:0})},tt=-1;++tt<e.transforms.length;)be=e.transforms[tt](be)||be;return be}function r(se,be,$){let Ke=be-1,tt=-1,pt=!1,ze,rt,$e,Xt;for(;++Ke<=$;){const Ot=se[Ke];switch(Ot[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ot[0]==="enter"?tt++:tt--,Xt=void 0;break}case"lineEndingBlank":{Ot[0]==="enter"&&(ze&&!Xt&&!tt&&!$e&&($e=Ke),Xt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Xt=void 0}if(!tt&&Ot[0]==="enter"&&Ot[1].type==="listItemPrefix"||tt===-1&&Ot[0]==="exit"&&(Ot[1].type==="listUnordered"||Ot[1].type==="listOrdered")){if(ze){let ft=Ke;for(rt=void 0;ft--;){const jt=se[ft];if(jt[1].type==="lineEnding"||jt[1].type==="lineEndingBlank"){if(jt[0]==="exit")continue;rt&&(se[rt][1].type="lineEndingBlank",pt=!0),jt[1].type="lineEnding",rt=ft}else if(!(jt[1].type==="linePrefix"||jt[1].type==="blockQuotePrefix"||jt[1].type==="blockQuotePrefixWhitespace"||jt[1].type==="blockQuoteMarker"||jt[1].type==="listItemIndent"))break}$e&&(!rt||$e<rt)&&(ze._spread=!0),ze.end=Object.assign({},rt?se[rt][1].start:Ot[1].end),se.splice(rt||Ke,0,["exit",ze,Ot[2]]),Ke++,$++}if(Ot[1].type==="listItemPrefix"){const ft={type:"listItem",_spread:!1,start:Object.assign({},Ot[1].start),end:void 0};ze=ft,se.splice(Ke,0,["enter",ft,Ot[2]]),Ke++,$++,$e=void 0,Xt=!0}}}return se[be][1]._spread=pt,$}function a(se,be){return $;function $(Ke){o.call(this,se(Ke),Ke),be&&be.call(this,Ke)}}function s(){this.stack.push({type:"fragment",children:[]})}function o(se,be,$){this.stack[this.stack.length-1].children.push(se),this.stack.push(se),this.tokenStack.push([be,$||void 0]),se.position={start:Yh(be.start),end:void 0}}function l(se){return be;function be($){se&&se.call(this,$),c.call(this,$)}}function c(se,be){const $=this.stack.pop(),Ke=this.tokenStack.pop();if(Ke)Ke[0].type!==se.type&&(be?be.call(this,se,Ke[0]):(Ke[1]||w6).call(this,se,Ke[0]));else throw new Error("Cannot close `"+se.type+"` ("+sc({start:se.start,end:se.end})+"): its not open");$.position.end=Yh(se.end)}function u(){return nU(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function h(se){if(this.data.expectingFirstListItemValue){const be=this.stack[this.stack.length-2];be.start=Number.parseInt(this.sliceSerialize(se),10),this.data.expectingFirstListItemValue=void 0}}function d(){const se=this.resume(),be=this.stack[this.stack.length-1];be.lang=se}function b(){const se=this.resume(),be=this.stack[this.stack.length-1];be.meta=se}function y(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function v(){const se=this.resume(),be=this.stack[this.stack.length-1];be.value=se.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function m(){const se=this.resume(),be=this.stack[this.stack.length-1];be.value=se.replace(/(\r?\n|\r)$/g,"")}function x(se){const be=this.resume(),$=this.stack[this.stack.length-1];$.label=be,$.identifier=ru(this.sliceSerialize(se)).toLowerCase()}function _(){const se=this.resume(),be=this.stack[this.stack.length-1];be.title=se}function E(){const se=this.resume(),be=this.stack[this.stack.length-1];be.url=se}function A(se){const be=this.stack[this.stack.length-1];if(!be.depth){const $=this.sliceSerialize(se).length;be.depth=$}}function w(){this.data.setextHeadingSlurpLineEnding=!0}function T(se){const be=this.stack[this.stack.length-1];be.depth=this.sliceSerialize(se).codePointAt(0)===61?1:2}function k(){this.data.setextHeadingSlurpLineEnding=void 0}function N(se){const $=this.stack[this.stack.length-1].children;let Ke=$[$.length-1];(!Ke||Ke.type!=="text")&&(Ke=J(),Ke.position={start:Yh(se.start),end:void 0},$.push(Ke)),this.stack.push(Ke)}function D(se){const be=this.stack.pop();be.value+=this.sliceSerialize(se),be.position.end=Yh(se.end)}function P(se){const be=this.stack[this.stack.length-1];if(this.data.atHardBreak){const $=be.children[be.children.length-1];$.position.end=Yh(se.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(be.type)&&(N.call(this,se),D.call(this,se))}function B(){this.data.atHardBreak=!0}function G(){const se=this.resume(),be=this.stack[this.stack.length-1];be.value=se}function H(){const se=this.resume(),be=this.stack[this.stack.length-1];be.value=se}function V(){const se=this.resume(),be=this.stack[this.stack.length-1];be.value=se}function U(){const se=this.stack[this.stack.length-1];if(this.data.inReference){const be=this.data.referenceType||"shortcut";se.type+="Reference",se.referenceType=be,delete se.url,delete se.title}else delete se.identifier,delete se.label;this.data.referenceType=void 0}function F(){const se=this.stack[this.stack.length-1];if(this.data.inReference){const be=this.data.referenceType||"shortcut";se.type+="Reference",se.referenceType=be,delete se.url,delete se.title}else delete se.identifier,delete se.label;this.data.referenceType=void 0}function q(se){const be=this.sliceSerialize(se),$=this.stack[this.stack.length-2];$.label=B3e(be),$.identifier=ru(be).toLowerCase()}function X(){const se=this.stack[this.stack.length-1],be=this.resume(),$=this.stack[this.stack.length-1];if(this.data.inReference=!0,$.type==="link"){const Ke=se.children;$.children=Ke}else $.alt=be}function z(){const se=this.resume(),be=this.stack[this.stack.length-1];be.url=se}function oe(){const se=this.resume(),be=this.stack[this.stack.length-1];be.title=se}function fe(){this.data.inReference=void 0}function K(){this.data.referenceType="collapsed"}function Me(se){const be=this.resume(),$=this.stack[this.stack.length-1];$.label=be,$.identifier=ru(this.sliceSerialize(se)).toLowerCase(),this.data.referenceType="full"}function _e(se){this.data.characterReferenceType=se.type}function pe(se){const be=this.sliceSerialize(se),$=this.data.characterReferenceType;let Ke;$?(Ke=NZ(be,$==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ke=U1(be);const tt=this.stack[this.stack.length-1];tt.value+=Ke}function xe(se){const be=this.stack.pop();be.position.end=Yh(se.end)}function Oe(se){D.call(this,se);const be=this.stack[this.stack.length-1];be.url=this.sliceSerialize(se)}function Ge(se){D.call(this,se);const be=this.stack[this.stack.length-1];be.url="mailto:"+this.sliceSerialize(se)}function Ye(){return{type:"blockquote",children:[]}}function ct(){return{type:"code",lang:null,meta:null,value:""}}function Tt(){return{type:"inlineCode",value:""}}function he(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ve(){return{type:"emphasis",children:[]}}function Be(){return{type:"heading",depth:0,children:[]}}function ot(){return{type:"break"}}function Ae(){return{type:"html",value:""}}function Ue(){return{type:"image",title:null,url:"",alt:null}}function Ne(){return{type:"link",title:null,url:"",children:[]}}function We(se){return{type:"list",ordered:se.type==="listOrdered",start:null,spread:se._spread,children:[]}}function Et(se){return{type:"listItem",spread:se._spread,checked:null,children:[]}}function vt(){return{type:"paragraph",children:[]}}function re(){return{type:"strong",children:[]}}function J(){return{type:"text",value:""}}function ue(){return{type:"thematicBreak"}}}function Yh(t){return{line:t.line,column:t.column,offset:t.offset}}function PZ(t,e){let n=-1;for(;++n<e.length;){const i=e[n];Array.isArray(i)?PZ(t,i):W3e(t,i)}}function W3e(t,e){let n;for(n in e)if(LZ.call(e,n))switch(n){case"canContainEols":{const i=e[n];i&&t[n].push(...i);break}case"transforms":{const i=e[n];i&&t[n].push(...i);break}case"enter":case"exit":{const i=e[n];i&&Object.assign(t[n],i);break}}}function w6(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+sc({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+sc({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+sc({start:e.start,end:e.end})+") is still open")}function q3e(t){const e=this;e.parser=n;function n(i){return V3e(i,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function X3e(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function K3e(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function Y3e(t,e){const n=e.value?e.value+`
`:"",i={};e.lang&&(i.className=["language-"+e.lang]);let r={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return e.meta&&(r.data={meta:e.meta}),t.patch(e,r),r=t.applyData(e,r),r={type:"element",tagName:"pre",properties:{},children:[r]},t.patch(e,r),r}function J3e(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function $3e(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Z3e(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",i=String(e.identifier).toUpperCase(),r=Ky(i.toLowerCase()),a=t.footnoteOrder.indexOf(i);let s,o=t.footnoteCounts.get(i);o===void 0?(o=0,t.footnoteOrder.push(i),s=t.footnoteOrder.length):s=a+1,o+=1,t.footnoteCounts.set(i,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+r,id:n+"fnref-"+r+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};t.patch(e,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,c),t.applyData(e,c)}function Q3e(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function eke(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function UZ(t,e){const n=e.referenceType;let i="]";if(n==="collapsed"?i+="[]":n==="full"&&(i+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+i}];const r=t.all(e),a=r[0];a&&a.type==="text"?a.value="["+a.value:r.unshift({type:"text",value:"["});const s=r[r.length-1];return s&&s.type==="text"?s.value+=i:r.push({type:"text",value:i}),r}function tke(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return UZ(t,e);const r={src:Ky(i.url||""),alt:e.alt};i.title!==null&&i.title!==void 0&&(r.title=i.title);const a={type:"element",tagName:"img",properties:r,children:[]};return t.patch(e,a),t.applyData(e,a)}function nke(t,e){const n={src:Ky(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,i),t.applyData(e,i)}function ike(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,i),t.applyData(e,i)}function rke(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return UZ(t,e);const r={href:Ky(i.url||"")};i.title!==null&&i.title!==void 0&&(r.title=i.title);const a={type:"element",tagName:"a",properties:r,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function ake(t,e){const n={href:Ky(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function ske(t,e,n){const i=t.all(e),r=n?oke(n):FZ(e),a={},s=[];if(typeof e.checked=="boolean"){const u=i[0];let f;u&&u.type==="element"&&u.tagName==="p"?f=u:(f={type:"element",tagName:"p",properties:{},children:[]},i.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<i.length;){const u=i[o];(r||o!==0||u.type!=="element"||u.tagName!=="p")&&s.push({type:"text",value:`
`}),u.type==="element"&&u.tagName==="p"&&!r?s.push(...u.children):s.push(u)}const l=i[i.length-1];l&&(r||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:a,children:s};return t.patch(e,c),t.applyData(e,c)}function oke(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let i=-1;for(;!e&&++i<n.length;)e=FZ(n[i])}return e}function FZ(t){const e=t.spread;return e??t.children.length>1}function lke(t,e){const n={},i=t.all(e);let r=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++r<i.length;){const s=i[r];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(i,!0)};return t.patch(e,a),t.applyData(e,a)}function cke(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function uke(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function fke(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function hke(t,e){const n=t.all(e),i=n.shift(),r=[];if(i){const s={type:"element",tagName:"thead",properties:{},children:t.wrap([i],!0)};t.patch(e.children[0],s),r.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},o=dZ(e.children[1]),l=hZ(e.children[e.children.length-1]);o&&l&&(s.position={start:o,end:l}),r.push(s)}const a={type:"element",tagName:"table",properties:{},children:t.wrap(r,!0)};return t.patch(e,a),t.applyData(e,a)}function dke(t,e,n){const i=n?n.children:void 0,a=(i?i.indexOf(e):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,o=s?s.length:e.children.length;let l=-1;const c=[];for(;++l<o;){const f=e.children[l],h={},d=s?s[l]:void 0;d&&(h.align=d);let b={type:"element",tagName:a,properties:h,children:[]};f&&(b.children=t.all(f),t.patch(f,b),b=t.applyData(f,b)),c.push(b)}const u={type:"element",tagName:"tr",properties:{},children:t.wrap(c,!0)};return t.patch(e,u),t.applyData(e,u)}function pke(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const E6=9,M6=32;function mke(t){const e=String(t),n=/\r?\n|\r/g;let i=n.exec(e),r=0;const a=[];for(;i;)a.push(A6(e.slice(r,i.index),r>0,!0),i[0]),r=i.index+i[0].length,i=n.exec(e);return a.push(A6(e.slice(r),r>0,!1)),a.join("")}function A6(t,e,n){let i=0,r=t.length;if(e){let a=t.codePointAt(i);for(;a===E6||a===M6;)i++,a=t.codePointAt(i)}if(n){let a=t.codePointAt(r-1);for(;a===E6||a===M6;)r--,a=t.codePointAt(r-1)}return r>i?t.slice(i,r):""}function gke(t,e){const n={type:"text",value:mke(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function bke(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const yke={blockquote:X3e,break:K3e,code:Y3e,delete:J3e,emphasis:$3e,footnoteReference:Z3e,heading:Q3e,html:eke,imageReference:tke,image:nke,inlineCode:ike,linkReference:rke,link:ake,listItem:ske,list:lke,paragraph:cke,root:uke,strong:fke,table:hke,tableCell:pke,tableRow:dke,text:gke,thematicBreak:bke,toml:eE,yaml:eE,definition:eE,footnoteDefinition:eE};function eE(){}const zZ=-1,e2=0,Qx=1,HA=2,iU=3,rU=4,aU=5,sU=6,jZ=7,BZ=8,T6=typeof self=="object"?self:globalThis,vke=(t,e)=>{const n=(r,a)=>(t.set(a,r),r),i=r=>{if(t.has(r))return t.get(r);const[a,s]=e[r];switch(a){case e2:case zZ:return n(s,r);case Qx:{const o=n([],r);for(const l of s)o.push(i(l));return o}case HA:{const o=n({},r);for(const[l,c]of s)o[i(l)]=i(c);return o}case iU:return n(new Date(s),r);case rU:{const{source:o,flags:l}=s;return n(new RegExp(o,l),r)}case aU:{const o=n(new Map,r);for(const[l,c]of s)o.set(i(l),i(c));return o}case sU:{const o=n(new Set,r);for(const l of s)o.add(i(l));return o}case jZ:{const{name:o,message:l}=s;return n(new T6[o](l),r)}case BZ:return n(BigInt(s),r);case"BigInt":return n(Object(BigInt(s)),r);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:o}=new Uint8Array(s);return n(new DataView(o),s)}}return n(new T6[a](s),r)};return i},C6=t=>vke(new Map,t)(0),Mb="",{toString:xke}={},{keys:_ke}=Object,Zv=t=>{const e=typeof t;if(e!=="object"||!t)return[e2,e];const n=xke.call(t).slice(8,-1);switch(n){case"Array":return[Qx,Mb];case"Object":return[HA,Mb];case"Date":return[iU,Mb];case"RegExp":return[rU,Mb];case"Map":return[aU,Mb];case"Set":return[sU,Mb];case"DataView":return[Qx,n]}return n.includes("Array")?[Qx,n]:n.includes("Error")?[jZ,n]:[HA,n]},tE=([t,e])=>t===e2&&(e==="function"||e==="symbol"),Ske=(t,e,n,i)=>{const r=(s,o)=>{const l=i.push(s)-1;return n.set(o,l),l},a=s=>{if(n.has(s))return n.get(s);let[o,l]=Zv(s);switch(o){case e2:{let u=s;switch(l){case"bigint":o=BZ,u=s.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);u=null;break;case"undefined":return r([zZ],s)}return r([o,u],s)}case Qx:{if(l){let h=s;return l==="DataView"?h=new Uint8Array(s.buffer):l==="ArrayBuffer"&&(h=new Uint8Array(s)),r([l,[...h]],s)}const u=[],f=r([o,u],s);for(const h of s)u.push(a(h));return f}case HA:{if(l)switch(l){case"BigInt":return r([l,s.toString()],s);case"Boolean":case"Number":case"String":return r([l,s.valueOf()],s)}if(e&&"toJSON"in s)return a(s.toJSON());const u=[],f=r([o,u],s);for(const h of _ke(s))(t||!tE(Zv(s[h])))&&u.push([a(h),a(s[h])]);return f}case iU:return r([o,s.toISOString()],s);case rU:{const{source:u,flags:f}=s;return r([o,{source:u,flags:f}],s)}case aU:{const u=[],f=r([o,u],s);for(const[h,d]of s)(t||!(tE(Zv(h))||tE(Zv(d))))&&u.push([a(h),a(d)]);return f}case sU:{const u=[],f=r([o,u],s);for(const h of s)(t||!tE(Zv(h)))&&u.push(a(h));return f}}const{message:c}=s;return r([o,{name:l,message:c}],s)};return a},R6=(t,{json:e,lossy:n}={})=>{const i=[];return Ske(!(e||n),!!e,new Map,i)(t),i},VA=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?C6(R6(t,e)):structuredClone(t):(t,e)=>C6(R6(t,e));function wke(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function Eke(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function Mke(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||wke,i=t.options.footnoteBackLabel||Eke,r=t.options.footnoteLabel||"Footnotes",a=t.options.footnoteLabelTagName||"h2",s=t.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<t.footnoteOrder.length;){const c=t.footnoteById.get(t.footnoteOrder[l]);if(!c)continue;const u=t.all(c),f=String(c.identifier).toUpperCase(),h=Ky(f.toLowerCase());let d=0;const b=[],y=t.footnoteCounts.get(f);for(;y!==void 0&&++d<=y;){b.length>0&&b.push({type:"text",value:" "});let x=typeof n=="string"?n:n(l,d);typeof x=="string"&&(x={type:"text",value:x}),b.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+h+(d>1?"-"+d:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(l,d),className:["data-footnote-backref"]},children:Array.isArray(x)?x:[x]})}const v=u[u.length-1];if(v&&v.type==="element"&&v.tagName==="p"){const x=v.children[v.children.length-1];x&&x.type==="text"?x.value+=" ":v.children.push({type:"text",value:" "}),v.children.push(...b)}else u.push(...b);const m={type:"element",tagName:"li",properties:{id:e+"fn-"+h},children:t.wrap(u,!0)};t.patch(c,m),o.push(m)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...VA(s),id:"footnote-label"},children:[{type:"text",value:r}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(o,!0)},{type:"text",value:`
`}]}}const t2=function(t){if(t==null)return Rke;if(typeof t=="function")return n2(t);if(typeof t=="object")return Array.isArray(t)?Ake(t):Tke(t);if(typeof t=="string")return Cke(t);throw new Error("Expected function, string, or object as test")};function Ake(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=t2(t[n]);return n2(i);function i(...r){let a=-1;for(;++a<e.length;)if(e[a].apply(this,r))return!0;return!1}}function Tke(t){const e=t;return n2(n);function n(i){const r=i;let a;for(a in t)if(r[a]!==e[a])return!1;return!0}}function Cke(t){return n2(e);function e(n){return n&&n.type===t}}function n2(t){return e;function e(n,i,r){return!!(kke(n)&&t.call(this,n,typeof i=="number"?i:void 0,r||void 0))}}function Rke(){return!0}function kke(t){return t!==null&&typeof t=="object"&&"type"in t}const HZ=[],Dke=!0,qN=!1,Nke="skip";function VZ(t,e,n,i){let r;typeof e=="function"&&typeof n!="function"?(i=n,n=e):r=e;const a=t2(r),s=i?-1:1;o(t,void 0,[])();function o(l,c,u){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const d=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(l.type+(d?"<"+d+">":""))+")"})}return h;function h(){let d=HZ,b,y,v;if((!e||a(l,c,u[u.length-1]||void 0))&&(d=Ike(n(l,u)),d[0]===qN))return d;if("children"in l&&l.children){const m=l;if(m.children&&d[0]!==Nke)for(y=(i?m.children.length:-1)+s,v=u.concat(m);y>-1&&y<m.children.length;){const x=m.children[y];if(b=o(x,y,v)(),b[0]===qN)return b;y=typeof b[1]=="number"?b[1]:y+s}}return d}}}function Ike(t){return Array.isArray(t)?t:typeof t=="number"?[Dke,t]:t==null?HZ:[t]}function z_(t,e,n,i){let r,a,s;typeof e=="function"&&typeof n!="function"?(a=void 0,s=e,r=n):(a=e,s=n,r=i),VZ(t,a,o,r);function o(l,c){const u=c[c.length-1],f=u?u.children.indexOf(l):void 0;return s(l,f,u)}}const XN={}.hasOwnProperty,Oke={};function Lke(t,e){const n=e||Oke,i=new Map,r=new Map,a=new Map,s={...yke,...n.handlers},o={all:c,applyData:Uke,definitionById:i,footnoteById:r,footnoteCounts:a,footnoteOrder:[],handlers:s,one:l,options:n,patch:Pke,wrap:zke};return z_(t,function(u){if(u.type==="definition"||u.type==="footnoteDefinition"){const f=u.type==="definition"?i:r,h=String(u.identifier).toUpperCase();f.has(h)||f.set(h,u)}}),o;function l(u,f){const h=u.type,d=o.handlers[h];if(XN.call(o.handlers,h)&&d)return d(o,u,f);if(o.options.passThrough&&o.options.passThrough.includes(h)){if("children"in u){const{children:y,...v}=u,m=VA(v);return m.children=o.all(u),m}return VA(u)}return(o.options.unknownHandler||Fke)(o,u,f)}function c(u){const f=[];if("children"in u){const h=u.children;let d=-1;for(;++d<h.length;){const b=o.one(h[d],u);if(b){if(d&&h[d-1].type==="break"&&(!Array.isArray(b)&&b.type==="text"&&(b.value=k6(b.value)),!Array.isArray(b)&&b.type==="element")){const y=b.children[0];y&&y.type==="text"&&(y.value=k6(y.value))}Array.isArray(b)?f.push(...b):f.push(b)}}}return f}}function Pke(t,e){t.position&&(e.position=mZ(t))}function Uke(t,e){let n=e;if(t&&t.data){const i=t.data.hName,r=t.data.hChildren,a=t.data.hProperties;if(typeof i=="string")if(n.type==="element")n.tagName=i;else{const s="children"in n?n.children:[n];n={type:"element",tagName:i,properties:{},children:s}}n.type==="element"&&a&&Object.assign(n.properties,VA(a)),"children"in n&&n.children&&r!==null&&r!==void 0&&(n.children=r)}return n}function Fke(t,e){const n=e.data||{},i="value"in e&&!(XN.call(n,"hProperties")||XN.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function zke(t,e){const n=[];let i=-1;for(e&&n.push({type:"text",value:`
`});++i<t.length;)i&&n.push({type:"text",value:`
`}),n.push(t[i]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function k6(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function D6(t,e){const n=Lke(t,e),i=n.one(t,void 0),r=Mke(n),a=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return r&&a.children.push({type:"text",value:`
`},r),a}function jke(t,e){return t&&"run"in t?async function(n,i){const r=D6(n,{file:i,...e});await t.run(r,i)}:function(n,i){return D6(n,{file:i,...t||e})}}function N6(t){if(t)throw t}var YE=Object.prototype.hasOwnProperty,GZ=Object.prototype.toString,I6=Object.defineProperty,O6=Object.getOwnPropertyDescriptor,L6=function(e){return typeof Array.isArray=="function"?Array.isArray(e):GZ.call(e)==="[object Array]"},P6=function(e){if(!e||GZ.call(e)!=="[object Object]")return!1;var n=YE.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&YE.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!i)return!1;var r;for(r in e);return typeof r>"u"||YE.call(e,r)},U6=function(e,n){I6&&n.name==="__proto__"?I6(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},F6=function(e,n){if(n==="__proto__")if(YE.call(e,n)){if(O6)return O6(e,n).value}else return;return e[n]},Bke=function t(){var e,n,i,r,a,s,o=arguments[0],l=1,c=arguments.length,u=!1;for(typeof o=="boolean"&&(u=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<c;++l)if(e=arguments[l],e!=null)for(n in e)i=F6(o,n),r=F6(e,n),o!==r&&(u&&r&&(P6(r)||(a=L6(r)))?(a?(a=!1,s=i&&L6(i)?i:[]):s=i&&P6(i)?i:{},U6(o,{name:n,newValue:t(u,s,r)})):typeof r<"u"&&U6(o,{name:n,newValue:r}));return o};const c8=mc(Bke);function KN(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Hke(){const t=[],e={run:n,use:i};return e;function n(...r){let a=-1;const s=r.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...r);function o(l,...c){const u=t[++a];let f=-1;if(l){s(l);return}for(;++f<r.length;)(c[f]===null||c[f]===void 0)&&(c[f]=r[f]);r=c,u?Vke(u,o)(...c):s(null,...c)}}function i(r){if(typeof r!="function")throw new TypeError("Expected `middelware` to be a function, not "+r);return t.push(r),e}}function Vke(t,e){let n;return i;function i(...s){const o=t.length>s.length;let l;o&&s.push(r);try{l=t.apply(this,s)}catch(c){const u=c;if(o&&n)throw u;return r(u)}o||(l&&l.then&&typeof l.then=="function"?l.then(a,r):l instanceof Error?r(l):a(l))}function r(s,...o){n||(n=!0,e(s,...o))}function a(s){r(null,s)}}const Gke=function(t){const i=this.constructor.prototype,r=i[t],a=function(){return r.apply(a,arguments)};return Object.setPrototypeOf(a,i),a},Wke={}.hasOwnProperty;class oU extends Gke{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Hke()}copy(){const e=new oU;let n=-1;for(;++n<this.attachers.length;){const i=this.attachers[n];e.use(...i)}return e.data(c8(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(h8("data",this.frozen),this.namespace[e]=n,this):Wke.call(this.namespace,e)&&this.namespace[e]||void 0:e?(h8("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const r=n.call(e,...i);typeof r=="function"&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=nE(e),i=this.parser||this.Parser;return u8("parse",i),i(String(n),n)}process(e,n){const i=this;return this.freeze(),u8("process",this.parser||this.Parser),f8("process",this.compiler||this.Compiler),n?r(void 0,n):new Promise(r);function r(a,s){const o=nE(e),l=i.parse(o);i.run(l,o,function(u,f,h){if(u||!f||!h)return c(u);const d=f,b=i.stringify(d,h);Kke(b)?h.value=b:h.result=b,c(u,h)});function c(u,f){u||!f?s(u):a?a(f):n(void 0,f)}}}processSync(e){let n=!1,i;return this.freeze(),u8("processSync",this.parser||this.Parser),f8("processSync",this.compiler||this.Compiler),this.process(e,r),j6("processSync","process",n),i;function r(a,s){n=!0,N6(a),i=s}}run(e,n,i){z6(e),this.freeze();const r=this.transformers;return!i&&typeof n=="function"&&(i=n,n=void 0),i?a(void 0,i):new Promise(a);function a(s,o){const l=nE(n);r.run(e,l,c);function c(u,f,h){const d=f||e;u?o(u):s?s(d):i(void 0,d,h)}}}runSync(e,n){let i=!1,r;return this.run(e,n,a),j6("runSync","run",i),r;function a(s,o){N6(s),r=o,i=!0}}stringify(e,n){this.freeze();const i=nE(n),r=this.compiler||this.Compiler;return f8("stringify",r),z6(e),r(e,i)}use(e,...n){const i=this.attachers,r=this.namespace;if(h8("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?o(e):s(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[u,...f]=c;l(u,f)}else s(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function s(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(c.plugins),c.settings&&(r.settings=c8(!0,r.settings,c.settings))}function o(c){let u=-1;if(c!=null)if(Array.isArray(c))for(;++u<c.length;){const f=c[u];a(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,u){let f=-1,h=-1;for(;++f<i.length;)if(i[f][0]===c){h=f;break}if(h===-1)i.push([c,...u]);else if(u.length>0){let[d,...b]=u;const y=i[h][1];KN(y)&&KN(d)&&(d=c8(!0,y,d)),i[h]=[c,d,...b]}}}}const qke=new oU().freeze();function u8(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function f8(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function h8(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function z6(t){if(!KN(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function j6(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function nE(t){return Xke(t)?t:new J$(t)}function Xke(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Kke(t){return typeof t=="string"||Yke(t)}function Yke(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}function id(t,e){const n=["start","end","loc","range"];let i=-1;for(;++i<n.length;){const r=n[i];r in t&&(e[r]=t[r])}}function lU(t,e){let n=-1;const i=[],r=[];let a;for(;++n<t.length;){const s=t[n];s.type==="ImportNamespaceSpecifier"?a=s:r.push(s)}if(a){const s={type:"VariableDeclarator",id:a.local,init:e};id(a,s),i.push(s)}return i.push({type:"VariableDeclarator",id:{type:"ObjectPattern",properties:r.map(function(s){let o=s.type==="ImportSpecifier"?s.imported:s.type==="ExportSpecifier"?s.exported:{type:"Identifier",name:"default"},l=s.local;s.type==="ExportSpecifier"&&(l=o,o=s.local),l.type;const c={type:"Property",kind:"init",shorthand:o.type==="Identifier"&&l.type==="Identifier"&&o.name===l.name,method:!1,computed:!1,key:o,value:l};return id(s,c),c})},init:a?{type:"Identifier",name:a.local.name}:e}),i}function Rd(t){let e=-1,n;for(;++e<t.length;){const i=t[e],r=typeof i=="string"&&Ku(i)?{type:"Identifier",name:i}:{type:"Literal",value:i};n=n?{type:"MemberExpression",object:n,property:r,computed:r.type==="Literal",optional:!1}:r}return n.type,n}function B6(t){let e=-1,n;for(;++e<t.length;){const i=t[e];typeof i=="string"&&Ku(i,{jsx:!0});const r={type:"JSXIdentifier",name:i};n=n?{type:"JSXMemberExpression",object:n,property:r}:r}return n}function Jke(t){const{outputFormat:e}=t||{};return function(n){if(n.comments&&(n.comments=n.comments.filter(function(i){return!i.data?._mdxIsPragmaComment})),e==="function-body"){let i=0;for(;i<n.body.length;){const a=n.body[i];if("directive"in a&&a.directive)i++;else break}const r=n.body[i];r&&r.type==="ImportDeclaration"&&typeof r.source.value=="string"&&/\/jsx-(dev-)?runtime$/.test(r.source.value)&&(n.body[i]={type:"VariableDeclaration",kind:"const",declarations:lU(r.specifiers,Rd(["arguments",0]))})}}}function WZ(){const t=[{block:!1,defined:[]}];return{enter:e,exit:n,scopes:t};function e(a){if(a.type==="ArrowFunctionExpression"){t.push({block:!1,defined:[]});for(const s of a.params)r(s,!1)}else if(a.type==="BlockStatement"||a.type==="DoWhileStatement"||a.type==="ForInStatement"||a.type==="ForOfStatement"||a.type==="ForStatement"||a.type==="WhileStatement")t.push({block:!0,defined:[]});else if(a.type==="CatchClause")t.push({block:!0,defined:[]}),a.param&&r(a.param,!0);else if(a.type==="ClassDeclaration")i(a.id.name,!1);else if(a.type==="FunctionDeclaration"){i(a.id.name,!1),t.push({block:!1,defined:[]});for(const s of a.params)r(s,!1)}else if(a.type==="FunctionExpression"){a.id&&i(a.id.name,!1),t.push({block:!1,defined:[]});for(const s of a.params)r(s,!1)}else if(a.type==="ImportDeclaration")for(const s of a.specifiers)i(s.local.name,!1);else if(a.type==="VariableDeclaration")for(const s of a.declarations)r(s.id,a.kind!=="var")}function n(a){if(a.type==="ArrowFunctionExpression"||a.type==="FunctionDeclaration"||a.type==="FunctionExpression"){const s=t.pop();s.block}else if(a.type==="BlockStatement"||a.type==="CatchClause"||a.type==="DoWhileStatement"||a.type==="ForInStatement"||a.type==="ForOfStatement"||a.type==="ForStatement"||a.type==="WhileStatement"){const s=t.pop();s.block}}function i(a,s){let o=t.length,l;for(;o--&&(l=t[o],!(s||!l.block)););l.defined.push(a)}function r(a,s){if(a.type==="ArrayPattern")for(const o of a.elements)o&&r(o,s);else if(a.type==="AssignmentPattern")r(a.left,s);else if(a.type==="Identifier")i(a.name,s);else if(a.type==="ObjectPattern")for(const o of a.properties)o.type==="Property"?r(o.value,s):(o.type,r(o,s));else a.type,r(a.argument,s)}}function $ke(t){return t.type==="FunctionDeclaration"?{...t,type:"FunctionExpression"}:(t.type,{...t,type:"ClassExpression"})}function Zke(t){return t.type==="FunctionDeclaration"||t.type==="ClassDeclaration"||t.type==="VariableDeclaration"}function Qke(t){const e=t.baseUrl||void 0,n=typeof e=="object"?e.href:e,i=t.outputFormat||"program",r=t.pragma===void 0?"React.createElement":t.pragma,a=t.pragmaFrag===void 0?"React.Fragment":t.pragmaFrag,s=t.pragmaImportSource||"react",o=t.jsxImportSource||"react",l=t.jsxRuntime||"automatic";return function(u,f){const h=[],d=[];let b=0,y,v,m;if(l==="classic"&&a&&iE(u,"@jsxFrag",a),l==="classic"&&r&&iE(u,"@jsx",r),l==="automatic"&&o&&iE(u,"@jsxImportSource",o),iE(u,"@jsxRuntime",l),l==="classic"&&s){if(!r)throw new Error("Missing `pragma` in classic runtime with `pragmaImportSource`");A({type:"ImportDeclaration",specifiers:[{type:"ImportDefaultSpecifier",local:{type:"Identifier",name:r.split(".")[0]}}],source:{type:"Literal",value:s}})}for(m of u.body)if(m.type==="ExportDefaultDeclaration")y&&f.fail("Unexpected duplicate layout, expected a single layout (previous: "+sc(qf(y))+")",{ancestors:[u,m],place:qf(m),ruleId:"duplicate-layout",source:"recma-document"}),y=m,d.push({type:"VariableDeclaration",kind:"const",declarations:[{type:"VariableDeclarator",id:{type:"Identifier",name:"MDXLayout"},init:Zke(m.declaration)?$ke(m.declaration):m.declaration}]});else if(m.type==="ExportNamedDeclaration"&&m.source){const w=m.source;m.specifiers=m.specifiers.filter(function(T){if(T.exported.type==="Identifier"&&T.exported.name==="default"){y&&f.fail("Unexpected duplicate layout, expected a single layout (previous: "+sc(qf(y))+")",{ancestors:[u,m,T],place:qf(m),ruleId:"duplicate-layout",source:"recma-document"}),y=T;const k=[];if(T.local.type==="Identifier"&&T.local.name==="default")k.push({type:"ImportDefaultSpecifier",local:{type:"Identifier",name:"MDXLayout"}});else{const P={type:"ImportSpecifier",imported:T.local,local:{type:"Identifier",name:"MDXLayout"}};id(T.local,P),k.push(P)}const N={type:"Literal",value:w.value};id(w,N);const D={type:"ImportDeclaration",specifiers:k,source:N};return id(T,D),A(D),!1}return!0}),m.specifiers.length>0&&E(m)}else m.type==="ExportNamedDeclaration"||m.type==="ExportAllDeclaration"?E(m):m.type==="ImportDeclaration"?A(m):m.type==="ExpressionStatement"&&(m.expression.type==="JSXElement"||m.expression.type==="JSXFragment")?(v=!0,d.push(...c(m.expression,i,!!y))):d.push(m);v||d.push(...c(void 0,i,!!y)),h.push(["MDXContent","default"]),i==="function-body"&&d.push({type:"ReturnStatement",argument:{type:"ObjectExpression",properties:[...Array.from({length:b}).map(function(w,T){return{type:"SpreadElement",argument:{type:"Identifier",name:"_exportAll"+(T+1)}}}),...h.map(function(w){return{type:"Property",kind:"init",method:!1,computed:!1,shorthand:typeof w=="string",key:{type:"Identifier",name:typeof w=="string"?w:w[1]},value:{type:"Identifier",name:typeof w=="string"?w:w[0]}}})]}}),u.body=d;let x=!1,_=!1;(n||i==="function-body")&&y0(u,{enter(w){if((w.type==="ExportAllDeclaration"||w.type==="ExportNamedDeclaration"||w.type==="ImportDeclaration")&&w.source){let T=w.source.value;try{new URL(T)}catch{(T.startsWith("/")||T.startsWith("./")||T.startsWith("../"))&&(T=new URL(T,n).href)}const k={type:"Literal",value:T};id(w.source,k),w.source=k;return}if(w.type==="ImportExpression"){_=!0;const T={type:"CallExpression",callee:{type:"Identifier",name:"_resolveDynamicMdxSpecifier"},arguments:[w.source],optional:!1};w.source=T;return}if(w.type==="MemberExpression"&&"object"in w&&w.object.type==="MetaProperty"&&w.property.type==="Identifier"&&w.object.meta.name==="import"&&w.object.property.name==="meta"&&w.property.name==="url"){x=!0;const T={type:"Identifier",name:"_importMetaUrl"};id(w,T),this.replace(T)}}}),_&&(n||(x=!0),u.body.push(e8e(n?{type:"Literal",value:n}:{type:"Identifier",name:"_importMetaUrl"}))),x&&u.body.unshift(...t8e());function E(w){if(w.type==="ExportNamedDeclaration"){if(w.declaration){const T=WZ();y0(w,{enter(k){T.enter(k),(k.type==="ArrowFunctionExpression"||k.type==="FunctionDeclaration"||k.type==="FunctionExpression")&&(this.skip(),T.exit(k))},leave:T.exit}),h.push(...T.scopes[0].defined)}for(m of w.specifiers)m.exported.type==="Identifier"?h.push(m.exported.name):(m.exported.value,h.push(m.exported.value))}A(w)}function A(w){let T,k;if(i==="function-body")if(w.type==="ImportDeclaration"||w.type==="ExportAllDeclaration"||w.type==="ExportNamedDeclaration"&&w.source){w.source;const N={type:"ImportExpression",source:w.source};id(w,N),k={type:"AwaitExpression",argument:N},(w.type==="ImportDeclaration"||w.type==="ExportNamedDeclaration")&&w.specifiers.length===0?T={type:"ExpressionStatement",expression:k}:T={type:"VariableDeclaration",kind:"const",declarations:w.type==="ExportAllDeclaration"?[{type:"VariableDeclarator",id:{type:"Identifier",name:"_exportAll"+ ++b},init:k}]:lU(w.specifiers,k)}}else if(w.declaration)T=w.declaration;else{const N=[];for(const D of w.specifiers)D.exported.type==="Identifier"&&D.local.type==="Identifier"&&D.local.name!==D.exported.name&&N.push({type:"VariableDeclarator",id:D.exported,init:D.local});N.length>0&&(T={type:"VariableDeclaration",kind:"const",declarations:N})}else T=w;T&&d.push(T)}};function c(u,f,h){let b={type:"JSXElement",openingElement:{type:"JSXOpeningElement",name:{type:"JSXIdentifier",name:"MDXLayout"},attributes:[{type:"JSXSpreadAttribute",argument:{type:"Identifier",name:"props"}}],selfClosing:!1},closingElement:{type:"JSXClosingElement",name:{type:"JSXIdentifier",name:"MDXLayout"}},children:[{type:"JSXElement",openingElement:{type:"JSXOpeningElement",name:{type:"JSXIdentifier",name:"_createMdxContent"},attributes:[{type:"JSXSpreadAttribute",argument:{type:"Identifier",name:"props"}}],selfClosing:!0},closingElement:null,children:[]}]};h||(b={type:"ConditionalExpression",test:{type:"Identifier",name:"MDXLayout"},consequent:b,alternate:{type:"CallExpression",callee:{type:"Identifier",name:"_createMdxContent"},arguments:[{type:"Identifier",name:"props"}],optional:!1}});let y=u||{type:"Identifier",name:"undefined"};y.type==="JSXFragment"&&y.children.length===1&&y.children[0].type==="JSXElement"&&(y=y.children[0]);let v=!1;y0(y,{enter(x){if(x.type==="ArrowFunctionExpression"||x.type==="FunctionDeclaration"||x.type==="FunctionExpression")return this.skip();(x.type==="AwaitExpression"||x.type==="ForOfStatement"&&x.await)&&(v=!0)}});const m={type:"FunctionDeclaration",id:{type:"Identifier",name:"MDXContent"},params:[{type:"AssignmentPattern",left:{type:"Identifier",name:"props"},right:{type:"ObjectExpression",properties:[]}}],body:{type:"BlockStatement",body:[{type:"ReturnStatement",argument:b}]}};return[{type:"FunctionDeclaration",async:v,id:{type:"Identifier",name:"_createMdxContent"},params:[{type:"Identifier",name:"props"}],body:{type:"BlockStatement",body:[{type:"ReturnStatement",argument:y}]}},f==="program"?{type:"ExportDefaultDeclaration",declaration:m}:m]}}function iE(t,e,n){t.comments?.unshift({type:"Block",value:e+" "+n,data:{_mdxIsPragmaComment:!0}})}function e8e(t){return{type:"FunctionDeclaration",id:{type:"Identifier",name:"_resolveDynamicMdxSpecifier"},generator:!1,async:!1,params:[{type:"Identifier",name:"d"}],body:{type:"BlockStatement",body:[{type:"IfStatement",test:{type:"BinaryExpression",left:{type:"UnaryExpression",operator:"typeof",prefix:!0,argument:{type:"Identifier",name:"d"}},operator:"!==",right:{type:"Literal",value:"string"}},consequent:{type:"ReturnStatement",argument:{type:"Identifier",name:"d"}},alternate:null},{type:"TryStatement",block:{type:"BlockStatement",body:[{type:"ExpressionStatement",expression:{type:"NewExpression",callee:{type:"Identifier",name:"URL"},arguments:[{type:"Identifier",name:"d"}]}},{type:"ReturnStatement",argument:{type:"Identifier",name:"d"}}]},handler:{type:"CatchClause",param:null,body:{type:"BlockStatement",body:[]}},finalizer:null},{type:"IfStatement",test:{type:"LogicalExpression",left:{type:"LogicalExpression",left:{type:"CallExpression",callee:Rd(["d","startsWith"]),arguments:[{type:"Literal",value:"/"}],optional:!1},operator:"||",right:{type:"CallExpression",callee:Rd(["d","startsWith"]),arguments:[{type:"Literal",value:"./"}],optional:!1}},operator:"||",right:{type:"CallExpression",callee:Rd(["d","startsWith"]),arguments:[{type:"Literal",value:"../"}],optional:!1}},consequent:{type:"ReturnStatement",argument:{type:"MemberExpression",object:{type:"NewExpression",callee:{type:"Identifier",name:"URL"},arguments:[{type:"Identifier",name:"d"},t]},property:{type:"Identifier",name:"href"},computed:!1,optional:!1}},alternate:null},{type:"ReturnStatement",argument:{type:"Identifier",name:"d"}}]}}}function t8e(){return[{type:"VariableDeclaration",declarations:[{type:"VariableDeclarator",id:{type:"Identifier",name:"_importMetaUrl"},init:Rd(["arguments",0,"baseUrl"])}],kind:"const"},{type:"IfStatement",test:{type:"UnaryExpression",operator:"!",prefix:!0,argument:{type:"Identifier",name:"_importMetaUrl"}},consequent:{type:"ThrowStatement",argument:{type:"NewExpression",callee:{type:"Identifier",name:"Error"},arguments:[{type:"Literal",value:"Unexpected missing `options.baseUrl` needed to support `export  from`, `import`, or `import.meta.url` when generating `function-body`"}]}},alternate:null}]}function H6(t){let e=-1,n;for(;++e<t.length;){const i=t[e];n=n?{type:"BinaryExpression",left:n,operator:"+",right:i}:i}return n}function n8e(t){const{development:e,outputFormat:n,providerImportSource:i}=t;return function(r,a){const s=WZ(),o=[];let l=!1,c=!1;if(y0(r,{enter(u){s.enter(u),(u.type==="FunctionDeclaration"||u.type==="FunctionExpression"||u.type==="ArrowFunctionExpression")&&(o.push({components:[],idToInvalidComponentName:new Map,node:u,objects:[],references:{},tags:[]}),Ab(u,"MDXContent")&&!d8(s.scopes,"MDXLayout")&&o[0].components.push("MDXLayout"));const f=o[0];if(!(!f||!Ab(f.node,"_createMdxContent")&&!i)&&u.type==="JSXElement"){let h=u.openingElement.name;if(h.type==="JSXMemberExpression"){const d=[];for(;h.type==="JSXMemberExpression";)d.unshift(h.property.name),h=h.object;d.unshift(h.name);const b=d.join("."),y=h.name,v=d8(s.scopes,y);!Object.hasOwn(f.references,b)&&(!v||o.length===1&&o[0].node.type==="FunctionDeclaration"&&Ab(o[0].node,"_createMdxContent"))&&(f.references[b]={component:!0,node:u}),!f.objects.includes(y)&&!v&&f.objects.push(y)}else if(h.type!=="JSXNamespacedName"){if(Ku(h.name)&&!/^[a-z]/.test(h.name)){const d=h.name;d8(s.scopes,d)||(d!=="MDXLayout"&&!Object.hasOwn(f.references,d)&&(f.references[d]={component:!0,node:u}),f.components.includes(d)||f.components.push(d))}else if(!(u.data&&u.data._mdxExplicitJsx)){const d=h.name;f.tags.includes(d)||f.tags.push(d);let b=["_components",d];if(Ku(d)===!1){let y=f.idToInvalidComponentName.get(d);y===void 0&&(y=`_component${f.idToInvalidComponentName.size}`,f.idToInvalidComponentName.set(d,y)),b=[y]}u.openingElement.name=B6(b),u.closingElement&&(u.closingElement.name=B6(b))}}}},leave(u){s.exit(u);const f=[],h=[],d=[],b=[];if(u.type==="FunctionDeclaration"||u.type==="FunctionExpression"||u.type==="ArrowFunctionExpression"){const y=o[o.length-1];let v;for(v of y.tags.sort())f.push({type:"Property",kind:"init",key:Ku(v)?{type:"Identifier",name:v}:{type:"Literal",value:v},value:{type:"Literal",value:v},method:!1,shorthand:!1,computed:!1});h.push(...y.components);for(v of y.objects)h.includes(v)||h.push(v);h.sort();const m=[];if(f.length>0||h.length>0||y.idToInvalidComponentName.size>0){if(i&&(l=!0,d.push({type:"CallExpression",callee:{type:"Identifier",name:"_provideComponents"},arguments:[],optional:!1})),(Ab(y.node,"MDXContent")||Ab(y.node,"_createMdxContent"))&&d.push(Rd(["props","components"])),f.length>0||d.length>1)for(const T of d)f.push({type:"SpreadElement",argument:T});let A=f.length>0?{type:"ObjectExpression",properties:f}:{type:"LogicalExpression",operator:"||",left:d[0],right:{type:"ObjectExpression",properties:[]}},w;if(h.length>0&&(w={type:"ObjectPattern",properties:h.map(function(T){return{type:"Property",kind:"init",key:{type:"Identifier",name:T==="MDXLayout"?"wrapper":T},value:{type:"Identifier",name:T},method:!1,shorthand:T!=="MDXLayout",computed:!1}})}),y.tags.length>0&&(b.push({type:"VariableDeclarator",id:{type:"Identifier",name:"_components"},init:A}),A={type:"Identifier",name:"_components"}),Ab(y.node,"_createMdxContent"))for(const[T,k]of[...y.idToInvalidComponentName].sort(function([N],[D]){return N.localeCompare(D)}))b.push({type:"VariableDeclarator",id:{type:"Identifier",name:k},init:{type:"MemberExpression",object:{type:"Identifier",name:"_components"},property:{type:"Literal",value:T},computed:!0,optional:!1}});w&&b.push({type:"VariableDeclarator",id:w,init:A}),b.length>0&&m.push({type:"VariableDeclaration",kind:"const",declarations:b})}let x;for(x in y.references)if(Object.hasOwn(y.references,x)){const A=x.split(".");let w=0;for(;++w<A.length;){const T=A.slice(0,w).join(".");Object.hasOwn(y.references,T)||(y.references[T]={component:!1,node:y.references[x].node})}}const _=Object.keys(y.references).sort();let E=-1;for(;++E<_.length;){const A=_[E],w=y.references[A],T=sc(qf(w.node)),k=[{type:"Literal",value:A},{type:"Literal",value:w.component}];c=!0,e&&T&&k.push({type:"Literal",value:T}),m.push({type:"IfStatement",test:{type:"UnaryExpression",operator:"!",prefix:!0,argument:Rd(A.split("."))},consequent:{type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"Identifier",name:"_missingMdxReference"},arguments:k,optional:!1}},alternate:void 0})}m.length>0&&(u.body.type!=="BlockStatement"&&(u.body={type:"BlockStatement",body:[{type:"ReturnStatement",argument:u.body}]}),u.body.body.unshift(...m)),o.pop()}}}),l&&i&&r.body.unshift(i8e(i,n)),c){const u=[{type:"Literal",value:"Expected "},{type:"ConditionalExpression",test:{type:"Identifier",name:"component"},consequent:{type:"Literal",value:"component"},alternate:{type:"Literal",value:"object"}},{type:"Literal",value:" `"},{type:"Identifier",name:"id"},{type:"Literal",value:"` to be defined: you likely forgot to import, pass, or provide it."}],f=[{type:"Identifier",name:"id"},{type:"Identifier",name:"component"}];e&&(u.push({type:"ConditionalExpression",test:{type:"Identifier",name:"place"},consequent:H6([{type:"Literal",value:"\nIts referenced in your code at `"},{type:"Identifier",name:"place"},{type:"Literal",value:(a.path?"` in `"+a.path:"")+"`"}]),alternate:{type:"Literal",value:""}}),f.push({type:"Identifier",name:"place"})),r.body.push({type:"FunctionDeclaration",id:{type:"Identifier",name:"_missingMdxReference"},generator:!1,async:!1,params:f,body:{type:"BlockStatement",body:[{type:"ThrowStatement",argument:{type:"NewExpression",callee:{type:"Identifier",name:"Error"},arguments:[H6(u)]}}]}})}n==="function-body"&&r.body.unshift({type:"ExpressionStatement",expression:{type:"Literal",value:"use strict"},directive:"use strict"})}}function i8e(t,e){const n=[{type:"ImportSpecifier",imported:{type:"Identifier",name:"useMDXComponents"},local:{type:"Identifier",name:"_provideComponents"}}];return e==="function-body"?{type:"VariableDeclaration",kind:"const",declarations:lU(n,Rd(["arguments",0]))}:{type:"ImportDeclaration",specifiers:n,source:{type:"Literal",value:t}}}function Ab(t,e){return!!(t&&"id"in t&&t.id&&t.id.name===e)}function d8(t,e){let n=t.length;for(;n--;)if(t[n].defined.includes(e))return!0;return!1}function r8e(){return function(t){z_(t,"raw",function(e,n,i){if(i&&typeof n=="number")return i.children.splice(n,1),n})}}const a8e=/\s+/g,s8e=/[\t\n\v\f\r ]+/g;function o8e(t,e){e?typeof e=="string"&&(e={style:e}):e={};const n=e.preserveLineEndings?l8e:c8e;return String(t).replace(e.style==="html"?s8e:a8e,e.trim?u8e(n):n)}function l8e(t){const e=/\r?\n|\r/.exec(t);return e?e[0]:" "}function c8e(){return" "}function u8e(t){return e;function e(n,i,r){return i===0||i+n.length===r.length?"":t(n)}}function f8e(){return function(t){z_(t,function(e,n,i){let r=-1,a=!0,s=!1;if(i&&typeof n=="number"&&e.type==="paragraph"){const o=e.children;for(;++r<o.length;){const l=o[r];if(l.type==="mdxJsxTextElement"||l.type==="mdxTextExpression")s=!0;else if(!(l.type==="text"&&o8e(l.value,{style:"html",trim:!0})==="")){a=!1;break}}if(a&&s){r=-1;const l=[];for(;++r<o.length;){const c=o[r];c.type==="mdxJsxTextElement"&&(c.type="mdxJsxFlowElement"),c.type==="mdxTextExpression"&&(c.type="mdxFlowExpression"),c.type==="text"&&/^[\t\r\n ]+$/.test(String(c.value))||l.push(c)}return i.children.splice(n,1,...l),n}}if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement"){const o=e.data||(e.data={});o._mdxExplicitJsx=!0}(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression"||e.type==="mdxjsEsm")&&e.data&&e.data.estree&&y0(e.data.estree,{enter(o){if(o.type==="JSXElement"){const l=o.data||(o.data={});l._mdxExplicitJsx=!0}}})})}}const h8e=["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"];let V6=!1;function d8e(t){const e=t||{};e.format,(e.jsxRuntime==="classic"||e.pragma||e.pragmaFrag||e.pragmaImportSource)&&!V6&&(V6=!0,console.warn("Unexpected deprecated option `jsxRuntime: 'classic'`, `pragma`, `pragmaFrag`, or `pragmaImportSource`; see <https://mdxjs.com/migrating/v3/> on how to migrate"));const n=qke().use(q3e);e.format!=="md"&&n.use(u3e);const i=e.remarkRehypeOptions||{};return n.use(f8e).use(e.remarkPlugins||[]).use(jke,{...i,allowDangerousHtml:!0,passThrough:[...i.passThrough||[],...h8e]}).use(e.rehypePlugins||[]),e.format==="md"&&n.use(r8e),n.use(zCe,e).use(Qke,e).use(n8e,e),e.jsx||n.use($Ae,e).use(Jke,e),n.use(MTe).use(ATe,e).use(e.recmaPlugins||[]),n}function p8e(t,e){const{file:n,options:i}=jAe(t,e);return d8e(i).process(n)}function m8e(t){const{Fragment:e,baseUrl:n,development:i,jsx:r,jsxDEV:a,jsxs:s,useMDXComponents:o,...l}=t||{};if(!e)throw new Error("Expected `Fragment` given to `evaluate`");if(i){if(!a)throw new Error("Expected `jsxDEV` given to `evaluate`")}else{if(!r)throw new Error("Expected `jsx` given to `evaluate`");if(!s)throw new Error("Expected `jsxs` given to `evaluate`")}return{compiletime:{...l,development:i,outputFormat:"function-body",providerImportSource:o?"#":void 0},runtime:{Fragment:e,baseUrl:n,jsx:r,jsxDEV:a,jsxs:s,useMDXComponents:o}}}const g8e=Object.getPrototypeOf(qZ).constructor;async function qZ(t,e){return new g8e(String(t))(e)}async function b8e(t,e){const{compiletime:n,runtime:i}=m8e(e);return qZ(await p8e(t,n),i)}function y8e(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function v8e(t,e,n){const r=t2((n||{}).ignore||[]),a=x8e(e);let s=-1;for(;++s<a.length;)VZ(t,"text",o);function o(c,u){let f=-1,h;for(;++f<u.length;){const d=u[f],b=h?h.children:void 0;if(r(d,b?b.indexOf(d):void 0,h))return;h=d}if(h)return l(c,u)}function l(c,u){const f=u[u.length-1],h=a[s][0],d=a[s][1];let b=0;const v=f.children.indexOf(c);let m=!1,x=[];h.lastIndex=0;let _=h.exec(c.value);for(;_;){const E=_.index,A={index:_.index,input:_.input,stack:[...u,c]};let w=d(..._,A);if(typeof w=="string"&&(w=w.length>0?{type:"text",value:w}:void 0),w===!1?h.lastIndex=E+1:(b!==E&&x.push({type:"text",value:c.value.slice(b,E)}),Array.isArray(w)?x.push(...w):w&&x.push(w),b=E+_[0].length,m=!0),!h.global)break;_=h.exec(c.value)}return m?(b<c.value.length&&x.push({type:"text",value:c.value.slice(b)}),f.children.splice(v,1,...x)):x=[c],v+x.length}}function x8e(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let i=-1;for(;++i<n.length;){const r=n[i];e.push([_8e(r[0]),S8e(r[1])])}return e}function _8e(t){return typeof t=="string"?new RegExp(y8e(t),"g"):t}function S8e(t){return typeof t=="function"?t:function(){return t}}const p8="phrasing",m8=["autolink","link","image","label"];function w8e(){return{transforms:[k8e],enter:{literalAutolink:M8e,literalAutolinkEmail:g8,literalAutolinkHttp:g8,literalAutolinkWww:g8},exit:{literalAutolink:R8e,literalAutolinkEmail:C8e,literalAutolinkHttp:A8e,literalAutolinkWww:T8e}}}function E8e(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:p8,notInConstruct:m8},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:p8,notInConstruct:m8},{character:":",before:"[ps]",after:"\\/",inConstruct:p8,notInConstruct:m8}]}}function M8e(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function g8(t){this.config.enter.autolinkProtocol.call(this,t)}function A8e(t){this.config.exit.autolinkProtocol.call(this,t)}function T8e(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function C8e(t){this.config.exit.autolinkEmail.call(this,t)}function R8e(t){this.exit(t)}function k8e(t){v8e(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,D8e],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),N8e]],{ignore:["link","linkReference"]})}function D8e(t,e,n,i,r){let a="";if(!XZ(r)||(/^w/i.test(e)&&(n=e+n,e="",a="http://"),!I8e(n)))return!1;const s=O8e(n+i);if(!s[0])return!1;const o={type:"link",title:null,url:a+e+s[0],children:[{type:"text",value:e+s[0]}]};return s[1]?[o,{type:"text",value:s[1]}]:o}function N8e(t,e,n,i){return!XZ(i,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function I8e(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function O8e(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],i=n.indexOf(")");const r=zA(t,"(");let a=zA(t,")");for(;i!==-1&&r>a;)t+=n.slice(0,i+1),n=n.slice(i+1),i=n.indexOf(")"),a++;return[t,n]}function XZ(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||ro(n)||ZC(n))&&(!e||n!==47)}KZ.peek=V8e;function L8e(){this.buffer()}function P8e(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function U8e(){this.buffer()}function F8e(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function z8e(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=ru(this.sliceSerialize(t)).toLowerCase(),n.label=e}function j8e(t){this.exit(t)}function B8e(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=ru(this.sliceSerialize(t)).toLowerCase(),n.label=e}function H8e(t){this.exit(t)}function V8e(){return"["}function KZ(t,e,n,i){const r=n.createTracker(i);let a=r.move("[^");const s=n.enter("footnoteReference"),o=n.enter("reference");return a+=r.move(n.safe(n.associationId(t),{after:"]",before:a})),o(),s(),a+=r.move("]"),a}function G8e(){return{enter:{gfmFootnoteCallString:L8e,gfmFootnoteCall:P8e,gfmFootnoteDefinitionLabelString:U8e,gfmFootnoteDefinition:F8e},exit:{gfmFootnoteCallString:z8e,gfmFootnoteCall:j8e,gfmFootnoteDefinitionLabelString:B8e,gfmFootnoteDefinition:H8e}}}function W8e(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:KZ},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(i,r,a,s){const o=a.createTracker(s);let l=o.move("[^");const c=a.enter("footnoteDefinition"),u=a.enter("label");return l+=o.move(a.safe(a.associationId(i),{before:l,after:"]"})),u(),l+=o.move("]:"),i.children&&i.children.length>0&&(o.shift(4),l+=o.move((e?`
`:" ")+a.indentLines(a.containerFlow(i,o.current()),e?YZ:q8e))),c(),l}}function q8e(t,e,n){return e===0?t:YZ(t,e,n)}function YZ(t,e,n){return(n?"":"    ")+t}const X8e=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];JZ.peek=Z8e;function K8e(){return{canContainEols:["delete"],enter:{strikethrough:J8e},exit:{strikethrough:$8e}}}function Y8e(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:X8e}],handlers:{delete:JZ}}}function J8e(t){this.enter({type:"delete",children:[]},t)}function $8e(t){this.exit(t)}function JZ(t,e,n,i){const r=n.createTracker(i),a=n.enter("strikethrough");let s=r.move("~~");return s+=n.containerPhrasing(t,{...r.current(),before:s,after:"~"}),s+=r.move("~~"),a(),s}function Z8e(){return"~"}function Q8e(t){return t.length}function eDe(t,e){const n=e||{},i=(n.align||[]).concat(),r=n.stringLength||Q8e,a=[],s=[],o=[],l=[];let c=0,u=-1;for(;++u<t.length;){const y=[],v=[];let m=-1;for(t[u].length>c&&(c=t[u].length);++m<t[u].length;){const x=tDe(t[u][m]);if(n.alignDelimiters!==!1){const _=r(x);v[m]=_,(l[m]===void 0||_>l[m])&&(l[m]=_)}y.push(x)}s[u]=y,o[u]=v}let f=-1;if(typeof i=="object"&&"length"in i)for(;++f<c;)a[f]=G6(i[f]);else{const y=G6(i);for(;++f<c;)a[f]=y}f=-1;const h=[],d=[];for(;++f<c;){const y=a[f];let v="",m="";y===99?(v=":",m=":"):y===108?v=":":y===114&&(m=":");let x=n.alignDelimiters===!1?1:Math.max(1,l[f]-v.length-m.length);const _=v+"-".repeat(x)+m;n.alignDelimiters!==!1&&(x=v.length+x+m.length,x>l[f]&&(l[f]=x),d[f]=x),h[f]=_}s.splice(1,0,h),o.splice(1,0,d),u=-1;const b=[];for(;++u<s.length;){const y=s[u],v=o[u];f=-1;const m=[];for(;++f<c;){const x=y[f]||"";let _="",E="";if(n.alignDelimiters!==!1){const A=l[f]-(v[f]||0),w=a[f];w===114?_=" ".repeat(A):w===99?A%2?(_=" ".repeat(A/2+.5),E=" ".repeat(A/2-.5)):(_=" ".repeat(A/2),E=_):E=" ".repeat(A)}n.delimiterStart!==!1&&!f&&m.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&x==="")&&(n.delimiterStart!==!1||f)&&m.push(" "),n.alignDelimiters!==!1&&m.push(_),m.push(x),n.alignDelimiters!==!1&&m.push(E),n.padding!==!1&&m.push(" "),(n.delimiterEnd!==!1||f!==c-1)&&m.push("|")}b.push(n.delimiterEnd===!1?m.join("").replace(/ +$/,""):m.join(""))}return b.join(`
`)}function tDe(t){return t==null?"":String(t)}function G6(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function nDe(t,e,n,i){const r=n.enter("blockquote"),a=n.createTracker(i);a.move("> "),a.shift(2);const s=n.indentLines(n.containerFlow(t,a.current()),iDe);return r(),s}function iDe(t,e,n){return">"+(n?"":" ")+t}function rDe(t,e){return W6(t,e.inConstruct,!0)&&!W6(t,e.notInConstruct,!1)}function W6(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let i=-1;for(;++i<e.length;)if(t.includes(e[i]))return!0;return!1}function q6(t,e,n,i){let r=-1;for(;++r<n.unsafe.length;)if(n.unsafe[r].character===`
`&&rDe(n.stack,n.unsafe[r]))return/[ \t]/.test(i.before)?"":" ";return`\\
`}function aDe(t,e){const n=String(t);let i=n.indexOf(e),r=i,a=0,s=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;i!==-1;)i===r?++a>s&&(s=a):a=1,r=i+e.length,i=n.indexOf(e,r);return s}function sDe(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function oDe(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function lDe(t,e,n,i){const r=oDe(n),a=t.value||"",s=r==="`"?"GraveAccent":"Tilde";if(sDe(t,n)){const f=n.enter("codeIndented"),h=n.indentLines(a,cDe);return f(),h}const o=n.createTracker(i),l=r.repeat(Math.max(aDe(a,r)+1,3)),c=n.enter("codeFenced");let u=o.move(l);if(t.lang){const f=n.enter(`codeFencedLang${s}`);u+=o.move(n.safe(t.lang,{before:u,after:" ",encode:["`"],...o.current()})),f()}if(t.lang&&t.meta){const f=n.enter(`codeFencedMeta${s}`);u+=o.move(" "),u+=o.move(n.safe(t.meta,{before:u,after:`
`,encode:["`"],...o.current()})),f()}return u+=o.move(`
`),a&&(u+=o.move(a+`
`)),u+=o.move(l),c(),u}function cDe(t,e,n){return(n?"":"    ")+t}function cU(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function uDe(t,e,n,i){const r=cU(n),a=r==='"'?"Quote":"Apostrophe",s=n.enter("definition");let o=n.enter("label");const l=n.createTracker(i);let c=l.move("[");return c+=l.move(n.safe(n.associationId(t),{before:c,after:"]",...l.current()})),c+=l.move("]: "),o(),!t.url||/[\0- \u007F]/.test(t.url)?(o=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(t.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(o=n.enter("destinationRaw"),c+=l.move(n.safe(t.url,{before:c,after:t.title?" ":`
`,...l.current()}))),o(),t.title&&(o=n.enter(`title${a}`),c+=l.move(" "+r),c+=l.move(n.safe(t.title,{before:c,after:r,...l.current()})),c+=l.move(r),o()),s(),c}function fDe(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function F1(t){return"&#x"+t.toString(16).toUpperCase()+";"}function GA(t,e,n){const i=oy(t),r=oy(e);return i===void 0?r===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:r===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:i===1?r===void 0?{inside:!1,outside:!1}:r===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:r===void 0?{inside:!1,outside:!1}:r===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}$Z.peek=hDe;function $Z(t,e,n,i){const r=fDe(n),a=n.enter("emphasis"),s=n.createTracker(i),o=s.move(r);let l=s.move(n.containerPhrasing(t,{after:r,before:o,...s.current()}));const c=l.charCodeAt(0),u=GA(i.before.charCodeAt(i.before.length-1),c,r);u.inside&&(l=F1(c)+l.slice(1));const f=l.charCodeAt(l.length-1),h=GA(i.after.charCodeAt(0),f,r);h.inside&&(l=l.slice(0,-1)+F1(f));const d=s.move(r);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:u.outside},o+l+d}function hDe(t,e,n){return n.options.emphasis||"*"}function dDe(t,e){let n=!1;return z_(t,function(i){if("value"in i&&/\r?\n|\r/.test(i.value)||i.type==="break")return n=!0,qN}),!!((!t.depth||t.depth<3)&&nU(t)&&(e.options.setext||n))}function pDe(t,e,n,i){const r=Math.max(Math.min(6,t.depth||1),1),a=n.createTracker(i);if(dDe(t,n)){const u=n.enter("headingSetext"),f=n.enter("phrasing"),h=n.containerPhrasing(t,{...a.current(),before:`
`,after:`
`});return f(),u(),h+`
`+(r===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const s="#".repeat(r),o=n.enter("headingAtx"),l=n.enter("phrasing");a.move(s+" ");let c=n.containerPhrasing(t,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(c)&&(c=F1(c.charCodeAt(0))+c.slice(1)),c=c?s+" "+c:s,n.options.closeAtx&&(c+=" "+s),l(),o(),c}ZZ.peek=mDe;function ZZ(t){return t.value||""}function mDe(){return"<"}QZ.peek=gDe;function QZ(t,e,n,i){const r=cU(n),a=r==='"'?"Quote":"Apostrophe",s=n.enter("image");let o=n.enter("label");const l=n.createTracker(i);let c=l.move("![");return c+=l.move(n.safe(t.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),o(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(o=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(t.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(o=n.enter("destinationRaw"),c+=l.move(n.safe(t.url,{before:c,after:t.title?" ":")",...l.current()}))),o(),t.title&&(o=n.enter(`title${a}`),c+=l.move(" "+r),c+=l.move(n.safe(t.title,{before:c,after:r,...l.current()})),c+=l.move(r),o()),c+=l.move(")"),s(),c}function gDe(){return"!"}eQ.peek=bDe;function eQ(t,e,n,i){const r=t.referenceType,a=n.enter("imageReference");let s=n.enter("label");const o=n.createTracker(i);let l=o.move("![");const c=n.safe(t.alt,{before:l,after:"]",...o.current()});l+=o.move(c+"]["),s();const u=n.stack;n.stack=[],s=n.enter("reference");const f=n.safe(n.associationId(t),{before:l,after:"]",...o.current()});return s(),n.stack=u,a(),r==="full"||!c||c!==f?l+=o.move(f+"]"):r==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function bDe(){return"!"}tQ.peek=yDe;function tQ(t,e,n){let i=t.value||"",r="`",a=-1;for(;new RegExp("(^|[^`])"+r+"([^`]|$)").test(i);)r+="`";for(/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^`|`$/.test(i))&&(i=" "+i+" ");++a<n.unsafe.length;){const s=n.unsafe[a],o=n.compilePattern(s);let l;if(s.atBreak)for(;l=o.exec(i);){let c=l.index;i.charCodeAt(c)===10&&i.charCodeAt(c-1)===13&&c--,i=i.slice(0,c)+" "+i.slice(l.index+1)}}return r+i+r}function yDe(){return"`"}function nQ(t,e){const n=nU(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}iQ.peek=vDe;function iQ(t,e,n,i){const r=cU(n),a=r==='"'?"Quote":"Apostrophe",s=n.createTracker(i);let o,l;if(nQ(t,n)){const u=n.stack;n.stack=[],o=n.enter("autolink");let f=s.move("<");return f+=s.move(n.containerPhrasing(t,{before:f,after:">",...s.current()})),f+=s.move(">"),o(),n.stack=u,f}o=n.enter("link"),l=n.enter("label");let c=s.move("[");return c+=s.move(n.containerPhrasing(t,{before:c,after:"](",...s.current()})),c+=s.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),c+=s.move("<"),c+=s.move(n.safe(t.url,{before:c,after:">",...s.current()})),c+=s.move(">")):(l=n.enter("destinationRaw"),c+=s.move(n.safe(t.url,{before:c,after:t.title?" ":")",...s.current()}))),l(),t.title&&(l=n.enter(`title${a}`),c+=s.move(" "+r),c+=s.move(n.safe(t.title,{before:c,after:r,...s.current()})),c+=s.move(r),l()),c+=s.move(")"),o(),c}function vDe(t,e,n){return nQ(t,n)?"<":"["}rQ.peek=xDe;function rQ(t,e,n,i){const r=t.referenceType,a=n.enter("linkReference");let s=n.enter("label");const o=n.createTracker(i);let l=o.move("[");const c=n.containerPhrasing(t,{before:l,after:"]",...o.current()});l+=o.move(c+"]["),s();const u=n.stack;n.stack=[],s=n.enter("reference");const f=n.safe(n.associationId(t),{before:l,after:"]",...o.current()});return s(),n.stack=u,a(),r==="full"||!c||c!==f?l+=o.move(f+"]"):r==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function xDe(){return"["}function uU(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function _De(t){const e=uU(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function SDe(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function aQ(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function wDe(t,e,n,i){const r=n.enter("list"),a=n.bulletCurrent;let s=t.ordered?SDe(n):uU(n);const o=t.ordered?s==="."?")":".":_De(n);let l=e&&n.bulletLastUsed?s===n.bulletLastUsed:!1;if(!t.ordered){const u=t.children?t.children[0]:void 0;if((s==="*"||s==="-")&&u&&(!u.children||!u.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),aQ(n)===s&&u){let f=-1;for(;++f<t.children.length;){const h=t.children[f];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(s=o),n.bulletCurrent=s;const c=n.containerFlow(t,i);return n.bulletLastUsed=s,n.bulletCurrent=a,r(),c}function EDe(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function MDe(t,e,n,i){const r=EDe(n);let a=n.bulletCurrent||uU(n);e&&e.type==="list"&&e.ordered&&(a=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+a);let s=a.length+1;(r==="tab"||r==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(s=Math.ceil(s/4)*4);const o=n.createTracker(i);o.move(a+" ".repeat(s-a.length)),o.shift(s);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(t,o.current()),u);return l(),c;function u(f,h,d){return h?(d?"":" ".repeat(s))+f:(d?a:a+" ".repeat(s-a.length))+f}}function ADe(t,e,n,i){const r=n.enter("paragraph"),a=n.enter("phrasing"),s=n.containerPhrasing(t,i);return a(),r(),s}const TDe=t2(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function CDe(t,e,n,i){return(t.children.some(function(s){return TDe(s)})?n.containerPhrasing:n.containerFlow).call(n,t,i)}function RDe(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}sQ.peek=kDe;function sQ(t,e,n,i){const r=RDe(n),a=n.enter("strong"),s=n.createTracker(i),o=s.move(r+r);let l=s.move(n.containerPhrasing(t,{after:r,before:o,...s.current()}));const c=l.charCodeAt(0),u=GA(i.before.charCodeAt(i.before.length-1),c,r);u.inside&&(l=F1(c)+l.slice(1));const f=l.charCodeAt(l.length-1),h=GA(i.after.charCodeAt(0),f,r);h.inside&&(l=l.slice(0,-1)+F1(f));const d=s.move(r+r);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:u.outside},o+l+d}function kDe(t,e,n){return n.options.strong||"*"}function DDe(t,e,n,i){return n.safe(t.value,i)}function NDe(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function IDe(t,e,n){const i=(aQ(n)+(n.options.ruleSpaces?" ":"")).repeat(NDe(n));return n.options.ruleSpaces?i.slice(0,-1):i}const oQ={blockquote:nDe,break:q6,code:lDe,definition:uDe,emphasis:$Z,hardBreak:q6,heading:pDe,html:ZZ,image:QZ,imageReference:eQ,inlineCode:tQ,link:iQ,linkReference:rQ,list:wDe,listItem:MDe,paragraph:ADe,root:CDe,strong:sQ,text:DDe,thematicBreak:IDe};function ODe(){return{enter:{table:LDe,tableData:X6,tableHeader:X6,tableRow:UDe},exit:{codeText:FDe,table:PDe,tableData:b8,tableHeader:b8,tableRow:b8}}}function LDe(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function PDe(t){this.exit(t),this.data.inTable=void 0}function UDe(t){this.enter({type:"tableRow",children:[]},t)}function b8(t){this.exit(t)}function X6(t){this.enter({type:"tableCell",children:[]},t)}function FDe(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,zDe));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function zDe(t,e){return e==="|"?e:t}function jDe(t){const e=t||{},n=e.tableCellPadding,i=e.tablePipeAlign,r=e.stringLength,a=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:s,tableCell:l,tableRow:o}};function s(d,b,y,v){return c(u(d,y,v),d.align)}function o(d,b,y,v){const m=f(d,y,v),x=c([m]);return x.slice(0,x.indexOf(`
`))}function l(d,b,y,v){const m=y.enter("tableCell"),x=y.enter("phrasing"),_=y.containerPhrasing(d,{...v,before:a,after:a});return x(),m(),_}function c(d,b){return eDe(d,{align:b,alignDelimiters:i,padding:n,stringLength:r})}function u(d,b,y){const v=d.children;let m=-1;const x=[],_=b.enter("table");for(;++m<v.length;)x[m]=f(v[m],b,y);return _(),x}function f(d,b,y){const v=d.children;let m=-1;const x=[],_=b.enter("tableRow");for(;++m<v.length;)x[m]=l(v[m],d,b,y);return _(),x}function h(d,b,y){let v=oQ.inlineCode(d,b,y);return y.stack.includes("tableCell")&&(v=v.replace(/\|/g,"\\$&")),v}}function BDe(){return{exit:{taskListCheckValueChecked:K6,taskListCheckValueUnchecked:K6,paragraph:VDe}}}function HDe(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:GDe}}}function K6(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function VDe(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const i=n.children[0];if(i&&i.type==="text"){const r=e.children;let a=-1,s;for(;++a<r.length;){const o=r[a];if(o.type==="paragraph"){s=o;break}}s===n&&(i.value=i.value.slice(1),i.value.length===0?n.children.shift():n.position&&i.position&&typeof i.position.start.offset=="number"&&(i.position.start.column++,i.position.start.offset++,n.position.start=Object.assign({},i.position.start)))}}this.exit(t)}function GDe(t,e,n,i){const r=t.children[0],a=typeof t.checked=="boolean"&&r&&r.type==="paragraph",s="["+(t.checked?"x":" ")+"] ",o=n.createTracker(i);a&&o.move(s);let l=oQ.listItem(t,e,n,{...i,...o.current()});return a&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(u){return u+s}}function WDe(){return[w8e(),G8e(),K8e(),ODe(),BDe()]}function qDe(t){return{extensions:[E8e(),W8e(t),Y8e(),jDe(t),HDe()]}}const XDe={tokenize:QDe,partial:!0},lQ={tokenize:eNe,partial:!0},cQ={tokenize:tNe,partial:!0},uQ={tokenize:nNe,partial:!0},KDe={tokenize:iNe,partial:!0},fQ={name:"wwwAutolink",tokenize:$De,previous:dQ},hQ={name:"protocolAutolink",tokenize:ZDe,previous:pQ},xh={name:"emailAutolink",tokenize:JDe,previous:mQ},lf={};function YDe(){return{text:lf}}let Pp=48;for(;Pp<123;)lf[Pp]=xh,Pp++,Pp===58?Pp=65:Pp===91&&(Pp=97);lf[43]=xh;lf[45]=xh;lf[46]=xh;lf[95]=xh;lf[72]=[xh,hQ];lf[104]=[xh,hQ];lf[87]=[xh,fQ];lf[119]=[xh,fQ];function JDe(t,e,n){const i=this;let r,a;return s;function s(f){return!YN(f)||!mQ.call(i,i.previous)||fU(i.events)?n(f):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),o(f))}function o(f){return YN(f)?(t.consume(f),o):f===64?(t.consume(f),l):n(f)}function l(f){return f===46?t.check(KDe,u,c)(f):f===45||f===95||zs(f)?(a=!0,t.consume(f),l):u(f)}function c(f){return t.consume(f),r=!0,l}function u(f){return a&&r&&Ps(i.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(f)):n(f)}}function $De(t,e,n){const i=this;return r;function r(s){return s!==87&&s!==119||!dQ.call(i,i.previous)||fU(i.events)?n(s):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(XDe,t.attempt(lQ,t.attempt(cQ,a),n),n)(s))}function a(s){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(s)}}function ZDe(t,e,n){const i=this;let r="",a=!1;return s;function s(f){return(f===72||f===104)&&pQ.call(i,i.previous)&&!fU(i.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),r+=String.fromCodePoint(f),t.consume(f),o):n(f)}function o(f){if(Ps(f)&&r.length<5)return r+=String.fromCodePoint(f),t.consume(f),o;if(f===58){const h=r.toLowerCase();if(h==="http"||h==="https")return t.consume(f),l}return n(f)}function l(f){return f===47?(t.consume(f),a?c:(a=!0,l)):n(f)}function c(f){return f===null||jA(f)||Ri(f)||ro(f)||ZC(f)?n(f):t.attempt(lQ,t.attempt(cQ,u),n)(f)}function u(f){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(f)}}function QDe(t,e,n){let i=0;return r;function r(s){return(s===87||s===119)&&i<3?(i++,t.consume(s),r):s===46&&i===3?(t.consume(s),a):n(s)}function a(s){return s===null?n(s):e(s)}}function eNe(t,e,n){let i,r,a;return s;function s(c){return c===46||c===95?t.check(uQ,l,o)(c):c===null||Ri(c)||ro(c)||c!==45&&ZC(c)?l(c):(a=!0,t.consume(c),s)}function o(c){return c===95?i=!0:(r=i,i=void 0),t.consume(c),s}function l(c){return r||i||!a?n(c):e(c)}}function tNe(t,e){let n=0,i=0;return r;function r(s){return s===40?(n++,t.consume(s),r):s===41&&i<n?a(s):s===33||s===34||s===38||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===60||s===63||s===93||s===95||s===126?t.check(uQ,e,a)(s):s===null||Ri(s)||ro(s)?e(s):(t.consume(s),r)}function a(s){return s===41&&i++,t.consume(s),r}}function nNe(t,e,n){return i;function i(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(t.consume(o),i):o===38?(t.consume(o),a):o===93?(t.consume(o),r):o===60||o===null||Ri(o)||ro(o)?e(o):n(o)}function r(o){return o===null||o===40||o===91||Ri(o)||ro(o)?e(o):i(o)}function a(o){return Ps(o)?s(o):n(o)}function s(o){return o===59?(t.consume(o),i):Ps(o)?(t.consume(o),s):n(o)}}function iNe(t,e,n){return i;function i(a){return t.consume(a),r}function r(a){return zs(a)?n(a):e(a)}}function dQ(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||Ri(t)}function pQ(t){return!Ps(t)}function mQ(t){return!(t===47||YN(t))}function YN(t){return t===43||t===45||t===46||t===95||zs(t)}function fU(t){let e=t.length,n=!1;for(;e--;){const i=t[e][1];if((i.type==="labelLink"||i.type==="labelImage")&&!i._balanced){n=!0;break}if(i._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const rNe={tokenize:hNe,partial:!0};function aNe(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:cNe,continuation:{tokenize:uNe},exit:fNe}},text:{91:{name:"gfmFootnoteCall",tokenize:lNe},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:sNe,resolveTo:oNe}}}}function sNe(t,e,n){const i=this;let r=i.events.length;const a=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let s;for(;r--;){const l=i.events[r][1];if(l.type==="labelImage"){s=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return o;function o(l){if(!s||!s._balanced)return n(l);const c=ru(i.sliceSerialize({start:s.end,end:i.now()}));return c.codePointAt(0)!==94||!a.includes(c.slice(1))?n(l):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(l),t.exit("gfmFootnoteCallLabelMarker"),e(l))}}function oNe(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const i={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},r={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};r.end.column++,r.end.offset++,r.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},r.end),end:Object.assign({},t[t.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},o=[t[n+1],t[n+2],["enter",i,e],t[n+3],t[n+4],["enter",r,e],["exit",r,e],["enter",a,e],["enter",s,e],["exit",s,e],["exit",a,e],t[t.length-2],t[t.length-1],["exit",i,e]];return t.splice(n,t.length-n+1,...o),t}function lNe(t,e,n){const i=this,r=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let a=0,s;return o;function o(f){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(f),t.exit("gfmFootnoteCallLabelMarker"),l}function l(f){return f!==94?n(f):(t.enter("gfmFootnoteCallMarker"),t.consume(f),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",c)}function c(f){if(a>999||f===93&&!s||f===null||f===91||Ri(f))return n(f);if(f===93){t.exit("chunkString");const h=t.exit("gfmFootnoteCallString");return r.includes(ru(i.sliceSerialize(h)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(f),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(f)}return Ri(f)||(s=!0),a++,t.consume(f),f===92?u:c}function u(f){return f===91||f===92||f===93?(t.consume(f),a++,c):c(f)}}function cNe(t,e,n){const i=this,r=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let a,s=0,o;return l;function l(b){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(b),t.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(b){return b===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(b),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",u):n(b)}function u(b){if(s>999||b===93&&!o||b===null||b===91||Ri(b))return n(b);if(b===93){t.exit("chunkString");const y=t.exit("gfmFootnoteDefinitionLabelString");return a=ru(i.sliceSerialize(y)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(b),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),h}return Ri(b)||(o=!0),s++,t.consume(b),b===92?f:u}function f(b){return b===91||b===92||b===93?(t.consume(b),s++,u):u(b)}function h(b){return b===58?(t.enter("definitionMarker"),t.consume(b),t.exit("definitionMarker"),r.includes(a)||r.push(a),bi(t,d,"gfmFootnoteDefinitionWhitespace")):n(b)}function d(b){return e(b)}}function uNe(t,e,n){return t.check(Xy,e,t.attempt(rNe,e,n))}function fNe(t){t.exit("gfmFootnoteDefinition")}function hNe(t,e,n){const i=this;return bi(t,r,"gfmFootnoteDefinitionIndent",5);function r(a){const s=i.events[i.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?e(a):n(a)}}function dNe(t){let n=(t||{}).singleTilde;const i={name:"strikethrough",tokenize:a,resolveAll:r};return n==null&&(n=!0),{text:{126:i},insideSpan:{null:[i]},attentionMarkers:{null:[126]}};function r(s,o){let l=-1;for(;++l<s.length;)if(s[l][0]==="enter"&&s[l][1].type==="strikethroughSequenceTemporary"&&s[l][1]._close){let c=l;for(;c--;)if(s[c][0]==="exit"&&s[c][1].type==="strikethroughSequenceTemporary"&&s[c][1]._open&&s[l][1].end.offset-s[l][1].start.offset===s[c][1].end.offset-s[c][1].start.offset){s[l][1].type="strikethroughSequence",s[c][1].type="strikethroughSequence";const u={type:"strikethrough",start:Object.assign({},s[c][1].start),end:Object.assign({},s[l][1].end)},f={type:"strikethroughText",start:Object.assign({},s[c][1].end),end:Object.assign({},s[l][1].start)},h=[["enter",u,o],["enter",s[c][1],o],["exit",s[c][1],o],["enter",f,o]],d=o.parser.constructs.insideSpan.null;d&&pl(h,h.length,0,QC(d,s.slice(c+1,l),o)),pl(h,h.length,0,[["exit",f,o],["enter",s[l][1],o],["exit",s[l][1],o],["exit",u,o]]),pl(s,c-1,l-c+3,h),l=c+h.length-2;break}}for(l=-1;++l<s.length;)s[l][1].type==="strikethroughSequenceTemporary"&&(s[l][1].type="data");return s}function a(s,o,l){const c=this.previous,u=this.events;let f=0;return h;function h(b){return c===126&&u[u.length-1][1].type!=="characterEscape"?l(b):(s.enter("strikethroughSequenceTemporary"),d(b))}function d(b){const y=oy(c);if(b===126)return f>1?l(b):(s.consume(b),f++,d);if(f<2&&!n)return l(b);const v=s.exit("strikethroughSequenceTemporary"),m=oy(b);return v._open=!m||m===2&&!!y,v._close=!y||y===2&&!!m,o(b)}}}class pNe{constructor(){this.map=[]}add(e,n,i){mNe(this,e,n,i)}consume(e){if(this.map.sort(function(a,s){return a[0]-s[0]}),this.map.length===0)return;let n=this.map.length;const i=[];for(;n>0;)n-=1,i.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];i.push(e.slice()),e.length=0;let r=i.pop();for(;r;){for(const a of r)e.push(a);r=i.pop()}this.map.length=0}}function mNe(t,e,n,i){let r=0;if(!(n===0&&i.length===0)){for(;r<t.map.length;){if(t.map[r][0]===e){t.map[r][1]+=n,t.map[r][2].push(...i);return}r+=1}t.map.push([e,n,i])}}function gNe(t,e){let n=!1;const i=[];for(;e<t.length;){const r=t[e];if(n){if(r[0]==="enter")r[1].type==="tableContent"&&i.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(r[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const a=i.length-1;i[a]=i[a]==="left"?"center":"right"}}else if(r[1].type==="tableDelimiterRow")break}else r[0]==="enter"&&r[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return i}function bNe(){return{flow:{null:{name:"table",tokenize:yNe,resolveAll:vNe}}}}function yNe(t,e,n){const i=this;let r=0,a=0,s;return o;function o(D){let P=i.events.length-1;for(;P>-1;){const H=i.events[P][1].type;if(H==="lineEnding"||H==="linePrefix")P--;else break}const B=P>-1?i.events[P][1].type:null,G=B==="tableHead"||B==="tableRow"?w:l;return G===w&&i.parser.lazy[i.now().line]?n(D):G(D)}function l(D){return t.enter("tableHead"),t.enter("tableRow"),c(D)}function c(D){return D===124||(s=!0,a+=1),u(D)}function u(D){return D===null?n(D):hn(D)?a>1?(a=0,i.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(D),t.exit("lineEnding"),d):n(D):Jn(D)?bi(t,u,"whitespace")(D):(a+=1,s&&(s=!1,r+=1),D===124?(t.enter("tableCellDivider"),t.consume(D),t.exit("tableCellDivider"),s=!0,u):(t.enter("data"),f(D)))}function f(D){return D===null||D===124||Ri(D)?(t.exit("data"),u(D)):(t.consume(D),D===92?h:f)}function h(D){return D===92||D===124?(t.consume(D),f):f(D)}function d(D){return i.interrupt=!1,i.parser.lazy[i.now().line]?n(D):(t.enter("tableDelimiterRow"),s=!1,Jn(D)?bi(t,b,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):b(D))}function b(D){return D===45||D===58?v(D):D===124?(s=!0,t.enter("tableCellDivider"),t.consume(D),t.exit("tableCellDivider"),y):A(D)}function y(D){return Jn(D)?bi(t,v,"whitespace")(D):v(D)}function v(D){return D===58?(a+=1,s=!0,t.enter("tableDelimiterMarker"),t.consume(D),t.exit("tableDelimiterMarker"),m):D===45?(a+=1,m(D)):D===null||hn(D)?E(D):A(D)}function m(D){return D===45?(t.enter("tableDelimiterFiller"),x(D)):A(D)}function x(D){return D===45?(t.consume(D),x):D===58?(s=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(D),t.exit("tableDelimiterMarker"),_):(t.exit("tableDelimiterFiller"),_(D))}function _(D){return Jn(D)?bi(t,E,"whitespace")(D):E(D)}function E(D){return D===124?b(D):D===null||hn(D)?!s||r!==a?A(D):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(D)):A(D)}function A(D){return n(D)}function w(D){return t.enter("tableRow"),T(D)}function T(D){return D===124?(t.enter("tableCellDivider"),t.consume(D),t.exit("tableCellDivider"),T):D===null||hn(D)?(t.exit("tableRow"),e(D)):Jn(D)?bi(t,T,"whitespace")(D):(t.enter("data"),k(D))}function k(D){return D===null||D===124||Ri(D)?(t.exit("data"),T(D)):(t.consume(D),D===92?N:k)}function N(D){return D===92||D===124?(t.consume(D),k):k(D)}}function vNe(t,e){let n=-1,i=!0,r=0,a=[0,0,0,0],s=[0,0,0,0],o=!1,l=0,c,u,f;const h=new pNe;for(;++n<t.length;){const d=t[n],b=d[1];d[0]==="enter"?b.type==="tableHead"?(o=!1,l!==0&&(Y6(h,e,l,c,u),u=void 0,l=0),c={type:"table",start:Object.assign({},b.start),end:Object.assign({},b.end)},h.add(n,0,[["enter",c,e]])):b.type==="tableRow"||b.type==="tableDelimiterRow"?(i=!0,f=void 0,a=[0,0,0,0],s=[0,n+1,0,0],o&&(o=!1,u={type:"tableBody",start:Object.assign({},b.start),end:Object.assign({},b.end)},h.add(n,0,[["enter",u,e]])),r=b.type==="tableDelimiterRow"?2:u?3:1):r&&(b.type==="data"||b.type==="tableDelimiterMarker"||b.type==="tableDelimiterFiller")?(i=!1,s[2]===0&&(a[1]!==0&&(s[0]=s[1],f=rE(h,e,a,r,void 0,f),a=[0,0,0,0]),s[2]=n)):b.type==="tableCellDivider"&&(i?i=!1:(a[1]!==0&&(s[0]=s[1],f=rE(h,e,a,r,void 0,f)),a=s,s=[a[1],n,0,0])):b.type==="tableHead"?(o=!0,l=n):b.type==="tableRow"||b.type==="tableDelimiterRow"?(l=n,a[1]!==0?(s[0]=s[1],f=rE(h,e,a,r,n,f)):s[1]!==0&&(f=rE(h,e,s,r,n,f)),r=0):r&&(b.type==="data"||b.type==="tableDelimiterMarker"||b.type==="tableDelimiterFiller")&&(s[3]=n)}for(l!==0&&Y6(h,e,l,c,u),h.consume(e.events),n=-1;++n<e.events.length;){const d=e.events[n];d[0]==="enter"&&d[1].type==="table"&&(d[1]._align=gNe(e.events,n))}return t}function rE(t,e,n,i,r,a){const s=i===1?"tableHeader":i===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(a.end=Object.assign({},Pb(e.events,n[0])),t.add(n[0],0,[["exit",a,e]]));const l=Pb(e.events,n[1]);if(a={type:s,start:Object.assign({},l),end:Object.assign({},l)},t.add(n[1],0,[["enter",a,e]]),n[2]!==0){const c=Pb(e.events,n[2]),u=Pb(e.events,n[3]),f={type:o,start:Object.assign({},c),end:Object.assign({},u)};if(t.add(n[2],0,[["enter",f,e]]),i!==2){const h=e.events[n[2]],d=e.events[n[3]];if(h[1].end=Object.assign({},d[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const b=n[2]+1,y=n[3]-n[2]-1;t.add(b,y,[])}}t.add(n[3]+1,0,[["exit",f,e]])}return r!==void 0&&(a.end=Object.assign({},Pb(e.events,r)),t.add(r,0,[["exit",a,e]]),a=void 0),a}function Y6(t,e,n,i,r){const a=[],s=Pb(e.events,n);r&&(r.end=Object.assign({},s),a.push(["exit",r,e])),i.end=Object.assign({},s),a.push(["exit",i,e]),t.add(n+1,0,a)}function Pb(t,e){const n=t[e],i=n[0]==="enter"?"start":"end";return n[1][i]}const xNe={name:"tasklistCheck",tokenize:SNe};function _Ne(){return{text:{91:xNe}}}function SNe(t,e,n){const i=this;return r;function r(l){return i.previous!==null||!i._gfmTasklistFirstContentOfListItem?n(l):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),a)}function a(l){return Ri(l)?(t.enter("taskListCheckValueUnchecked"),t.consume(l),t.exit("taskListCheckValueUnchecked"),s):l===88||l===120?(t.enter("taskListCheckValueChecked"),t.consume(l),t.exit("taskListCheckValueChecked"),s):n(l)}function s(l){return l===93?(t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),o):n(l)}function o(l){return hn(l)?e(l):Jn(l)?t.check({tokenize:wNe},e,n)(l):n(l)}}function wNe(t,e,n){return bi(t,i,"whitespace");function i(r){return r===null?n(r):e(r)}}function ENe(t){return tU([YDe(),aNe(),dNe(t),bNe(),_Ne()])}const MNe={};function ANe(t){const e=this,n=t||MNe,i=e.data(),r=i.micromarkExtensions||(i.micromarkExtensions=[]),a=i.fromMarkdownExtensions||(i.fromMarkdownExtensions=[]),s=i.toMarkdownExtensions||(i.toMarkdownExtensions=[]);r.push(ENe(n)),a.push(WDe()),s.push(qDe(n))}const TNe=function(t){return CNe(t)};function CNe(t){return RNe(e);function e(n){return n&&n.type===t}}function RNe(t){return e;function e(n,...i){return!!(n&&typeof n=="object"&&"type"in n&&t.call(this,n,...i))}}const kNe=!0,J6=!1,DNe="skip",NNe=function(t,e,n,i){const r=TNe(e),a=1;s(t,void 0,[])();function s(o,l,c){const u=o&&typeof o=="object"?o:{};if(typeof u.type=="string"){const h=typeof u.tagName=="string"?u.tagName:typeof u.name=="string"?u.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(o.type+(h?"<"+h+">":""))+")"})}return f;function f(){let h=[],d,b,y;if(r(o,l,c[c.length-1]||null)&&(h=INe(n(o,c)),h[0]===J6))return h;if(o.children&&h[0]!==DNe)for(b=-1+a,y=c.concat(o);b>-1&&b<o.children.length;){if(d=s(o.children[b],b,y)(),d[0]===J6)return d;b=typeof d[1]=="number"?d[1]:b+a}return h}}};function INe(t){return Array.isArray(t)?t:typeof t=="number"?[kNe,t]:[t]}const ONe=function(t,e,n,i){NNe(t,e,r);function r(a,s){const o=s[s.length-1];return n(a,o?o.children.indexOf(a):null,o)}};function LNe(t){return"children"in t?gQ(t):"value"in t?t.value:""}function PNe(t){return t.type==="text"?t.value:"children"in t?gQ(t):""}function gQ(t){let e=-1;const n=[];for(;++e<t.children.length;)n[e]=PNe(t.children[e]);return n.join("")}function hU(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function bQ(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function j_(){}var z1=.7,WA=1/z1,x0="\\s*([+-]?\\d+)\\s*",j1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",UNe=/^#([0-9a-f]{3,8})$/,FNe=new RegExp(`^rgb\\(${x0},${x0},${x0}\\)$`),zNe=new RegExp(`^rgb\\(${Yu},${Yu},${Yu}\\)$`),jNe=new RegExp(`^rgba\\(${x0},${x0},${x0},${j1}\\)$`),BNe=new RegExp(`^rgba\\(${Yu},${Yu},${Yu},${j1}\\)$`),HNe=new RegExp(`^hsl\\(${j1},${Yu},${Yu}\\)$`),VNe=new RegExp(`^hsla\\(${j1},${Yu},${Yu},${j1}\\)$`),$6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};hU(j_,i2,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Z6,formatHex:Z6,formatHex8:GNe,formatHsl:WNe,formatRgb:Q6,toString:Q6});function Z6(){return this.rgb().formatHex()}function GNe(){return this.rgb().formatHex8()}function WNe(){return yQ(this).formatHsl()}function Q6(){return this.rgb().formatRgb()}function i2(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=UNe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?eH(e):n===3?new Co(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?aE(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?aE(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=FNe.exec(t))?new Co(e[1],e[2],e[3],1):(e=zNe.exec(t))?new Co(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=jNe.exec(t))?aE(e[1],e[2],e[3],e[4]):(e=BNe.exec(t))?aE(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=HNe.exec(t))?iH(e[1],e[2]/100,e[3]/100,1):(e=VNe.exec(t))?iH(e[1],e[2]/100,e[3]/100,e[4]):$6.hasOwnProperty(t)?eH($6[t]):t==="transparent"?new Co(NaN,NaN,NaN,0):null}function eH(t){return new Co(t>>16&255,t>>8&255,t&255,1)}function aE(t,e,n,i){return i<=0&&(t=e=n=NaN),new Co(t,e,n,i)}function qNe(t){return t instanceof j_||(t=i2(t)),t?(t=t.rgb(),new Co(t.r,t.g,t.b,t.opacity)):new Co}function XNe(t,e,n,i){return arguments.length===1?qNe(t):new Co(t,e,n,i??1)}function Co(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}hU(Co,XNe,bQ(j_,{brighter(t){return t=t==null?WA:Math.pow(WA,t),new Co(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?z1:Math.pow(z1,t),new Co(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Co(Rm(this.r),Rm(this.g),Rm(this.b),qA(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tH,formatHex:tH,formatHex8:KNe,formatRgb:nH,toString:nH}));function tH(){return`#${um(this.r)}${um(this.g)}${um(this.b)}`}function KNe(){return`#${um(this.r)}${um(this.g)}${um(this.b)}${um((isNaN(this.opacity)?1:this.opacity)*255)}`}function nH(){const t=qA(this.opacity);return`${t===1?"rgb(":"rgba("}${Rm(this.r)}, ${Rm(this.g)}, ${Rm(this.b)}${t===1?")":`, ${t})`}`}function qA(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Rm(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function um(t){return t=Rm(t),(t<16?"0":"")+t.toString(16)}function iH(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Kc(t,e,n,i)}function yQ(t){if(t instanceof Kc)return new Kc(t.h,t.s,t.l,t.opacity);if(t instanceof j_||(t=i2(t)),!t)return new Kc;if(t instanceof Kc)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),a=Math.max(e,n,i),s=NaN,o=a-r,l=(a+r)/2;return o?(e===a?s=(n-i)/o+(n<i)*6:n===a?s=(i-e)/o+2:s=(e-n)/o+4,o/=l<.5?a+r:2-a-r,s*=60):o=l>0&&l<1?0:s,new Kc(s,o,l,t.opacity)}function YNe(t,e,n,i){return arguments.length===1?yQ(t):new Kc(t,e,n,i??1)}function Kc(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}hU(Kc,YNe,bQ(j_,{brighter(t){return t=t==null?WA:Math.pow(WA,t),new Kc(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?z1:Math.pow(z1,t),new Kc(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new Co(y8(t>=240?t-240:t+120,r,i),y8(t,r,i),y8(t<120?t+240:t-120,r,i),this.opacity)},clamp(){return new Kc(rH(this.h),sE(this.s),sE(this.l),qA(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=qA(this.opacity);return`${t===1?"hsl(":"hsla("}${rH(this.h)}, ${sE(this.s)*100}%, ${sE(this.l)*100}%${t===1?")":`, ${t})`}`}}));function rH(t){return t=(t||0)%360,t<0?t+360:t}function sE(t){return Math.max(0,Math.min(1,t||0))}function y8(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}function JNe(t){return t===void 0&&(t={customClassName:"gfm-color-chip"}),function(e){ONe(e,"element",function(n){if(n.tagName==="code"&&n.properties){var i=LNe(n),r=i2(i);r&&n.children.push({type:"element",tagName:"span",properties:{className:[t.customClassName],style:"background-color: "+r.formatHex()+";"},children:[]})}})}}function $Ne(){return t=>{z_(t,"element",(e,n,i)=>{e.tagName==="code"&&i&&i.type==="element"&&i.tagName==="pre"&&(e.properties={block:!0,...e.properties})})}}function ZNe(t){return C.jsx(iu,{...t})}function QNe(t){return C.jsx(wm,{...t})}function Tb(t,e){return C.jsx(sC,{order:e,...t})}function aH(t,e,n){return t.className=="contains-task-list"?C.jsx(H0,{type:n,...t,listStyleType:"none",children:e}):C.jsx(H0,{type:n,...t,children:e})}function eIe(t,e){return C.jsx(H0.Item,{...t,children:e})}function tIe(t,e){return C.jsx(vL,{...t,children:e})}function nIe(t){return C.jsx(mL,{...t})}function iIe(t){return C.jsx("cite",{style:{display:"block",fontSize:"0.875rem",marginTop:"0.625rem",color:"#909296",overflow:"hidden",textOverflow:"ellipsis"},...t})}function rIe(t){return C.jsx(xc,{...t,highlightOnHover:!0,withColumnBorders:!0})}function aIe(t){return C.jsx(g_,{maw:240,mx:"auto",radius:"md",...t})}const sIe={p:t=>ZNe(t),a:t=>QNe(t),h1:t=>Tb(t,1),h2:t=>Tb(t,2),h3:t=>Tb(t,3),h4:t=>Tb(t,4),h5:t=>Tb(t,5),h6:t=>Tb(t,6),ul:t=>aH(t,t.children??"","unordered"),ol:t=>aH(t,t.children??"","ordered"),li:t=>eIe(t,t.children??""),code:t=>tIe(t,t.children??""),pre:t=>C.jsx(C.Fragment,{children:t.children}),blockquote:t=>nIe(t),Cite:t=>iIe(t),table:t=>rIe(t),img:t=>aIe(t),"*":()=>C.jsx(C.Fragment,{})};async function oIe(t){const{default:e}=await b8e(t,{...aie,...AAe,development:!1,remarkPlugins:[ANe],rehypePlugins:[$Ne,JNe]});return e}function lIe(t){const[e,n]=I.useState(null);return I.useEffect(()=>{try{oIe(t.children??"").then(i=>{n(C.jsx(i,{components:sIe}))})}catch{n(C.jsx(sC,{order:2,children:"Error Parsing Markdown..."}))}},[t.children]),e}const cIe=I.createContext(null),v8={didCatch:!1,error:null};class uIe extends I.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=v8}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(e!==null){for(var n,i,r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];(n=(i=this.props).onReset)===null||n===void 0||n.call(i,{args:a,reason:"imperative-api"}),this.setState(v8)}}componentDidCatch(e,n){var i,r;(i=(r=this.props).onError)===null||i===void 0||i.call(r,e,n)}componentDidUpdate(e,n){const{didCatch:i}=this.state,{resetKeys:r}=this.props;if(i&&n.error!==null&&fIe(e.resetKeys,r)){var a,s;(a=(s=this.props).onReset)===null||a===void 0||a.call(s,{next:r,prev:e.resetKeys,reason:"keys"}),this.setState(v8)}}render(){const{children:e,fallbackRender:n,FallbackComponent:i,fallback:r}=this.props,{didCatch:a,error:s}=this.state;let o=e;if(a){const l={error:s,resetErrorBoundary:this.resetErrorBoundary};if(typeof n=="function")o=n(l);else if(i)o=I.createElement(i,l);else if(r!==void 0)o=r;else throw s}return I.createElement(cIe.Provider,{value:{didCatch:a,error:s,resetErrorBoundary:this.resetErrorBoundary}},o)}}function fIe(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return t.length!==e.length||t.some((n,i)=>!Object.is(n,e[i]))}function hIe({props:{visible:t,_markdown:e}}){return t?C.jsx(et,{pb:"xs",px:"sm",style:{maxWidth:"95%"},children:C.jsx(uIe,{fallback:C.jsx(iu,{style:{textAlign:"center"},children:"Markdown Failed to Render"}),children:C.jsx(lIe,{children:e})})}):null}var dU="_3o7djo0",dIe="_3o7djo1",pIe="_3o7djo2";const sH=ke.memo(function({jsonStr:e,aspectRatio:n,onExpand:i}){const[r,a]=ke.useState(!1);if(e==="")return C.jsx("div",{});const s=JSON.parse(e);s.layout.uirevision="true";const{ref:o,width:l}=JW();s.layout.width=l,s.layout.height=l*n;const c=ke.useRef(null);return ke.useEffect(()=>{Plotly.react(c.current,s.data,s.layout,s.config)},[s]),C.jsxs(xs,{ref:o,className:dU,withBorder:!0,style:{position:"relative"},onMouseEnter:i?()=>a(!0):void 0,onMouseLeave:i?()=>a(!1):void 0,children:[C.jsx("div",{ref:c}),i&&r&&C.jsx(Tr,{label:"Expand plot",children:C.jsx(_l,{onClick:i,variant:"subtle",color:"gray",size:"sm",style:{position:"absolute",bottom:8,right:8,backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(4px)",zIndex:1001},children:C.jsx(X$,{size:14})})})]})});function mIe({props:{visible:t,_plotly_json_str:e,aspect:n}}){if(!t)return null;const[i,{open:r,close:a}]=uc(!1);return C.jsxs(et,{children:[C.jsx(sH,{jsonStr:e,aspectRatio:n,onExpand:r}),C.jsx(mo,{opened:i,onClose:a,size:"xl",children:C.jsx(sH,{jsonStr:e,aspectRatio:n})})]})}var vQ={exports:{}};const gIe=!0,Pa="u-",bIe="uplot",yIe=Pa+"hz",vIe=Pa+"vt",xIe=Pa+"title",_Ie=Pa+"wrap",SIe=Pa+"under",wIe=Pa+"over",EIe=Pa+"axis",Qp=Pa+"off",MIe=Pa+"select",AIe=Pa+"cursor-x",TIe=Pa+"cursor-y",CIe=Pa+"cursor-pt",RIe=Pa+"legend",kIe=Pa+"live",DIe=Pa+"inline",NIe=Pa+"series",IIe=Pa+"marker",oH=Pa+"label",OIe=Pa+"value",xx="width",_x="height",Qv="top",lH="bottom",Cb="left",x8="right",pU="#000",cH=pU+"0",_8="mousemove",uH="mousedown",S8="mouseup",fH="mouseenter",hH="mouseleave",dH="dblclick",LIe="resize",PIe="scroll",pH="change",XA="dppxchange",mU="--",Yy=typeof window<"u",JN=Yy?document:null,_0=Yy?window:null,UIe=Yy?navigator:null;let Bi,oE;function $N(){let t=devicePixelRatio;Bi!=t&&(Bi=t,oE&&QN(pH,oE,$N),oE=matchMedia(`(min-resolution: ${Bi-.001}dppx) and (max-resolution: ${Bi+.001}dppx)`),km(pH,oE,$N),_0.dispatchEvent(new CustomEvent(XA)))}function il(t,e){if(e!=null){let n=t.classList;!n.contains(e)&&n.add(e)}}function ZN(t,e){let n=t.classList;n.contains(e)&&n.remove(e)}function kr(t,e,n){t.style[e]=n+"px"}function Uc(t,e,n,i){let r=JN.createElement(t);return e!=null&&il(r,e),n?.insertBefore(r,i),r}function jl(t,e){return Uc("div",t,e)}const mH=new WeakMap;function Ru(t,e,n,i,r){let a="translate("+e+"px,"+n+"px)",s=mH.get(t);a!=s&&(t.style.transform=a,mH.set(t,a),e<0||n<0||e>i||n>r?il(t,Qp):ZN(t,Qp))}const gH=new WeakMap;function bH(t,e,n){let i=e+n,r=gH.get(t);i!=r&&(gH.set(t,i),t.style.background=e,t.style.borderColor=n)}const yH=new WeakMap;function vH(t,e,n,i){let r=e+""+n,a=yH.get(t);r!=a&&(yH.set(t,r),t.style.height=n+"px",t.style.width=e+"px",t.style.marginLeft=i?-e/2+"px":0,t.style.marginTop=i?-n/2+"px":0)}const gU={passive:!0},FIe={...gU,capture:!0};function km(t,e,n,i){e.addEventListener(t,n,i?FIe:gU)}function QN(t,e,n,i){e.removeEventListener(t,n,gU)}Yy&&$N();function Bc(t,e,n,i){let r;n=n||0,i=i||e.length-1;let a=i<=2147483647;for(;i-n>1;)r=a?n+i>>1:ml((n+i)/2),e[r]<t?n=r:i=r;return t-e[n]<=e[i]-t?n:i}function xQ(t){return(n,i,r)=>{let a=-1,s=-1;for(let o=i;o<=r;o++)if(t(n[o])){a=o;break}for(let o=r;o>=i;o--)if(t(n[o])){s=o;break}return[a,s]}}const _Q=t=>t!=null,SQ=t=>t!=null&&t>0,r2=xQ(_Q),zIe=xQ(SQ);function jIe(t,e,n,i=0,r=!1){let a=r?zIe:r2,s=r?SQ:_Q;[e,n]=a(t,e,n);let o=t[e],l=t[e];if(e>-1)if(i==1)o=t[e],l=t[n];else if(i==-1)o=t[n],l=t[e];else for(let c=e;c<=n;c++){let u=t[c];s(u)&&(u<o?o=u:u>l&&(l=u))}return[o??mr,l??-mr]}function a2(t,e,n,i){let r=SH(t),a=SH(e);t==e&&(r==-1?(t*=n,e/=n):(t/=n,e*=n));let s=n==10?Qf:wQ,o=r==1?ml:ql,l=a==1?ql:ml,c=o(s(ka(t))),u=l(s(ka(e))),f=ly(n,c),h=ly(n,u);return n==10&&(c<0&&(f=gr(f,-c)),u<0&&(h=gr(h,-u))),i||n==2?(t=f*r,e=h*a):(t=TQ(t,f),e=s2(e,h)),[t,e]}function bU(t,e,n,i){let r=a2(t,e,n,i);return t==0&&(r[0]=0),e==0&&(r[1]=0),r}const yU=.1,xH={mode:3,pad:yU},e1={pad:0,soft:null,mode:0},BIe={min:e1,max:e1};function KA(t,e,n,i){return o2(n)?_H(t,e,n):(e1.pad=n,e1.soft=i?0:null,e1.mode=i?3:0,_H(t,e,BIe))}function Fi(t,e){return t??e}function HIe(t,e,n){for(e=Fi(e,0),n=Fi(n,t.length-1);e<=n;){if(t[e]!=null)return!0;e++}return!1}function _H(t,e,n){let i=n.min,r=n.max,a=Fi(i.pad,0),s=Fi(r.pad,0),o=Fi(i.hard,-mr),l=Fi(r.hard,mr),c=Fi(i.soft,mr),u=Fi(r.soft,-mr),f=Fi(i.mode,0),h=Fi(r.mode,0),d=e-t,b=Qf(d),y=fo(ka(t),ka(e)),v=Qf(y),m=ka(v-b);(d<1e-24||m>10)&&(d=0,(t==0||e==0)&&(d=1e-24,f==2&&c!=mr&&(a=0),h==2&&u!=-mr&&(s=0)));let x=d||y||1e3,_=Qf(x),E=ly(10,ml(_)),A=x*(d==0?t==0?.1:1:a),w=gr(TQ(t-A,E/10),24),T=t>=c&&(f==1||f==3&&w<=c||f==2&&w>=c)?c:mr,k=fo(o,w<T&&t>=T?T:Yc(T,w)),N=x*(d==0?e==0?.1:1:s),D=gr(s2(e+N,E/10),24),P=e<=u&&(h==1||h==3&&D>=u||h==2&&D<=u)?u:-mr,B=Yc(l,D>P&&e<=P?P:fo(P,D));return k==B&&k==0&&(B=100),[k,B]}const VIe=new Intl.NumberFormat(Yy?UIe.language:"en-US"),vU=t=>VIe.format(t),Sl=Math,JE=Sl.PI,ka=Sl.abs,ml=Sl.floor,Ra=Sl.round,ql=Sl.ceil,Yc=Sl.min,fo=Sl.max,ly=Sl.pow,SH=Sl.sign,Qf=Sl.log10,wQ=Sl.log2,GIe=(t,e=1)=>Sl.sinh(t)*e,w8=(t,e=1)=>Sl.asinh(t/e),mr=1/0;function wH(t){return(Qf((t^t>>31)-(t>>31))|0)+1}function eI(t,e,n){return Yc(fo(t,e),n)}function EQ(t){return typeof t=="function"}function vi(t){return EQ(t)?t:()=>t}const WIe=()=>{},MQ=t=>t,AQ=(t,e)=>e,qIe=t=>null,EH=t=>!0,MH=(t,e)=>t==e,XIe=/\.\d*?(?=9{6,}|0{6,})/gm,Xm=t=>{if(RQ(t)||zd.has(t))return t;const e=`${t}`,n=e.match(XIe);if(n==null)return t;let i=n[0].length-1;if(e.indexOf("e-")!=-1){let[r,a]=e.split("e");return+`${Xm(r)}e${a}`}return gr(t,i)};function Xp(t,e){return Xm(gr(Xm(t/e))*e)}function s2(t,e){return Xm(ql(Xm(t/e))*e)}function TQ(t,e){return Xm(ml(Xm(t/e))*e)}function gr(t,e=0){if(RQ(t))return t;let n=10**e,i=t*n*(1+Number.EPSILON);return Ra(i)/n}const zd=new Map;function CQ(t){return((""+t).split(".")[1]||"").length}function B1(t,e,n,i){let r=[],a=i.map(CQ);for(let s=e;s<n;s++){let o=ka(s),l=gr(ly(t,s),o);for(let c=0;c<i.length;c++){let u=t==10?+`${i[c]}e${s}`:i[c]*l,f=(s>=0?0:o)+(s>=a[c]?0:a[c]),h=t==10?u:gr(u,f);r.push(h),zd.set(h,f)}}return r}const t1={},xU=[],cy=[null,null],rd=Array.isArray,RQ=Number.isInteger,KIe=t=>t===void 0;function AH(t){return typeof t=="string"}function o2(t){let e=!1;if(t!=null){let n=t.constructor;e=n==null||n==Object}return e}function YIe(t){return t!=null&&typeof t=="object"}const JIe=Object.getPrototypeOf(Uint8Array),kQ="__proto__";function uy(t,e=o2){let n;if(rd(t)){let i=t.find(r=>r!=null);if(rd(i)||e(i)){n=Array(t.length);for(let r=0;r<t.length;r++)n[r]=uy(t[r],e)}else n=t.slice()}else if(t instanceof JIe)n=t.slice();else if(e(t)){n={};for(let i in t)i!=kQ&&(n[i]=uy(t[i],e))}else n=t;return n}function Sa(t){let e=arguments;for(let n=1;n<e.length;n++){let i=e[n];for(let r in i)r!=kQ&&(o2(t[r])?Sa(t[r],uy(i[r])):t[r]=uy(i[r]))}return t}const $Ie=0,ZIe=1,QIe=2;function eOe(t,e,n){for(let i=0,r,a=-1;i<e.length;i++){let s=e[i];if(s>a){for(r=s-1;r>=0&&t[r]==null;)t[r--]=null;for(r=s+1;r<n&&t[r]==null;)t[a=r++]=null}}}function tOe(t,e){if(rOe(t)){let s=t[0].slice();for(let o=1;o<t.length;o++)s.push(...t[o].slice(1));return aOe(s[0])||(s=iOe(s)),s}let n=new Set;for(let s=0;s<t.length;s++){let l=t[s][0],c=l.length;for(let u=0;u<c;u++)n.add(l[u])}let i=[Array.from(n).sort((s,o)=>s-o)],r=i[0].length,a=new Map;for(let s=0;s<r;s++)a.set(i[0][s],s);for(let s=0;s<t.length;s++){let o=t[s],l=o[0];for(let c=1;c<o.length;c++){let u=o[c],f=Array(r).fill(void 0),h=e?e[s][c]:ZIe,d=[];for(let b=0;b<u.length;b++){let y=u[b],v=a.get(l[b]);y===null?h!=$Ie&&(f[v]=y,h==QIe&&d.push(v)):f[v]=y}eOe(f,d,r),i.push(f)}}return i}const nOe=typeof queueMicrotask>"u"?t=>Promise.resolve().then(t):queueMicrotask;function iOe(t){let e=t[0],n=e.length,i=Array(n);for(let a=0;a<i.length;a++)i[a]=a;i.sort((a,s)=>e[a]-e[s]);let r=[];for(let a=0;a<t.length;a++){let s=t[a],o=Array(n);for(let l=0;l<n;l++)o[l]=s[i[l]];r.push(o)}return r}function rOe(t){let e=t[0][0],n=e.length;for(let i=1;i<t.length;i++){let r=t[i][0];if(r.length!=n)return!1;if(r!=e){for(let a=0;a<n;a++)if(r[a]!=e[a])return!1}}return!0}function aOe(t,e=100){const n=t.length;if(n<=1)return!0;let i=0,r=n-1;for(;i<=r&&t[i]==null;)i++;for(;r>=i&&t[r]==null;)r--;if(r<=i)return!0;const a=fo(1,ml((r-i+1)/e));for(let s=t[i],o=i+a;o<=r;o+=a){const l=t[o];if(l!=null){if(l<=s)return!1;s=l}}return!0}const DQ=["January","February","March","April","May","June","July","August","September","October","November","December"],NQ=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function IQ(t){return t.slice(0,3)}const sOe=NQ.map(IQ),oOe=DQ.map(IQ),lOe={MMMM:DQ,MMM:oOe,WWWW:NQ,WWW:sOe};function ex(t){return(t<10?"0":"")+t}function cOe(t){return(t<10?"00":t<100?"0":"")+t}const uOe={YYYY:t=>t.getFullYear(),YY:t=>(t.getFullYear()+"").slice(2),MMMM:(t,e)=>e.MMMM[t.getMonth()],MMM:(t,e)=>e.MMM[t.getMonth()],MM:t=>ex(t.getMonth()+1),M:t=>t.getMonth()+1,DD:t=>ex(t.getDate()),D:t=>t.getDate(),WWWW:(t,e)=>e.WWWW[t.getDay()],WWW:(t,e)=>e.WWW[t.getDay()],HH:t=>ex(t.getHours()),H:t=>t.getHours(),h:t=>{let e=t.getHours();return e==0?12:e>12?e-12:e},AA:t=>t.getHours()>=12?"PM":"AM",aa:t=>t.getHours()>=12?"pm":"am",a:t=>t.getHours()>=12?"p":"a",mm:t=>ex(t.getMinutes()),m:t=>t.getMinutes(),ss:t=>ex(t.getSeconds()),s:t=>t.getSeconds(),fff:t=>cOe(t.getMilliseconds())};function _U(t,e){e=e||lOe;let n=[],i=/\{([a-z]+)\}|[^{]+/gi,r;for(;r=i.exec(t);)n.push(r[0][0]=="{"?uOe[r[1]]:r[0]);return a=>{let s="";for(let o=0;o<n.length;o++)s+=typeof n[o]=="string"?n[o]:n[o](a,e);return s}}const fOe=new Intl.DateTimeFormat().resolvedOptions().timeZone;function hOe(t,e){let n;return e=="UTC"||e=="Etc/UTC"?n=new Date(+t+t.getTimezoneOffset()*6e4):e==fOe?n=t:(n=new Date(t.toLocaleString("en-US",{timeZone:e})),n.setMilliseconds(t.getMilliseconds())),n}const OQ=t=>t%1==0,YA=[1,2,2.5,5],dOe=B1(10,-32,0,YA),LQ=B1(10,0,32,YA),pOe=LQ.filter(OQ),Kp=dOe.concat(LQ),SU=`
`,PQ="{YYYY}",TH=SU+PQ,UQ="{M}/{D}",Sx=SU+UQ,lE=Sx+"/{YY}",FQ="{aa}",mOe="{h}:{mm}",Ub=mOe+FQ,CH=SU+Ub,RH=":{ss}",Zi=null;function zQ(t){let e=t*1e3,n=e*60,i=n*60,r=i*24,a=r*30,s=r*365,l=(t==1?B1(10,0,3,YA).filter(OQ):B1(10,-3,0,YA)).concat([e,e*5,e*10,e*15,e*30,n,n*5,n*10,n*15,n*30,i,i*2,i*3,i*4,i*6,i*8,i*12,r,r*2,r*3,r*4,r*5,r*6,r*7,r*8,r*9,r*10,r*15,a,a*2,a*3,a*4,a*6,s,s*2,s*5,s*10,s*25,s*50,s*100]);const c=[[s,PQ,Zi,Zi,Zi,Zi,Zi,Zi,1],[r*28,"{MMM}",TH,Zi,Zi,Zi,Zi,Zi,1],[r,UQ,TH,Zi,Zi,Zi,Zi,Zi,1],[i,"{h}"+FQ,lE,Zi,Sx,Zi,Zi,Zi,1],[n,Ub,lE,Zi,Sx,Zi,Zi,Zi,1],[e,RH,lE+" "+Ub,Zi,Sx+" "+Ub,Zi,CH,Zi,1],[t,RH+".{fff}",lE+" "+Ub,Zi,Sx+" "+Ub,Zi,CH,Zi,1]];function u(f){return(h,d,b,y,v,m)=>{let x=[],_=v>=s,E=v>=a&&v<s,A=f(b),w=gr(A*t,3),T=E8(A.getFullYear(),_?0:A.getMonth(),E||_?1:A.getDate()),k=gr(T*t,3);if(E||_){let N=E?v/a:0,D=_?v/s:0,P=w==k?w:gr(E8(T.getFullYear()+D,T.getMonth()+N,1)*t,3),B=new Date(Ra(P/t)),G=B.getFullYear(),H=B.getMonth();for(let V=0;P<=y;V++){let U=E8(G+D*V,H+N*V,1),F=U-f(gr(U*t,3));P=gr((+U+F)*t,3),P<=y&&x.push(P)}}else{let N=v>=r?r:v,D=ml(b)-ml(w),P=k+D+s2(w-k,N);x.push(P);let B=f(P),G=B.getHours()+B.getMinutes()/n+B.getSeconds()/i,H=v/i,V=h.axes[d]._space,U=m/V;for(;P=gr(P+v,t==1?0:3),!(P>y);)if(H>1){let F=ml(gr(G+H,6))%24,z=f(P).getHours()-F;z>1&&(z=-1),P-=z*i,G=(G+H)%24;let oe=x[x.length-1];gr((P-oe)/v,3)*U>=.7&&x.push(P)}else x.push(P)}return x}}return[l,c,u]}const[gOe,bOe,yOe]=zQ(1),[vOe,xOe,_Oe]=zQ(.001);B1(2,-53,53,[1]);function kH(t,e){return t.map(n=>n.map((i,r)=>r==0||r==8||i==null?i:e(r==1||n[8]==0?i:n[1]+i)))}function DH(t,e){return(n,i,r,a,s)=>{let o=e.find(b=>s>=b[0])||e[e.length-1],l,c,u,f,h,d;return i.map(b=>{let y=t(b),v=y.getFullYear(),m=y.getMonth(),x=y.getDate(),_=y.getHours(),E=y.getMinutes(),A=y.getSeconds(),w=v!=l&&o[2]||m!=c&&o[3]||x!=u&&o[4]||_!=f&&o[5]||E!=h&&o[6]||A!=d&&o[7]||o[1];return l=v,c=m,u=x,f=_,h=E,d=A,w(y)})}}function SOe(t,e){let n=_U(e);return(i,r,a,s,o)=>r.map(l=>n(t(l)))}function E8(t,e,n){return new Date(t,e,n)}function NH(t,e){return e(t)}const wOe="{YYYY}-{MM}-{DD} {h}:{mm}{aa}";function IH(t,e){return(n,i,r,a)=>a==null?mU:e(t(i))}function EOe(t,e){let n=t.series[e];return n.width?n.stroke(t,e):n.points.width?n.points.stroke(t,e):null}function MOe(t,e){return t.series[e].fill(t,e)}const AOe={show:!0,live:!0,isolate:!1,mount:WIe,markers:{show:!0,width:2,stroke:EOe,fill:MOe,dash:"solid"},idx:null,idxs:null,values:[]};function TOe(t,e){let n=t.cursor.points,i=jl(),r=n.size(t,e);kr(i,xx,r),kr(i,_x,r);let a=r/-2;kr(i,"marginLeft",a),kr(i,"marginTop",a);let s=n.width(t,e,r);return s&&kr(i,"borderWidth",s),i}function COe(t,e){let n=t.series[e].points;return n._fill||n._stroke}function ROe(t,e){let n=t.series[e].points;return n._stroke||n._fill}function kOe(t,e){return t.series[e].points.size}const M8=[0,0];function DOe(t,e,n){return M8[0]=e,M8[1]=n,M8}function cE(t,e,n,i=!0){return r=>{r.button==0&&(!i||r.target==e)&&n(r)}}function A8(t,e,n,i=!0){return r=>{(!i||r.target==e)&&n(r)}}const NOe={show:!0,x:!0,y:!0,lock:!1,move:DOe,points:{one:!1,show:TOe,size:kOe,width:0,stroke:ROe,fill:COe},bind:{mousedown:cE,mouseup:cE,click:cE,dblclick:cE,mousemove:A8,mouseleave:A8,mouseenter:A8},drag:{setScale:!0,x:!0,y:!1,dist:0,uni:null,click:(t,e)=>{e.stopPropagation(),e.stopImmediatePropagation()},_x:!1,_y:!1},focus:{dist:(t,e,n,i,r)=>i-r,prox:-1,bias:0},hover:{skip:[void 0],prox:null,bias:0},left:-10,top:-10,idx:null,dataIdx:null,idxs:null,event:null},jQ={show:!0,stroke:"rgba(0,0,0,0.07)",width:2},wU=Sa({},jQ,{filter:AQ}),BQ=Sa({},wU,{size:10}),HQ=Sa({},jQ,{show:!1}),EU='12px system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',VQ="bold "+EU,GQ=1.5,OH={show:!0,scale:"x",stroke:pU,space:50,gap:5,alignTo:1,size:50,labelGap:0,labelSize:30,labelFont:VQ,side:2,grid:wU,ticks:BQ,border:HQ,font:EU,lineGap:GQ,rotate:0},IOe="Value",OOe="Time",LH={show:!0,scale:"x",auto:!1,sorted:1,min:mr,max:-mr,idxs:[]};function LOe(t,e,n,i,r){return e.map(a=>a==null?"":vU(a))}function POe(t,e,n,i,r,a,s){let o=[],l=zd.get(r)||0;n=s?n:gr(s2(n,r),l);for(let c=n;c<=i;c=gr(c+r,l))o.push(Object.is(c,-0)?0:c);return o}function tI(t,e,n,i,r,a,s){const o=[],l=t.scales[t.axes[e].scale].log,c=l==10?Qf:wQ,u=ml(c(n));r=ly(l,u),l==10&&(r=Kp[Bc(r,Kp)]);let f=n,h=r*l;l==10&&(h=Kp[Bc(h,Kp)]);do o.push(f),f=f+r,l==10&&!zd.has(f)&&(f=gr(f,zd.get(r))),f>=h&&(r=f,h=r*l,l==10&&(h=Kp[Bc(h,Kp)]));while(f<=i);return o}function UOe(t,e,n,i,r,a,s){let l=t.scales[t.axes[e].scale].asinh,c=i>l?tI(t,e,fo(l,n),i,r):[l],u=i>=0&&n<=0?[0]:[];return(n<-l?tI(t,e,fo(l,-i),-n,r):[l]).reverse().map(h=>-h).concat(u,c)}const WQ=/./,FOe=/[12357]/,zOe=/[125]/,PH=/1/,nI=(t,e,n,i)=>t.map((r,a)=>e==4&&r==0||a%i==0&&n.test(r.toExponential()[r<0?1:0])?r:null);function jOe(t,e,n,i,r){let a=t.axes[n],s=a.scale,o=t.scales[s],l=t.valToPos,c=a._space,u=l(10,s),f=l(9,s)-u>=c?WQ:l(7,s)-u>=c?FOe:l(5,s)-u>=c?zOe:PH;if(f==PH){let h=ka(l(1,s)-u);if(h<c)return nI(e.slice().reverse(),o.distr,f,ql(c/h)).reverse()}return nI(e,o.distr,f,1)}function BOe(t,e,n,i,r){let a=t.axes[n],s=a.scale,o=a._space,l=t.valToPos,c=ka(l(1,s)-l(2,s));return c<o?nI(e.slice().reverse(),3,WQ,ql(o/c)).reverse():e}function HOe(t,e,n,i){return i==null?mU:e==null?"":vU(e)}const UH={show:!0,scale:"y",stroke:pU,space:30,gap:5,alignTo:1,size:50,labelGap:0,labelSize:30,labelFont:VQ,side:3,grid:wU,ticks:BQ,border:HQ,font:EU,lineGap:GQ,rotate:0};function VOe(t,e){let n=3+(t||1)*2;return gr(n*e,3)}function GOe(t,e){let{scale:n,idxs:i}=t.series[0],r=t._data[0],a=t.valToPos(r[i[0]],n,!0),s=t.valToPos(r[i[1]],n,!0),o=ka(s-a),l=t.series[e],c=o/(l.points.space*Bi);return i[1]-i[0]<=c}const FH={scale:null,auto:!0,sorted:0,min:mr,max:-mr},qQ=(t,e,n,i,r)=>r,zH={show:!0,auto:!0,sorted:0,gaps:qQ,alpha:1,facets:[Sa({},FH,{scale:"x"}),Sa({},FH,{scale:"y"})]},jH={scale:"y",auto:!0,sorted:0,show:!0,spanGaps:!1,gaps:qQ,alpha:1,points:{show:GOe,filter:null},values:null,min:mr,max:-mr,idxs:[],path:null,clip:null};function WOe(t,e,n,i,r){return n/10}const XQ={time:gIe,auto:!0,distr:1,log:10,asinh:1,min:null,max:null,dir:1,ori:0},qOe=Sa({},XQ,{time:!1,ori:1}),BH={};function KQ(t,e){let n=BH[t];return n||(n={key:t,plots:[],sub(i){n.plots.push(i)},unsub(i){n.plots=n.plots.filter(r=>r!=i)},pub(i,r,a,s,o,l,c){for(let u=0;u<n.plots.length;u++)n.plots[u]!=r&&n.plots[u].pub(i,r,a,s,o,l,c)}},t!=null&&(BH[t]=n)),n}const fy=1,iI=2;function fg(t,e,n){const i=t.mode,r=t.series[e],a=i==2?t._data[e]:t._data,s=t.scales,o=t.bbox;let l=a[0],c=i==2?a[1]:a[e],u=i==2?s[r.facets[0].scale]:s[t.series[0].scale],f=i==2?s[r.facets[1].scale]:s[r.scale],h=o.left,d=o.top,b=o.width,y=o.height,v=t.valToPosH,m=t.valToPosV;return u.ori==0?n(r,l,c,u,f,v,m,h,d,b,y,c2,Jy,f2,JQ,ZQ):n(r,l,c,u,f,m,v,d,h,y,b,u2,$y,TU,$Q,QQ)}function MU(t,e){let n=0,i=0,r=Fi(t.bands,xU);for(let a=0;a<r.length;a++){let s=r[a];s.series[0]==e?n=s.dir:s.series[1]==e&&(s.dir==1?i|=1:i|=2)}return[n,i==1?-1:i==2?1:i==3?2:0]}function XOe(t,e,n,i,r){let a=t.mode,s=t.series[e],o=a==2?s.facets[1].scale:s.scale,l=t.scales[o];return r==-1?l.min:r==1?l.max:l.distr==3?l.dir==1?l.min:l.max:0}function eh(t,e,n,i,r,a){return fg(t,e,(s,o,l,c,u,f,h,d,b,y,v)=>{let m=s.pxRound;const x=c.dir*(c.ori==0?1:-1),_=c.ori==0?Jy:$y;let E,A;x==1?(E=n,A=i):(E=i,A=n);let w=m(f(o[E],c,y,d)),T=m(h(l[E],u,v,b)),k=m(f(o[A],c,y,d)),N=m(h(a==1?u.max:u.min,u,v,b)),D=new Path2D(r);return _(D,k,N),_(D,w,N),_(D,w,T),D})}function l2(t,e,n,i,r,a){let s=null;if(t.length>0){s=new Path2D;const o=e==0?f2:TU;let l=n;for(let f=0;f<t.length;f++){let h=t[f];if(h[1]>h[0]){let d=h[0]-l;d>0&&o(s,l,i,d,i+a),l=h[1]}}let c=n+r-l,u=10;c>0&&o(s,l,i-u/2,c,i+a+u)}return s}function KOe(t,e,n){let i=t[t.length-1];i&&i[0]==e?i[1]=n:t.push([e,n])}function AU(t,e,n,i,r,a,s){let o=[],l=t.length;for(let c=r==1?n:i;c>=n&&c<=i;c+=r)if(e[c]===null){let f=c,h=c;if(r==1)for(;++c<=i&&e[c]===null;)h=c;else for(;--c>=n&&e[c]===null;)h=c;let d=a(t[f]),b=h==f?d:a(t[h]),y=f-r;d=s<=0&&y>=0&&y<l?a(t[y]):d;let m=h+r;b=s>=0&&m>=0&&m<l?a(t[m]):b,b>=d&&o.push([d,b])}return o}function HH(t){return t==0?MQ:t==1?Ra:e=>Xp(e,t)}function YQ(t){let e=t==0?c2:u2,n=t==0?(r,a,s,o,l,c)=>{r.arcTo(a,s,o,l,c)}:(r,a,s,o,l,c)=>{r.arcTo(s,a,l,o,c)},i=t==0?(r,a,s,o,l)=>{r.rect(a,s,o,l)}:(r,a,s,o,l)=>{r.rect(s,a,l,o)};return(r,a,s,o,l,c=0,u=0)=>{c==0&&u==0?i(r,a,s,o,l):(c=Yc(c,o/2,l/2),u=Yc(u,o/2,l/2),e(r,a+c,s),n(r,a+o,s,a+o,s+l,c),n(r,a+o,s+l,a,s+l,u),n(r,a,s+l,a,s,u),n(r,a,s,a+o,s,c),r.closePath())}}const c2=(t,e,n)=>{t.moveTo(e,n)},u2=(t,e,n)=>{t.moveTo(n,e)},Jy=(t,e,n)=>{t.lineTo(e,n)},$y=(t,e,n)=>{t.lineTo(n,e)},f2=YQ(0),TU=YQ(1),JQ=(t,e,n,i,r,a)=>{t.arc(e,n,i,r,a)},$Q=(t,e,n,i,r,a)=>{t.arc(n,e,i,r,a)},ZQ=(t,e,n,i,r,a,s)=>{t.bezierCurveTo(e,n,i,r,a,s)},QQ=(t,e,n,i,r,a,s)=>{t.bezierCurveTo(n,e,r,i,s,a)};function eee(t){return(e,n,i,r,a)=>fg(e,n,(s,o,l,c,u,f,h,d,b,y,v)=>{let{pxRound:m,points:x}=s,_,E;c.ori==0?(_=c2,E=JQ):(_=u2,E=$Q);const A=gr(x.width*Bi,3);let w=(x.size-x.width)/2*Bi,T=gr(w*2,3),k=new Path2D,N=new Path2D,{left:D,top:P,width:B,height:G}=e.bbox;f2(N,D-T,P-T,B+T*2,G+T*2);const H=V=>{if(l[V]!=null){let U=m(f(o[V],c,y,d)),F=m(h(l[V],u,v,b));_(k,U+w,F),E(k,U,F,w,0,JE*2)}};if(a)a.forEach(H);else for(let V=i;V<=r;V++)H(V);return{stroke:A>0?k:null,fill:k,clip:N,flags:fy|iI}})}function tee(t){return(e,n,i,r,a,s)=>{i!=r&&(a!=i&&s!=i&&t(e,n,i),a!=r&&s!=r&&t(e,n,r),t(e,n,s))}}const YOe=tee(Jy),JOe=tee($y);function nee(t){const e=Fi(t?.alignGaps,0);return(n,i,r,a)=>fg(n,i,(s,o,l,c,u,f,h,d,b,y,v)=>{[r,a]=r2(l,r,a);let m=s.pxRound,x=G=>m(f(G,c,y,d)),_=G=>m(h(G,u,v,b)),E,A;c.ori==0?(E=Jy,A=YOe):(E=$y,A=JOe);const w=c.dir*(c.ori==0?1:-1),T={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:fy},k=T.stroke;let N=!1;if(a-r>=y*4){let G=K=>n.posToVal(K,c.key,!0),H=null,V=null,U,F,q,X=x(o[w==1?r:a]),z=x(o[r]),oe=x(o[a]),fe=G(w==1?z+1:oe-1);for(let K=w==1?r:a;K>=r&&K<=a;K+=w){let Me=o[K],pe=(w==1?Me<fe:Me>fe)?X:x(Me),xe=l[K];pe==X?xe!=null?(F=xe,H==null?(E(k,pe,_(F)),U=H=V=F):F<H?H=F:F>V&&(V=F)):xe===null&&(N=!0):(H!=null&&A(k,X,_(H),_(V),_(U),_(F)),xe!=null?(F=xe,E(k,pe,_(F)),H=V=U=F):(H=V=null,xe===null&&(N=!0)),X=pe,fe=G(X+w))}H!=null&&H!=V&&q!=X&&A(k,X,_(H),_(V),_(U),_(F))}else for(let G=w==1?r:a;G>=r&&G<=a;G+=w){let H=l[G];H===null?N=!0:H!=null&&E(k,x(o[G]),_(H))}let[P,B]=MU(n,i);if(s.fill!=null||P!=0){let G=T.fill=new Path2D(k),H=s.fillTo(n,i,s.min,s.max,P),V=_(H),U=x(o[r]),F=x(o[a]);w==-1&&([F,U]=[U,F]),E(G,F,V),E(G,U,V)}if(!s.spanGaps){let G=[];N&&G.push(...AU(o,l,r,a,w,x,e)),T.gaps=G=s.gaps(n,i,r,a,G),T.clip=l2(G,c.ori,d,b,y,v)}return B!=0&&(T.band=B==2?[eh(n,i,r,a,k,-1),eh(n,i,r,a,k,1)]:eh(n,i,r,a,k,B)),T})}function $Oe(t){const e=Fi(t.align,1),n=Fi(t.ascDesc,!1),i=Fi(t.alignGaps,0),r=Fi(t.extend,!1);return(a,s,o,l)=>fg(a,s,(c,u,f,h,d,b,y,v,m,x,_)=>{[o,l]=r2(f,o,l);let E=c.pxRound,{left:A,width:w}=a.bbox,T=z=>E(b(z,h,x,v)),k=z=>E(y(z,d,_,m)),N=h.ori==0?Jy:$y;const D={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:fy},P=D.stroke,B=h.dir*(h.ori==0?1:-1);let G=k(f[B==1?o:l]),H=T(u[B==1?o:l]),V=H,U=H;r&&e==-1&&(U=A,N(P,U,G)),N(P,H,G);for(let z=B==1?o:l;z>=o&&z<=l;z+=B){let oe=f[z];if(oe==null)continue;let fe=T(u[z]),K=k(oe);e==1?N(P,fe,G):N(P,V,K),N(P,fe,K),G=K,V=fe}let F=V;r&&e==1&&(F=A+w,N(P,F,G));let[q,X]=MU(a,s);if(c.fill!=null||q!=0){let z=D.fill=new Path2D(P),oe=c.fillTo(a,s,c.min,c.max,q),fe=k(oe);N(z,F,fe),N(z,U,fe)}if(!c.spanGaps){let z=[];z.push(...AU(u,f,o,l,B,T,i));let oe=c.width*Bi/2,fe=n||e==1?oe:-oe,K=n||e==-1?-oe:oe;z.forEach(Me=>{Me[0]+=fe,Me[1]+=K}),D.gaps=z=c.gaps(a,s,o,l,z),D.clip=l2(z,h.ori,v,m,x,_)}return X!=0&&(D.band=X==2?[eh(a,s,o,l,P,-1),eh(a,s,o,l,P,1)]:eh(a,s,o,l,P,X)),D})}function VH(t,e,n,i,r,a,s=mr){if(t.length>1){let o=null;for(let l=0,c=1/0;l<t.length;l++)if(e[l]!==void 0){if(o!=null){let u=ka(t[l]-t[o]);u<c&&(c=u,s=ka(n(t[l],i,r,a)-n(t[o],i,r,a)))}o=l}}return s}function ZOe(t){t=t||t1;const e=Fi(t.size,[.6,mr,1]),n=t.align||0,i=t.gap||0;let r=t.radius;r=r==null?[0,0]:typeof r=="number"?[r,0]:r;const a=vi(r),s=1-e[0],o=Fi(e[1],mr),l=Fi(e[2],1),c=Fi(t.disp,t1),u=Fi(t.each,d=>{}),{fill:f,stroke:h}=c;return(d,b,y,v)=>fg(d,b,(m,x,_,E,A,w,T,k,N,D,P)=>{let B=m.pxRound,G=n,H=i*Bi,V=o*Bi,U=l*Bi,F,q;E.ori==0?[F,q]=a(d,b):[q,F]=a(d,b);const X=E.dir*(E.ori==0?1:-1);let z=E.ori==0?f2:TU,oe=E.ori==0?u:(ue,se,be,$,Ke,tt,pt)=>{u(ue,se,be,Ke,$,pt,tt)},fe=Fi(d.bands,xU).find(ue=>ue.series[0]==b),K=fe!=null?fe.dir:0,Me=m.fillTo(d,b,m.min,m.max,K),_e=B(T(Me,A,P,N)),pe,xe,Oe,Ge=D,Ye=B(m.width*Bi),ct=!1,Tt=null,he=null,Ve=null,Be=null;f!=null&&(Ye==0||h!=null)&&(ct=!0,Tt=f.values(d,b,y,v),he=new Map,new Set(Tt).forEach(ue=>{ue!=null&&he.set(ue,new Path2D)}),Ye>0&&(Ve=h.values(d,b,y,v),Be=new Map,new Set(Ve).forEach(ue=>{ue!=null&&Be.set(ue,new Path2D)})));let{x0:ot,size:Ae}=c;if(ot!=null&&Ae!=null){G=1,x=ot.values(d,b,y,v),ot.unit==2&&(x=x.map(be=>d.posToVal(k+be*D,E.key,!0)));let ue=Ae.values(d,b,y,v);Ae.unit==2?xe=ue[0]*D:xe=w(ue[0],E,D,k)-w(0,E,D,k),Ge=VH(x,_,w,E,D,k,Ge),Oe=Ge-xe+H}else Ge=VH(x,_,w,E,D,k,Ge),Oe=Ge*s+H,xe=Ge-Oe;Oe<1&&(Oe=0),Ye>=xe/2&&(Ye=0),Oe<5&&(B=MQ);let Ue=Oe>0,Ne=Ge-Oe-(Ue?Ye:0);xe=B(eI(Ne,U,V)),pe=(G==0?xe/2:G==X?0:xe)-G*X*((G==0?H/2:0)+(Ue?Ye/2:0));const We={stroke:null,fill:null,clip:null,band:null,gaps:null,flags:0},Et=ct?null:new Path2D;let vt=null;if(fe!=null)vt=d.data[fe.series[1]];else{let{y0:ue,y1:se}=c;ue!=null&&se!=null&&(_=se.values(d,b,y,v),vt=ue.values(d,b,y,v))}let re=F*xe,J=q*xe;for(let ue=X==1?y:v;ue>=y&&ue<=v;ue+=X){let se=_[ue];if(se==null)continue;if(vt!=null){let $e=vt[ue]??0;if(se-$e==0)continue;_e=T($e,A,P,N)}let be=E.distr!=2||c!=null?x[ue]:ue,$=w(be,E,D,k),Ke=T(Fi(se,Me),A,P,N),tt=B($-pe),pt=B(fo(Ke,_e)),ze=B(Yc(Ke,_e)),rt=pt-ze;if(se!=null){let $e=se<0?J:re,Xt=se<0?re:J;ct?(Ye>0&&Ve[ue]!=null&&z(Be.get(Ve[ue]),tt,ze+ml(Ye/2),xe,fo(0,rt-Ye),$e,Xt),Tt[ue]!=null&&z(he.get(Tt[ue]),tt,ze+ml(Ye/2),xe,fo(0,rt-Ye),$e,Xt)):z(Et,tt,ze+ml(Ye/2),xe,fo(0,rt-Ye),$e,Xt),oe(d,b,ue,tt-Ye/2,ze,xe+Ye,rt)}}return Ye>0?We.stroke=ct?Be:Et:ct||(We._fill=m.width==0?m._fill:m._stroke??m._fill,We.width=0),We.fill=ct?he:Et,We})}function QOe(t,e){const n=Fi(e?.alignGaps,0);return(i,r,a,s)=>fg(i,r,(o,l,c,u,f,h,d,b,y,v,m)=>{[a,s]=r2(c,a,s);let x=o.pxRound,_=F=>x(h(F,u,v,b)),E=F=>x(d(F,f,m,y)),A,w,T;u.ori==0?(A=c2,T=Jy,w=ZQ):(A=u2,T=$y,w=QQ);const k=u.dir*(u.ori==0?1:-1);let N=_(l[k==1?a:s]),D=N,P=[],B=[];for(let F=k==1?a:s;F>=a&&F<=s;F+=k)if(c[F]!=null){let X=l[F],z=_(X);P.push(D=z),B.push(E(c[F]))}const G={stroke:t(P,B,A,T,w,x),fill:null,clip:null,band:null,gaps:null,flags:fy},H=G.stroke;let[V,U]=MU(i,r);if(o.fill!=null||V!=0){let F=G.fill=new Path2D(H),q=o.fillTo(i,r,o.min,o.max,V),X=E(q);T(F,D,X),T(F,N,X)}if(!o.spanGaps){let F=[];F.push(...AU(l,c,a,s,k,_,n)),G.gaps=F=o.gaps(i,r,a,s,F),G.clip=l2(F,u.ori,b,y,v,m)}return U!=0&&(G.band=U==2?[eh(i,r,a,s,H,-1),eh(i,r,a,s,H,1)]:eh(i,r,a,s,H,U)),G})}function eLe(t){return QOe(tLe,t)}function tLe(t,e,n,i,r,a){const s=t.length;if(s<2)return null;const o=new Path2D;if(n(o,t[0],e[0]),s==2)i(o,t[1],e[1]);else{let l=Array(s),c=Array(s-1),u=Array(s-1),f=Array(s-1);for(let h=0;h<s-1;h++)u[h]=e[h+1]-e[h],f[h]=t[h+1]-t[h],c[h]=u[h]/f[h];l[0]=c[0];for(let h=1;h<s-1;h++)c[h]===0||c[h-1]===0||c[h-1]>0!=c[h]>0?l[h]=0:(l[h]=3*(f[h-1]+f[h])/((2*f[h]+f[h-1])/c[h-1]+(f[h]+2*f[h-1])/c[h]),isFinite(l[h])||(l[h]=0));l[s-1]=c[s-2];for(let h=0;h<s-1;h++)r(o,t[h]+f[h]/3,e[h]+l[h]*f[h]/3,t[h+1]-f[h]/3,e[h+1]-l[h+1]*f[h]/3,t[h+1],e[h+1])}return o}const rI=new Set;function GH(){for(let t of rI)t.syncRect(!0)}Yy&&(km(LIe,_0,GH),km(PIe,_0,GH,!0),km(XA,_0,()=>{js.pxRatio=Bi}));const nLe=nee(),iLe=eee();function WH(t,e,n,i){return(i?[t[0],t[1]].concat(t.slice(2)):[t[0]].concat(t.slice(1))).map((a,s)=>aI(a,s,e,n))}function rLe(t,e){return t.map((n,i)=>i==0?{}:Sa({},e,n))}function aI(t,e,n,i){return Sa({},e==0?n:i,t)}function iee(t,e,n){return e==null?cy:[e,n]}const aLe=iee;function sLe(t,e,n){return e==null?cy:KA(e,n,yU,!0)}function ree(t,e,n,i){return e==null?cy:a2(e,n,t.scales[i].log,!1)}const oLe=ree;function aee(t,e,n,i){return e==null?cy:bU(e,n,t.scales[i].log,!1)}const lLe=aee;function cLe(t,e,n,i,r){let a=fo(wH(t),wH(e)),s=e-t,o=Bc(r/i*s,n);do{let l=n[o],c=i*l/s;if(c>=r&&a+(l<5?zd.get(l):0)<=17)return[l,c]}while(++o<n.length);return[0,0]}function qH(t){let e,n;return t=t.replace(/(\d+)px/,(i,r)=>(e=Ra((n=+r)*Bi))+"px"),[t,e,n]}function uLe(t){t.show&&[t.font,t.labelFont].forEach(e=>{let n=gr(e[2]*Bi,1);e[0]=e[0].replace(/[0-9.]+px/,n+"px"),e[1]=n})}function js(t,e,n){const i={mode:Fi(t.mode,1)},r=i.mode;function a(Y,ae,ge,ve){let De=ae.valToPct(Y);return ve+ge*(ae.dir==-1?1-De:De)}function s(Y,ae,ge,ve){let De=ae.valToPct(Y);return ve+ge*(ae.dir==-1?De:1-De)}function o(Y,ae,ge,ve){return ae.ori==0?a(Y,ae,ge,ve):s(Y,ae,ge,ve)}i.valToPosH=a,i.valToPosV=s;let l=!1;i.status=0;const c=i.root=jl(bIe);if(t.id!=null&&(c.id=t.id),il(c,t.class),t.title){let Y=jl(xIe,c);Y.textContent=t.title}const u=Uc("canvas"),f=i.ctx=u.getContext("2d"),h=jl(_Ie,c);km("click",h,Y=>{Y.target===b&&(Mn!=Ft||Si!=mn)&&lr.click(i,Y)},!0);const d=i.under=jl(SIe,h);h.appendChild(u);const b=i.over=jl(wIe,h);t=uy(t);const y=+Fi(t.pxAlign,1),v=HH(y);(t.plugins||[]).forEach(Y=>{Y.opts&&(t=Y.opts(i,t)||t)});const m=t.ms||.001,x=i.series=r==1?WH(t.series||[],LH,jH,!1):rLe(t.series||[null],zH),_=i.axes=WH(t.axes||[],OH,UH,!0),E=i.scales={},A=i.bands=t.bands||[];A.forEach(Y=>{Y.fill=vi(Y.fill||null),Y.dir=Fi(Y.dir,-1)});const w=r==2?x[1].facets[0].scale:x[0].scale,T={axes:Sn,series:_n},k=(t.drawOrder||["axes","series"]).map(Y=>T[Y]);function N(Y){const ae=Y.distr==3?ge=>Qf(ge>0?ge:Y.clamp(i,ge,Y.min,Y.max,Y.key)):Y.distr==4?ge=>w8(ge,Y.asinh):Y.distr==100?ge=>Y.fwd(ge):ge=>ge;return ge=>{let ve=ae(ge),{_min:De,_max:Le}=Y,_t=Le-De;return(ve-De)/_t}}function D(Y){let ae=E[Y];if(ae==null){let ge=(t.scales||t1)[Y]||t1;if(ge.from!=null){D(ge.from);let ve=Sa({},E[ge.from],ge,{key:Y});ve.valToPct=N(ve),E[Y]=ve}else{ae=E[Y]=Sa({},Y==w?XQ:qOe,ge),ae.key=Y;let ve=ae.time,De=ae.range,Le=rd(De);if((Y!=w||r==2&&!ve)&&(Le&&(De[0]==null||De[1]==null)&&(De={min:De[0]==null?xH:{mode:1,hard:De[0],soft:De[0]},max:De[1]==null?xH:{mode:1,hard:De[1],soft:De[1]}},Le=!1),!Le&&o2(De))){let _t=De;De=(Lt,Ht,$t)=>Ht==null?cy:KA(Ht,$t,_t)}ae.range=vi(De||(ve?aLe:Y==w?ae.distr==3?oLe:ae.distr==4?lLe:iee:ae.distr==3?ree:ae.distr==4?aee:sLe)),ae.auto=vi(Le?!1:ae.auto),ae.clamp=vi(ae.clamp||WOe),ae._min=ae._max=null,ae.valToPct=N(ae)}}}D("x"),D("y"),r==1&&x.forEach(Y=>{D(Y.scale)}),_.forEach(Y=>{D(Y.scale)});for(let Y in t.scales)D(Y);const P=E[w],B=P.distr;let G,H;P.ori==0?(il(c,yIe),G=a,H=s):(il(c,vIe),G=s,H=a);const V={};for(let Y in E){let ae=E[Y];(ae.min!=null||ae.max!=null)&&(V[Y]={min:ae.min,max:ae.max},ae.min=ae.max=null)}const U=t.tzDate||(Y=>new Date(Ra(Y/m))),F=t.fmtDate||_U,q=m==1?yOe(U):_Oe(U),X=DH(U,kH(m==1?bOe:xOe,F)),z=IH(U,NH(wOe,F)),oe=[],fe=i.legend=Sa({},AOe,t.legend),K=i.cursor=Sa({},NOe,{drag:{y:r==2}},t.cursor),Me=fe.show,_e=K.show,pe=fe.markers;fe.idxs=oe,pe.width=vi(pe.width),pe.dash=vi(pe.dash),pe.stroke=vi(pe.stroke),pe.fill=vi(pe.fill);let xe,Oe,Ge,Ye=[],ct=[],Tt,he=!1,Ve={};if(fe.live){const Y=x[1]?x[1].values:null;he=Y!=null,Tt=he?Y(i,1,0):{_:0};for(let ae in Tt)Ve[ae]=mU}if(Me)if(xe=Uc("table",RIe,c),Ge=Uc("tbody",null,xe),fe.mount(i,xe),he){Oe=Uc("thead",null,xe,Ge);let Y=Uc("tr",null,Oe);Uc("th",null,Y);for(var Be in Tt)Uc("th",oH,Y).textContent=Be}else il(xe,DIe),fe.live&&il(xe,kIe);const ot={show:!0},Ae={show:!1};function Ue(Y,ae){if(ae==0&&(he||!fe.live||r==2))return cy;let ge=[],ve=Uc("tr",NIe,Ge,Ge.childNodes[ae]);il(ve,Y.class),Y.show||il(ve,Qp);let De=Uc("th",null,ve);if(pe.show){let Lt=jl(IIe,De);if(ae>0){let Ht=pe.width(i,ae);Ht&&(Lt.style.border=Ht+"px "+pe.dash(i,ae)+" "+pe.stroke(i,ae)),Lt.style.background=pe.fill(i,ae)}}let Le=jl(oH,De);Y.label instanceof HTMLElement?Le.appendChild(Y.label):Le.textContent=Y.label,ae>0&&(pe.show||(Le.style.color=Y.width>0?pe.stroke(i,ae):pe.fill(i,ae)),We("click",De,Lt=>{if(K._lock)return;Xi(Lt);let Ht=x.indexOf(Y);if((Lt.ctrlKey||Lt.metaKey)!=fe.isolate){let $t=x.some((Yt,sn)=>sn>0&&sn!=Ht&&Yt.show);x.forEach((Yt,sn)=>{sn>0&&Es(sn,$t?sn==Ht?ot:Ae:ot,!0,$n.setSeries)})}else Es(Ht,{show:!Y.show},!0,$n.setSeries)},!1),Ii&&We(fH,De,Lt=>{K._lock||(Xi(Lt),Es(x.indexOf(Y),bo,!0,$n.setSeries))},!1));for(var _t in Tt){let Lt=Uc("td",OIe,ve);Lt.textContent="--",ge.push(Lt)}return[ve,ge]}const Ne=new Map;function We(Y,ae,ge,ve=!0){const De=Ne.get(ae)||{},Le=K.bind[Y](i,ae,ge,ve);Le&&(km(Y,ae,De[Y]=Le),Ne.set(ae,De))}function Et(Y,ae,ge){const ve=Ne.get(ae)||{};for(let De in ve)(Y==null||De==Y)&&(QN(De,ae,ve[De]),delete ve[De]);Y==null&&Ne.delete(ae)}let vt=0,re=0,J=0,ue=0,se=0,be=0,$=se,Ke=be,tt=J,pt=ue,ze=0,rt=0,$e=0,Xt=0;i.bbox={};let Ot=!1,ft=!1,jt=!1,Re=!1,Fe=!1,wt=!1;function Wt(Y,ae,ge){(ge||Y!=i.width||ae!=i.height)&&ut(Y,ae),Vs(!1),jt=!0,ft=!0,Uo()}function ut(Y,ae){i.width=vt=J=Y,i.height=re=ue=ae,se=be=0,Gn(),jn();let ge=i.bbox;ze=ge.left=Xp(se*Bi,.5),rt=ge.top=Xp(be*Bi,.5),$e=ge.width=Xp(J*Bi,.5),Xt=ge.height=Xp(ue*Bi,.5)}const mt=3;function Mt(){let Y=!1,ae=0;for(;!Y;){ae++;let ge=wc(ae),ve=Po(ae);Y=ae==mt||ge&&ve,Y||(ut(i.width,i.height),ft=!0)}}function gn({width:Y,height:ae}){Wt(Y,ae)}i.setSize=gn;function Gn(){let Y=!1,ae=!1,ge=!1,ve=!1;_.forEach((De,Le)=>{if(De.show&&De._show){let{side:_t,_size:Lt}=De,Ht=_t%2,$t=De.label!=null?De.labelSize:0,Yt=Lt+$t;Yt>0&&(Ht?(J-=Yt,_t==3?(se+=Yt,ve=!0):ge=!0):(ue-=Yt,_t==0?(be+=Yt,Y=!0):ae=!0))}}),le[0]=Y,le[1]=ge,le[2]=ae,le[3]=ve,J-=Ze[1]+Ze[3],se+=Ze[3],ue-=Ze[2]+Ze[0],be+=Ze[0]}function jn(){let Y=se+J,ae=be+ue,ge=se,ve=be;function De(Le,_t){switch(Le){case 1:return Y+=_t,Y-_t;case 2:return ae+=_t,ae-_t;case 3:return ge-=_t,ge+_t;case 0:return ve-=_t,ve+_t}}_.forEach((Le,_t)=>{if(Le.show&&Le._show){let Lt=Le.side;Le._pos=De(Lt,Le._size),Le.label!=null&&(Le._lpos=De(Lt,Le.labelSize))}})}if(K.dataIdx==null){let Y=K.hover,ae=Y.skip=new Set(Y.skip??[]);ae.add(void 0);let ge=Y.prox=vi(Y.prox),ve=Y.bias??=0;K.dataIdx=(De,Le,_t,Lt)=>{if(Le==0)return _t;let Ht=_t,$t=ge(De,Le,_t,Lt)??mr,Yt=$t>=0&&$t<mr,sn=P.ori==0?J:ue,Dn=K.left,ai=e[0],Un=e[Le];if(ae.has(Un[_t])){Ht=null;let ti=null,wn=null,pn;if(ve==0||ve==-1)for(pn=_t;ti==null&&pn-- >0;)ae.has(Un[pn])||(ti=pn);if(ve==0||ve==1)for(pn=_t;wn==null&&pn++<Un.length;)ae.has(Un[pn])||(wn=pn);if(ti!=null||wn!=null)if(Yt){let nr=ti==null?-1/0:G(ai[ti],P,sn,0),xr=wn==null?1/0:G(ai[wn],P,sn,0),Gr=Dn-nr,ji=xr-Dn;Gr<=ji?Gr<=$t&&(Ht=ti):ji<=$t&&(Ht=wn)}else Ht=wn==null?ti:ti==null?wn:_t-ti<=wn-_t?ti:wn}else Yt&&ka(Dn-G(ai[_t],P,sn,0))>$t&&(Ht=null);return Ht}}const Xi=Y=>{K.event=Y};K.idxs=oe,K._lock=!1;let Wn=K.points;Wn.show=vi(Wn.show),Wn.size=vi(Wn.size),Wn.stroke=vi(Wn.stroke),Wn.width=vi(Wn.width),Wn.fill=vi(Wn.fill);const Zr=i.focus=Sa({},t.focus||{alpha:.3},K.focus),Ii=Zr.prox>=0,tr=Ii&&Wn.one;let _i=[],Qr=[],zi=[];function dn(Y,ae){let ge=Wn.show(i,ae);if(ge instanceof HTMLElement)return il(ge,CIe),il(ge,Y.class),Ru(ge,-10,-10,J,ue),b.insertBefore(ge,_i[ae]),ge}function ga(Y,ae){if(r==1||ae>0){let ge=r==1&&E[Y.scale].time,ve=Y.value;Y.value=ge?AH(ve)?IH(U,NH(ve,F)):ve||z:ve||HOe,Y.label=Y.label||(ge?OOe:IOe)}if(tr||ae>0){Y.width=Y.width==null?1:Y.width,Y.paths=Y.paths||nLe||qIe,Y.fillTo=vi(Y.fillTo||XOe),Y.pxAlign=+Fi(Y.pxAlign,y),Y.pxRound=HH(Y.pxAlign),Y.stroke=vi(Y.stroke||null),Y.fill=vi(Y.fill||null),Y._stroke=Y._fill=Y._paths=Y._focus=null;let ge=VOe(fo(1,Y.width),1),ve=Y.points=Sa({},{size:ge,width:fo(1,ge*.2),stroke:Y.stroke,space:ge*2,paths:iLe,_stroke:null,_fill:null},Y.points);ve.show=vi(ve.show),ve.filter=vi(ve.filter),ve.fill=vi(ve.fill),ve.stroke=vi(ve.stroke),ve.paths=vi(ve.paths),ve.pxAlign=Y.pxAlign}if(Me){let ge=Ue(Y,ae);Ye.splice(ae,0,ge[0]),ct.splice(ae,0,ge[1]),fe.values.push(null)}if(_e){oe.splice(ae,0,null);let ge=null;tr?ae==0&&(ge=dn(Y,ae)):ae>0&&(ge=dn(Y,ae)),_i.splice(ae,0,ge),Qr.splice(ae,0,0),zi.splice(ae,0,0)}Cn("addSeries",ae)}function Ni(Y,ae){ae=ae??x.length,Y=r==1?aI(Y,ae,LH,jH):aI(Y,ae,{},zH),x.splice(ae,0,Y),ga(x[ae],ae)}i.addSeries=Ni;function ie(Y){if(x.splice(Y,1),Me){fe.values.splice(Y,1),ct.splice(Y,1);let ae=Ye.splice(Y,1)[0];Et(null,ae.firstChild),ae.remove()}_e&&(oe.splice(Y,1),_i.splice(Y,1)[0].remove(),Qr.splice(Y,1),zi.splice(Y,1)),Cn("delSeries",Y)}i.delSeries=ie;const le=[!1,!1,!1,!1];function Te(Y,ae){if(Y._show=Y.show,Y.show){let ge=Y.side%2,ve=E[Y.scale];ve==null&&(Y.scale=ge?x[1].scale:w,ve=E[Y.scale]);let De=ve.time;Y.size=vi(Y.size),Y.space=vi(Y.space),Y.rotate=vi(Y.rotate),rd(Y.incrs)&&Y.incrs.forEach(_t=>{!zd.has(_t)&&zd.set(_t,CQ(_t))}),Y.incrs=vi(Y.incrs||(ve.distr==2?pOe:De?m==1?gOe:vOe:Kp)),Y.splits=vi(Y.splits||(De&&ve.distr==1?q:ve.distr==3?tI:ve.distr==4?UOe:POe)),Y.stroke=vi(Y.stroke),Y.grid.stroke=vi(Y.grid.stroke),Y.ticks.stroke=vi(Y.ticks.stroke),Y.border.stroke=vi(Y.border.stroke);let Le=Y.values;Y.values=rd(Le)&&!rd(Le[0])?vi(Le):De?rd(Le)?DH(U,kH(Le,F)):AH(Le)?SOe(U,Le):Le||X:Le||LOe,Y.filter=vi(Y.filter||(ve.distr>=3&&ve.log==10?jOe:ve.distr==3&&ve.log==2?BOe:AQ)),Y.font=qH(Y.font),Y.labelFont=qH(Y.labelFont),Y._size=Y.size(i,null,ae,0),Y._space=Y._rotate=Y._incrs=Y._found=Y._splits=Y._values=null,Y._size>0&&(le[ae]=!0,Y._el=jl(EIe,h))}}function qe(Y,ae,ge,ve){let[De,Le,_t,Lt]=ge,Ht=ae%2,$t=0;return Ht==0&&(Lt||Le)&&($t=ae==0&&!De||ae==2&&!_t?Ra(OH.size/3):0),Ht==1&&(De||_t)&&($t=ae==1&&!Le||ae==3&&!Lt?Ra(UH.size/2):0),$t}const at=i.padding=(t.padding||[qe,qe,qe,qe]).map(Y=>vi(Fi(Y,qe))),Ze=i._padding=at.map((Y,ae)=>Y(i,ae,le,0));let At,Z=null,me=null;const Se=r==1?x[0].idxs:null;let Ee=null,ye=!1;function dt(Y,ae){if(e=Y??[],i.data=i._data=e,r==2){At=0;for(let ge=1;ge<x.length;ge++)At+=e[ge][0].length}else{e.length==0&&(i.data=i._data=e=[[]]),Ee=e[0],At=Ee.length;let ge=e;if(B==2){ge=e.slice();let ve=ge[0]=Array(At);for(let De=0;De<At;De++)ve[De]=De}i._data=e=ge}if(Vs(!0),Cn("setData"),B==2&&(jt=!0),ae!==!1){let ge=P;ge.auto(i,ye)?it():Gs(w,ge.min,ge.max),Re=Re||K.left>=0,wt=!0,Uo()}}i.setData=dt;function it(){ye=!0;let Y,ae;r==1&&(At>0?(Z=Se[0]=0,me=Se[1]=At-1,Y=e[0][Z],ae=e[0][me],B==2?(Y=Z,ae=me):Y==ae&&(B==3?[Y,ae]=a2(Y,Y,P.log,!1):B==4?[Y,ae]=bU(Y,Y,P.log,!1):P.time?ae=Y+Ra(86400/m):[Y,ae]=KA(Y,ae,yU,!0))):(Z=Se[0]=Y=null,me=Se[1]=ae=null)),Gs(w,Y,ae)}let ht,bt,Dt,qt,Je,nn,cn,un,kn,Jt;function Kt(Y,ae,ge,ve,De,Le){Y??=cH,ge??=xU,ve??="butt",De??=cH,Le??="round",Y!=ht&&(f.strokeStyle=ht=Y),De!=bt&&(f.fillStyle=bt=De),ae!=Dt&&(f.lineWidth=Dt=ae),Le!=Je&&(f.lineJoin=Je=Le),ve!=nn&&(f.lineCap=nn=ve),ge!=qt&&f.setLineDash(qt=ge)}function Xn(Y,ae,ge,ve){ae!=bt&&(f.fillStyle=bt=ae),Y!=cn&&(f.font=cn=Y),ge!=un&&(f.textAlign=un=ge),ve!=kn&&(f.textBaseline=kn=ve)}function yn(Y,ae,ge,ve,De=0){if(ve.length>0&&Y.auto(i,ye)&&(ae==null||ae.min==null)){let Le=Fi(Z,0),_t=Fi(me,ve.length-1),Lt=ge.min==null?jIe(ve,Le,_t,De,Y.distr==3):[ge.min,ge.max];Y.min=Yc(Y.min,ge.min=Lt[0]),Y.max=fo(Y.max,ge.max=Lt[1])}}const yi={min:null,max:null};function Fn(){for(let ve in E){let De=E[ve];V[ve]==null&&(De.min==null||V[w]!=null&&De.auto(i,ye))&&(V[ve]=yi)}for(let ve in E){let De=E[ve];V[ve]==null&&De.from!=null&&V[De.from]!=null&&(V[ve]=yi)}V[w]!=null&&Vs(!0);let Y={};for(let ve in V){let De=V[ve];if(De!=null){let Le=Y[ve]=uy(E[ve],YIe);if(De.min!=null)Sa(Le,De);else if(ve!=w||r==2)if(At==0&&Le.from==null){let _t=Le.range(i,null,null,ve);Le.min=_t[0],Le.max=_t[1]}else Le.min=mr,Le.max=-mr}}if(At>0){x.forEach((ve,De)=>{if(r==1){let Le=ve.scale,_t=V[Le];if(_t==null)return;let Lt=Y[Le];if(De==0){let Ht=Lt.range(i,Lt.min,Lt.max,Le);Lt.min=Ht[0],Lt.max=Ht[1],Z=Bc(Lt.min,e[0]),me=Bc(Lt.max,e[0]),me-Z>1&&(e[0][Z]<Lt.min&&Z++,e[0][me]>Lt.max&&me--),ve.min=Ee[Z],ve.max=Ee[me]}else ve.show&&ve.auto&&yn(Lt,_t,ve,e[De],ve.sorted);ve.idxs[0]=Z,ve.idxs[1]=me}else if(De>0&&ve.show&&ve.auto){let[Le,_t]=ve.facets,Lt=Le.scale,Ht=_t.scale,[$t,Yt]=e[De],sn=Y[Lt],Dn=Y[Ht];sn!=null&&yn(sn,V[Lt],Le,$t,Le.sorted),Dn!=null&&yn(Dn,V[Ht],_t,Yt,_t.sorted),ve.min=_t.min,ve.max=_t.max}});for(let ve in Y){let De=Y[ve],Le=V[ve];if(De.from==null&&(Le==null||Le.min==null)){let _t=De.range(i,De.min==mr?null:De.min,De.max==-mr?null:De.max,ve);De.min=_t[0],De.max=_t[1]}}}for(let ve in Y){let De=Y[ve];if(De.from!=null){let Le=Y[De.from];if(Le.min==null)De.min=De.max=null;else{let _t=De.range(i,Le.min,Le.max,ve);De.min=_t[0],De.max=_t[1]}}}let ae={},ge=!1;for(let ve in Y){let De=Y[ve],Le=E[ve];if(Le.min!=De.min||Le.max!=De.max){Le.min=De.min,Le.max=De.max;let _t=Le.distr;Le._min=_t==3?Qf(Le.min):_t==4?w8(Le.min,Le.asinh):_t==100?Le.fwd(Le.min):Le.min,Le._max=_t==3?Qf(Le.max):_t==4?w8(Le.max,Le.asinh):_t==100?Le.fwd(Le.max):Le.max,ae[ve]=ge=!0}}if(ge){x.forEach((ve,De)=>{r==2?De>0&&ae.y&&(ve._paths=null):ae[ve.scale]&&(ve._paths=null)});for(let ve in ae)jt=!0,Cn("setScale",ve);_e&&K.left>=0&&(Re=wt=!0)}for(let ve in V)V[ve]=null}function Tn(Y){let ae=eI(Z-1,0,At-1),ge=eI(me+1,0,At-1);for(;Y[ae]==null&&ae>0;)ae--;for(;Y[ge]==null&&ge<At-1;)ge++;return[ae,ge]}function _n(){if(At>0){let Y=x.some(ae=>ae._focus)&&Jt!=Zr.alpha;Y&&(f.globalAlpha=Jt=Zr.alpha),x.forEach((ae,ge)=>{if(ge>0&&ae.show&&(fn(ge,!1),fn(ge,!0),ae._paths==null)){let ve=Jt;Jt!=ae.alpha&&(f.globalAlpha=Jt=ae.alpha);let De=r==2?[0,e[ge][0].length-1]:Tn(e[ge]);ae._paths=ae.paths(i,ge,De[0],De[1]),Jt!=ve&&(f.globalAlpha=Jt=ve)}}),x.forEach((ae,ge)=>{if(ge>0&&ae.show){let ve=Jt;Jt!=ae.alpha&&(f.globalAlpha=Jt=ae.alpha),ae._paths!=null&&ui(ge,!1);{let De=ae._paths!=null?ae._paths.gaps:null,Le=ae.points.show(i,ge,Z,me,De),_t=ae.points.filter(i,ge,Le,De);(Le||_t)&&(ae.points._paths=ae.points.paths(i,ge,Z,me,_t),ui(ge,!0))}Jt!=ve&&(f.globalAlpha=Jt=ve),Cn("drawSeries",ge)}}),Y&&(f.globalAlpha=Jt=1)}}function fn(Y,ae){let ge=ae?x[Y].points:x[Y];ge._stroke=ge.stroke(i,Y),ge._fill=ge.fill(i,Y)}function ui(Y,ae){let ge=ae?x[Y].points:x[Y],{stroke:ve,fill:De,clip:Le,flags:_t,_stroke:Lt=ge._stroke,_fill:Ht=ge._fill,_width:$t=ge.width}=ge._paths;$t=gr($t*Bi,3);let Yt=null,sn=$t%2/2;ae&&Ht==null&&(Ht=$t>0?"#fff":Lt);let Dn=ge.pxAlign==1&&sn>0;if(Dn&&f.translate(sn,sn),!ae){let ai=ze-$t/2,Un=rt-$t/2,ti=$e+$t,wn=Xt+$t;Yt=new Path2D,Yt.rect(ai,Un,ti,wn)}ae?Mi(Lt,$t,ge.dash,ge.cap,Ht,ve,De,_t,Le):Ki(Y,Lt,$t,ge.dash,ge.cap,Ht,ve,De,_t,Yt,Le),Dn&&f.translate(-sn,-sn)}function Ki(Y,ae,ge,ve,De,Le,_t,Lt,Ht,$t,Yt){let sn=!1;Ht!=0&&A.forEach((Dn,ai)=>{if(Dn.series[0]==Y){let Un=x[Dn.series[1]],ti=e[Dn.series[1]],wn=(Un._paths||t1).band;rd(wn)&&(wn=Dn.dir==1?wn[0]:wn[1]);let pn,nr=null;Un.show&&wn&&HIe(ti,Z,me)?(nr=Dn.fill(i,ai)||Le,pn=Un._paths.clip):wn=null,Mi(ae,ge,ve,De,nr,_t,Lt,Ht,$t,Yt,pn,wn),sn=!0}}),sn||Mi(ae,ge,ve,De,Le,_t,Lt,Ht,$t,Yt)}const ei=fy|iI;function Mi(Y,ae,ge,ve,De,Le,_t,Lt,Ht,$t,Yt,sn){Kt(Y,ae,ge,ve,De),(Ht||$t||sn)&&(f.save(),Ht&&f.clip(Ht),$t&&f.clip($t)),sn?(Lt&ei)==ei?(f.clip(sn),Yt&&f.clip(Yt),pr(De,_t),Hs(Y,Le,ae)):Lt&iI?(pr(De,_t),f.clip(sn),Hs(Y,Le,ae)):Lt&fy&&(f.save(),f.clip(sn),Yt&&f.clip(Yt),pr(De,_t),f.restore(),Hs(Y,Le,ae)):(pr(De,_t),Hs(Y,Le,ae)),(Ht||$t||sn)&&f.restore()}function Hs(Y,ae,ge){ge>0&&(ae instanceof Map?ae.forEach((ve,De)=>{f.strokeStyle=ht=De,f.stroke(ve)}):ae!=null&&Y&&f.stroke(ae))}function pr(Y,ae){ae instanceof Map?ae.forEach((ge,ve)=>{f.fillStyle=bt=ve,f.fill(ge)}):ae!=null&&Y&&f.fill(ae)}function cf(Y,ae,ge,ve){let De=_[Y],Le;if(ve<=0)Le=[0,0];else{let _t=De._space=De.space(i,Y,ae,ge,ve),Lt=De._incrs=De.incrs(i,Y,ae,ge,ve,_t);Le=cLe(ae,ge,Lt,ve,_t)}return De._found=Le}function Lo(Y,ae,ge,ve,De,Le,_t,Lt,Ht,$t){let Yt=_t%2/2;y==1&&f.translate(Yt,Yt),Kt(Lt,_t,Ht,$t,Lt),f.beginPath();let sn,Dn,ai,Un,ti=De+(ve==0||ve==3?-Le:Le);ge==0?(Dn=De,Un=ti):(sn=De,ai=ti);for(let wn=0;wn<Y.length;wn++)ae[wn]!=null&&(ge==0?sn=ai=Y[wn]:Dn=Un=Y[wn],f.moveTo(sn,Dn),f.lineTo(ai,Un));f.stroke(),y==1&&f.translate(-Yt,-Yt)}function wc(Y){let ae=!0;return _.forEach((ge,ve)=>{if(!ge.show)return;let De=E[ge.scale];if(De.min==null){ge._show&&(ae=!1,ge._show=!1,Vs(!1));return}else ge._show||(ae=!1,ge._show=!0,Vs(!1));let Le=ge.side,_t=Le%2,{min:Lt,max:Ht}=De,[$t,Yt]=cf(ve,Lt,Ht,_t==0?J:ue);if(Yt==0)return;let sn=De.distr==2,Dn=ge._splits=ge.splits(i,ve,Lt,Ht,$t,Yt,sn),ai=De.distr==2?Dn.map(pn=>Ee[pn]):Dn,Un=De.distr==2?Ee[Dn[1]]-Ee[Dn[0]]:$t,ti=ge._values=ge.values(i,ge.filter(i,ai,ve,Yt,Un),ve,Yt,Un);ge._rotate=Le==2?ge.rotate(i,ti,ve,Yt):0;let wn=ge._size;ge._size=ql(ge.size(i,ti,ve,Y)),wn!=null&&ge._size!=wn&&(ae=!1)}),ae}function Po(Y){let ae=!0;return at.forEach((ge,ve)=>{let De=ge(i,ve,le,Y);De!=Ze[ve]&&(ae=!1),Ze[ve]=De}),ae}function Sn(){for(let Y=0;Y<_.length;Y++){let ae=_[Y];if(!ae.show||!ae._show)continue;let ge=ae.side,ve=ge%2,De,Le,_t=ae.stroke(i,Y),Lt=ge==0||ge==3?-1:1,[Ht,$t]=ae._found;if(ae.label!=null){let ir=ae.labelGap*Lt,Cs=Ra((ae._lpos+ir)*Bi);Xn(ae.labelFont[0],_t,"center",ge==2?Qv:lH),f.save(),ve==1?(De=Le=0,f.translate(Cs,Ra(rt+Xt/2)),f.rotate((ge==3?-JE:JE)/2)):(De=Ra(ze+$e/2),Le=Cs);let Qa=EQ(ae.label)?ae.label(i,Y,Ht,$t):ae.label;f.fillText(Qa,De,Le),f.restore()}if($t==0)continue;let Yt=E[ae.scale],sn=ve==0?$e:Xt,Dn=ve==0?ze:rt,ai=ae._splits,Un=Yt.distr==2?ai.map(ir=>Ee[ir]):ai,ti=Yt.distr==2?Ee[ai[1]]-Ee[ai[0]]:Ht,wn=ae.ticks,pn=ae.border,nr=wn.show?wn.size:0,xr=Ra(nr*Bi),Gr=Ra((ae.alignTo==2?ae._size-nr-ae.gap:ae.gap)*Bi),ji=ae._rotate*-JE/180,Ur=v(ae._pos*Bi),As=(xr+Gr)*Lt,Fa=Ur+As;Le=ve==0?Fa:0,De=ve==1?Fa:0;let Fr=ae.font[0],Ys=ae.align==1?Cb:ae.align==2?x8:ji>0?Cb:ji<0?x8:ve==0?"center":ge==3?x8:Cb,Ho=ji||ve==1?"middle":ge==2?Qv:lH;Xn(Fr,_t,Ys,Ho);let Js=ae.font[1]*ae.lineGap,Ts=ai.map(ir=>v(o(ir,Yt,sn,Dn))),_r=ae._values;for(let ir=0;ir<_r.length;ir++){let Cs=_r[ir];if(Cs!=null){ve==0?De=Ts[ir]:Le=Ts[ir],Cs=""+Cs;let Qa=Cs.indexOf(`
`)==-1?[Cs]:Cs.split(/\n/gm);for(let ea=0;ea<Qa.length;ea++){let Tc=Qa[ea];ji?(f.save(),f.translate(De,Le+ea*Js),f.rotate(ji),f.fillText(Tc,0,0),f.restore()):f.fillText(Tc,De,Le+ea*Js)}}}wn.show&&Lo(Ts,wn.filter(i,Un,Y,$t,ti),ve,ge,Ur,xr,gr(wn.width*Bi,3),wn.stroke(i,Y),wn.dash,wn.cap);let Vo=ae.grid;Vo.show&&Lo(Ts,Vo.filter(i,Un,Y,$t,ti),ve,ve==0?2:1,ve==0?rt:ze,ve==0?Xt:$e,gr(Vo.width*Bi,3),Vo.stroke(i,Y),Vo.dash,Vo.cap),pn.show&&Lo([Ur],[1],ve==0?1:0,ve==0?1:2,ve==1?rt:ze,ve==1?Xt:$e,gr(pn.width*Bi,3),pn.stroke(i,Y),pn.dash,pn.cap)}Cn("drawAxes")}function Vs(Y){x.forEach((ae,ge)=>{ge>0&&(ae._paths=null,Y&&(r==1?(ae.min=null,ae.max=null):ae.facets.forEach(ve=>{ve.min=null,ve.max=null})))})}let El=!1,Ec=!1,Pr=[];function uf(){Ec=!1;for(let Y=0;Y<Pr.length;Y++)Cn(...Pr[Y]);Pr.length=0}function Uo(){El||(nOe(S),El=!0)}function mu(Y,ae=!1){El=!0,Ec=ae,Y(i),S(),ae&&Pr.length>0&&queueMicrotask(uf)}i.batch=mu;function S(){if(Ot&&(Fn(),Ot=!1),jt&&(Mt(),jt=!1),ft){if(kr(d,Cb,se),kr(d,Qv,be),kr(d,xx,J),kr(d,_x,ue),kr(b,Cb,se),kr(b,Qv,be),kr(b,xx,J),kr(b,_x,ue),kr(h,xx,vt),kr(h,_x,re),u.width=Ra(vt*Bi),u.height=Ra(re*Bi),_.forEach(({_el:Y,_show:ae,_size:ge,_pos:ve,side:De})=>{if(Y!=null)if(ae){let Le=De===3||De===0?ge:0,_t=De%2==1;kr(Y,_t?"left":"top",ve-Le),kr(Y,_t?"width":"height",ge),kr(Y,_t?"top":"left",_t?be:se),kr(Y,_t?"height":"width",_t?ue:J),ZN(Y,Qp)}else il(Y,Qp)}),ht=bt=Dt=Je=nn=cn=un=kn=qt=null,Jt=1,Ua(!0),se!=$||be!=Ke||J!=tt||ue!=pt){Vs(!1);let Y=J/tt,ae=ue/pt;if(_e&&!Re&&K.left>=0){K.left*=Y,K.top*=ae,de&&Ru(de,Ra(K.left),0,J,ue),Pe&&Ru(Pe,0,Ra(K.top),J,ue);for(let ge=0;ge<_i.length;ge++){let ve=_i[ge];ve!=null&&(Qr[ge]*=Y,zi[ge]*=ae,Ru(ve,ql(Qr[ge]),ql(zi[ge]),J,ue))}}if(wi.show&&!Fe&&wi.left>=0&&wi.width>0){wi.left*=Y,wi.width*=Y,wi.top*=ae,wi.height*=ae;for(let ge in wh)kr(Fo,ge,wi[ge])}$=se,Ke=be,tt=J,pt=ue}Cn("setSize"),ft=!1}vt>0&&re>0&&(f.clearRect(0,0,u.width,u.height),Cn("drawClear"),k.forEach(Y=>Y()),Cn("draw")),wi.show&&Fe&&(ff(wi),Fe=!1),_e&&Re&&(jo(null,!0,!1),Re=!1),fe.show&&fe.live&&wt&&(hf(),wt=!1),l||(l=!0,i.status=1,Cn("ready")),ye=!1,El=!1}i.redraw=(Y,ae)=>{jt=ae||!1,Y!==!1?Gs(w,P.min,P.max):Uo()};function O(Y,ae){let ge=E[Y];if(ge.from==null){if(At==0){let ve=ge.range(i,ae.min,ae.max,Y);ae.min=ve[0],ae.max=ve[1]}if(ae.min>ae.max){let ve=ae.min;ae.min=ae.max,ae.max=ve}if(At>1&&ae.min!=null&&ae.max!=null&&ae.max-ae.min<1e-16)return;Y==w&&ge.distr==2&&At>0&&(ae.min=Bc(ae.min,e[0]),ae.max=Bc(ae.max,e[0]),ae.min==ae.max&&ae.max++),V[Y]=ae,Ot=!0,Uo()}}i.setScale=O;let W,ne,de,Pe,Xe,It,Ft,mn,En,Ai,Mn,Si,ba=!1;const lr=K.drag;let Yi=lr.x,Ji=lr.y;_e&&(K.x&&(W=jl(AIe,b)),K.y&&(ne=jl(TIe,b)),P.ori==0?(de=W,Pe=ne):(de=ne,Pe=W),Mn=K.left,Si=K.top);const wi=i.select=Sa({show:!0,over:!0,left:0,width:0,top:0,height:0},t.select),Fo=wi.show?jl(MIe,wi.over?b:d):null;function ff(Y,ae){if(wi.show){for(let ge in Y)wi[ge]=Y[ge],ge in wh&&kr(Fo,ge,Y[ge]);ae!==!1&&Cn("setSelect")}}i.setSelect=ff;function Zd(Y){if(x[Y].show)Me&&ZN(Ye[Y],Qp);else if(Me&&il(Ye[Y],Qp),_e){let ge=tr?_i[0]:_i[Y];ge!=null&&Ru(ge,-10,-10,J,ue)}}function Gs(Y,ae,ge){O(Y,{min:ae,max:ge})}function Es(Y,ae,ge,ve){ae.focus!=null&&ep(Y),ae.show!=null&&x.forEach((De,Le)=>{Le>0&&(Y==Le||Y==null)&&(De.show=ae.show,Zd(Le),r==2?(Gs(De.facets[0].scale,null,null),Gs(De.facets[1].scale,null,null)):Gs(De.scale,null,null),Uo())}),ge!==!1&&Cn("setSeries",Y,ae),ve&&Bo("setSeries",i,Y,ae)}i.setSeries=Es;function Zy(Y,ae){Sa(A[Y],ae)}function ua(Y,ae){Y.fill=vi(Y.fill||null),Y.dir=Fi(Y.dir,-1),ae=ae??A.length,A.splice(ae,0,Y)}function Qd(Y){Y==null?A.length=0:A.splice(Y,1)}i.addBand=ua,i.setBand=Zy,i.delBand=Qd;function _h(Y,ae){x[Y].alpha=ae,_e&&_i[Y]!=null&&(_i[Y].style.opacity=ae),Me&&Ye[Y]&&(Ye[Y].style.opacity=ae)}let go,zo,Ml;const bo={focus:!0};function ep(Y){if(Y!=Ml){let ae=Y==null,ge=Zr.alpha!=1;x.forEach((ve,De)=>{if(r==1||De>0){let Le=ae||De==0||De==Y;ve._focus=ae?null:Le,ge&&_h(De,Le?1:Zr.alpha)}}),Ml=Y,ge&&Uo()}}Me&&Ii&&We(hH,xe,Y=>{K._lock||(Xi(Y),Ml!=null&&Es(null,bo,!0,$n.setSeries))});function Ws(Y,ae,ge){let ve=E[ae];ge&&(Y=Y/Bi-(ve.ori==1?be:se));let De=J;ve.ori==1&&(De=ue,Y=De-Y),ve.dir==-1&&(Y=De-Y);let Le=ve._min,_t=ve._max,Lt=Y/De,Ht=Le+(_t-Le)*Lt,$t=ve.distr;return $t==3?ly(10,Ht):$t==4?GIe(Ht,ve.asinh):$t==100?ve.bwd(Ht):Ht}function dg(Y,ae){let ge=Ws(Y,w,ae);return Bc(ge,e[0],Z,me)}i.valToIdx=Y=>Bc(Y,e[0]),i.posToIdx=dg,i.posToVal=Ws,i.valToPos=(Y,ae,ge)=>E[ae].ori==0?a(Y,E[ae],ge?$e:J,ge?ze:0):s(Y,E[ae],ge?Xt:ue,ge?rt:0),i.setCursor=(Y,ae,ge)=>{Mn=Y.left,Si=Y.top,jo(null,ae,ge)};function tp(Y,ae){kr(Fo,Cb,wi.left=Y),kr(Fo,xx,wi.width=ae)}function Sh(Y,ae){kr(Fo,Qv,wi.top=Y),kr(Fo,_x,wi.height=ae)}let Mc=P.ori==0?tp:Sh,gu=P.ori==1?tp:Sh;function np(){if(Me&&fe.live)for(let Y=r==2?1:0;Y<x.length;Y++){if(Y==0&&he)continue;let ae=fe.values[Y],ge=0;for(let ve in ae)ct[Y][ge++].firstChild.nodeValue=ae[ve]}}function hf(Y,ae){if(Y!=null&&(Y.idxs?Y.idxs.forEach((ge,ve)=>{oe[ve]=ge}):KIe(Y.idx)||oe.fill(Y.idx),fe.idx=oe[0]),Me&&fe.live){for(let ge=0;ge<x.length;ge++)(ge>0||r==1&&!he)&&qs(ge,oe[ge]);np()}wt=!1,ae!==!1&&Cn("setLegend")}i.setLegend=hf;function qs(Y,ae){let ge=x[Y],ve=Y==0&&B==2?Ee:e[Y],De;he?De=ge.values(i,Y,ae)??Ve:(De=ge.value(i,ae==null?null:ve[ae],Y,ae),De=De==null?Ve:{_:De}),fe.values[Y]=De}function jo(Y,ae,ge){En=Mn,Ai=Si,[Mn,Si]=K.move(i,Mn,Si),K.left=Mn,K.top=Si,_e&&(de&&Ru(de,Ra(Mn),0,J,ue),Pe&&Ru(Pe,0,Ra(Si),J,ue));let ve,De=Z>me;go=mr,zo=null;let Le=P.ori==0?J:ue,_t=P.ori==1?J:ue;if(Mn<0||At==0||De){ve=K.idx=null;for(let Lt=0;Lt<x.length;Lt++){let Ht=_i[Lt];Ht!=null&&Ru(Ht,-10,-10,J,ue)}Ii&&Es(null,bo,!0,Y==null&&$n.setSeries),fe.live&&(oe.fill(ve),wt=!0)}else{let Lt,Ht,$t;r==1&&(Lt=P.ori==0?Mn:Si,Ht=Ws(Lt,w),ve=K.idx=Bc(Ht,e[0],Z,me),$t=G(e[0][ve],P,Le,0));let Yt=-10,sn=-10,Dn=0,ai=0,Un=!0,ti="",wn="";for(let pn=r==2?1:0;pn<x.length;pn++){let nr=x[pn],xr=oe[pn],Gr=xr==null?null:r==1?e[pn][xr]:e[pn][1][xr],ji=K.dataIdx(i,pn,ve,Ht),Ur=ji==null?null:r==1?e[pn][ji]:e[pn][1][ji];if(wt=wt||Ur!=Gr||ji!=xr,oe[pn]=ji,pn>0&&nr.show){let As=ji==null?-10:ji==ve?$t:G(r==1?e[0][ji]:e[pn][0][ji],P,Le,0),Fa=Ur==null?-10:H(Ur,r==1?E[nr.scale]:E[nr.facets[1].scale],_t,0);if(Ii&&Ur!=null){let Fr=P.ori==1?Mn:Si,Ys=ka(Zr.dist(i,pn,ji,Fa,Fr));if(Ys<go){let Ho=Zr.bias;if(Ho!=0){let Js=Ws(Fr,nr.scale),Ts=Ur>=0?1:-1,_r=Js>=0?1:-1;_r==Ts&&(_r==1?Ho==1?Ur>=Js:Ur<=Js:Ho==1?Ur<=Js:Ur>=Js)&&(go=Ys,zo=pn)}else go=Ys,zo=pn}}if(wt||tr){let Fr,Ys;P.ori==0?(Fr=As,Ys=Fa):(Fr=Fa,Ys=As);let Ho,Js,Ts,_r,Vo,ir,Cs=!0,Qa=Wn.bbox;if(Qa!=null){Cs=!1;let ea=Qa(i,pn);Ts=ea.left,_r=ea.top,Ho=ea.width,Js=ea.height}else Ts=Fr,_r=Ys,Ho=Js=Wn.size(i,pn);if(ir=Wn.fill(i,pn),Vo=Wn.stroke(i,pn),tr)pn==zo&&go<=Zr.prox&&(Yt=Ts,sn=_r,Dn=Ho,ai=Js,Un=Cs,ti=ir,wn=Vo);else{let ea=_i[pn];ea!=null&&(Qr[pn]=Ts,zi[pn]=_r,vH(ea,Ho,Js,Cs),bH(ea,ir,Vo),Ru(ea,ql(Ts),ql(_r),J,ue))}}}}if(tr){let pn=Zr.prox,nr=Ml==null?go<=pn:go>pn||zo!=Ml;if(wt||nr){let xr=_i[0];xr!=null&&(Qr[0]=Yt,zi[0]=sn,vH(xr,Dn,ai,Un),bH(xr,ti,wn),Ru(xr,ql(Yt),ql(sn),J,ue))}}}if(wi.show&&ba)if(Y!=null){let[Lt,Ht]=$n.scales,[$t,Yt]=$n.match,[sn,Dn]=Y.cursor.sync.scales,ai=Y.cursor.drag;if(Yi=ai._x,Ji=ai._y,Yi||Ji){let{left:Un,top:ti,width:wn,height:pn}=Y.select,nr=Y.scales[sn].ori,xr=Y.posToVal,Gr,ji,Ur,As,Fa,Fr=Lt!=null&&$t(Lt,sn),Ys=Ht!=null&&Yt(Ht,Dn);Fr&&Yi?(nr==0?(Gr=Un,ji=wn):(Gr=ti,ji=pn),Ur=E[Lt],As=G(xr(Gr,sn),Ur,Le,0),Fa=G(xr(Gr+ji,sn),Ur,Le,0),Mc(Yc(As,Fa),ka(Fa-As))):Mc(0,Le),Ys&&Ji?(nr==1?(Gr=Un,ji=wn):(Gr=ti,ji=pn),Ur=E[Ht],As=H(xr(Gr,Dn),Ur,_t,0),Fa=H(xr(Gr+ji,Dn),Ur,_t,0),gu(Yc(As,Fa),ka(Fa-As))):gu(0,_t)}else ee()}else{let Lt=ka(En-Xe),Ht=ka(Ai-It);if(P.ori==1){let Dn=Lt;Lt=Ht,Ht=Dn}Yi=lr.x&&Lt>=lr.dist,Ji=lr.y&&Ht>=lr.dist;let $t=lr.uni;$t!=null?Yi&&Ji&&(Yi=Lt>=$t,Ji=Ht>=$t,!Yi&&!Ji&&(Ht>Lt?Ji=!0:Yi=!0)):lr.x&&lr.y&&(Yi||Ji)&&(Yi=Ji=!0);let Yt,sn;Yi&&(P.ori==0?(Yt=Ft,sn=Mn):(Yt=mn,sn=Si),Mc(Yc(Yt,sn),ka(sn-Yt)),Ji||gu(0,_t)),Ji&&(P.ori==1?(Yt=Ft,sn=Mn):(Yt=mn,sn=Si),gu(Yc(Yt,sn),ka(sn-Yt)),Yi||Mc(0,Le)),!Yi&&!Ji&&(Mc(0,0),gu(0,0))}if(lr._x=Yi,lr._y=Ji,Y==null){if(ge){if(Ac!=null){let[Lt,Ht]=$n.scales;$n.values[0]=Lt!=null?Ws(P.ori==0?Mn:Si,Lt):null,$n.values[1]=Ht!=null?Ws(P.ori==1?Mn:Si,Ht):null}Bo(_8,i,Mn,Si,J,ue,ve)}if(Ii){let Lt=ge&&$n.setSeries,Ht=Zr.prox;Ml==null?go<=Ht&&Es(zo,bo,!0,Lt):go>Ht?Es(null,bo,!0,Lt):zo!=Ml&&Es(zo,bo,!0,Lt)}}wt&&(fe.idx=ve,hf()),ae!==!1&&Cn("setCursor")}let Ms=null;Object.defineProperty(i,"rect",{get(){return Ms==null&&Ua(!1),Ms}});function Ua(Y=!1){Y?Ms=null:(Ms=b.getBoundingClientRect(),Cn("syncRect",Ms))}function Xs(Y,ae,ge,ve,De,Le,_t){K._lock||ba&&Y!=null&&Y.movementX==0&&Y.movementY==0||(Al(Y,ae,ge,ve,De,Le,_t,!1,Y!=null),Y!=null?jo(null,!0,!0):jo(ae,!0,!1))}function Al(Y,ae,ge,ve,De,Le,_t,Lt,Ht){if(Ms==null&&Ua(!1),Xi(Y),Y!=null)ge=Y.clientX-Ms.left,ve=Y.clientY-Ms.top;else{if(ge<0||ve<0){Mn=-10,Si=-10;return}let[$t,Yt]=$n.scales,sn=ae.cursor.sync,[Dn,ai]=sn.values,[Un,ti]=sn.scales,[wn,pn]=$n.match,nr=ae.axes[0].side%2==1,xr=P.ori==0?J:ue,Gr=P.ori==1?J:ue,ji=nr?Le:De,Ur=nr?De:Le,As=nr?ve:ge,Fa=nr?ge:ve;if(Un!=null?ge=wn($t,Un)?o(Dn,E[$t],xr,0):-10:ge=xr*(As/ji),ti!=null?ve=pn(Yt,ti)?o(ai,E[Yt],Gr,0):-10:ve=Gr*(Fa/Ur),P.ori==1){let Fr=ge;ge=ve,ve=Fr}}Ht&&(ae==null||ae.cursor.event.type==_8)&&((ge<=1||ge>=J-1)&&(ge=Xp(ge,J)),(ve<=1||ve>=ue-1)&&(ve=Xp(ve,ue))),Lt?(Xe=ge,It=ve,[Ft,mn]=K.move(i,ge,ve)):(Mn=ge,Si=ve)}const wh={width:0,height:0,left:0,top:0};function ee(){ff(wh,!1)}let te,we,Ie,lt;function Ct(Y,ae,ge,ve,De,Le,_t){ba=!0,Yi=Ji=lr._x=lr._y=!1,Al(Y,ae,ge,ve,De,Le,_t,!0,!1),Y!=null&&(We(S8,JN,Bt,!1),Bo(uH,i,Ft,mn,J,ue,null));let{left:Lt,top:Ht,width:$t,height:Yt}=wi;te=Lt,we=Ht,Ie=$t,lt=Yt}function Bt(Y,ae,ge,ve,De,Le,_t){ba=lr._x=lr._y=!1,Al(Y,ae,ge,ve,De,Le,_t,!1,!0);let{left:Lt,top:Ht,width:$t,height:Yt}=wi,sn=$t>0||Yt>0,Dn=te!=Lt||we!=Ht||Ie!=$t||lt!=Yt;if(sn&&Dn&&ff(wi),lr.setScale&&sn&&Dn){let ai=Lt,Un=$t,ti=Ht,wn=Yt;if(P.ori==1&&(ai=Ht,Un=Yt,ti=Lt,wn=$t),Yi&&Gs(w,Ws(ai,w),Ws(ai+Un,w)),Ji)for(let pn in E){let nr=E[pn];pn!=w&&nr.from==null&&nr.min!=mr&&Gs(pn,Ws(ti+wn,pn),Ws(ti,pn))}ee()}else K.lock&&(K._lock=!K._lock,jo(ae,!0,Y!=null));Y!=null&&(Et(S8,JN),Bo(S8,i,Mn,Si,J,ue,null))}function xt(Y,ae,ge,ve,De,Le,_t){if(K._lock)return;Xi(Y);let Lt=ba;if(ba){let Ht=!0,$t=!0,Yt=10,sn,Dn;P.ori==0?(sn=Yi,Dn=Ji):(sn=Ji,Dn=Yi),sn&&Dn&&(Ht=Mn<=Yt||Mn>=J-Yt,$t=Si<=Yt||Si>=ue-Yt),sn&&Ht&&(Mn=Mn<Ft?0:J),Dn&&$t&&(Si=Si<mn?0:ue),jo(null,!0,!0),ba=!1}Mn=-10,Si=-10,oe.fill(null),jo(null,!0,!0),Lt&&(ba=Lt)}function Pt(Y,ae,ge,ve,De,Le,_t){K._lock||(Xi(Y),it(),ee(),Y!=null&&Bo(dH,i,Mn,Si,J,ue,null))}function en(){_.forEach(uLe),Wt(i.width,i.height,!0)}km(XA,_0,en);const rn={};rn.mousedown=Ct,rn.mousemove=Xs,rn.mouseup=Bt,rn.dblclick=Pt,rn.setSeries=(Y,ae,ge,ve)=>{let De=$n.match[2];ge=De(i,ae,ge),ge!=-1&&Es(ge,ve,!0,!1)},_e&&(We(uH,b,Ct),We(_8,b,Xs),We(fH,b,Y=>{Xi(Y),Ua(!1)}),We(hH,b,xt),We(dH,b,Pt),rI.add(i),i.syncRect=Ua);const Bn=i.hooks=t.hooks||{};function Cn(Y,ae,ge){Ec?Pr.push([Y,ae,ge]):Y in Bn&&Bn[Y].forEach(ve=>{ve.call(null,i,ae,ge)})}(t.plugins||[]).forEach(Y=>{for(let ae in Y.hooks)Bn[ae]=(Bn[ae]||[]).concat(Y.hooks[ae])});const Vr=(Y,ae,ge)=>ge,$n=Sa({key:null,setSeries:!1,filters:{pub:EH,sub:EH},scales:[w,x[1]?x[1].scale:null],match:[MH,MH,Vr],values:[null,null]},K.sync);$n.match.length==2&&$n.match.push(Vr),K.sync=$n;const Ac=$n.key,Cr=KQ(Ac);function Bo(Y,ae,ge,ve,De,Le,_t){$n.filters.pub(Y,ae,ge,ve,De,Le,_t)&&Cr.pub(Y,ae,ge,ve,De,Le,_t)}Cr.sub(i);function df(Y,ae,ge,ve,De,Le,_t){$n.filters.sub(Y,ae,ge,ve,De,Le,_t)&&rn[Y](null,ae,ge,ve,De,Le,_t)}i.pub=df;function Ks(){Cr.unsub(i),rI.delete(i),Ne.clear(),QN(XA,_0,en),c.remove(),xe?.remove(),Cn("destroy")}i.destroy=Ks;function Eh(){Cn("init",t,e),dt(e||t.data,!1),V[w]?O(w,V[w]):it(),Fe=wi.show&&(wi.width>0||wi.height>0),Re=wt=!0,Wt(t.width,t.height)}return x.forEach(ga),_.forEach(Te),n?n instanceof HTMLElement?(n.appendChild(c),Eh()):n(i,Eh):Eh(),i}js.assign=Sa;js.fmtNum=vU;js.rangeNum=KA;js.rangeLog=a2;js.rangeAsinh=bU;js.orient=fg;js.pxRatio=Bi;js.join=tOe;js.fmtDate=_U,js.tzDate=hOe;js.sync=KQ;{js.addGap=KOe,js.clipGaps=l2;let t=js.paths={points:eee};t.linear=nee,t.stepped=$Oe,t.bars=ZOe,t.spline=eLe}const fLe=Object.freeze(Object.defineProperty({__proto__:null,default:js},Symbol.toStringTag,{value:"Module"})),hLe=tie(fLe);(function(t,e){(function(i,r){t.exports=r(I,hLe)})(Nm,(n,i)=>(()=>{var r={"./common/index.ts":(l,c,u)=>{u.r(c),u.d(c,{dataMatch:()=>d,optionsUpdateState:()=>h});var f=function(b,y){var v={};for(var m in b)Object.prototype.hasOwnProperty.call(b,m)&&y.indexOf(m)<0&&(v[m]=b[m]);if(b!=null&&typeof Object.getOwnPropertySymbols=="function")for(var x=0,m=Object.getOwnPropertySymbols(b);x<m.length;x++)y.indexOf(m[x])<0&&Object.prototype.propertyIsEnumerable.call(b,m[x])&&(v[m[x]]=b[m[x]]);return v};Object.is||Object.defineProperty(Object,"is",{value:function(y,v){return y===v&&(y!==0||1/y===1/v)||y!==y&&v!==v}});var h=function(y,v){var m=y.width,x=y.height,_=f(y,["width","height"]),E=v.width,A=v.height,w=f(v,["width","height"]),T="keep";if((x!==A||m!==E)&&(T="update"),Object.keys(_).length!==Object.keys(w).length)return"create";for(var k=0,N=Object.keys(_);k<N.length;k++){var D=N[k];if(!Object.is(_[D],w[D])){T="create";break}}return T},d=function(y,v){return y.length!==v.length?!1:y.every(function(m,x){var _=v[x];return m.length!==_.length?!1:m.every(function(E,A){return E===_[A]})})}},react:l=>{l.exports=n},uplot:l=>{l.exports=i}},a={};function s(l){var c=a[l];if(c!==void 0)return c.exports;var u=a[l]={exports:{}};return r[l](u,u.exports,s),u.exports}s.n=l=>{var c=l&&l.__esModule?()=>l.default:()=>l;return s.d(c,{a:c}),c},s.d=(l,c)=>{for(var u in c)s.o(c,u)&&!s.o(l,u)&&Object.defineProperty(l,u,{enumerable:!0,get:c[u]})},s.o=(l,c)=>Object.prototype.hasOwnProperty.call(l,c),s.r=l=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})};var o={};return(()=>{/*!*******************************!*\
  !*** ./react/uplot-react.tsx ***!
  \*******************************/s.r(o),s.d(o,{default:()=>d});var l=s("react"),c=s.n(l),u=s("uplot"),f=s.n(u),h=s("./common/index.ts");function d(b){var y=b.options,v=b.data,m=b.target,x=b.onDelete,_=b.onCreate,E=b.resetScales,A=E===void 0?!0:E,w=b.className,T=(0,l.useRef)(null),k=(0,l.useRef)(null),N=(0,l.useRef)(y),D=(0,l.useRef)(m),P=(0,l.useRef)(v),B=(0,l.useRef)(_),G=(0,l.useRef)(x);(0,l.useEffect)(function(){B.current=_,G.current=x});var H=(0,l.useCallback)(function(U){var F;U&&((F=G.current)===null||F===void 0||F.call(G,U),U.destroy(),T.current=null)},[]),V=(0,l.useCallback)(function(){var U,F=new(f())(N.current,P.current,D.current||k.current);T.current=F,(U=B.current)===null||U===void 0||U.call(B,F)},[]);return(0,l.useEffect)(function(){return V(),function(){H(T.current)}},[V,H]),(0,l.useEffect)(function(){if(N.current!==y){var U=(0,h.optionsUpdateState)(N.current,y);N.current=y,!T.current||U==="create"?(H(T.current),V()):U==="update"&&T.current.setSize({width:y.width,height:y.height})}},[y,V,H]),(0,l.useEffect)(function(){P.current!==v&&(T.current?(0,h.dataMatch)(P.current,v)||(A?T.current.setData(v,!0):(T.current.setData(v,!1),T.current.redraw())):(P.current=v,V()),P.current=v)},[v,A,V]),(0,l.useEffect)(function(){return D.current!==m&&(D.current=m,V()),function(){return H(T.current)}},[m,V,H]),m?null:c().createElement("div",{ref:k,className:w})}})(),o=o.default,o})())})(vQ);var dLe=vQ.exports;const pLe=mc(dLe);function XH({props:t,onExpand:e}){const[n,i]=I.useState(!1),{ref:r,width:a}=JW(),s=ma(),{colorScheme:o}=ng(),[l,c,u]=I.useMemo(()=>{const y=t.data.map(x=>new Float64Array(x.buffer.slice(x.byteOffset,x.byteOffset+x.byteLength)));let v=1/0,m=-1/0;for(const x of y[0])x<v&&(v=x),x>m&&(m=x);return[y,v,m]},[t.data]),f=I.useMemo(()=>{const y=o==="dark"?s.colors.gray[5]:s.colors.gray[7],v=o==="dark"?"rgba(255, 255, 255, 0.03)":s.colors.gray[2];let m=t.axes;return m==null?m=[{stroke:y,grid:{stroke:v,show:!0}},{stroke:y,grid:{stroke:v,show:!0}}]:m=m.map(x=>{if(x==null)return x;const _={...x};return _.stroke===void 0&&(_.stroke=y),_.grid===void 0?_.grid={stroke:v}:_.grid!==null&&_.grid.stroke===void 0&&(_.grid={..._.grid,stroke:v}),_.ticks===void 0?_.ticks={stroke:y}:_.ticks!==null&&_.ticks.stroke===void 0&&(_.ticks={..._.ticks,stroke:y}),_}),{width:a,height:a/t.aspect,title:t.title||void 0,mode:t.mode||void 0,series:t.series||[],cursor:t.cursor||void 0,bands:t.bands||void 0,scales:t.scales||void 0,axes:m,legend:t.legend||void 0,focus:t.focus||void 0,padding:[0,24,0,0]}},[a,t.aspect,t.title,t.mode,t.series,t.cursor,t.bands,t.scales,t.axes,t.legend,t.focus,o]),[h,d]=I.useState(),b=I.useRef({relMin:0,relMax:1});return I.useEffect(()=>{if(!h)return;const y=Object.keys(h.scales)[0],v=h.scales[y];if(v.auto===!1)return;const m=u-c;return h.setScale(y,{min:c+b.current.relMin*m,max:c+b.current.relMax*m}),()=>{b.current={relMin:((v.min??0)-c)/m,relMax:((v.max??1)-c)/m}}},[c,u,h]),C.jsxs(xs,{ref:r,className:`${dU} uplot-container`,withBorder:!0,style:{position:"relative"},onMouseEnter:e?()=>i(!0):void 0,onMouseLeave:e?()=>i(!1):void 0,children:[f&&C.jsx(pLe,{resetScales:!1,onCreate:y=>{d(y)},onDelete:()=>{d(void 0)},options:f,data:l},o),e&&n&&C.jsx(Tr,{label:"Expand plot",children:C.jsx(_l,{onClick:e,variant:"subtle",color:"gray",size:"sm",style:{position:"absolute",top:8,right:8,backgroundColor:o==="dark"?"rgba(255, 255, 255, 0.1)":"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(4px)"},children:C.jsx(X$,{size:14})})})]})}function mLe(t){const[e,{open:n,close:i}]=uc(!1);return t.props.visible===!1?null:C.jsxs(et,{children:[C.jsx(XH,{...t,onExpand:n}),C.jsx(mo,{opened:e,onClose:i,size:"xl",children:C.jsx(XH,{...t})})]})}function gLe({props:{_tab_labels:t,_tab_icons_html:e,_tab_container_ids:n,visible:i}}){const{GuiContainer:r}=I.useContext(_s);return i?C.jsxs(Vf,{radius:"xs",defaultValue:"0",style:{marginTop:"-0.55em"},children:[C.jsx(Vf.List,{children:t.map((a,s)=>C.jsx(Vf.Tab,{value:s.toString(),styles:{tabSection:{marginRight:"0.5em"},tab:{padding:"0.75em"}},leftSection:e[s]===null?void 0:C.jsx("div",{className:KP,dangerouslySetInnerHTML:{__html:e[s]}}),children:a},s))}),n.map((a,s)=>C.jsx(Vf.Panel,{value:s.toString(),children:C.jsx(r,{containerUuid:a})},a))]}):null}function bLe({uuid:t,props:{label:e,visible:n,expand_by_default:i},nextGuiUuid:r}){const a=I.useContext(xi),[s,{toggle:o}]=uc(i),l=a.useGui(d=>d.guiUuidSetFromContainerUuid[t]),c=I.useContext(_s),u=l===void 0||Object.keys(l).length===0,f=a.useGui(d=>r==null?null:d.guiConfigFromUuid[r]?.type),h=s?LMe:RMe;return n?C.jsxs(xs,{withBorder:!0,className:dU,mb:f==="GuiFolderMessage"?"md":void 0,children:[C.jsxs(xs,{className:dIe,style:{cursor:u?void 0:"pointer"},onClick:o,children:[e,C.jsx(h,{className:pIe,style:{display:u?"none":void 0}})]}),C.jsx(sh,{in:s&&!u,children:C.jsx(et,{pt:"0.2em",children:C.jsx(_s.Provider,{value:{...c,folderDepth:c.folderDepth+1},children:C.jsx(c.GuiContainer,{containerUuid:t})})})}),C.jsx(sh,{in:!(s&&!u),children:C.jsx(et,{p:"xs"})})]}):null}function yLe(t,e,n){return Math.max(e,Math.min(n,t))}function vLe({min:t,max:e,step:n=1,value:i,onChange:r,marks:a,fixedEndpoints:s=!1,minRange:o,precision:l=2,id:c,className:u,disabled:f=!1,pt:h,pb:d}){const[b,y]=I.useState(null),v=I.useRef(null),m=ma(),{colorScheme:x}=ng(),_=N=>(N-t)/(e-t)*100,E=N=>{if(!v.current)return 0;const D=v.current.getBoundingClientRect(),B=(N-D.left)/D.width*(e-t)+t;return n?Math.round(B/n)*n:parseFloat(B.toFixed(l))},A=N=>{if(i.length===0)return-1;let D=1/0,P=0;return i.forEach((B,G)=>{const H=Math.abs(B-N);H<D&&(D=H,P=G)}),P},w=I.useCallback((N,D)=>{const P=[...i];P[D]=yLe(N,t,e);const B=o||n;D<P.length-1&&P[D]>P[D+1]-B&&(P[D]=P[D+1]-B),D>0&&P[D]<P[D-1]+B&&(P[D]=P[D-1]+B),!(s&&(D===0||D===P.length-1))&&r(P)},[i,r,t,e,n,o,s]),T=N=>{if(f||i.length===0)return;const D=E(N.clientX),P=A(D);if(P===-1)return;y(P);const B=H=>{const V=E(H.clientX);w(V,P)},G=()=>{y(null),document.removeEventListener("mousemove",B),document.removeEventListener("mouseup",G)};document.addEventListener("mousemove",B),document.addEventListener("mouseup",G)},k=(N,D)=>{if(N.stopPropagation(),f||i.length===0||D>=i.length)return;y(D);const P=G=>{const H=E(G.clientX);w(H,D)},B=()=>{y(null),document.removeEventListener("mousemove",P),document.removeEventListener("mouseup",B)};document.addEventListener("mousemove",P),document.addEventListener("mouseup",B)};return C.jsx(et,{id:c,className:`multi-slider ${u||""} ${f?"disabled":""}`,pt:h,pb:d,children:C.jsxs("div",{ref:v,className:"multi-slider-track-container",onMouseDown:T,children:[C.jsx("div",{className:"multi-slider-track"}),i.map((N,D)=>C.jsx(Tr,{label:N.toFixed(l),opened:b===D,position:"top",offset:10,transitionProps:{transition:"fade",duration:0},withinPortal:!0,children:C.jsx("div",{className:`multi-slider-thumb ${b===D?"active":""}`,style:{left:`${_(N)}%`,backgroundColor:f?void 0:m.colors[m.primaryColor][x==="dark"?5:6]},onMouseDown:P=>k(P,D)})},`thumb-${D}`)),a&&a.map((N,D)=>C.jsxs("div",{className:"multi-slider-mark-wrapper",style:{left:`${_(N.value)}%`},children:[C.jsx("div",{className:"multi-slider-mark"}),N.label&&N.label!==null&&C.jsx("div",{className:"multi-slider-mark-label",children:N.label})]},`mark-${D}`))]})})}function xLe({uuid:t,value:e,props:{label:n,hint:i,visible:r,disabled:a,min:s,max:o,precision:l,step:c,_marks:u,fixed_endpoints:f,min_range:h}}){const{setValue:d}=ke.useContext(_s);if(!r)return null;const b=v=>d(t,v),y=C.jsx(et,{px:"0.1em",children:C.jsx(vLe,{id:t,className:u===null?G$:void 0,min:s,max:o,step:c??void 0,fixedEndpoints:f,precision:l,minRange:h??void 0,marks:u===null?[{value:s,label:`${s.toFixed(6).replace(/\.?0+$/,"")}`},{value:o,label:`${o.toFixed(6).replace(/\.?0+$/,"")}`}]:u,value:e,onChange:b,disabled:a})});return C.jsx(pu,{uuid:t,hint:i,label:n,children:y})}function _Le({uuid:t,props:{disabled:e,mime_type:n,color:i,_icon_html:r,label:a}}){const s=I.useContext(xi),o=ke.useRef(null),{isUploading:l,upload:c}=SLe({viewer:s,componentUuid:t});return C.jsxs(et,{mx:"xs",mb:"0.5em",children:[C.jsx("input",{type:"file",style:{display:"none"},id:`file_upload_${t}`,name:"file",accept:n,ref:o,onChange:u=>{const f=u.target;f.files&&c(f.files[0])}}),C.jsx(ds,{id:t,fullWidth:!0,color:JC(i),onClick:()=>{o.current!==null&&(o.current.value=o.current.defaultValue,o.current.click())},style:{height:"2em"},disabled:e||l,size:"sm",leftSection:r===null?void 0:C.jsx("div",{className:KP,dangerouslySetInnerHTML:{__html:r}}),children:a})]})}function SLe({viewer:t,componentUuid:e}){const n=t.useGui(l=>l.updateUploadState),i=t.useGui(l=>l.uploadsInProgress[e]),r=i?.totalBytes,a=ke.useMemo(()=>{if(r===void 0)return"";let l=r;const c=["B","K","M","G","T","P"];let u=0;for(;l>=100&&u<c.length-1;)l/=1024,u+=1;return`${l.toFixed(1)}${c[u]}`},[r]);ke.useEffect(()=>{if(i===void 0)return;const{notificationId:l,filename:c}=i;if(i.uploadedBytes===0)ms.show({id:l,title:`Uploading ${c} (${a})`,message:C.jsx(Zu,{size:"sm",value:0}),autoClose:!1,withCloseButton:!1,loading:!0});else{const u=i.uploadedBytes/i.totalBytes,f=u===1;ms.update({id:l,title:`Uploading ${c} (${a})`,message:f?"File uploaded successfully.":C.jsx(Zu,{size:"sm",transitionDuration:10,value:100*u}),autoClose:f,withCloseButton:f,loading:!f,icon:f?C.jsx(YP,{}):void 0})}},[i,a]);const s=i!==void 0&&i.uploadedBytes<i.totalBytes;async function o(l){const c=t.mutable.current,u=512*1024,f=Math.ceil(l.size/u),h=V$(),d="upload-"+h;n({componentId:e,uploadedBytes:0,totalBytes:l.size,filename:l.name,notificationId:d}),c.sendMessage({type:"FileTransferStartUpload",source_component_uuid:e,transfer_uuid:h,filename:l.name,mime_type:l.type,size_bytes:l.size,part_count:f});for(let b=0;b<f;b++){const y=b*u,v=(b+1)*u,x=await l.slice(y,v).arrayBuffer();c.sendMessage({type:"FileTransferPart",source_component_uuid:e,transfer_uuid:h,part_index:b,content:new Uint8Array(x)})}}return{isUploading:s,upload:o}}function wLe({value:t,props:{visible:e,color:n,animated:i}}){return e?C.jsx(et,{pb:"xs",px:"xs",children:C.jsx(Zu,{radius:"xs",color:JC(n),value:t,animated:i,transitionDuration:0})}):null}function ELe({props:t}){if(!t.visible)return null;const[e,n]=I.useState(null);return I.useEffect(()=>{if(t._data===null)n(null);else{const i=URL.createObjectURL(new Blob([t._data],{type:"image/"+t._format}));return n(i),()=>{URL.revokeObjectURL(i)}}},[t._data,t._format]),e===null?null:C.jsxs(et,{px:"xs",children:[t.label===null?null:C.jsx(iu,{fz:"sm",style:{display:"block"},children:t.label}),C.jsx("img",{src:e,style:{maxWidth:"100%",height:"auto"}})]})}function MLe({props:t}){return t.visible?C.jsx("div",{dangerouslySetInnerHTML:{__html:t.content}}):null}function CU({containerUuid:t}){const n=ke.useContext(xi).useGui(a=>a.updateGuiProps),i=YC(50).send;function r(a,s){n(a,{value:s}),i({type:"GuiUpdateMessage",uuid:a,updates:{value:s}})}return C.jsx(_s.Provider,{value:{folderDepth:0,GuiContainer:KH,messageSender:i,setValue:r},children:C.jsx(KH,{containerUuid:t})})}function KH({containerUuid:t}){const e=ke.useContext(xi),n=e.useGui(o=>o.guiUuidSetFromContainerUuid[t])??{},i=[...Object.keys(n)],r=e.useGui(o=>o.guiOrderFromUuid);if(n===void 0)return null;let a=i.map(o=>({uuid:o,order:r[o]}));return a=a.sort((o,l)=>o.order-l.order),C.jsx(et,{pt:"xs",children:a.map((o,l)=>C.jsx(ALe,{guiUuid:o.uuid,nextGuiUuid:a[l+1]?.uuid??null},o.uuid))})}function ALe(t){const n=ke.useContext(xi).useGui(i=>i.guiConfigFromUuid[t.guiUuid]);if(n===void 0)return console.error("Tried to render non-existent component",t.guiUuid),null;switch(n.type){case"GuiFolderMessage":return C.jsx(bLe,{...n,nextGuiUuid:t.nextGuiUuid});case"GuiTabGroupMessage":return C.jsx(gLe,{...n});case"GuiMarkdownMessage":return C.jsx(hIe,{...n});case"GuiHtmlMessage":return C.jsx(MLe,{...n});case"GuiPlotlyMessage":return C.jsx(mIe,{...n});case"GuiUplotMessage":return C.jsx(mLe,{...n});case"GuiImageMessage":return C.jsx(ELe,{...n});case"GuiButtonMessage":return C.jsx(oMe,{...n});case"GuiUploadButtonMessage":return C.jsx(_Le,{...n});case"GuiSliderMessage":return C.jsx(cMe,{...n});case"GuiMultiSliderMessage":return C.jsx(xLe,{...n});case"GuiNumberMessage":return C.jsx(uMe,{...n});case"GuiTextMessage":return C.jsx(fMe,{...n});case"GuiCheckboxMessage":return C.jsx(hMe,{...n});case"GuiVector2Message":return C.jsx(dMe,{...n});case"GuiVector3Message":return C.jsx(pMe,{...n});case"GuiDropdownMessage":return C.jsx(mMe,{...n});case"GuiRgbMessage":return C.jsx(SAe,{...n});case"GuiRgbaMessage":return C.jsx(wAe,{...n});case"GuiButtonGroupMessage":return C.jsx(EAe,{...n});case"GuiProgressBarMessage":return C.jsx(wLe,{...n});default:TLe(n)}}function TLe(t){throw new Error("Unexpected object: "+t.type)}const CLe=I.forwardRef(function({points:e,color:n=16777215,vertexColors:i,linewidth:r,lineWidth:a,segments:s,dashed:o,...l},c){const u=mi(y=>y.size),f=I.useMemo(()=>s?new zP:new E$,[s]),[h]=I.useState(()=>new qC),d=3,b=I.useMemo(()=>{const y=s?new WC:new FP;if(y.setPositions(e),i){const v=new Float32Array(i).map(m=>m/255);n=16777215,y.setColors(v,d)}return y},[e,s,i,d]);return I.useLayoutEffect(()=>{f.computeLineDistances()},[e,f]),I.useLayoutEffect(()=>{o?h.defines.USE_DASH="":delete h.defines.USE_DASH,h.needsUpdate=!0},[o,h]),I.useEffect(()=>()=>{b.dispose(),h.dispose()},[b]),C.jsxs("primitive",{object:f,ref:c,...l,children:[C.jsx("primitive",{object:b,attach:"geometry"}),C.jsx("primitive",{object:h,attach:"material",color:n,vertexColors:!!i,resolution:[u.width,u.height],linewidth:r??a??1,dashed:o,transparent:!1,...l})]})}),YH={"shadow-camera-near":.001,"shadow-camera-far":500,"shadow-bias":-1e-5,"shadow-mapSize-width":1024,"shadow-mapSize-height":1024,"shadow-radius":4},T8=new kt;class h2{constructor(e){e=e||{},this.zNear=e.webGL===!0?-1:0,this.vertices={near:[new Q,new Q,new Q,new Q],far:[new Q,new Q,new Q,new Q]},e.projectionMatrix!==void 0&&this.setFromProjectionMatrix(e.projectionMatrix,e.maxFar||1e4)}setFromProjectionMatrix(e,n){const i=this.zNear,r=e.elements[2*4+3]===0;return T8.copy(e).invert(),this.vertices.near[0].set(1,1,i),this.vertices.near[1].set(1,-1,i),this.vertices.near[2].set(-1,-1,i),this.vertices.near[3].set(-1,1,i),this.vertices.near.forEach(function(a){a.applyMatrix4(T8)}),this.vertices.far[0].set(1,1,1),this.vertices.far[1].set(1,-1,1),this.vertices.far[2].set(-1,-1,1),this.vertices.far[3].set(-1,1,1),this.vertices.far.forEach(function(a){a.applyMatrix4(T8);const s=Math.abs(a.z);r?a.z*=Math.min(n/s,1):a.multiplyScalar(Math.min(n/s,1))}),this.vertices}split(e,n){for(;e.length>n.length;)n.push(new h2);n.length=e.length;for(let i=0;i<e.length;i++){const r=n[i];if(i===0)for(let a=0;a<4;a++)r.vertices.near[a].copy(this.vertices.near[a]);else for(let a=0;a<4;a++)r.vertices.near[a].lerpVectors(this.vertices.near[a],this.vertices.far[a],e[i-1]);if(i===e.length-1)for(let a=0;a<4;a++)r.vertices.far[a].copy(this.vertices.far[a]);else for(let a=0;a<4;a++)r.vertices.far[a].lerpVectors(this.vertices.near[a],this.vertices.far[a],e[i])}}toSpace(e,n){for(let i=0;i<4;i++)n.vertices.near[i].copy(this.vertices.near[i]).applyMatrix4(e),n.vertices.far[i].copy(this.vertices.far[i]).applyMatrix4(e)}}const JH={lights_fragment_begin:`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );

vec3 geometryClearcoatNormal = vec3( 0.0 );

#ifdef USE_CLEARCOAT

	geometryClearcoatNormal = clearcoatNormal;

#endif

#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		// Iridescence F0 approximation
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif

IncidentLight directLight;

#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )

	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif

	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {

		pointLight = pointLights[ i ];

		getPointLightInfo( pointLight, geometryPosition, directLight );

		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;

		#endif

		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );

	}
	#pragma unroll_loop_end

#endif

#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )

	SpotLight spotLight;
 	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;

	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif

	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {

		spotLight = spotLights[ i ];

		getSpotLightInfo( spotLight, geometryPosition, directLight );

  		// spot lights are ordered [shadows with maps, shadows without maps, maps without shadows, none]
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX

		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;

		#endif

		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );

	}
	#pragma unroll_loop_end

#endif

#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct ) && defined( USE_CSM ) && defined( CSM_CASCADES )

	DirectionalLight directionalLight;
	float linearDepth = (vViewPosition.z) / (shadowFar - cameraNear);
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif

	#if defined( USE_SHADOWMAP ) && defined( CSM_FADE )
		vec2 cascade;
		float cascadeCenter;
		float closestEdge;
		float margin;
		float csmx;
		float csmy;

		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {

			directionalLight = directionalLights[ i ];
			getDirectionalLightInfo( directionalLight, directLight );

			#if ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
				// NOTE: Depth gets larger away from the camera.
				// cascade.x is closer, cascade.y is further
				cascade = CSM_cascades[ i ];
				cascadeCenter = ( cascade.x + cascade.y ) / 2.0;
				closestEdge = linearDepth < cascadeCenter ? cascade.x : cascade.y;
				margin = 0.25 * pow( closestEdge, 2.0 );
				csmx = cascade.x - margin / 2.0;
				csmy = cascade.y + margin / 2.0;
				if( linearDepth >= csmx && ( linearDepth < csmy || UNROLLED_LOOP_INDEX == CSM_CASCADES - 1 ) ) {

					float dist = min( linearDepth - csmx, csmy - linearDepth );
					float ratio = clamp( dist / margin, 0.0, 1.0 );

					vec3 prevColor = directLight.color;
					directionalLightShadow = directionalLightShadows[ i ];
					directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;

					bool shouldFadeLastCascade = UNROLLED_LOOP_INDEX == CSM_CASCADES - 1 && linearDepth > cascadeCenter;
					directLight.color = mix( prevColor, directLight.color, shouldFadeLastCascade ? ratio : 1.0 );

					ReflectedLight prevLight = reflectedLight;
					RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );

					bool shouldBlend = UNROLLED_LOOP_INDEX != CSM_CASCADES - 1 || UNROLLED_LOOP_INDEX == CSM_CASCADES - 1 && linearDepth < cascadeCenter;
					float blendRatio = shouldBlend ? ratio : 1.0;

					reflectedLight.directDiffuse = mix( prevLight.directDiffuse, reflectedLight.directDiffuse, blendRatio );
					reflectedLight.directSpecular = mix( prevLight.directSpecular, reflectedLight.directSpecular, blendRatio );
					reflectedLight.indirectDiffuse = mix( prevLight.indirectDiffuse, reflectedLight.indirectDiffuse, blendRatio );
					reflectedLight.indirectSpecular = mix( prevLight.indirectSpecular, reflectedLight.indirectSpecular, blendRatio );

				}
			#endif

		}
		#pragma unroll_loop_end
	#elif defined (USE_SHADOWMAP)

		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {

			directionalLight = directionalLights[ i ];
			getDirectionalLightInfo( directionalLight, directLight );

			#if ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )

				directionalLightShadow = directionalLightShadows[ i ];
				if(linearDepth >= CSM_cascades[UNROLLED_LOOP_INDEX].x && linearDepth < CSM_cascades[UNROLLED_LOOP_INDEX].y) directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;

				if(linearDepth >= CSM_cascades[UNROLLED_LOOP_INDEX].x && (linearDepth < CSM_cascades[UNROLLED_LOOP_INDEX].y || UNROLLED_LOOP_INDEX == CSM_CASCADES - 1)) RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );

			#endif

		}
		#pragma unroll_loop_end

	#elif ( NUM_DIR_LIGHT_SHADOWS > 0 )
		// note: no loop here - all CSM lights are in fact one light only
		getDirectionalLightInfo( directionalLights[0], directLight );
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );

	#endif

	#if ( NUM_DIR_LIGHTS > NUM_DIR_LIGHT_SHADOWS)
		// compute the lights not casting shadows (if any)

		#pragma unroll_loop_start
		for ( int i = NUM_DIR_LIGHT_SHADOWS; i < NUM_DIR_LIGHTS; i ++ ) {

			directionalLight = directionalLights[ i ];

			getDirectionalLightInfo( directionalLight, directLight );

			RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );

		}
		#pragma unroll_loop_end

	#endif

#endif


#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct ) && !defined( USE_CSM ) && !defined( CSM_CASCADES )

	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif

	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {

		directionalLight = directionalLights[ i ];

		getDirectionalLightInfo( directionalLight, directLight );

		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif

		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );

	}
	#pragma unroll_loop_end

#endif

#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )

	RectAreaLight rectAreaLight;

	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {

		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );

	}
	#pragma unroll_loop_end

#endif

#if defined( RE_IndirectDiffuse )

	vec3 iblIrradiance = vec3( 0.0 );

	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );

	#if defined( USE_LIGHT_PROBES )

		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );

	#endif

	#if ( NUM_HEMI_LIGHTS > 0 )

		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {

			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );

		}
		#pragma unroll_loop_end

	#endif

#endif

#if defined( RE_IndirectSpecular )

	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );

#endif
`,lights_pars_begin:`
#if defined( USE_CSM ) && defined( CSM_CASCADES )
uniform vec2 CSM_cascades[CSM_CASCADES];
uniform float cameraNear;
uniform float shadowFar;
#endif
	`+on.lights_pars_begin},$H=new kt,C8=new h2({webGL:!0}),Df=new Q,tx=new vr,R8=[],k8=[],D8=new kt,ZH=new kt,RLe=new Q(0,1,0);class kLe{constructor(e){this.camera=e.camera,this.parent=e.parent,this.cascades=e.cascades||3,this.maxFar=e.maxFar||1e5,this.mode=e.mode||"practical",this.shadowMapSize=e.shadowMapSize||2048,this.shadowBias=e.shadowBias||1e-6,this.lightDirection=e.lightDirection||new Q(1,-1,1).normalize(),this.lightIntensity=e.lightIntensity||3,this.lightNear=e.lightNear||1,this.lightFar=e.lightFar||2e3,this.lightMargin=e.lightMargin||200,this.customSplitsCallback=e.customSplitsCallback,this.fade=!1,this.mainFrustum=new h2({webGL:!0}),this.frustums=[],this.breaks=[],this.lights=[],this.shaders=new Map,this._createLights(),this.updateFrustums(),this._injectInclude()}_createLights(){for(let e=0;e<this.cascades;e++){const n=new FC(16777215,this.lightIntensity);n.castShadow=!0,n.shadow.mapSize.width=this.shadowMapSize,n.shadow.mapSize.height=this.shadowMapSize,n.shadow.camera.near=this.lightNear,n.shadow.camera.far=this.lightFar,n.shadow.bias=this.shadowBias,this.parent.add(n),this.parent.add(n.target),this.lights.push(n)}}_initCascades(){const e=this.camera;e.updateProjectionMatrix(),this.mainFrustum.setFromProjectionMatrix(e.projectionMatrix,this.maxFar),this.mainFrustum.split(this.breaks,this.frustums)}_updateShadowBounds(){const e=this.frustums;for(let n=0;n<e.length;n++){const r=this.lights[n].shadow.camera,a=this.frustums[n],s=a.vertices.near,o=a.vertices.far,l=o[0];let c;l.distanceTo(o[2])>l.distanceTo(s[2])?c=o[2]:c=s[2];let u=l.distanceTo(c);if(this.fade){const f=this.camera,h=Math.max(f.far,this.maxFar),d=a.vertices.far[0].z/(h-f.near),b=.25*Math.pow(d,2)*(h-f.near);u+=b}r.left=-u/2,r.right=u/2,r.top=u/2,r.bottom=-u/2,r.updateProjectionMatrix()}}_getBreaks(){const e=this.camera,n=Math.min(e.far,this.maxFar);switch(this.breaks.length=0,this.mode){case"uniform":i(this.cascades,e.near,n,this.breaks);break;case"logarithmic":r(this.cascades,e.near,n,this.breaks);break;case"practical":a(this.cascades,e.near,n,.5,this.breaks);break;case"custom":this.customSplitsCallback===void 0&&console.error("CSM: Custom split scheme callback not defined."),this.customSplitsCallback(this.cascades,e.near,n,this.breaks);break}function i(s,o,l,c){for(let u=1;u<s;u++)c.push((o+(l-o)*u/s)/l);c.push(1)}function r(s,o,l,c){for(let u=1;u<s;u++)c.push(o*(l/o)**(u/s)/l);c.push(1)}function a(s,o,l,c,u){R8.length=0,k8.length=0,r(s,o,l,k8),i(s,o,l,R8);for(let f=1;f<s;f++)u.push(ac.lerp(R8[f-1],k8[f-1],c));u.push(1)}}update(){const e=this.camera,n=this.frustums;D8.lookAt(new Q,this.lightDirection,RLe),ZH.copy(D8).invert();for(let i=0;i<n.length;i++){const r=this.lights[i],a=r.shadow.camera,s=(a.right-a.left)/this.shadowMapSize,o=(a.top-a.bottom)/this.shadowMapSize;$H.multiplyMatrices(ZH,e.matrixWorld),n[i].toSpace($H,C8);const l=C8.vertices.near,c=C8.vertices.far;tx.makeEmpty();for(let u=0;u<4;u++)tx.expandByPoint(l[u]),tx.expandByPoint(c[u]);tx.getCenter(Df),Df.z=tx.max.z+this.lightMargin,Df.x=Math.floor(Df.x/s)*s,Df.y=Math.floor(Df.y/o)*o,Df.applyMatrix4(D8),r.position.copy(Df),r.target.position.copy(Df),r.target.position.x+=this.lightDirection.x,r.target.position.y+=this.lightDirection.y,r.target.position.z+=this.lightDirection.z}}_injectInclude(){on.lights_fragment_begin=JH.lights_fragment_begin,on.lights_pars_begin=JH.lights_pars_begin}setupMaterial(e){e.defines=e.defines||{},e.defines.USE_CSM=1,e.defines.CSM_CASCADES=this.cascades,this.fade&&(e.defines.CSM_FADE="");const n=[],i=this,r=this.shaders;e.onBeforeCompile=function(a){const s=Math.min(i.camera.far,i.maxFar);i._getExtendedBreaks(n),a.uniforms.CSM_cascades={value:n},a.uniforms.cameraNear={value:i.camera.near},a.uniforms.shadowFar={value:s},r.set(e,a)},r.set(e,null)}_updateUniforms(){const e=Math.min(this.camera.far,this.maxFar);this.shaders.forEach(function(i,r){if(i!==null){const a=i.uniforms;this._getExtendedBreaks(a.CSM_cascades.value),a.cameraNear.value=this.camera.near,a.shadowFar.value=e}!this.fade&&"CSM_FADE"in r.defines?(delete r.defines.CSM_FADE,r.needsUpdate=!0):this.fade&&!("CSM_FADE"in r.defines)&&(r.defines.CSM_FADE="",r.needsUpdate=!0)},this)}_getExtendedBreaks(e){for(;e.length<this.breaks.length;)e.push(new yt);e.length=this.breaks.length;for(let n=0;n<this.cascades;n++){const i=this.breaks[n],r=this.breaks[n-1]||0;e[n].x=r,e[n].y=i}}updateFrustums(){this._getBreaks(),this._initCascades(),this._updateShadowBounds(),this._updateUniforms()}remove(){for(let e=0;e<this.lights.length;e++)this.parent.remove(this.lights[e].target),this.parent.remove(this.lights[e])}dispose(){const e=this.shaders;e.forEach(function(n,i){delete i.onBeforeCompile,delete i.defines.USE_CSM,delete i.defines.CSM_CASCADES,delete i.defines.CSM_FADE,n!==null&&(delete n.uniforms.CSM_cascades,delete n.uniforms.cameraNear,delete n.uniforms.shadowFar),i.needsUpdate=!0}),e.clear()}}let QH="",eV="",uE=0;class DLe{instance;args;constructor(e){this.args=e,uE===0&&(QH=on.lights_fragment_begin,eV=on.lights_pars_begin)}attach(){this.instance||(this.instance=new kLe(this.args),uE++)}dispose(){this.instance&&(this.instance.remove(),this.instance.dispose(),this.instance=void 0,uE--,uE===0&&(on.lights_fragment_begin=QH,on.lights_pars_begin=eV))}}function tV(t){t.traverse(e=>{const n=e;n.isMesh&&n.material&&(Array.isArray(n.material)?n.material.forEach(i=>{i.needsUpdate=!0}):n.material.needsUpdate=!0)})}function sI({maxFar:t=30,shadowMapSize:e=1024,lightIntensity:n=.25,cascades:i=3,fade:r=!0,position:a=[0,0,0],shadowBias:s=-1e-5,lightFar:o=2e3,lightMargin:l=200,lightNear:c=1e-4,mode:u="practical",color:f=16777215,castShadow:h=!0}){return h?C.jsx(NLe,{maxFar:t,shadowMapSize:e,lightIntensity:n/i,cascades:i,fade:r,position:a,shadowBias:s,lightFar:o,lightMargin:l,lightNear:c,mode:u,color:f},"csm-shadow"):C.jsx("directionalLight",{intensity:n,position:a,color:f!==void 0?new Ut(f):void 0})}function NLe({maxFar:t,shadowMapSize:e,lightIntensity:n,cascades:i,fade:r,position:a=[0,-1,0],shadowBias:s,lightFar:o,lightMargin:l,lightNear:c,mode:u,color:f}){const h=mi(w=>w.camera),{scene:d}=mi(),b=I.useMemo(()=>{let w=d;for(;w;){if(w instanceof Uy)return w;w=w.parent}throw new Error("Could not find scene object in r3f context!")},[d]),y=I.useMemo(()=>new Q(-a[0],-a[1],-a[2]).normalize(),[a]),v=I.useRef(null),m=I.useMemo(()=>new Q,[]),x=I.useMemo(()=>new Q(0,0,0),[]),_=I.useMemo(()=>new Q,[]),E=I.useMemo(()=>new DLe({camera:h,cascades:i,lightDirection:y.clone(),lightFar:o,lightIntensity:n,lightMargin:l,lightNear:c,maxFar:t,mode:u,parent:b,shadowBias:s,shadowMapSize:e}),[h,b,i,y,o,n,l,c,t,u,s,e]),A=I.useMemo(()=>new Ut(f),[f]);return I.useEffect(()=>{E.instance&&(E.instance.lights.forEach(w=>{w.color=A}),E.instance.fade=r??!1)},[E,A,r]),ca(()=>{!E.instance||!v.current||(v.current.getWorldPosition(m),_.subVectors(x,m).normalize(),E.instance.lightDirection.copy(_),E.instance.update())}),I.useEffect(()=>(tV(b),()=>{requestAnimationFrame(()=>{tV(b)})}),[b]),I.useEffect(()=>(E.attach(),E.instance&&E.instance.lights.forEach(w=>{w.color=A}),()=>{E.dispose()}),[E,A]),C.jsx(C.Fragment,{children:C.jsx("group",{position:a,ref:v})})}const ILe=ke.forwardRef(function({children:e,...n},i){const r=ke.useMemo(()=>L_(n.props),[n.props.material,n.props.color,n.props.wireframe,n.props.opacity,n.props.flat_shading,n.props.side]),a=ke.useMemo(()=>{const s=new An;return s.setAttribute("position",new In(new Float32Array(n.props.vertices.buffer.slice(n.props.vertices.byteOffset,n.props.vertices.byteOffset+n.props.vertices.byteLength)),3)),s.setIndex(new In(new Uint32Array(n.props.faces.buffer.slice(n.props.faces.byteOffset,n.props.faces.byteOffset+n.props.faces.byteLength)),1)),s.computeVertexNormals(),s.computeBoundingSphere(),s},[n.props.vertices.buffer,n.props.faces.buffer]);return ke.useEffect(()=>()=>{a&&a.dispose()},[a]),ke.useEffect(()=>()=>{r&&r.dispose()},[r]),C.jsxs("mesh",{ref:i,geometry:a,material:r,castShadow:n.props.cast_shadow,receiveShadow:n.props.receive_shadow,children:[C.jsx(Wf,{enableCreaseAngle:a.attributes.position.count<1024&&a.boundingSphere.radius>.1}),e]})});let N8=null;const OLe=ke.forwardRef(function({children:e,...n},i){const r=ke.useMemo(()=>L_(n.props),[n.props.material,n.props.color,n.props.wireframe,n.props.opacity,n.props.flat_shading,n.props.side]);return N8===null&&(N8=new Wd(1,1,1)),ke.useEffect(()=>()=>{r&&r.dispose()},[r]),C.jsxs("group",{ref:i,children:[C.jsx("mesh",{geometry:N8,scale:n.props.dimensions,material:r,castShadow:n.props.cast_shadow,receiveShadow:n.props.receive_shadow,children:C.jsx(Wf,{enableCreaseAngle:!0})}),e]})}),I8=new Map,LLe=ke.forwardRef(function({children:e,...n},i){const r=ke.useMemo(()=>L_(n.props),[n.props.material,n.props.color,n.props.wireframe,n.props.opacity,n.props.flat_shading,n.props.side]),a=ke.useMemo(()=>(I8.has(n.props.subdivisions)||I8.set(n.props.subdivisions,new zy(1,n.props.subdivisions)),I8.get(n.props.subdivisions)),[n.props.subdivisions]);return ke.useEffect(()=>()=>{a&&a.dispose()},[a]),ke.useEffect(()=>()=>{r&&r.dispose()},[r]),C.jsxs("group",{ref:i,children:[C.jsx("mesh",{ref:i,geometry:a,scale:n.props.radius,material:r,castShadow:n.props.cast_shadow,receiveShadow:n.props.receive_shadow,children:C.jsx(Wf,{})}),e]})}),PLe=ke.forwardRef(function({children:e,...n},i){const r=ke.useContext(xi),a=ke.useMemo(()=>L_(n.props),[n.props.material,n.props.color,n.props.wireframe,n.props.opacity,n.props.flat_shading,n.props.side]),s=ke.useRef(),{geometry:o,skeleton:l}=ke.useMemo(()=>{const u=new An;u.setAttribute("position",new In(new Float32Array(n.props.vertices.buffer.slice(n.props.vertices.byteOffset,n.props.vertices.byteOffset+n.props.vertices.byteLength)),3)),u.setIndex(new In(new Uint32Array(n.props.faces.buffer.slice(n.props.faces.byteOffset,n.props.faces.byteOffset+n.props.faces.byteLength)),1)),u.computeVertexNormals(),u.computeBoundingSphere();const f=new Float32Array(n.props.bone_wxyzs.buffer.slice(n.props.bone_wxyzs.byteOffset,n.props.bone_wxyzs.byteOffset+n.props.bone_wxyzs.byteLength)),h=new Float32Array(n.props.bone_positions.buffer.slice(n.props.bone_positions.byteOffset,n.props.bone_positions.byteOffset+n.props.bone_positions.byteLength)),d=[];s.current=d;for(let m=0;m<h.length/3;m++)d.push(new E_);const b=[],y=new Hn;d.forEach((m,x)=>{y.set(f[x*4+1],f[x*4+2],f[x*4+3],f[x*4+0]);const _=new kt;_.makeRotationFromQuaternion(y),_.setPosition(h[x*3+0],h[x*3+1],h[x*3+2]),_.invert(),b.push(_),m.setRotationFromQuaternion(y),m.position.set(h[x*3+0],h[x*3+1],h[x*3+2])});const v=new Fy(d,b);return u.setAttribute("skinIndex",new In(new Uint16Array(n.props.skin_indices.buffer.slice(n.props.skin_indices.byteOffset,n.props.skin_indices.byteOffset+n.props.skin_indices.byteLength)),4)),u.setAttribute("skinWeight",new In(new Float32Array(n.props.skin_weights.buffer.slice(n.props.skin_weights.byteOffset,n.props.skin_weights.byteOffset+n.props.skin_weights.byteLength)),4)),v.init(),{geometry:u,skeleton:v}},[n.props.vertices.buffer,n.props.faces.buffer,n.props.skin_indices.buffer,n.props.skin_weights?.buffer,n.props.bone_wxyzs.buffer,n.props.bone_positions.buffer]),c=r.mutable.current;return ke.useEffect(()=>{const u=c.skinnedMeshState[n.name];return u.initialized=!1,()=>{l&&l.dispose(),o&&o.dispose()}},[l,o,n.name,c.skinnedMeshState]),ke.useEffect(()=>()=>{a&&a.dispose()},[a]),ca(()=>{const u=c.skinnedMeshState[n.name],f=s.current;if(l!==void 0&&f!==void 0){if(!u.initialized){const h=c.nodeRefFromName[n.name];if(h===void 0)return;f.forEach(d=>{h.add(d)}),u.initialized=!0}u.dirty&&(f.forEach((h,d)=>{const b=u.poses[d].wxyz,y=u.poses[d].position;h.quaternion.set(b[1],b[2],b[3],b[0]),h.position.set(y[0],y[1],y[2])}),u.dirty=!1)}}),C.jsxs("skinnedMesh",{ref:i,geometry:o,material:a,skeleton:l,castShadow:n.props.cast_shadow,receiveShadow:n.props.receive_shadow,frustumCulled:!1,children:[C.jsx(Wf,{enableCreaseAngle:o.attributes.position.count<1024}),e]})});function O8(t,e,n){n[0]=t[0]>e[0]?e[0]:t[0],n[1]=t[1]<e[1]?e[1]:t[1],n[2]=t[2]>e[2]?e[2]:t[2],n[3]=t[3]<e[3]?e[3]:t[3],n[4]=t[4]>e[4]?e[4]:t[4],n[5]=t[5]<e[5]?e[5]:t[5]}function ULe(t,e,n){let i=!1;const r=t[0]>e[0]?e[0]:t[0],a=t[1]<e[1]?e[1]:t[1],s=t[2]>e[2]?e[2]:t[2],o=t[3]<e[3]?e[3]:t[3],l=t[4]>e[4]?e[4]:t[4],c=t[5]<e[5]?e[5]:t[5];return n[0]>r&&(n[0]=r,i=!0),n[1]<a&&(n[1]=a,i=!0),n[2]>s&&(n[2]=s,i=!0),n[3]<o&&(n[3]=o,i=!0),n[4]>l&&(n[4]=l,i=!0),n[5]<c&&(n[5]=c,i=!0),i}function FLe(t,e){return!(e[0]>t[0]||e[1]<t[1]||e[2]>t[2]||e[3]<t[3]||e[4]>t[4]||e[5]<t[5])}function zLe(t,e){let n=!1;return e[0]>t[0]&&(e[0]=t[0],n=!0),e[1]<t[1]&&(e[1]=t[1],n=!0),e[2]>t[2]&&(e[2]=t[2],n=!0),e[3]<t[3]&&(e[3]=t[3],n=!0),e[4]>t[4]&&(e[4]=t[4],n=!0),e[5]<t[5]&&(e[5]=t[5],n=!0),n}function fE(t,e){t[0]-=e,t[1]+=e,t[2]-=e,t[3]+=e,t[4]-=e,t[5]+=e}function Rb(t){const e=t[1]-t[0],n=t[3]-t[2],i=t[5]-t[4];return 2*(e*n+n*i+i*e)}function Up(t,e){const n=t[0]>e[0]?e[0]:t[0],i=t[1]<e[1]?e[1]:t[1],r=t[2]>e[2]?e[2]:t[2],a=t[3]<e[3]?e[3]:t[3],s=t[4]>e[4]?e[4]:t[4],o=t[5]<e[5]?e[5]:t[5],l=i-n,c=a-r,u=o-s;return 2*(l*c+c*u+u*l)}function jLe(t){const e=t[1]-t[0],n=t[3]-t[2],i=t[5]-t[4];return e>n?e>i?0:2:n>i?1:2}function wx(t,e){const n=t[0]-e[0],i=e[0]-t[1];let r=n>i?n:i;r<0&&(r=0);const a=t[2]-e[1],s=e[1]-t[3];let o=a>s?a:s;o<0&&(o=0);const l=t[4]-e[2],c=e[2]-t[5];let u=l>c?l:c;return u<0&&(u=0),r*r+o*o+u*u}function BLe(t,e){let n,i,r,a,s,o;const l=t[0]-e[0],c=e[0]-t[1];l>c?(n=l,i=c):(n=c,i=l),n<0&&(n=0);const u=t[2]-e[1],f=e[1]-t[3];u>f?(r=u,a=f):(r=f,a=u),r<0&&(r=0);const h=t[4]-e[2],d=e[2]-t[5];return h>d?(s=h,o=d):(s=d,o=h),s<0&&(s=0),{min:n*n+r*r+s*s,max:i*i+a*a+o*o}}let HLe=class{constructor(){this.array=[]}clear(){this.array=[]}push(e){const n=this.array,i=e.inheritedCost,r=n.length>6?n.length-6:0;let a;for(a=n.length-1;a>=r&&!(i<=n[a].inheritedCost);a--);a>n.length-7&&n.splice(a+1,0,e)}pop(){return this.array.pop()}},VLe=class{constructor(e=!1){this.root=null,this._sortedList=new HLe,this.count=0,this.highPrecision=e,this._typeArray=e?Float64Array:Float32Array}createFromArray(e,n,i,r=0){const a=n.length,s=this._typeArray;s!==(n[0].BYTES_PER_ELEMENT===4?Float32Array:Float64Array)&&console.warn("Different precision.");const o=new s(6);let l,c;this.root=u(0,a,null);function u(b,y,v){if(y===1){const E=n[b];r>0&&fE(E,r);const A={box:E,object:e[b],parent:v};return i&&i(A),A}const m=f(b,y);h();let x=d(b,y);(x===b||x===b+y)&&(x=b+(y>>1));const _={box:m,parent:v};return _.left=u(b,x-b,_),_.right=u(x,y-x+b,_),_}function f(b,y){const v=new s(6),m=b+y;v[0]=1/0,v[1]=-1/0,v[2]=1/0,v[3]=-1/0,v[4]=1/0,v[5]=-1/0,o[0]=1/0,o[1]=-1/0,o[2]=1/0,o[3]=-1/0,o[4]=1/0,o[5]=-1/0;for(let x=b;x<m;x++){const _=n[x],E=_[0],A=_[1],w=_[2],T=_[3],k=_[4],N=_[5];v[0]>E&&(v[0]=E),v[1]<A&&(v[1]=A),v[2]>w&&(v[2]=w),v[3]<T&&(v[3]=T),v[4]>k&&(v[4]=k),v[5]<N&&(v[5]=N);const D=(A+E)*.5,P=(T+w)*.5,B=(N+k)*.5;o[0]>D&&(o[0]=D),o[1]<D&&(o[1]=D),o[2]>P&&(o[2]=P),o[3]<P&&(o[3]=P),o[4]>B&&(o[4]=B),o[5]<B&&(o[5]=B)}return v[0]-=r,v[1]+=r,v[2]-=r,v[3]+=r,v[4]-=r,v[5]+=r,v}function h(){l=jLe(o)*2,c=(o[l]+o[l+1])*.5}function d(b,y){let v=b,m=b+y-1;for(;v<=m;){const x=n[v];if((x[l+1]+x[l])*.5>=c)for(;;){const _=n[m];if((_[l+1]+_[l])*.5<c){const E=e[v];e[v]=e[m],e[m]=E;const A=n[v];n[v]=n[m],n[m]=A,m--;break}if(m--,m<=v)return v}v++}return v}}insert(e,n,i){i>0&&fE(n,i);const r=this.createLeafNode(e,n);return this.root===null?this.root=r:this.insertLeaf(r),this.count++,r}insertRange(e,n,i,r){console.warn("Method not optimized yet. It just calls 'insert' N times.");const a=e.length,s=i>0?i:i?null:0;for(let o=0;o<a;o++){const l=this.insert(e[o],n[o],s??i[o]);r&&r(l)}}move(e,n){if(!e.parent||FLe(e.box,e.parent.box)){n>0&&fE(e.box,n);return}n>0&&fE(e.box,n);const i=this.delete(e);this.insertLeaf(e,i),this.count++}delete(e){const n=e.parent;if(n===null)return this.root=null,null;const i=n.parent,r=n.left===e?n.right:n.left;return r.parent=i,e.parent=null,i===null?(this.root=r,n):(i.left===n?i.left=r:i.right=r,this.refit(i),this.count--,n)}clear(){this.root=null}insertLeaf(e,n){const i=this.findBestSibling(e.box),r=i.parent;n===void 0?n=this.createInternalNode(r,i,e):(n.parent=r,n.left=i,n.right=e),i.parent=n,e.parent=n,r===null?this.root=n:r.left===i?r.left=n:r.right=n,this.refitAndRotate(e,i)}createLeafNode(e,n){return{box:n,object:e,parent:null}}createInternalNode(e,n,i){return{parent:e,left:n,right:i,box:new this._typeArray(6)}}findBestSibling(e){const n=this.root;let i=n,r=Up(e,n.box);const a=Rb(e);if(n.object!==void 0)return n;const s=this._sortedList;s.clear();let o={node:n,inheritedCost:r-Rb(n.box)};do{const{node:l,inheritedCost:c}=o;if(a+c>=r)break;const u=l.left,f=l.right,h=Up(e,u.box)+c,d=h-Rb(u.box),b=Up(e,f.box)+c,y=b-Rb(f.box);if(h>b?r>b&&(i=f,r=b):r>h&&(i=u,r=h),y>d){if(a+d>=r||(u.object===void 0&&s.push({node:u,inheritedCost:d}),a+y>=r))continue;f.object===void 0&&s.push({node:f,inheritedCost:y})}else{if(a+y>=r||(f.object===void 0&&s.push({node:f,inheritedCost:y}),a+d>=r))continue;u.object===void 0&&s.push({node:u,inheritedCost:d})}}while(o=s.pop());return i}refit(e){for(O8(e.left.box,e.right.box,e.box);e=e.parent;)if(!ULe(e.left.box,e.right.box,e.box))return}refitAndRotate(e,n){const i=e.box;e=e.parent;const r=e.box;for(O8(i,n.box,r);e=e.parent;){const a=e.box;if(!zLe(i,a))return;const s=e.left,o=e.right,l=s.box,c=o.box;let u=null,f=null,h=0;if(o.object===void 0){const d=o.left,b=o.right,y=Rb(o.box),v=y-Up(l,d.box),m=y-Up(l,b.box);v>m?v>0&&(u=s,f=b,h=v):m>0&&(u=s,f=d,h=m)}if(s.object===void 0){const d=s.left,b=s.right,y=Rb(s.box),v=y-Up(c,d.box),m=y-Up(c,b.box);v>m?v>h&&(u=o,f=b):m>h&&(u=o,f=d)}u!==null&&this.swap(u,f)}}swap(e,n){const i=e.parent,r=n.parent,a=r.box;i.left===e?i.left=n:i.right=n,r.left===n?r.left=e:r.right=e,e.parent=r,n.parent=i,O8(r.left.box,r.right.box,a)}};const RU=0,GLe=1;let WLe=class{constructor(e,n){this.coordinateSystem=n,this.array=e?new Float64Array(24):new Float32Array(24)}setFromProjectionMatrix(e){if(this.updatePlane(0,e[3]+e[0],e[7]+e[4],e[11]+e[8],e[15]+e[12]),this.updatePlane(1,e[3]-e[0],e[7]-e[4],e[11]-e[8],e[15]-e[12]),this.updatePlane(2,e[3]-e[1],e[7]-e[5],e[11]-e[9],e[15]-e[13]),this.updatePlane(3,e[3]+e[1],e[7]+e[5],e[11]+e[9],e[15]+e[13]),this.updatePlane(4,e[3]-e[2],e[7]-e[6],e[11]-e[10],e[15]-e[14]),this.coordinateSystem===RU)this.updatePlane(5,e[3]+e[2],e[7]+e[6],e[11]+e[10],e[15]+e[14]);else if(this.coordinateSystem===GLe)this.updatePlane(5,e[2],e[6],e[10],e[14]);else throw new Error("Invalid coordinate system: "+this.coordinateSystem);return this}updatePlane(e,n,i,r,a){const s=this.array,o=e*4,l=Math.sqrt(n*n+i*i+r*r);s[o+0]=n/l,s[o+1]=i/l,s[o+2]=r/l,s[o+3]=a/l}intersectsBoxMask(e,n){const i=this.array;let r,a,s,o,l,c;for(let u=0;u<6;u++){if(!(n&32>>u))continue;const f=u*4,h=i[f+0],d=i[f+1],b=i[f+2],y=i[f+3];if(h>0?(r=e[1],o=e[0]):(r=e[0],o=e[1]),d>0?(a=e[3],l=e[2]):(a=e[2],l=e[3]),b>0?(s=e[5],c=e[4]):(s=e[4],c=e[5]),h*r+d*a+b*s<-y)return-1;h*o+d*l+b*c>-y&&(n^=32>>u)}return n}isIntersected(e,n){const i=this.array;for(let r=0;r<6;r++){if(!(n&32>>r))continue;const a=r*4,s=i[a+0],o=i[a+1],l=i[a+2],c=i[a+3],u=s>0?e[1]:e[0],f=o>0?e[3]:e[2],h=l>0?e[5]:e[4];if(s*u+o*f+l*h<-c)return!1}return!0}isIntersectedMargin(e,n,i){if(n===0)return!0;const r=this.array;for(let a=0;a<6;a++){if(!(n&32>>a))continue;const s=a*4,o=r[s+0],l=r[s+1],c=r[s+2],u=r[s+3],f=o>0?e[1]-i:e[0]+i,h=l>0?e[3]-i:e[2]+i,d=c>0?e[5]-i:e[4]+i;if(o*f+l*h+c*d<-u)return!1}return!0}};function nV(t,e,n,i,r,a){let s=i[0],o=e[0],l=n[0],c=(t[s]-o)*l,u=(t[s^1]-o)*l,f=c>0?c:0,h=u<1/0?u:1/0;return s=i[1],o=e[1],l=n[1],c=(t[s+2]-o)*l,c>h||(u=(t[s^3]-o)*l,f>u)||(f=c>f?c:f,h=u<h?u:h,s=i[2],o=e[2],l=n[2],c=(t[s+4]-o)*l,c>h)||(u=(t[s^5]-o)*l,f>u)?!1:(f=c>f?c:f,h=u<h?u:h,f<=a&&h>=r)}function iV(t,e){return t[1]>=e[0]&&e[1]>=t[0]&&t[3]>=e[2]&&e[3]>=t[2]&&t[5]>=e[4]&&e[5]>=t[4]}function qLe(t,e,n){return wx(n,t)<=e*e}class XLe{constructor(e,n=RU){this._sign=new Uint8Array(3),this.builder=e;const i=e.highPrecision;this.frustum=new WLe(i,n),this._dirInv=i?new Float64Array(3):new Float32Array(3)}get root(){return this.builder.root}createFromArray(e,n,i,r){e?.length>0&&this.builder.createFromArray(e,n,i,r)}insert(e,n,i){return this.builder.insert(e,n,i)}insertRange(e,n,i,r){e?.length>0&&this.builder.insertRange(e,n,i,r)}move(e,n){this.builder.move(e,n)}delete(e){return this.builder.delete(e)}clear(){this.builder.clear()}traverse(e){if(this.root===null)return;n(this.root,0);function n(i,r){if(i.object!==void 0){e(i,r);return}e(i,r)||(n(i.left,r+1),n(i.right,r+1))}}intersectsRay(e,n,i,r=0,a=1/0){if(this.root===null)return!1;const s=this._dirInv,o=this._sign;return s[0]=1/e[0],s[1]=1/e[1],s[2]=1/e[2],o[0]=s[0]<0?1:0,o[1]=s[1]<0?1:0,o[2]=s[2]<0?1:0,l(this.root);function l(c){return nV(c.box,n,s,o,r,a)?c.object!==void 0?i(c.object):l(c.left)||l(c.right):!1}}intersectsBox(e,n){if(this.root===null)return!1;return i(this.root);function i(r){return iV(e,r.box)?r.object!==void 0?n(r.object):i(r.left)||i(r.right):!1}}intersectsSphere(e,n,i){if(this.root===null)return!1;return r(this.root);function r(a){return qLe(e,n,a.box)?a.object!==void 0?i(a.object):r(a.left)||r(a.right):!1}}isNodeIntersected(e,n){const i=e.box;let r;for(;r=e.parent;){const s=r.left===e?r.right:r.left;if(a(s))return!0;e=r}return!1;function a(s){return iV(i,s.box)?s.object!==void 0?n(s.object):a(s.left)||a(s.right):!1}}rayIntersections(e,n,i,r=0,a=1/0){if(this.root===null)return;const s=this._dirInv,o=this._sign;s[0]=1/e[0],s[1]=1/e[1],s[2]=1/e[2],o[0]=s[0]<0?1:0,o[1]=s[1]<0?1:0,o[2]=s[2]<0?1:0,l(this.root);function l(c){if(nV(c.box,n,s,o,r,a)){if(c.object!==void 0){i(c.object);return}l(c.left),l(c.right)}}}frustumCulling(e,n){if(this.root===null)return;const i=this.frustum.setFromProjectionMatrix(e);r(this.root,63);function r(s,o){if(s.object!==void 0){i.isIntersected(s.box,o)&&n(s,i,o);return}if(o=i.intersectsBoxMask(s.box,o),!(o<0)){if(o===0){a(s.left),a(s.right);return}r(s.left,o),r(s.right,o)}}function a(s){if(s.object!==void 0){n(s,i,0);return}a(s.left),a(s.right)}}frustumCullingLOD(e,n,i,r){if(this.root===null)return;const a=this.frustum.setFromProjectionMatrix(e);s(this.root,63,null);function s(c,u,f){const h=c.box;if(f===null&&(f=l(h)),c.object!==void 0){a.isIntersected(h,u)&&r(c,f,a,u);return}if(u=a.intersectsBoxMask(h,u),!(u<0)){if(u===0){o(c.left,f),o(c.right,f);return}s(c.left,u,f),s(c.right,u,f)}}function o(c,u){if(u===null&&(u=l(c.box)),c.object!==void 0){r(c,u,a,0);return}o(c.left,u),o(c.right,u)}function l(c){const{min:u,max:f}=BLe(c,n);for(let h=i.length-1;h>0;h--)if(f>=i[h])return u>=i[h]?h:null;return 0}}closestPointToPoint(e,n){if(this.root===null)return;let i=1/0;return r(this.root),Math.sqrt(i);function r(a){if(a.object!==void 0){if(n){const l=n(a.object)??wx(a.box,e);l<i&&(i=l)}else i=wx(a.box,e);return}const s=wx(a.left.box,e),o=wx(a.right.box,e);s<o?s<i&&(r(a.left),o<i&&r(a.right)):o<i&&(r(a.right),s<i&&r(a.left))}}}function rV(t,e){return e[0]=t.x,e[1]=t.y,e[2]=t.z,e}function aV(t,e){const n=t.min,i=t.max;return e[0]=n.x,e[1]=i.x,e[2]=n.y,e[3]=i.y,e[4]=n.z,e[5]=i.z,e}class see{constructor(e,n,i){if(this.isInstanceEntity=!0,this.position=new Q,this.scale=new Q(1,1,1),this.quaternion=new Hn,this.id=n,this.owner=e,i){const r=this.quaternion,a=this.rotation=new li;a._onChange(()=>r.setFromEuler(a,!1)),r._onChange(()=>a.setFromQuaternion(r,void 0,!1))}}get visible(){return this.owner.getVisibilityAt(this.id)}set visible(e){this.owner.setVisibilityAt(this.id,e)}get active(){return this.owner.getActiveAt(this.id)}set active(e){this.owner.setActiveAt(this.id,e)}get color(){return this.owner.getColorAt(this.id)}set color(e){this.owner.setColorAt(this.id,e)}get opacity(){return this.owner.getOpacityAt(this.id)}set opacity(e){this.owner.setOpacityAt(this.id,e)}get morph(){return this.owner.getMorphAt(this.id)}set morph(e){this.owner.setMorphAt(this.id,e)}get matrix(){return this.owner.getMatrixAt(this.id)}get matrixWorld(){return this.matrix.premultiply(this.owner.matrixWorld)}setMatrixIdentity(){var e;const n=this.owner,i=n.matricesTexture._data,r=this.id,a=r*16;i[a+0]=1,i[a+1]=0,i[a+2]=0,i[a+3]=0,i[a+4]=0,i[a+5]=1,i[a+6]=0,i[a+7]=0,i[a+8]=0,i[a+9]=0,i[a+10]=1,i[a+11]=0,i[a+12]=0,i[a+13]=0,i[a+14]=0,i[a+15]=1,n.matricesTexture.enqueueUpdate(r),(e=n.bvh)==null||e.move(r)}updateMatrix(){var e;const n=this.owner,i=this.position,r=this.quaternion,a=this.scale,s=n.matricesTexture._data,o=this.id,l=o*16,c=r._x,u=r._y,f=r._z,h=r._w,d=c+c,b=u+u,y=f+f,v=c*d,m=c*b,x=c*y,_=u*b,E=u*y,A=f*y,w=h*d,T=h*b,k=h*y,N=a.x,D=a.y,P=a.z;s[l+0]=(1-(_+A))*N,s[l+1]=(m+k)*N,s[l+2]=(x-T)*N,s[l+3]=0,s[l+4]=(m-k)*D,s[l+5]=(1-(v+A))*D,s[l+6]=(E+w)*D,s[l+7]=0,s[l+8]=(x+T)*P,s[l+9]=(E-w)*P,s[l+10]=(1-(v+_))*P,s[l+11]=0,s[l+12]=i.x,s[l+13]=i.y,s[l+14]=i.z,s[l+15]=1,n.matricesTexture.enqueueUpdate(o),(e=n.bvh)==null||e.move(o)}updateMatrixPosition(){var e;const n=this.owner,i=this.position,r=n.matricesTexture._data,a=this.id,s=a*16;r[s+12]=i.x,r[s+13]=i.y,r[s+14]=i.z,n.matricesTexture.enqueueUpdate(a),(e=n.bvh)==null||e.move(a)}getUniform(e,n){return this.owner.getUniformAt(this.id,e,n)}updateBones(e=!0,n){this.owner.setBonesAt(this.id,e,n)}setUniform(e,n){this.owner.setUniformAt(this.id,e,n)}copyTo(e){e.position.copy(this.position),e.scale.copy(this.scale),e.quaternion.copy(this.quaternion),this.rotation&&e.rotation.copy(this.rotation)}applyMatrix4(e){return this.matrix.premultiply(e).decompose(this.position,this.quaternion,this.scale),this}applyQuaternion(e){return this.quaternion.premultiply(e),this}rotateOnAxis(e,n){return hE.setFromAxisAngle(e,n),this.quaternion.multiply(hE),this}rotateOnWorldAxis(e,n){return hE.setFromAxisAngle(e,n),this.quaternion.premultiply(hE),this}rotateX(e){return this.rotateOnAxis(oV,e)}rotateY(e){return this.rotateOnAxis(lV,e)}rotateZ(e){return this.rotateOnAxis(cV,e)}translateOnAxis(e,n){return sV.copy(e).applyQuaternion(this.quaternion),this.position.add(sV.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(oV,e)}translateY(e){return this.translateOnAxis(lV,e)}translateZ(e){return this.translateOnAxis(cV,e)}remove(){return this.owner.removeInstances(this.id),this}}const hE=new Hn,sV=new Q,oV=new Q(1,0,0),lV=new Q(0,1,0),cV=new Q(0,0,1);class KLe{constructor(e,n=0,i=!1,r=!0){this.nodesMap=new Map,this.LODsMap=new Map,this._geoBoundingSphere=null,this._sphereTarget=null,this.target=e,this.accurateCulling=r,this._margin=n;const a=e._geometry;if(a.boundingBox||a.computeBoundingBox(),this.geoBoundingBox=a.boundingBox,i){a.boundingSphere||a.computeBoundingSphere();const s=a.boundingSphere.center;s.x===0&&s.y===0&&s.z===0?(this._geoBoundingSphere=a.boundingSphere,this._sphereTarget={centerX:0,centerY:0,centerZ:0,maxScale:0}):(console.warn('"getBoxFromSphere" is ignored because geometry is not centered.'),i=!1)}this.bvh=new XLe(new VLe,RU),this._origin=new Float32Array(3),this._dir=new Float32Array(3),this._cameraPos=new Float32Array(3),this._getBoxFromSphere=i}create(){const e=this.target._instancesCount,n=this.target._instancesArrayCount,i=new Array(e),r=new Uint32Array(e);let a=0;this.clear();for(let s=0;s<n;s++)this.target.getActiveAt(s)&&(i[a]=this.getBox(s,new Float32Array(6)),r[a]=s,a++);this.bvh.createFromArray(r,i,s=>{this.nodesMap.set(s.object,s)},this._margin)}insert(e){const n=this.bvh.insert(e,this.getBox(e,new Float32Array(6)),this._margin);this.nodesMap.set(e,n)}insertRange(e){const n=e.length,i=new Array(n);for(let r=0;r<n;r++)i[r]=this.getBox(e[r],new Float32Array(6));this.bvh.insertRange(e,i,this._margin,r=>{this.nodesMap.set(r.object,r)})}move(e){const n=this.nodesMap.get(e);n&&(this.getBox(e,n.box),this.bvh.move(n,this._margin))}delete(e){const n=this.nodesMap.get(e);n&&(this.bvh.delete(n),this.nodesMap.delete(e))}clear(){this.bvh.clear(),this.nodesMap.clear()}frustumCulling(e,n){this._margin>0&&this.accurateCulling?this.bvh.frustumCulling(e.elements,(i,r,a)=>{r.isIntersectedMargin(i.box,a,this._margin)&&n(i)}):this.bvh.frustumCulling(e.elements,n)}frustumCullingLOD(e,n,i,r){this.LODsMap.has(i)||this.LODsMap.set(i,new Float32Array(i.length));const a=this.LODsMap.get(i);for(let o=0;o<i.length;o++)a[o]=i[o].distance;const s=this._cameraPos;s[0]=n.x,s[1]=n.y,s[2]=n.z,this._margin>0&&this.accurateCulling?this.bvh.frustumCullingLOD(e.elements,s,a,(o,l,c,u)=>{c.isIntersectedMargin(o.box,u,this._margin)&&r(o,l)}):this.bvh.frustumCullingLOD(e.elements,s,a,r)}raycast(e,n){const i=e.ray,r=this._origin,a=this._dir;rV(i.origin,r),rV(i.direction,a),this.bvh.rayIntersections(a,r,n,e.near,e.far)}intersectBox(e,n){this._boxArray||(this._boxArray=new Float32Array(6));const i=this._boxArray;return aV(e,i),this.bvh.intersectsBox(i,n)}getBox(e,n){if(this._getBoxFromSphere){const i=this.target.matricesTexture._data,{centerX:r,centerY:a,centerZ:s,maxScale:o}=this.getSphereFromMatrix_centeredGeometry(e,i,this._sphereTarget),l=this._geoBoundingSphere.radius*o;n[0]=r-l,n[1]=r+l,n[2]=a-l,n[3]=a+l,n[4]=s-l,n[5]=s+l}else uV.copy(this.geoBoundingBox).applyMatrix4(this.target.getMatrixAt(e)),aV(uV,n);return n}getSphereFromMatrix_centeredGeometry(e,n,i){const r=e*16,a=n[r+0],s=n[r+1],o=n[r+2],l=n[r+4],c=n[r+5],u=n[r+6],f=n[r+8],h=n[r+9],d=n[r+10],b=a*a+s*s+o*o,y=l*l+c*c+u*u,v=f*f+h*h+d*d;return i.maxScale=Math.sqrt(Math.max(b,y,v)),i.centerX=n[r+12],i.centerY=n[r+13],i.centerZ=n[r+14],i}}const uV=new vr;class YLe extends EJ{constructor(e,n,i,r,a,s=1){const o=e.createBuffer();super(o,n,i,r,a.length/i),this.isGLInstancedBufferAttribute=!0,this._needsUpdate=!1,this.isInstancedBufferAttribute=!0,this.meshPerAttribute=s,this.array=a,this._cacheArray=a,e.bindBuffer(e.ARRAY_BUFFER,o),e.bufferData(e.ARRAY_BUFFER,a,e.DYNAMIC_DRAW)}update(e,n){if(!this._needsUpdate||n===0)return;const i=e.getContext();i.bindBuffer(i.ARRAY_BUFFER,this.buffer),this.array===this._cacheArray?i.bufferSubData(i.ARRAY_BUFFER,0,this.array,0,n):(i.bufferData(i.ARRAY_BUFFER,this.array,i.DYNAMIC_DRAW),this._cacheArray=this.array),this._needsUpdate=!1}clone(){return this}}function oee(t,e){return Math.max(e,Math.ceil(Math.sqrt(t/e))*e)}function JLe(t,e,n,i){e===3&&(console.warn('"channels" cannot be 3. Set to 4. More info: https://github.com/mrdoob/three.js/pull/23228'),e=4);const r=oee(i,n),a=new t(r*r*e),s=t.name.includes("Float"),o=t.name.includes("Uint"),l=s?yr:o?dc:Oy;let c;switch(e){case 1:c=s?yh:Ly;break;case 2:c=s?dC:__;break;case 4:c=s?Yr:Py;break}return{array:a,size:r,type:l,format:c}}let JA=class extends bs{constructor(e,n,i,r,a,s){n===3&&(n=4);const{array:o,format:l,size:c,type:u}=JLe(e,n,i,r);super(o,c,c,l,u),this.partialUpdate=!0,this.maxUpdateCalls=1/0,this._utils=null,this._needsUpdate=!1,this._lastWidth=null,this._data=o,this._channels=n,this._pixelsPerInstance=i,this._stride=i*n,this._rowToUpdate=new Array(c),this._uniformMap=a,this._fetchUniformsInFragmentShader=s,this.needsUpdate=!0}resize(e){const n=oee(e,this._pixelsPerInstance);if(n===this.image.width)return;const i=this._data,r=this._channels;this._rowToUpdate.length=n;const a=i.constructor,s=new a(n*n*r),o=Math.min(i.length,s.length);s.set(new a(i.buffer,0,o)),this.dispose(),this.image={data:s,height:n,width:n},this._data=s}enqueueUpdate(e){if(this._needsUpdate=!0,!this.partialUpdate)return;const n=this.image.width/this._pixelsPerInstance,i=Math.floor(e/n);this._rowToUpdate[i]=!0}update(e){const n=e.properties.get(this),i=this.version>0&&n.__version!==this.version,r=this._lastWidth!==null&&this._lastWidth!==this.image.width;if(!this._needsUpdate||!n.__webglTexture||i||r){this._lastWidth=this.image.width,this._needsUpdate=!1;return}if(this._needsUpdate=!1,!this.partialUpdate){this.needsUpdate=!0;return}const a=this.getUpdateRowsInfo();a.length!==0&&(a.length>this.maxUpdateCalls?this.needsUpdate=!0:this.updateRows(n,e,a),this._rowToUpdate.fill(!1))}getUpdateRowsInfo(){const e=this._rowToUpdate,n=[];for(let i=0,r=e.length;i<r;i++)if(e[i]){const a=i;for(;i<r&&e[i];i++);n.push({row:a,count:i-a})}return n}updateRows(e,n,i){const r=n.state,a=n.getContext();this._utils??(this._utils=new RP(a,n.extensions,n.capabilities));const s=this._utils.convert(this.format),o=this._utils.convert(this.type),{data:l,width:c}=this.image,u=this._channels;r.bindTexture(a.TEXTURE_2D,e.__webglTexture);const f=oi.getPrimaries(oi.workingColorSpace),h=this.colorSpace===qc?null:oi.getPrimaries(this.colorSpace),d=this.colorSpace===qc||f===h?a.NONE:a.BROWSER_DEFAULT_WEBGL;a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,this.flipY),a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),a.pixelStorei(a.UNPACK_ALIGNMENT,this.unpackAlignment),a.pixelStorei(a.UNPACK_COLORSPACE_CONVERSION_WEBGL,d);for(const{count:b,row:y}of i)a.texSubImage2D(a.TEXTURE_2D,0,0,y,c,b,s,o,l,y*c*u);this.onUpdate&&this.onUpdate(this)}setUniformAt(e,n,i){const{offset:r,size:a}=this._uniformMap.get(n),s=this._stride;a===1?this._data[e*s+r]=i:i.toArray(this._data,e*s+r)}getUniformAt(e,n,i){const{offset:r,size:a}=this._uniformMap.get(n),s=this._stride;return a===1?this._data[e*s+r]:i.fromArray(this._data,e*s+r)}getUniformsGLSL(e,n,i){const r=this.getUniformsVertexGLSL(e,n,i),a=this.getUniformsFragmentGLSL(e,n,i);return{vertex:r,fragment:a}}getUniformsVertexGLSL(e,n,i){if(this._fetchUniformsInFragmentShader)return`
        flat varying ${i} ez_v${n}; 
        void main() {
          ez_v${n} = ${n};`;const r=this.texelsFetchGLSL(e,n),a=this.getFromTexelsGLSL(),{assignVarying:s,declareVarying:o}=this.getVarying();return`
      uniform highp sampler2D ${e};  
      ${o}
      void main() {
        ${r}
        ${a}
        ${s}`}getUniformsFragmentGLSL(e,n,i){if(!this._fetchUniformsInFragmentShader){const{declareVarying:s,getVarying:o}=this.getVarying();return`
      ${s}
      void main() {
        ${o}`}const r=this.texelsFetchGLSL(e,`ez_v${n}`),a=this.getFromTexelsGLSL();return`
      uniform highp sampler2D ${e};  
      flat varying ${i} ez_v${n};
      void main() {
        ${r}
        ${a}`}texelsFetchGLSL(e,n){const i=this._pixelsPerInstance;let r=`
      int size = textureSize(${e}, 0).x;
      int j = int(${n}) * ${i};
      int x = j % size;
      int y = j / size;
    `;for(let a=0;a<i;a++)r+=`vec4 ez_texel${a} = texelFetch(${e}, ivec2(x + ${a}, y), 0);
`;return r}getFromTexelsGLSL(){const e=this._uniformMap;let n="";for(const[i,{type:r,offset:a,size:s}]of e){const o=Math.floor(a/this._channels);if(r==="mat3")n+=`mat3 ${i} = mat3(ez_texel${o}.rgb, vec3(ez_texel${o}.a, ez_texel${o+1}.rg), vec3(ez_texel${o+1}.ba, ez_texel${o+2}.r));
`;else if(r==="mat4")n+=`mat4 ${i} = mat4(ez_texel${o}, ez_texel${o+1}, ez_texel${o+2}, ez_texel${o+3});
`;else{const l=this.getUniformComponents(a,s);n+=`${r} ${i} = ez_texel${o}.${l};
`}}return n}getVarying(){const e=this._uniformMap;let n="",i="",r="";for(const[a,{type:s}]of e)n+=`flat varying ${s} ez_v${a};
`,i+=`ez_v${a} = ${a};
`,r+=`${s} ${a} = ez_v${a};
`;return{declareVarying:n,assignVarying:i,getVarying:r}}getUniformComponents(e,n){const i=e%this._channels;let r="";for(let a=0;a<n;a++)r+=$Le[i+a];return r}copy(e){return super.copy(e),this.partialUpdate=e.partialUpdate,this.maxUpdateCalls=e.maxUpdateCalls,this._channels=e._channels,this._pixelsPerInstance=e._pixelsPerInstance,this._stride=e._stride,this._rowToUpdate=e._rowToUpdate,this._uniformMap=e._uniformMap,this._fetchUniformsInFragmentShader=e._fetchUniformsInFragmentShader,this}};const $Le=["r","g","b","a"];let Vn=class extends Di{constructor(e,n,i={},r){if(!e)throw new Error('"geometry" is mandatory.');if(!n)throw new Error('"material" is mandatory.');const{allowsEuler:a,renderer:s,createEntities:o}=i;super(e,null),this.type="InstancedMesh2",this.isInstancedMesh2=!0,this.instances=null,this.instanceIndex=null,this.colorsTexture=null,this.morphTexture=null,this.boneTexture=null,this.uniformsTexture=null,this.boundingBox=null,this.boundingSphere=null,this.bvh=null,this.customSort=null,this.raycastOnlyFrustum=!1,this.LODinfo=null,this.autoUpdate=!0,this.bindMode=E1,this.bindMatrix=null,this.bindMatrixInverse=null,this.skeleton=null,this.onFrustumEnter=null,this._renderer=null,this._instancesCount=0,this._instancesArrayCount=0,this._perObjectFrustumCulled=!0,this._sortObjects=!1,this._indexArrayNeedsUpdate=!1,this._useOpacity=!1,this._currentMaterial=null,this._customProgramCacheKeyBase=null,this._onBeforeCompileBase=null,this._propertiesGetBase=null,this._propertiesGetMap=new WeakMap,this._properties=new WeakMap,this._freeIds=[],this.isInstancedMesh=!0,this.instanceMatrix=new uh(new Float32Array(0),16),this.instanceColor=null,this._customProgramCacheKey=()=>`ezInstancedMesh2_${this.id}_${!!this.colorsTexture}_${this._useOpacity}_${!!this.boneTexture}_${!!this.uniformsTexture}_${this._customProgramCacheKeyBase.call(this._currentMaterial)}`,this._onBeforeCompile=(c,u)=>{if(this._onBeforeCompileBase&&this._onBeforeCompileBase.call(this._currentMaterial,c,u),c.instancing=!1,c.defines??(c.defines={}),c.defines.USE_INSTANCING_INDIRECT="",c.uniforms.matricesTexture={value:this.matricesTexture},this.uniformsTexture){c.uniforms.uniformsTexture={value:this.uniformsTexture};const{vertex:f,fragment:h}=this.uniformsTexture.getUniformsGLSL("uniformsTexture","instanceIndex","uint");c.vertexShader=c.vertexShader.replace("void main() {",f),c.fragmentShader=c.fragmentShader.replace("void main() {",h)}this.colorsTexture&&c.fragmentShader.includes("#include <color_pars_fragment>")&&(c.defines.USE_INSTANCING_COLOR_INDIRECT="",c.uniforms.colorsTexture={value:this.colorsTexture},c.vertexShader=c.vertexShader.replace("<color_vertex>","<instanced_color_vertex>"),c.vertexColors&&(c.defines.USE_VERTEX_COLOR=""),this._useOpacity?c.defines.USE_COLOR_ALPHA="":c.defines.USE_COLOR=""),this.boneTexture&&(c.defines.USE_SKINNING="",c.defines.USE_INSTANCING_SKINNING="",c.uniforms.bindMatrix={value:this.bindMatrix},c.uniforms.bindMatrixInverse={value:this.bindMatrixInverse},c.uniforms.bonesPerInstance={value:this.skeleton.bones.length},c.uniforms.boneTexture={value:this.boneTexture})};const l=i.capacity>0?i.capacity:ZLe;this._renderer=s,this._capacity=l,this._parentLOD=r,this._geometry=e,this.material=n,this._allowsEuler=a??!1,this._tempInstance=new see(this,-1,a),this.availabilityArray=r?.availabilityArray??new Array(l*2),this._createEntities=o,this.initLastRenderInfo(),this.initIndexAttribute(),this.initMatricesTexture()}get capacity(){return this._capacity}get instancesCount(){return this._instancesCount}get perObjectFrustumCulled(){return this._perObjectFrustumCulled}set perObjectFrustumCulled(e){this._perObjectFrustumCulled=e,this._indexArrayNeedsUpdate=!0}get sortObjects(){return this._sortObjects}set sortObjects(e){this._sortObjects=e,this._indexArrayNeedsUpdate=!0}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.patchGeometry(e)}onBeforeShadow(e,n,i,r,a,s,o){var l,c,u;if(this.patchMaterial(e,s),!this.instanceIndex||o&&!this.isFirstGroup(o.materialIndex))return;const f=e.info.render.frame;this.autoUpdate&&!this.frustumCullingAlreadyPerformed(f,i,r)&&this.performFrustumCulling(r,i),this.instanceIndex.update(this._renderer,this.count),this.matricesTexture.update(e),(l=this.colorsTexture)==null||l.update(e),(c=this.uniformsTexture)==null||c.update(e),(u=this.boneTexture)==null||u.update(e)}onBeforeRender(e,n,i,r,a,s){var o,l,c;if(this.patchMaterial(e,a),!this.instanceIndex){this._renderer=e;return}if(s&&!this.isFirstGroup(s.materialIndex))return;const u=e.info.render.frame;this.autoUpdate&&!this.frustumCullingAlreadyPerformed(u,i,null)&&this.performFrustumCulling(i),this.instanceIndex.update(this._renderer,this.count),this.matricesTexture.update(e),(o=this.colorsTexture)==null||o.update(e),(l=this.uniformsTexture)==null||l.update(e),(c=this.boneTexture)==null||c.update(e)}onAfterShadow(e,n,i,r,a,s,o){this.unpatchMaterial(e,s)}onAfterRender(e,n,i,r,a,s){this.unpatchMaterial(e,a),!(this.instanceIndex||s&&!this.isLastGroup(s.materialIndex))&&this.initIndexAttribute()}isFirstGroup(e){const n=this.material;for(let i=0;i<=e;i++)if(n[i].visible)return i===e}isLastGroup(e){const n=this.material;for(let i=n.length-1;i>=e;i--)if(n[i].visible)return i===e}initIndexAttribute(){if(!this._renderer){this.count=0;return}const e=this._renderer.getContext(),n=this._capacity,i=new Uint32Array(n);for(let r=0;r<n;r++)i[r]=r;this.instanceIndex=new YLe(e,e.UNSIGNED_INT,1,4,i),this._geometry.setAttribute("instanceIndex",this.instanceIndex)}initLastRenderInfo(){this._parentLOD||(this._lastRenderInfo={frame:-1,camera:null,shadowCamera:null})}initMatricesTexture(){this._parentLOD||(this.matricesTexture=new JA(Float32Array,4,4,this._capacity))}initColorsTexture(){this._parentLOD||(this.colorsTexture=new JA(Float32Array,4,1,this._capacity),this.colorsTexture.colorSpace=oi.workingColorSpace,this.colorsTexture._data.fill(1),this.materialsNeedsUpdate())}materialsNeedsUpdate(){if(this.material.isMaterial){this.material.needsUpdate=!0;return}for(const e of this.material)e.needsUpdate=!0}patchGeometry(e){const n=e.getAttribute("instanceIndex");if(n){if(n===this.instanceIndex)return;console.warn("The geometry has been cloned because it was already used."),e=e.clone(),e.deleteAttribute("instanceIndex")}this.instanceIndex&&e.setAttribute("instanceIndex",this.instanceIndex)}patchMaterial(e,n){this._currentMaterial=n,this._customProgramCacheKeyBase=n.customProgramCacheKey,this._onBeforeCompileBase=n.onBeforeCompile,n.customProgramCacheKey=this._customProgramCacheKey,n.onBeforeCompile=this._onBeforeCompile;const i=e.properties;if(!this._properties.has(n)){const r={};this._properties.set(n,r);const a=this._propertiesGetBase=i.get;this._propertiesGetMap.set(n,s=>{if(s===n){if(n.isMeshDistanceMaterial){const o=a(s);r.light=o.light}return r}return a(s)})}i.get=this._propertiesGetMap.get(n)}unpatchMaterial(e,n){this._currentMaterial=null,e.properties.get=this._propertiesGetBase,n.onBeforeCompile=this._onBeforeCompileBase,n.customProgramCacheKey=this._customProgramCacheKeyBase,this._onBeforeCompileBase=null,this._customProgramCacheKeyBase=null}computeBVH(e={}){this.bvh||(this.bvh=new KLe(this,e.margin,e.getBBoxFromBSphere,e.accurateCulling)),this.bvh.clear(),this.bvh.create()}disposeBVH(){this.bvh=null}setMatrixAt(e,n){var i;if(n.toArray(this.matricesTexture._data,e*16),this.instances){const r=this.instances[e];n.decompose(r.position,r.quaternion,r.scale)}this.matricesTexture.enqueueUpdate(e),(i=this.bvh)==null||i.move(e)}getMatrixAt(e,n=QLe){return n.fromArray(this.matricesTexture._data,e*16)}getPositionAt(e,n=ePe){const i=e*16,r=this.matricesTexture._data;return n.x=r[i+12],n.y=r[i+13],n.z=r[i+14],n}getPositionAndMaxScaleOnAxisAt(e,n){const i=e*16,r=this.matricesTexture._data,a=r[i+0],s=r[i+1],o=r[i+2],l=a*a+s*s+o*o,c=r[i+4],u=r[i+5],f=r[i+6],h=c*c+u*u+f*f,d=r[i+8],b=r[i+9],y=r[i+10],v=d*d+b*b+y*y;return n.x=r[i+12],n.y=r[i+13],n.z=r[i+14],Math.sqrt(Math.max(l,h,v))}applyMatrixAtToSphere(e,n,i,r){const a=e*16,s=this.matricesTexture._data,o=s[a+0],l=s[a+1],c=s[a+2],u=s[a+3],f=s[a+4],h=s[a+5],d=s[a+6],b=s[a+7],y=s[a+8],v=s[a+9],m=s[a+10],x=s[a+11],_=s[a+12],E=s[a+13],A=s[a+14],w=s[a+15],T=n.center,k=i.x,N=i.y,D=i.z,P=1/(u*k+b*N+x*D+w);T.x=(o*k+f*N+y*D+_)*P,T.y=(l*k+h*N+v*D+E)*P,T.z=(c*k+d*N+m*D+A)*P;const B=o*o+l*l+c*c,G=f*f+h*h+d*d,H=y*y+v*v+m*m;n.radius=r*Math.sqrt(Math.max(B,G,H))}setVisibilityAt(e,n){this.availabilityArray[e*2]=n,this._indexArrayNeedsUpdate=!0}getVisibilityAt(e){return this.availabilityArray[e*2]}setActiveAt(e,n){this.availabilityArray[e*2+1]=n,this._indexArrayNeedsUpdate=!0}getActiveAt(e){return this.availabilityArray[e*2+1]}getActiveAndVisibilityAt(e){const n=e*2,i=this.availabilityArray;return i[n]&&i[n+1]}setActiveAndVisibilityAt(e,n){const i=e*2,r=this.availabilityArray;r[i]=n,r[i+1]=n,this._indexArrayNeedsUpdate=!0}setColorAt(e,n){this.colorsTexture===null&&this.initColorsTexture(),n.isColor?n.toArray(this.colorsTexture._data,e*4):dV.set(n).toArray(this.colorsTexture._data,e*4),this.colorsTexture.enqueueUpdate(e)}getColorAt(e,n=dV){return n.fromArray(this.colorsTexture._data,e*4)}setOpacityAt(e,n){this._useOpacity||(this.colorsTexture===null?this.initColorsTexture():this.materialsNeedsUpdate(),this._useOpacity=!0),this.colorsTexture._data[e*4+3]=n,this.colorsTexture.enqueueUpdate(e)}getOpacityAt(e){return this._useOpacity?this.colorsTexture._data[e*4+3]:1}copyTo(e,n){this.getMatrixAt(e,n.matrix).decompose(n.position,n.quaternion,n.scale)}computeBoundingBox(){const e=this._geometry,n=this._instancesArrayCount;this.boundingBox??(this.boundingBox=new vr),e.boundingBox===null&&e.computeBoundingBox();const i=e.boundingBox,r=this.boundingBox;r.makeEmpty();for(let a=0;a<n;a++)this.getActiveAt(a)&&(fV.copy(i).applyMatrix4(this.getMatrixAt(a)),r.union(fV))}computeBoundingSphere(){const e=this._geometry,n=this._instancesArrayCount;this.boundingSphere??(this.boundingSphere=new Or),e.boundingSphere===null&&e.computeBoundingSphere();const i=e.boundingSphere,r=this.boundingSphere;r.makeEmpty();for(let a=0;a<n;a++)this.getActiveAt(a)&&(hV.copy(i).applyMatrix4(this.getMatrixAt(a)),r.union(hV))}clone(e){const n={capacity:this._capacity,renderer:this._renderer,allowsEuler:this._allowsEuler,createEntities:this._createEntities};return new this.constructor(this.geometry,this.material,n).copy(this,e)}copy(e,n){return super.copy(e,n),this.count=e._capacity,this._instancesCount=e._instancesCount,this._instancesArrayCount=e._instancesArrayCount,this._capacity=e._capacity,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this.matricesTexture=e.matricesTexture.clone(),this.matricesTexture.image.data=this.matricesTexture.image.data.slice(),e.colorsTexture!==null&&(this.colorsTexture=e.colorsTexture.clone(),this.colorsTexture.image.data=this.colorsTexture.image.data.slice()),e.uniformsTexture!==null&&(this.uniformsTexture=e.uniformsTexture.clone(),this.uniformsTexture.image.data=this.uniformsTexture.image.data.slice()),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone(),this.morphTexture.image.data=this.morphTexture.image.data.slice()),e.boneTexture!==null&&(this.boneTexture=e.boneTexture.clone(),this.boneTexture.image.data=this.boneTexture.image.data.slice()),this}dispose(){var e,n,i,r;this.dispatchEvent({type:"dispose"}),this.matricesTexture.dispose(),(e=this.colorsTexture)==null||e.dispose(),(n=this.morphTexture)==null||n.dispose(),(i=this.boneTexture)==null||i.dispose(),(r=this.uniformsTexture)==null||r.dispose()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMatrixInverse&&(this.bindMode===E1?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===HL?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("Unrecognized bindMode: "+this.bindMode))}};const ZLe=1e3,fV=new vr,hV=new Or,QLe=new kt,dV=new Ut,ePe=new Q;Vn.prototype.resizeBuffers=function(t){var e;const n=this._capacity;this._capacity=t;const i=Math.min(t,n);if(this.instanceIndex){const r=new Uint32Array(t);r.set(new Uint32Array(this.instanceIndex.array.buffer,0,i)),this.instanceIndex.array=r}if(this.LODinfo){for(const r of this.LODinfo.objects)if(r._capacity=t,r.instanceIndex){const a=new Uint32Array(t);a.set(new Uint32Array(r.instanceIndex.array.buffer,0,i)),r.instanceIndex.array=a}}if(this.availabilityArray.length=t*2,this.matricesTexture.resize(t),this.colorsTexture&&(this.colorsTexture.resize(t),t>n&&this.colorsTexture._data.fill(1,n*4)),this.morphTexture){const r=this.morphTexture.image.data,a=r.length/n;this.morphTexture.dispose(),this.morphTexture=new bs(new Float32Array(a*t),a,t,yh,yr),this.morphTexture.image.data.set(r)}return(e=this.uniformsTexture)==null||e.resize(t),this};Vn.prototype.setInstancesArrayCount=function(t){if(t<this._instancesArrayCount){const n=this.bvh;if(n)for(let i=this._instancesArrayCount-1;i>=t;i--)this.getActiveAt(i)&&n.delete(i);this._instancesArrayCount=t;return}if(t>this._capacity){let n=this._capacity+(this._capacity>>1)+512;for(;n<t;)n+=(n>>1)+512;this.resizeBuffers(n)}const e=this._instancesArrayCount;this._instancesArrayCount=t,this._createEntities&&this.createEntities(e)};function lee(t,e){return t.depth-e.depth}function cee(t,e){return e.depth-t.depth}class tPe{constructor(){this.array=[],this.pool=[]}push(e,n){const i=this.pool,r=this.array,a=r.length;a>=i.length&&i.push({depth:null,index:null,depthSort:null});const s=i[a];s.depth=e,s.index=n,r.push(s)}reset(){this.array.length=0}}const $A=new og,eu=new tPe,Km=new kt,S0=new kt,d2=new Q,B_=new Q,w0=new Q,nPe=new Q,Wc=new Or;Vn.prototype.performFrustumCulling=function(t,e=t){const n=this._parentLOD??this,i=n.LODinfo;let r;if(i){r=t!==e?i.shadowRender??i.render:i.render;for(const a of i.objects)a.count=0}else n.count=0;n._instancesArrayCount!==0&&(r?.levels.length>0?n.frustumCullingLOD(r,t,e):n.frustumCulling(t))};Vn.prototype.frustumCullingAlreadyPerformed=function(t,e,n){const i=this._lastRenderInfo;return i.frame===t&&i.camera===e&&i.shadowCamera===n?!0:(i.frame=t,i.camera=e,i.shadowCamera=n,!1)};Vn.prototype.frustumCulling=function(t){var e;const n=this._sortObjects,i=this._perObjectFrustumCulled,r=this.instanceIndex.array;if(this.instanceIndex._needsUpdate=!0,!i&&!n){this.updateIndexArray();return}if(n&&(S0.copy(this.matrixWorld).invert(),B_.setFromMatrixPosition(t.matrixWorld).applyMatrix4(S0),d2.set(0,0,-1).transformDirection(t.matrixWorld).transformDirection(S0)),i?(Km.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse).multiply(this.matrixWorld),this.bvh?this.BVHCulling(t):this.linearCulling(t)):this.updateRenderList(),n){const a=this.customSort;a===null?eu.array.sort((e=this.material)!=null&&e.transparent?cee:lee):a(eu.array);const s=eu.array,o=s.length;for(let l=0;l<o;l++)r[l]=s[l].index;this.count=o,eu.reset()}};Vn.prototype.updateIndexArray=function(){if(!this._indexArrayNeedsUpdate)return;const t=this.instanceIndex.array,e=this._instancesArrayCount;let n=0;for(let i=0;i<e;i++)this.getActiveAndVisibilityAt(i)&&(t[n++]=i);this.count=n,this._indexArrayNeedsUpdate=!1};Vn.prototype.updateRenderList=function(){const t=this._instancesArrayCount;for(let e=0;e<t;e++)if(this.getActiveAndVisibilityAt(e)){const n=this.getPositionAt(e).sub(B_).dot(d2);eu.push(n,e)}};Vn.prototype.BVHCulling=function(t){const e=this.instanceIndex.array,n=this._instancesArrayCount,i=this._sortObjects,r=this.onFrustumEnter;let a=0;this.bvh.frustumCulling(Km,s=>{const o=s.object;if(o<n&&this.getVisibilityAt(o)&&(!r||r(o,t)))if(i){const l=this.getPositionAt(o).sub(B_).dot(d2);eu.push(l,o)}else e[a++]=o}),this.count=a};Vn.prototype.linearCulling=function(t){const e=this.instanceIndex.array;this.geometry.boundingSphere||this.geometry.computeBoundingSphere();const n=this._geometry.boundingSphere,i=n.radius,r=n.center,a=this._instancesArrayCount,s=r.x===0&&r.y===0&&r.z===0,o=this._sortObjects,l=this.onFrustumEnter;let c=0;$A.setFromProjectionMatrix(Km);for(let u=0;u<a;u++)if(this.getActiveAndVisibilityAt(u)){if(s){const f=this.getPositionAndMaxScaleOnAxisAt(u,Wc.center);Wc.radius=i*f}else this.applyMatrixAtToSphere(u,Wc,r,i);if($A.intersectsSphere(Wc)&&(!l||l(u,t)))if(o){const f=nPe.subVectors(Wc.center,B_).dot(d2);eu.push(f,u)}else e[c++]=u}this.count=c};Vn.prototype.frustumCullingLOD=function(t,e,n){var i,r;const{count:a,levels:s}=t,o=e===n&&this._sortObjects;for(let c=0;c<s.length;c++)a[c]=0,s[c].object.instanceIndex&&(s[c].object.instanceIndex._needsUpdate=!0);Km.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse).multiply(this.matrixWorld),S0.copy(this.matrixWorld).invert(),B_.setFromMatrixPosition(e.matrixWorld).applyMatrix4(S0),w0.setFromMatrixPosition(n.matrixWorld).applyMatrix4(S0);const l=t.levels.map(c=>c.object.instanceIndex.array);if(this.bvh?this.BVHCullingLOD(t,l,o,e,n):this.linearCullingLOD(t,l,o,e,n),o){const c=this.customSort,u=eu.array;let f=0,h=s[1].distance;c===null?u.sort((i=s[0].object.material)!=null&&i.transparent?cee:lee):c(u);for(let d=0,b=u.length;d<b;d++){const y=u[d];y.depth>h&&(f++,h=((r=s[f+1])==null?void 0:r.distance)??1/0),l[f][a[f]++]=y.index}eu.reset()}for(let c=0;c<s.length;c++){const u=s[c].object;u.count=a[c]}};Vn.prototype.BVHCullingLOD=function(t,e,n,i,r){const{count:a,levels:s}=t,o=this._instancesArrayCount,l=this.onFrustumEnter;n?this.bvh.frustumCulling(Km,c=>{const u=c.object;if(u<o&&this.getVisibilityAt(u)&&(!l||l(u,i,r))){const f=this.getPositionAt(u).distanceToSquared(w0);eu.push(f,u)}}):this.bvh.frustumCullingLOD(Km,w0,s,(c,u)=>{const f=c.object;if(f<o&&this.getVisibilityAt(f)){if(u===null){const h=this.getPositionAt(f).distanceToSquared(w0);u=this.getObjectLODIndexForDistance(s,h)}(!l||l(f,i,r,u))&&(e[u][a[u]++]=f)}})};Vn.prototype.linearCullingLOD=function(t,e,n,i,r){const{count:a,levels:s}=t;this.geometry.boundingSphere||this.geometry.computeBoundingSphere();const o=this._geometry.boundingSphere,l=o.radius,c=o.center,u=this._instancesArrayCount,f=c.x===0&&c.y===0&&c.z===0,h=this.onFrustumEnter;$A.setFromProjectionMatrix(Km);for(let d=0;d<u;d++)if(this.getActiveAndVisibilityAt(d)){if(f){const b=this.getPositionAndMaxScaleOnAxisAt(d,Wc.center);Wc.radius=l*b}else this.applyMatrixAtToSphere(d,Wc,c,l);if($A.intersectsSphere(Wc))if(n){if(!h||h(d,i,r))continue;const b=Wc.center.distanceToSquared(w0);eu.push(b,d)}else{const b=Wc.center.distanceToSquared(w0),y=this.getObjectLODIndexForDistance(s,b);(!h||h(d,i,r,y))&&(e[y][a[y]++]=d)}}};Vn.prototype.clearTempInstance=function(t){const e=this._tempInstance;return e.id=t,this.clearInstance(e)};Vn.prototype.clearTempInstancePosition=function(t){const e=this._tempInstance;return e.id=t,e.position.set(0,0,0),e};Vn.prototype.clearInstance=function(t){return t.position.set(0,0,0),t.scale.set(1,1,1),t.quaternion.identity(),t};Vn.prototype.updateInstances=function(t){const e=this._instancesArrayCount,n=this.instances;for(let i=0;i<e;i++){if(!this.getActiveAt(i))continue;const r=n?n[i]:this.clearTempInstance(i);t(r,i),r.updateMatrix()}return this};Vn.prototype.updateInstancesPosition=function(t){const e=this._instancesArrayCount,n=this.instances;for(let i=0;i<e;i++){if(!this.getActiveAt(i))continue;const r=n?n[i]:this.clearTempInstancePosition(i);t(r,i),r.updateMatrixPosition()}return this};Vn.prototype.createEntities=function(t){const e=this._instancesArrayCount;if(!this.instances)this.instances=new Array(e);else if(this.instances.length<e)this.instances.length=e;else return this;const n=this.instances;for(let i=t;i<e;i++)n[i]||(n[i]=new see(this,i,this._allowsEuler));return this};Vn.prototype.addInstances=function(t,e){!e&&this.bvh&&console.warn("InstancedMesh2: if `computeBVH()` has already been called, it is better to valorize the instances in the `onCreation` callback for better performance.");const n=this._freeIds;if(n.length>0){let a=-1;const s=Math.min(n.length,t),o=n.length-s;for(let l=n.length-1;l>=o;l--){const c=n[l];c>a&&(a=c),this.addInstance(c,e)}n.length-=s,t-=s,this._instancesArrayCount=Math.max(a+1,this._instancesArrayCount)}const i=this._instancesArrayCount,r=i+t;this.setInstancesArrayCount(r);for(let a=i;a<r;a++)this.addInstance(a,e);return this};Vn.prototype.addInstance=function(t,e){var n;this._instancesCount++,this.setActiveAndVisibilityAt(t,!0);const i=this.instances?this.clearInstance(this.instances[t]):this.clearTempInstance(t);e?(e(i,t),i.updateMatrix()):i.setMatrixIdentity(),(n=this.bvh)==null||n.insert(t)};Vn.prototype.removeInstances=function(...t){const e=this._freeIds,n=this.bvh;for(const i of t)i<this._instancesArrayCount&&this.getActiveAt(i)&&(this.setActiveAt(i,!1),e.push(i),n?.delete(i),this._instancesCount--);for(let i=this._instancesArrayCount-1;i>=0&&!this.getActiveAt(i);i--)this._instancesArrayCount--;return this};Vn.prototype.clearInstances=function(){var t;if(this._instancesCount=0,this._instancesArrayCount=0,this._freeIds.length=0,(t=this.bvh)==null||t.clear(),this.LODinfo)for(const e of this.LODinfo.objects)e.count=0;return this};Vn.prototype.getObjectLODIndexForDistance=function(t,e){for(let n=t.length-1;n>0;n--){const i=t[n],r=i.distance-i.distance*i.hysteresis;if(e>=r)return n}return 0};Vn.prototype.setFirstLODDistance=function(t=0,e=0){if(this._parentLOD)throw new Error("Cannot create LOD for this InstancedMesh2.");return this.LODinfo||(this.LODinfo={render:null,shadowRender:null,objects:[this]}),this.LODinfo.render||(this.LODinfo.render={levels:[{distance:t,hysteresis:e,object:this}],count:[0]}),this};Vn.prototype.addLOD=function(t,e,n=0,i=0){var r;if(this._parentLOD)throw new Error("Cannot create LOD for this InstancedMesh2.");if(!((r=this.LODinfo)!=null&&r.render)&&n===0)throw new Error('Cannot set distance to 0 for the first LOD. Use "setFirstLODDistance" before use "addLOD".');return this.setFirstLODDistance(0,i),this.addLevel(this.LODinfo.render,t,e,n,i),this};Vn.prototype.addShadowLOD=function(t,e=0,n=0){if(this._parentLOD)throw new Error("Cannot create LOD for this InstancedMesh2.");this.LODinfo||(this.LODinfo={render:null,shadowRender:null,objects:[this]}),this.LODinfo.shadowRender||(this.LODinfo.shadowRender={levels:[],count:[]});const i=this.addLevel(this.LODinfo.shadowRender,t,null,e,n);return i.castShadow=!0,this.castShadow=!0,this};Vn.prototype.addLevel=function(t,e,n,i,r){const a=this.LODinfo.objects,s=t.levels;let o,l;i=i**2;const c=a.findIndex(u=>u.geometry===e);if(c===-1){const u={capacity:this._capacity,renderer:this._renderer};l=new Vn(e,n??new Za,u,this),l.frustumCulled=!1,this.patchLevel(l),a.push(l),this.add(l)}else l=a[c],n&&(l.material=n);for(o=0;o<s.length&&!(i<s[o].distance);o++);return s.splice(o,0,{distance:i,hysteresis:r,object:l}),t.count.push(0),l};Vn.prototype.patchLevel=function(t){Object.defineProperty(t,"_lastRenderInfo",{get(){return this._parentLOD._lastRenderInfo}}),Object.defineProperty(t,"matricesTexture",{get(){return this._parentLOD.matricesTexture}}),Object.defineProperty(t,"colorsTexture",{get(){return this._parentLOD.colorsTexture}}),Object.defineProperty(t,"uniformsTexture",{get(){return this._parentLOD.uniformsTexture}}),Object.defineProperty(t,"morphTexture",{get(){return this._parentLOD.morphTexture}}),Object.defineProperty(t,"boneTexture",{get(){return this._parentLOD.boneTexture}}),Object.defineProperty(t,"skeleton",{get(){return this._parentLOD.skeleton}}),Object.defineProperty(t,"bindMatrixInverse",{get(){return this._parentLOD.bindMatrixInverse}}),Object.defineProperty(t,"bindMatrix",{get(){return this._parentLOD.bindMatrix}})};const iPe=new Di;Vn.prototype.getMorphAt=function(t,e=iPe){const n=e.morphTargetInfluences,i=this.morphTexture.source.data.data,r=n.length+1,a=t*r+1;for(let s=0;s<n.length;s++)n[s]=i[a+s];return e};Vn.prototype.setMorphAt=function(t,e){const n=e.morphTargetInfluences,i=n.length+1;this.morphTexture===null&&!this._parentLOD&&(this.morphTexture=new bs(new Float32Array(i*this._capacity),i,this._capacity,yh,yr));const r=this.morphTexture.source.data.data;let a=0;for(const l of n)a+=l;const s=this._geometry.morphTargetsRelative?1:1-a,o=i*t;r[o]=s,r.set(n,o+1),this.morphTexture.needsUpdate=!0};const L8=[],ZA=new Di,rPe=new of,pV=new Q,mV=new Q,gV=new kt,bV=new Or;Vn.prototype.raycast=function(t,e){if(this._parentLOD||!this.material||this._instancesArrayCount===0||!this.instanceIndex)return;ZA.geometry=this._geometry,ZA.material=this.material;const n=t.ray,i=t.near,r=t.far;gV.copy(this.matrixWorld).invert(),mV.setFromMatrixScale(this.matrixWorld),pV.copy(t.ray.direction).multiply(mV);const a=pV.length();t.ray=rPe.copy(t.ray).applyMatrix4(gV),t.near/=a,t.far/=a,this.raycastInstances(t,e),t.ray=n,t.near=i,t.far=r};Vn.prototype.raycastInstances=function(t,e){if(this.bvh)this.bvh.raycast(t,n=>this.checkObjectIntersection(t,n,e));else{if(this.boundingSphere===null&&this.computeBoundingSphere(),bV.copy(this.boundingSphere),!t.ray.intersectsSphere(bV))return;const n=this.instanceIndex.array,i=this.raycastOnlyFrustum&&this._perObjectFrustumCulled?this.count:this._instancesArrayCount;for(let r=0;r<i;r++)this.checkObjectIntersection(t,n[r],e)}};Vn.prototype.checkObjectIntersection=function(t,e,n){if(!(e>this._instancesArrayCount||!this.getActiveAndVisibilityAt(e))){this.getMatrixAt(e,ZA.matrixWorld),ZA.raycast(t,L8);for(const i of L8)i.instanceId=e,i.object=this,n.push(i);L8.length=0}};Vn.prototype.initSkeleton=function(t,e=!0){if(t&&this.skeleton!==t&&!this._parentLOD){const n=t.bones;if(this.skeleton=t,this.bindMatrix=new kt,this.bindMatrixInverse=new kt,this.boneTexture=new JA(Float32Array,4,4*n.length,this._capacity),e)for(const i of n)i.matrixAutoUpdate=!1,i.matrixWorldAutoUpdate=!1;this.materialsNeedsUpdate()}};Vn.prototype.setBonesAt=function(t,e=!0,n){const i=this.skeleton;if(!i)throw new Error('"setBonesAt" cannot be called before "initSkeleton"');const r=i.bones,a=i.boneInverses;for(let s=0,o=r.length;s<o;s++){const l=r[s];e&&(n!=null&&n.has(l.name)||l.updateMatrix(),l.matrixWorld.multiplyMatrices(l.parent.matrixWorld,l.matrix)),this.multiplyBoneMatricesAt(t,s,l.matrixWorld,a[s])}this.boneTexture.enqueueUpdate(t)};Vn.prototype.multiplyBoneMatricesAt=function(t,e,n,i){const r=(t*this.skeleton.bones.length+e)*16,a=n.elements,s=i.elements,o=this.boneTexture._data,l=a[0],c=a[4],u=a[8],f=a[12],h=a[1],d=a[5],b=a[9],y=a[13],v=a[2],m=a[6],x=a[10],_=a[14],E=a[3],A=a[7],w=a[11],T=a[15],k=s[0],N=s[4],D=s[8],P=s[12],B=s[1],G=s[5],H=s[9],V=s[13],U=s[2],F=s[6],q=s[10],X=s[14],z=s[3],oe=s[7],fe=s[11],K=s[15];o[r+0]=l*k+c*B+u*U+f*z,o[r+4]=l*N+c*G+u*F+f*oe,o[r+8]=l*D+c*H+u*q+f*fe,o[r+12]=l*P+c*V+u*X+f*K,o[r+1]=h*k+d*B+b*U+y*z,o[r+5]=h*N+d*G+b*F+y*oe,o[r+9]=h*D+d*H+b*q+y*fe,o[r+13]=h*P+d*V+b*X+y*K,o[r+2]=v*k+m*B+x*U+_*z,o[r+6]=v*N+m*G+x*F+_*oe,o[r+10]=v*D+m*H+x*q+_*fe,o[r+14]=v*P+m*V+x*X+_*K,o[r+3]=E*k+A*B+w*U+T*z,o[r+7]=E*N+A*G+w*F+T*oe,o[r+11]=E*D+A*H+w*q+T*fe,o[r+15]=E*P+A*V+w*X+T*K};Vn.prototype.getUniformAt=function(t,e,n){if(!this.uniformsTexture)throw new Error(`Before get/set uniform, it's necessary to use "initUniformsPerInstance".`);return this.uniformsTexture.getUniformAt(t,e,n)};Vn.prototype.setUniformAt=function(t,e,n){if(!this.uniformsTexture)throw new Error(`Before get/set uniform, it's necessary to use "initUniformsPerInstance".`);this.uniformsTexture.setUniformAt(t,e,n),this.uniformsTexture.enqueueUpdate(t)};Vn.prototype.initUniformsPerInstance=function(t){if(!this._parentLOD){const{channels:e,pixelsPerInstance:n,uniformMap:i,fetchInFragmentShader:r}=this.getUniformSchemaResult(t);this.uniformsTexture=new JA(Float32Array,e,n,this._capacity,i,r),this.materialsNeedsUpdate()}};Vn.prototype.getUniformSchemaResult=function(t){let e=0;const n=new Map,i=[],r=t.vertex??{},a=t.fragment??{};let s=!0;for(const c in r){const u=r[c],f=this.getUniformSize(u);e+=f,i.push({name:c,type:u,size:f}),s=!1}for(const c in a)if(!r[c]){const u=a[c],f=this.getUniformSize(u);e+=f,i.push({name:c,type:u,size:f})}i.sort((c,u)=>u.size-c.size);const o=[];for(const{name:c,size:u,type:f}of i){const h=this.getUniformOffset(u,o);n.set(c,{offset:h,size:u,type:f})}const l=Math.ceil(e/4);return{channels:Math.min(e,4),pixelsPerInstance:l,uniformMap:n,fetchInFragmentShader:s}};Vn.prototype.getUniformOffset=function(t,e){if(t<4){for(let i=0;i<e.length;i++)if(e[i]+t<=4){const r=i*4+e[i];return e[i]+=t,r}}const n=e.length*4;for(;t>0;t-=4)e.push(t);return n};Vn.prototype.getUniformSize=function(t){switch(t){case"float":return 1;case"vec2":return 2;case"vec3":return 3;case"vec4":return 4;case"mat3":return 9;case"mat4":return 16;default:throw new Error(`Invalid uniform type: ${t}`)}};var aPe=`#ifdef USE_INSTANCING_INDIRECT\r
  attribute uint instanceIndex;\r
  uniform highp sampler2D matricesTexture;  

  mat4 getInstancedMatrix() {\r
    int size = textureSize( matricesTexture, 0 ).x;\r
    int j = int( instanceIndex ) * 4;\r
    int x = j % size;\r
    int y = j / size;\r
    vec4 v1 = texelFetch( matricesTexture, ivec2( x, y ), 0 );\r
    vec4 v2 = texelFetch( matricesTexture, ivec2( x + 1, y ), 0 );\r
    vec4 v3 = texelFetch( matricesTexture, ivec2( x + 2, y ), 0 );\r
    vec4 v4 = texelFetch( matricesTexture, ivec2( x + 3, y ), 0 );\r
    return mat4( v1, v2, v3, v4 );\r
  }\r
#endif`,sPe=`#ifdef USE_INSTANCING_COLOR_INDIRECT\r
  uniform highp sampler2D colorsTexture;

  #ifdef USE_COLOR_ALPHA\r
    vec4 getColorTexture() {\r
      int size = textureSize( colorsTexture, 0 ).x;\r
      int j = int( instanceIndex );\r
      int x = j % size;\r
      int y = j / size;\r
      return texelFetch( colorsTexture, ivec2( x, y ), 0 );\r
    }\r
  #else\r
    vec3 getColorTexture() {\r
      int size = textureSize( colorsTexture, 0 ).x;\r
      int j = int( instanceIndex );\r
      int x = j % size;\r
      int y = j / size;\r
      return texelFetch( colorsTexture, ivec2( x, y ), 0 ).rgb;\r
    }\r
  #endif\r
#endif`,oPe=`#ifdef USE_INSTANCING_INDIRECT\r
  mat4 instanceMatrix = getInstancedMatrix();

  #ifdef USE_INSTANCING_COLOR_INDIRECT\r
    vColor *= getColorTexture();\r
  #endif\r
#endif`,lPe=`#ifdef USE_INSTANCING_COLOR_INDIRECT\r
  #ifdef USE_VERTEX_COLOR\r
    vColor = color;\r
  #else\r
    #ifdef USE_COLOR_ALPHA\r
      vColor = vec4( 1.0 );\r
    #else\r
      vColor = vec3( 1.0 );\r
    #endif\r
  #endif\r
#endif`,cPe=`#ifdef USE_SKINNING\r
  uniform mat4 bindMatrix;\r
  uniform mat4 bindMatrixInverse;\r
  uniform highp sampler2D boneTexture;

  #ifdef USE_INSTANCING_SKINNING\r
    uniform int bonesPerInstance;\r
  #endif

  mat4 getBoneMatrix( const in float i ) {\r
    int size = textureSize( boneTexture, 0 ).x;

    #ifdef USE_INSTANCING_SKINNING\r
      int j = ( bonesPerInstance * int( instanceIndex ) + int( i ) ) * 4;\r
    #else\r
      int j = int( i ) * 4;\r
    #endif

    int x = j % size;\r
    int y = j / size;\r
    vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );\r
    vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\r
    vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\r
    vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\r
    return mat4( v1, v2, v3, v4 );\r
  }\r
#endif`;on.instanced_pars_vertex=aPe;on.instanced_color_pars_vertex=sPe;on.instanced_vertex=oPe;on.instanced_color_vertex=lPe;function kU(t){return t.replace("#ifdef USE_INSTANCING","#if defined USE_INSTANCING || defined USE_INSTANCING_INDIRECT")}on.project_vertex=kU(on.project_vertex);on.worldpos_vertex=kU(on.worldpos_vertex);on.defaultnormal_vertex=kU(on.defaultnormal_vertex);on.batching_pars_vertex=on.batching_pars_vertex.concat(`
#include <instanced_pars_vertex>`);on.color_pars_vertex=on.color_pars_vertex.concat(`
#include <instanced_color_pars_vertex>`);on.batching_vertex=on.batching_vertex.concat(`
#include <instanced_vertex>`);on.skinning_pars_vertex=cPe;on.morphinstance_vertex&&(on.morphinstance_vertex=on.morphinstance_vertex.replaceAll("gl_InstanceID","instanceIndex"));(function(){var t="b9H79Tebbbe9ok9Geueu9Geub9Gbb9Gruuuuuuueu9Gvuuuuueu9Gduueu9Gluuuueu9Gvuuuuub9Gouuuuuub9Gluuuub9GiuuueuiE8AdilveoveovrrwrrrDDoDrbqqbelve9Weiiviebeoweuec;G:Qdkr:PlCo9TW9T9VV95dbH9F9F939H79T9F9J9H229F9Jt9VV7bb8F9TW79O9V9Wt9FW9U9J9V9KW9wWVtW949c919M9MWV9mW4W2be8A9TW79O9V9Wt9FW9U9J9V9KW9wWVtW949c919M9MWVbd8F9TW79O9V9Wt9FW9U9J9V9KW9wWVtW949c919M9MWV9c9V919U9KbiE9TW79O9V9Wt9FW9U9J9V9KW9wWVtW949wWV79P9V9UblY9TW79O9V9Wt9FW9U9J9V9KW69U9KW949c919M9MWVbv8E9TW79O9V9Wt9FW9U9J9V9KW69U9KW949c919M9MWV9c9V919U9Kbo8A9TW79O9V9Wt9FW9U9J9V9KW69U9KW949wWV79P9V9UbrE9TW79O9V9Wt9FW9U9J9V9KW69U9KW949tWG91W9U9JWbwa9TW79O9V9Wt9FW9U9J9V9KW69U9KW949tWG91W9U9JW9c9V919U9KbDL9TW79O9V9Wt9FW9U9J9V9KWS9P2tWV9p9JtbqK9TW79O9V9Wt9FW9U9J9V9KWS9P2tWV9r919HtbkL9TW79O9V9Wt9FW9U9J9V9KWS9P2tWVT949WbxY9TW79O9V9Wt9FW9U9J9V9KWS9P2tWVJ9V29VVbmE9TW79O9V9Wt9F9V9Wt9P9T9P96W9wWVtW94J9H9J9OWbza9TW79O9V9Wt9F9V9Wt9P9T9P96W9wWVtW94J9H9J9OW9ttV9P9WbHa9TW79O9V9Wt9F9V9Wt9P9T9P96W9wWVtW94SWt9J9O9sW9T9H9WbOK9TW79O9V9Wt9F79W9Ht9P9H29t9VVt9sW9T9H9WbAl79IV9RbXDwebcekdKYq;i28Adbk:Bhdhud9:8Jjjjjbc;qw9Rgr8KjjjjbcbhwdnaeTmbabcbyd;C:kjjbaoaocb9iEgDc:GeV86bbarc;adfcbcjdz:xjjjb8AdnaiTmbarc;adfadalz:wjjjb8Akarc;abfalfcbcbcjdal9RalcFe0Ez:xjjjb8Aarc;abfarc;adfalz:wjjjb8AarcUf9cb83ibarc8Wf9cb83ibarcyf9cb83ibarcaf9cb83ibarcKf9cb83ibarczf9cb83ibar9cb83iwar9cb83ibcj;abal9Uc;WFbGcjdalca0Ehqdnaicd6mbavcd9imbaDTmbadcefhkaqci2gxal2hmarc;alfclfhParc;qlfceVhsarc;qofclVhzarc;qofcKfhHarc;qofczfhOcbhAincdhCcbhodnavci6mbaH9cb83ibaO9cb83ibar9cb83i;yoar9cb83i;qoadaAfgoybbhXcbhQincbhwcbhLdninaoalfhKaoybbgYaX7aLVhLawcP0meaKhoaYhXawcefgwaQfai6mbkkcbhXarc;qofhwincwh8AcwhEdnaLaX93gocFeGg3cs0mbclhEa3ci0mba3cb9hcethEkdnaocw4cFeGg3cs0mbclh8Aa3ci0mba3cb9hceth8Aka8AaEfh3awydbh5cwh8AcwhEdnaocz4cFeGg8Ecs0mbclhEa8Eci0mba8Ecb9hcethEka3a5fh3dnaocFFFFb0mbclh8AaocFFF8F0mbaocFFFr0ceth8Akawa3aEfa8AfBdbawclfhwaXcefgXcw9hmbkaKhoaYhXaQczfgQai6mbkcbhocehwazhLinawaoaLydbarc;qofaocdtfydb6EhoaLclfhLawcefgwcw9hmbkcihCkcbh3arc;qlfcbcjdz:xjjjb8Aarc;alfcwfcbBdbar9cb83i;alaoclth8Fadhaaqhhakh5inarc;qlfadcba3cufgoaoa30Eal2falz:wjjjb8Aaiahaiah6Ehgdnaqaia39Ra3aqfai6EgYcsfc9WGgoaY9nmbarc;qofaYfcbaoaY9Rz:xjjjb8Akada3al2fh8Jcbh8Kina8Ka8FVcl4hQarc;alfa8Kcdtfh8LaAh8Mcbh8Nina8NaAfhwdndndndndndna8KPldebidkasa8Mc98GgLfhoa5aLfh8Aarc;qlfawc98GgLfRbbhXcwhwinaoRbbawtaXVhXaocefhoawcwfgwca9hmbkaYTmla8Ncith8Ea8JaLfhEcbhKinaERbbhLcwhoa8AhwinawRbbaotaLVhLawcefhwaocwfgoca9hmbkarc;qofaKfaLaX7aQ93a8E486bba8Aalfh8AaEalfhEaLhXaKcefgKaY9hmbxlkkaYTmia8Mc9:Ghoa8NcitcwGhEarc;qlfawceVfRbbcwtarc;qlfawc9:GfRbbVhLarc;qofhwaghXinawa5aofRbbcwtaaaofRbbVg8AaL9RgLcetaLcztcz91cs47cFFiGaE486bbaoalfhoawcefhwa8AhLa3aXcufgX9hmbxikkaYTmda8Jawfhoarc;qlfawfRbbhLarc;qofhwaghXinawaoRbbg8AaL9RgLcetaLcKtcK91cr4786bbawcefhwaoalfhoa8AhLa3aXcufgX9hmbxdkkaYTmeka8LydbhEcbhKarc;qofhoincdhLcbhwinaLaoawfRbbcb9hfhLawcefgwcz9hmbkclhXcbhwinaXaoawfRbbcd0fhXawcefgwcz9hmbkcwh8Acbhwina8AaoawfRbbcP0fh8Aawcefgwcz9hmbkaLaXaLaX6Egwa8Aawa8A6Egwczawcz6EaEfhEaoczfhoaKczfgKaY6mbka8LaEBdbka8Mcefh8Ma8Ncefg8Ncl9hmbka8Kcefg8KaC9hmbkaaamfhaahaxfhha5amfh5a3axfg3ai6mbkcbhocehwaPhLinawaoaLydbarc;alfaocdtfydb6EhoaLclfhLawcefgXhwaCaX9hmbkaraAcd4fa8FcdVaoaocdSE86bbaAclfgAal6mbkkabaefh8Kabcefhoalcd4gecbaDEhkadcefhOarc;abfceVhHcbhmdndninaiam9nmearc;qofcbcjdz:xjjjb8Aa8Kao9Rak6mdadamal2gwfhxcbh8JaOawfhzaocbakz:xjjjbghakfh5aqaiam9Ramaqfai6Egscsfgocl4cifcd4hCaoc9WGg8LThPindndndndndndndndndndnaDTmbara8Jcd4fRbbgLciGPlbedlbkasTmdaxa8Jfhoarc;abfa8JfRbbhLarc;qofhwashXinawaoRbbg8AaL9RgLcetaLcKtcK91cr4786bbawcefhwaoalfhoa8AhLaXcufgXmbxikkasTmia8JcitcwGhEarc;abfa8JceVfRbbcwtarc;abfa8Jc9:GgofRbbVhLaxaofhoarc;qofhwashXinawao8Vbbg8AaL9RgLcetaLcztcz91cs47cFFiGaE486bbawcefhwaoalfhoa8AhLaXcufgXmbxdkkaHa8Jc98GgEfhoazaEfh8Aarc;abfaEfRbbhXcwhwinaoRbbawtaXVhXaocefhoawcwfgwca9hmbkasTmbaLcl4hYa8JcitcKGh3axaEfhEcbhKinaERbbhLcwhoa8AhwinawRbbaotaLVhLawcefhwaocwfgoca9hmbkarc;qofaKfaLaX7aY93a3486bba8Aalfh8AaEalfhEaLhXaKcefgKas9hmbkkaDmbcbhoxlka8LTmbcbhodninarc;qofaofgwcwf8Pibaw8Pib:e9qTmeaoczfgoa8L9pmdxbkkdnavmbcehoxikcbhEaChKaChYinarc;qofaEfgocwf8Pibhyao8Pibh8PcdhLcbhwinaLaoawfRbbcb9hfhLawcefgwcz9hmbkclhXcbhwinaXaoawfRbbcd0fhXawcefgwcz9hmbkcwh8Acbhwina8AaoawfRbbcP0fh8Aawcefgwcz9hmbkaLaXaLaX6Egoa8Aaoa8A6Egoczaocz6EaYfhYaocucbaya8P:e9cb9sEgwaoaw6EaKfhKaEczfgEa8L9pmdxbkkaha8Jcd4fgoaoRbbcda8JcetcoGtV86bbxikdnaKas6mbaYas6mbaha8Jcd4fgoaoRbbcia8JcetcoGtV86bba8Ka59Ras6mra5arc;qofasz:wjjjbasfh5xikaKaY9phokaha8Jcd4fgwawRbbaoa8JcetcoGtV86bbka8Ka59RaC6mla5cbaCz:xjjjbgAaCfhYdndna8LmbaPhoxekdna8KaY9RcK9pmbaPhoxekaocdtc:q1jjbfcj1jjbaDEg5ydxggcetc;:FFFeGh8Fcuh3cuagtcu7cFeGhacbh8Marc;qofhLinarc;qofa8MfhQczhEdndndnagPDbeeeeeeedekcucbaQcwf8PibaQ8Pib:e9cb9sEhExekcbhoa8FhEinaEaaaLaofRbb9nfhEaocefgocz9hmbkkcih8Ecbh8Ainczhwdndndna5a8AcdtfydbgKPDbeeeeeeedekcucbaQcwf8PibaQ8Pib:e9cb9sEhwxekaKcetc;:FFFeGhwcuaKtcu7cFeGhXcbhoinawaXaLaofRbb9nfhwaocefgocz9hmbkkdndnawaE6mbaKa39hmeawaE9hmea5a8EcdtfydbcwSmeka8Ah8EawhEka8Acefg8Aci9hmbkaAa8Mco4fgoaoRbba8Ea8Mci4coGtV86bbdndndna5a8Ecdtfydbg3PDdbbbbbbbebkdncwa39Tg8ETmbcua3tcu7hwdndna3ceSmbcbh8NaLhQinaQhoa8Eh8AcbhXinaoRbbgEawcFeGgKaEaK6EaXa3tVhXaocefhoa8Acufg8AmbkaYaX86bbaQa8EfhQaYcefhYa8Na8Efg8Ncz6mbxdkkcbh8NaLhQinaQhoa8Eh8AcbhXinaoRbbgEawcFeGgKaEaK6EaXcetVhXaocefhoa8Acufg8AmbkaYaX:T9cFe:d9c:c:qj:bw9:9c:q;c1:I1e:d9c:b:c:e1z9:9ca188bbaQa8EfhQaYcefhYa8Na8Efg8Ncz6mbkkcbhoinaYaLaofRbbgX86bbaYaXawcFeG9pfhYaocefgocz9hmbxikkdna3ceSmbinaYcb86bbaYcefhYxbkkinaYcb86bbaYcefhYxbkkaYaQ8Pbb83bbaYcwfaQcwf8Pbb83bbaYczfhYka8Mczfg8Ma8L9pgomeaLczfhLa8KaY9RcK9pmbkkaoTmlaYh5aYTmlka8Jcefg8Jal9hmbkarc;abfaxascufal2falz:wjjjb8Aasamfhma5hoa5mbkcbhwxdkdna8Kao9RakalfgwcKcaaDEgLawaL0EgX9pmbcbhwxdkdnawaL9pmbaocbaXaw9Rgwz:xjjjbawfhokaoarc;adfalz:wjjjbalfhodnaDTmbaoaraez:wjjjbaefhokaoab9Rhwxekcbhwkarc;qwf8Kjjjjbawk5babaeadaialcdcbyd;C:kjjbz:bjjjbk9reduaecd4gdaefgicaaica0Eabcj;abae9Uc;WFbGcjdaeca0Egifcufai9Uae2aiadfaicl4cifcd4f2fcefkmbcbabBd;C:kjjbk:Ese5u8Jjjjjbc;ae9Rgl8Kjjjjbcbhvdnaici9UgocHfae0mbabcbyd;m:kjjbgrc;GeV86bbalc;abfcFecjez:xjjjb8AalcUfgw9cu83ibalc8WfgD9cu83ibalcyfgq9cu83ibalcafgk9cu83ibalcKfgx9cu83ibalczfgm9cu83ibal9cu83iwal9cu83ibabaefc9WfhPabcefgsaofhednaiTmbcmcsarcb9kgzEhHcbhOcbhAcbhCcbhXcbhQindnaeaP9nmbcbhvxikaQcufhvadaCcdtfgLydbhKaLcwfydbhYaLclfydbh8AcbhEdndndninalc;abfavcsGcitfgoydlh3dndndnaoydbgoaK9hmba3a8ASmekdnaoa8A9hmba3aY9hmbaEcefhExekaoaY9hmea3aK9hmeaEcdfhEkaEc870mdaXcufhvaLaEciGcx2goc;i1jjbfydbcdtfydbh3aLaoc;e1jjbfydbcdtfydbh8AaLaoc;a1jjbfydbcdtfydbhKcbhodnindnalavcsGcdtfydba39hmbaohYxdkcuhYavcufhvaocefgocz9hmbkkaOa3aOSgvaYce9iaYaH9oVgoGfhOdndndncbcsavEaYaoEgvcs9hmbarce9imba3a3aAa3cefaASgvEgAcefSmecmcsavEhvkasavaEcdtc;WeGV86bbavcs9hmea3aA9Rgvcetavc8F917hvinaeavcFb0crtavcFbGV86bbaecefheavcje6hoavcr4hvaoTmbka3hAxvkcPhvasaEcdtcPV86bba3hAkavTmiavaH9omicdhocehEaQhYxlkavcufhvaEclfgEc;ab9hmbkkdnaLceaYaOSceta8AaOSEcx2gvc;a1jjbfydbcdtfydbgKTaLavc;e1jjbfydbcdtfydbg8AceSGaLavc;i1jjbfydbcdtfydbg3cdSGaOcb9hGazGg5ce9hmbaw9cu83ibaD9cu83ibaq9cu83ibak9cu83ibax9cu83ibam9cu83ibal9cu83iwal9cu83ibcbhOkcbhEaXcufgvhodnindnalaocsGcdtfydba8A9hmbaEhYxdkcuhYaocufhoaEcefgEcz9hmbkkcbhodnindnalavcsGcdtfydba39hmbaohExdkcuhEavcufhvaocefgocz9hmbkkaOaKaOSg8EfhLdndnaYcm0mbaYcefhYxekcbcsa8AaLSgvEhYaLavfhLkdndnaEcm0mbaEcefhExekcbcsa3aLSgvEhEaLavfhLkc9:cua8EEh8FcbhvaEaYcltVgacFeGhodndndninavc:W1jjbfRbbaoSmeavcefgvcz9hmbxdkka5aKaO9havcm0VVmbasavc;WeV86bbxekasa8F86bbaeaa86bbaecefhekdna8EmbaKaA9Rgvcetavc8F917hvinaeavcFb0gocrtavcFbGV86bbavcr4hvaecefheaombkaKhAkdnaYcs9hmba8AaA9Rgvcetavc8F917hvinaeavcFb0gocrtavcFbGV86bbavcr4hvaecefheaombka8AhAkdnaEcs9hmba3aA9Rgvcetavc8F917hvinaeavcFb0gocrtavcFbGV86bbavcr4hvaecefheaombka3hAkalaXcdtfaKBdbaXcefcsGhvdndnaYPzbeeeeeeeeeeeeeebekalavcdtfa8ABdbaXcdfcsGhvkdndnaEPzbeeeeeeeeeeeeeebekalavcdtfa3BdbavcefcsGhvkcihoalc;abfaQcitfgEaKBdlaEa8ABdbaQcefcsGhYcdhEavhXaLhOxekcdhoalaXcdtfa3BdbcehEaXcefcsGhXaQhYkalc;abfaYcitfgva8ABdlava3Bdbalc;abfaQaEfcsGcitfgva3BdlavaKBdbascefhsaQaofcsGhQaCcifgCai6mbkkdnaeaP9nmbcbhvxekcbhvinaeavfavc:W1jjbfRbb86bbavcefgvcz9hmbkaeab9Ravfhvkalc;aef8KjjjjbavkZeeucbhddninadcefgdc8F0meceadtae6mbkkadcrfcFeGcr9Uci2cdfabci9U2cHfkmbcbabBd;m:kjjbk:Adewu8Jjjjjbcz9Rhlcbhvdnaicvfae0mbcbhvabcbRb;m:kjjbc;qeV86bbal9cb83iwabcefhoabaefc98fhrdnaiTmbcbhwcbhDindnaoar6mbcbskadaDcdtfydbgqalcwfawaqav9Rgvavc8F91gv7av9Rc507gwcdtfgkydb9Rgvc8E91c9:Gavcdt7awVhvinaoavcFb0gecrtavcFbGV86bbavcr4hvaocefhoaembkakaqBdbaqhvaDcefgDai9hmbkkdnaoar9nmbcbskaocbBbbaoab9RclfhvkavkBeeucbhddninadcefgdc8F0meceadtae6mbkkadcwfcFeGcr9Uab2cvfk:bvli99dui99ludnaeTmbcuadcetcuftcu7:Zhvdndncuaicuftcu7:ZgoJbbbZMgr:lJbbb9p9DTmbar:Ohwxekcjjjj94hwkcbhicbhDinalclfIdbgrJbbbbJbbjZalIdbgq:lar:lMalcwfIdbgk:lMgr:varJbbbb9BEgrNhxaqarNhrdndnakJbbbb9GTmbaxhqxekJbbjZar:l:tgqaq:maxJbbbb9GEhqJbbjZax:l:tgxax:marJbbbb9GEhrkdndnalcxfIdbgxJbbj:;axJbbj:;9GEgkJbbjZakJbbjZ9FEavNJbbbZJbbb:;axJbbbb9GEMgx:lJbbb9p9DTmbax:Ohmxekcjjjj94hmkdndnaqJbbj:;aqJbbj:;9GEgxJbbjZaxJbbjZ9FEaoNJbbbZJbbb:;aqJbbbb9GEMgq:lJbbb9p9DTmbaq:OhPxekcjjjj94hPkdndnarJbbj:;arJbbj:;9GEgqJbbjZaqJbbjZ9FEaoNJbbbZJbbb:;arJbbbb9GEMgr:lJbbb9p9DTmbar:Ohsxekcjjjj94hskdndnadcl9hmbabaifgzas86bbazcifam86bbazcdfaw86bbazcefaP86bbxekabaDfgzas87ebazcofam87ebazclfaw87ebazcdfaP87ebkalczfhlaiclfhiaDcwfhDaecufgembkkk;hlld99eud99eudnaeTmbdndncuaicuftcu7:ZgvJbbbZMgo:lJbbb9p9DTmbao:Ohixekcjjjj94hikaic;8FiGhrinabcofcicdalclfIdb:lalIdb:l9EgialcwfIdb:lalaicdtfIdb:l9EEgialcxfIdb:lalaicdtfIdb:l9EEgiarV87ebdndnJbbj:;JbbjZalaicdtfIdbJbbbb9DEgoalaicd7cdtfIdbJ;Zl:1ZNNgwJbbj:;awJbbj:;9GEgDJbbjZaDJbbjZ9FEavNJbbbZJbbb:;awJbbbb9GEMgw:lJbbb9p9DTmbaw:Ohqxekcjjjj94hqkabcdfaq87ebdndnalaicefciGcdtfIdbJ;Zl:1ZNaoNgwJbbj:;awJbbj:;9GEgDJbbjZaDJbbjZ9FEavNJbbbZJbbb:;awJbbbb9GEMgw:lJbbb9p9DTmbaw:Ohqxekcjjjj94hqkabaq87ebdndnaoalaicufciGcdtfIdbJ;Zl:1ZNNgoJbbj:;aoJbbj:;9GEgwJbbjZawJbbjZ9FEavNJbbbZJbbb:;aoJbbbb9GEMgo:lJbbb9p9DTmbao:Ohixekcjjjj94hikabclfai87ebabcwfhbalczfhlaecufgembkkk;3viDue99eu8Jjjjjbcjd9Rgo8Kjjjjbadcd4hrdndndndnavcd9hmbadcl6meaohwarhDinawc:CuBdbawclfhwaDcufgDmbkaeTmiadcl6mdarcdthqalhkcbhxinaohwakhDarhminawawydbgPcbaDIdbgs:8cL4cFeGc:cufasJbbbb9BEgzaPaz9kEBdbaDclfhDawclfhwamcufgmmbkakaqfhkaxcefgxaeSmixbkkaeTmdxekaeTmekarcdthkavce9hhqadcl6hdcbhxindndndnaqmbadmdc:CuhDalhwarhminaDcbawIdbgs:8cL4cFeGc:cufasJbbbb9BEgPaDaP9kEhDawclfhwamcufgmmbxdkkc:CuhDdndnavPleddbdkadmdaohwalhmarhPinawcbamIdbgs:8cL4cFeGgzc;:bazc;:b0Ec:cufasJbbbb9BEBdbamclfhmawclfhwaPcufgPmbxdkkadmecbhwarhminaoawfcbalawfIdbgs:8cL4cFeGgPc8AaPc8A0Ec:cufasJbbbb9BEBdbawclfhwamcufgmmbkkadmbcbhwarhPinaDhmdnavceSmbaoawfydbhmkdndnalawfIdbgscjjj;8iamai9RcefgmcLt9R::NJbbbZJbbb:;asJbbbb9GEMgs:lJbbb9p9DTmbas:Ohzxekcjjjj94hzkabawfazcFFFrGamcKtVBdbawclfhwaPcufgPmbkkabakfhbalakfhlaxcefgxae9hmbkkaocjdf8Kjjjjbk:Ylvdud99due99iudnaeTmbceaicufgvthocuaitcu7:Zhrcuavtcu7:Zhwcbhvadcl9hhDcbhqindndnalcwfIdbgkJbbbbakJbbbb9GEgkJbbjZakJbbjZ9FEarNJbbbZMgk:lJbbb9p9DTmbak:Ohixekcjjjj94hikdndnalIdbgkJbbbbakJbbbb9GEgkJbbjZakJbbjZ9FEarNJbbbZMgk:lJbbb9p9DTmbak:Ohdxekcjjjj94hdkadai9Rcd9TgxaifhidndnalclfIdbgkJbbbbakJbbbb9GEgkJbbjZakJbbjZ9FEarNJbbbZMgk:lJbbb9p9DTmbak:Ohdxekcjjjj94hdkadai9Rcd9ThddndnalcxfIdbgkJbbbbakJbbbb9GEgkJbbjZakJbbjZ9FEawNJbbbZMgk:lJbbb9p9DTmbak:Ohmxekcjjjj94hmkadaifhiaoamVhmdndnaDmbabavfgPai86bbaPcifam86bbaPcdfad86bbaPcefax86bbxekabaqfgPai87ebaPcofam87ebaPclfad87ebaPcdfax87ebkalczfhlavclfhvaqcwfhqaecufgembkkk;YqdXui998Jjjjjbc:qd9Rgv8Kjjjjbavc:Sefcbc;Kbz:xjjjb8AcbhodnadTmbcbhoaiTmbdndnabaeSmbaehrxekavcuadcdtgwadcFFFFi0Ecbyd;q:kjjbHjjjjbbgrBd:SeavceBd:mdaraeawz:wjjjb8Akavc:GefcwfcbBdbav9cb83i:Geavc:Gefaradaiavc:Sefz:pjjjbavyd:GehDadci9Ugqcbyd;q:kjjbHjjjjbbheavc:Sefavyd:mdgkcdtfaeBdbavakcefgwBd:mdaecbaqz:xjjjbhxavc:SefawcdtfcuaicdtaicFFFFi0Ecbyd;q:kjjbHjjjjbbgmBdbavakcdfgPBd:mdalc;ebfhsaDheamhwinawalIdbasaeydbgzcwazcw6EcdtfIdbMUdbaeclfheawclfhwaicufgimbkavc:SefaPcdtfcuaqcdtadcFFFF970Ecbyd;q:kjjbHjjjjbbgPBdbdnadci6mbarheaPhwaqhiinawamaeydbcdtfIdbamaeclfydbcdtfIdbMamaecwfydbcdtfIdbMUdbaecxfheawclfhwaicufgimbkkakcifhoalc;ebfhHavc;qbfhOavheavyd:KehAavyd:OehCcbhzcbhwcbhXcehQinaehLcihkarawci2gKcdtfgeydbhsaeclfydbhdabaXcx2fgicwfaecwfydbgYBdbaiclfadBdbaiasBdbaxawfce86bbaOaYBdwaOadBdlaOasBdbaPawcdtfcbBdbdnazTmbcihkaLhiinaOakcdtfaiydbgeBdbakaeaY9haeas9haead9hGGfhkaiclfhiazcufgzmbkkaXcefhXcbhzinaCaAarazaKfcdtfydbcdtgifydbcdtfgYheaDaifgdydbgshidnasTmbdninaeydbawSmeaeclfheaicufgiTmdxbkkaeaYascdtfc98fydbBdbadadydbcufBdbkazcefgzci9hmbkdndnakTmbcuhwJbbbbh8Acbhdavyd:KehYavyd:OehKindndnaDaOadcdtfydbcdtgzfydbgembadcefhdxekadcs0hiamazfgsIdbhEasalcbadcefgdaiEcdtfIdbaHaecwaecw6EcdtfIdbMg3Udba3aE:th3aecdthiaKaYazfydbcdtfheinaPaeydbgzcdtfgsa3asIdbMgEUdbaEa8Aa8AaE9DgsEh8AazawasEhwaeclfheaic98fgimbkkadak9hmbkawcu9hmekaQaq9pmdindnaxaQfRbbmbaQhwxdkaqaQcefgQ9hmbxikkakczakcz6EhzaOheaLhOawcu9hmbkkaocdtavc:Seffc98fhedninaoTmeaeydbcbyd;u:kjjbH:bjjjbbaec98fheaocufhoxbkkavc:qdf8Kjjjjbk;IlevucuaicdtgvaicFFFFi0Egocbyd;q:kjjbHjjjjbbhralalyd9GgwcdtfarBdbalawcefBd9GabarBdbaocbyd;q:kjjbHjjjjbbhralalyd9GgocdtfarBdbalaocefBd9GabarBdlcuadcdtadcFFFFi0Ecbyd;q:kjjbHjjjjbbhralalyd9GgocdtfarBdbalaocefBd9GabarBdwabydbcbavz:xjjjb8Aadci9UhDdnadTmbabydbhoaehladhrinaoalydbcdtfgvavydbcefBdbalclfhlarcufgrmbkkdnaiTmbabydbhlabydlhrcbhvaihoinaravBdbarclfhralydbavfhvalclfhlaocufgombkkdnadci6mbabydlhrabydwhvcbhlinaecwfydbhoaeclfydbhdaraeydbcdtfgwawydbgwcefBdbavawcdtfalBdbaradcdtfgdadydbgdcefBdbavadcdtfalBdbaraocdtfgoaoydbgocefBdbavaocdtfalBdbaecxfheaDalcefgl9hmbkkdnaiTmbabydlheabydbhlinaeaeydbalydb9RBdbalclfhlaeclfheaicufgimbkkkQbabaeadaic;K1jjbz:ojjjbkQbabaeadaic;m:jjjbz:ojjjbk9DeeuabcFeaicdtz:xjjjbhlcbhbdnadTmbindnalaeydbcdtfgiydbcu9hmbaiabBdbabcefhbkaeclfheadcufgdmbkkabk:Vvioud9:du8Jjjjjbc;Wa9Rgl8Kjjjjbcbhvalcxfcbc;Kbz:xjjjb8AalcuadcitgoadcFFFFe0Ecbyd;q:kjjbHjjjjbbgrBdxalceBd2araeadaicezNjjjbalcuaoadcjjjjoGEcbyd;q:kjjbHjjjjbbgwBdzadcdthednadTmbabhiinaiavBdbaiclfhiadavcefgv9hmbkkawaefhDalabBdwalawBdl9cbhqindnadTmbaq9cq9:hkarhvaDhiadheinaiav8Pibak1:NcFrG87ebavcwfhvaicdfhiaecufgembkkalclfaq:NceGcdtfydbhxalclfaq9ce98gq:NceGcdtfydbhmalc;Wbfcbcjaz:xjjjb8AaDhvadhidnadTmbinalc;Wbfav8VebcdtfgeaeydbcefBdbavcdfhvaicufgimbkkcbhvcbhiinalc;WbfavfgeydbhoaeaiBdbaoaifhiavclfgvcja9hmbkadhvdndnadTmbinalc;WbfaDamydbgicetf8VebcdtfgeaeydbgecefBdbaxaecdtfaiBdbamclfhmavcufgvmbkaq9cv9smdcbhvinabawydbcdtfavBdbawclfhwadavcefgv9hmbxdkkaq9cv9smekkclhvdninavc98Smealcxfavfydbcbyd;u:kjjbH:bjjjbbavc98fhvxbkkalc;Waf8Kjjjjbk:Jwliuo99iud9:cbhv8Jjjjjbca9Rgoczfcwfcbyd:8:kjjbBdbaocb8Pd:0:kjjb83izaocwfcbyd;i:kjjbBdbaocb8Pd;a:kjjb83ibaicd4hrdndnadmbJFFuFhwJFFuuhDJFFuuhqJFFuFhkJFFuuhxJFFuFhmxekarcdthPaehsincbhiinaoczfaifgzasaifIdbgwazIdbgDaDaw9EEUdbaoaifgzawazIdbgDaDaw9DEUdbaiclfgicx9hmbkasaPfhsavcefgvad9hmbkaoIdKhDaoIdwhwaoIdChqaoIdlhkaoIdzhxaoIdbhmkdnadTmbJbbbbJbFu9hJbbbbamax:tgmamJbbbb9DEgmakaq:tgkakam9DEgkawaD:tgwawak9DEgw:vawJbbbb9BEhwdnalmbarcdthoindndnaeclfIdbaq:tawNJbbbZMgk:lJbbb9p9DTmbak:Ohixekcjjjj94hikai:S9cC:ghHdndnaeIdbax:tawNJbbbZMgk:lJbbb9p9DTmbak:Ohixekcjjjj94hikaHai:S:ehHdndnaecwfIdbaD:tawNJbbbZMgk:lJbbb9p9DTmbak:Ohixekcjjjj94hikabaHai:T9cy:g:e83ibaeaofheabcwfhbadcufgdmbxdkkarcdthoindndnaeIdbax:tawNJbbbZMgk:lJbbb9p9DTmbak:Ohixekcjjjj94hikai:SgH9ca:gaH9cz:g9cjjj;4s:d:eaH9cFe:d:e9cF:bj;4:pj;ar:d9c:bd9:9c:p;G:d;4j:E;ar:d9cH9:9c;d;H:W:y:m:g;d;Hb:d9cv9:9c;j:KM;j:KM;j:Kd:dhOdndnaeclfIdbaq:tawNJbbbZMgk:lJbbb9p9DTmbak:Ohixekcjjjj94hikai:SgH9ca:gaH9cz:g9cjjj;4s:d:eaH9cFe:d:e9cF:bj;4:pj;ar:d9c:bd9:9c:p;G:d;4j:E;ar:d9cH9:9c;d;H:W:y:m:g;d;Hb:d9cq9:9cM;j:KM;j:KM;jl:daO:ehOdndnaecwfIdbaD:tawNJbbbZMgk:lJbbb9p9DTmbak:Ohixekcjjjj94hikabaOai:SgH9ca:gaH9cz:g9cjjj;4s:d:eaH9cFe:d:e9cF:bj;4:pj;ar:d9c:bd9:9c:p;G:d;4j:E;ar:d9cH9:9c;d;H:W:y:m:g;d;Hb:d9cC9:9c:KM;j:KM;j:KMD:d:e83ibaeaofheabcwfhbadcufgdmbkkk9teiucbcbyd;y:kjjbgeabcifc98GfgbBd;y:kjjbdndnabZbcztgd9nmbcuhiabad9RcFFifcz4nbcuSmekaehikaik;teeeudndnaeabVciGTmbabhixekdndnadcz9pmbabhixekabhiinaiaeydbBdbaiaeydlBdlaiaeydwBdwaiaeydxBdxaeczfheaiczfhiadc9Wfgdcs0mbkkadcl6mbinaiaeydbBdbaeclfheaiclfhiadc98fgdci0mbkkdnadTmbinaiaeRbb86bbaicefhiaecefheadcufgdmbkkabk:3eedudndnabciGTmbabhixekaecFeGc:b:c:ew2hldndnadcz9pmbabhixekabhiinaialBdxaialBdwaialBdlaialBdbaiczfhiadc9Wfgdcs0mbkkadcl6mbinaialBdbaiclfhiadc98fgdci0mbkkdnadTmbinaiae86bbaicefhiadcufgdmbkkabk9teiucbcbyd;y:kjjbgeabcrfc94GfgbBd;y:kjjbdndnabZbcztgd9nmbcuhiabad9RcFFifcz4nbcuSmekaehikaik9:eiuZbhedndncbyd;y:kjjbgdaecztgi9nmbcuheadai9RcFFifcz4nbcuSmekadhekcbabae9Rcifc98Gcbyd;y:kjjbfgdBd;y:kjjbdnadZbcztge9nmbadae9RcFFifcz4nb8Akkk;Qddbcjwk;mdbbbbdbbblbbbwbbbbbbbebbbdbbblbbbwbbbbbbbbbbbbbbbb4:h9w9N94:P:gW:j9O:ye9Pbbbbbbebbbdbbbebbbdbbbbbbbdbbbbbbbebbbbbbb:l29hZ;69:9kZ;N;76Z;rg97Z;z;o9xZ8J;B85Z;:;u9yZ;b;k9HZ:2;Z9DZ9e:l9mZ59A8KZ:r;T3Z:A:zYZ79OHZ;j4::8::Y:D9V8:bbbb9s:49:Z8R:hBZ9M9M;M8:L;z;o8:;8:PG89q;x:J878R:hQ8::M:B;e87bbbbbbjZbbjZbbjZ:E;V;N8::Y:DsZ9i;H;68:xd;R8:;h0838:;W:NoZbbbb:WV9O8:uf888:9i;H;68:9c9G;L89;n;m9m89;D8Ko8:bbbbf:8tZ9m836ZS:2AZL;zPZZ818EZ9e:lxZ;U98F8:819E;68:FFuuFFuuFFuuFFuFFFuFFFuFbc;mqkzebbbebbbdbbb9G:vbb",e=new Uint8Array([32,0,65,2,1,106,34,33,3,128,11,4,13,64,6,253,10,7,15,116,127,5,8,12,40,16,19,54,20,9,27,255,113,17,42,67,24,23,146,148,18,14,22,45,70,69,56,114,101,21,25,63,75,136,108,28,118,29,73,115]);if(typeof WebAssembly!="object")return{supported:!1};var n,i=WebAssembly.instantiate(r(t),{}).then(function(d){n=d.instance,n.exports.__wasm_call_ctors(),n.exports.meshopt_encodeVertexVersion(0),n.exports.meshopt_encodeIndexVersion(1)});function r(d){for(var b=new Uint8Array(d.length),y=0;y<d.length;++y){var v=d.charCodeAt(y);b[y]=v>96?v-97:v>64?v-39:v+4}for(var m=0,y=0;y<d.length;++y)b[m++]=b[y]<60?e[b[y]]:(b[y]-60)*64+b[++y];return b.buffer.slice(0,m)}function a(d){if(!d)throw new Error("Assertion failed")}function s(d){return new Uint8Array(d.buffer,d.byteOffset,d.byteLength)}function o(d,b,y,v){var m=n.exports.sbrk,x=m(b.length*4),_=m(y*4),E=new Uint8Array(n.exports.memory.buffer),A=s(b);E.set(A,x),v&&v(x,x,b.length,y);var w=d(_,x,b.length,y);E=new Uint8Array(n.exports.memory.buffer);var T=new Uint32Array(y);new Uint8Array(T.buffer).set(E.subarray(_,_+y*4)),A.set(E.subarray(x,x+b.length*4)),m(x-m(0));for(var k=0;k<b.length;++k)b[k]=T[b[k]];return[T,w]}function l(d,b,y,v){var m=n.exports.sbrk,x=m(y*4),_=m(y*v),E=new Uint8Array(n.exports.memory.buffer);E.set(s(b),_),d(x,_,y,v),E=new Uint8Array(n.exports.memory.buffer);var A=new Uint32Array(y);return new Uint8Array(A.buffer).set(E.subarray(x,x+y*4)),m(x-m(0)),A}function c(d,b,y,v,m,x,_){var E=n.exports.sbrk,A=E(b),w=E(v*m),T=new Uint8Array(n.exports.memory.buffer);T.set(s(y),w);var k=d(A,b,w,v,m,x,_),N=new Uint8Array(k);return N.set(T.subarray(A,A+k)),E(A-E(0)),N}function u(d){for(var b=0,y=0;y<d.length;++y){var v=d[y];b=b<v?v:b}return b}function f(d,b){if(a(b==2||b==4),b==4)return new Uint32Array(d.buffer,d.byteOffset,d.byteLength/4);var y=new Uint16Array(d.buffer,d.byteOffset,d.byteLength/2);return new Uint32Array(y)}function h(d,b,y,v,m,x,_){var E=n.exports.sbrk,A=E(y*v),w=E(y*x),T=new Uint8Array(n.exports.memory.buffer);T.set(s(b),w),d(A,y,v,m,w,_);var k=new Uint8Array(y*v);return k.set(T.subarray(A,A+y*v)),E(A-E(0)),k}return{ready:i,supported:!0,reorderMesh:function(d,b,y){var v=b?y?n.exports.meshopt_optimizeVertexCacheStrip:n.exports.meshopt_optimizeVertexCache:void 0;return o(n.exports.meshopt_optimizeVertexFetchRemap,d,u(d)+1,v)},reorderPoints:function(d,b){return a(d instanceof Float32Array),a(d.length%b==0),a(b>=3),l(n.exports.meshopt_spatialSortRemap,d,d.length/b,b*4)},encodeVertexBuffer:function(d,b,y){a(y>0&&y<=256),a(y%4==0);var v=n.exports.meshopt_encodeVertexBufferBound(b,y);return c(n.exports.meshopt_encodeVertexBuffer,v,d,b,y)},encodeVertexBufferLevel:function(d,b,y,v,m){a(y>0&&y<=256),a(y%4==0),a(v>=0&&v<=3),a(m===void 0||m==0||m==1);var x=n.exports.meshopt_encodeVertexBufferBound(b,y);return c(n.exports.meshopt_encodeVertexBufferLevel,x,d,b,y,v,m||0)},encodeIndexBuffer:function(d,b,y){a(y==2||y==4),a(b%3==0);var v=f(d,y),m=n.exports.meshopt_encodeIndexBufferBound(b,u(v)+1);return c(n.exports.meshopt_encodeIndexBuffer,m,v,b,4)},encodeIndexSequence:function(d,b,y){a(y==2||y==4);var v=f(d,y),m=n.exports.meshopt_encodeIndexSequenceBound(b,u(v)+1);return c(n.exports.meshopt_encodeIndexSequence,m,v,b,4)},encodeGltfBuffer:function(d,b,y,v){var m={ATTRIBUTES:this.encodeVertexBuffer,TRIANGLES:this.encodeIndexBuffer,INDICES:this.encodeIndexSequence};return a(m[v]),m[v](d,b,y)},encodeFilterOct:function(d,b,y,v){return a(y==4||y==8),a(v>=1&&v<=16),h(n.exports.meshopt_encodeFilterOct,d,b,y,v,16)},encodeFilterQuat:function(d,b,y,v){return a(y==8),a(v>=4&&v<=16),h(n.exports.meshopt_encodeFilterQuat,d,b,y,v,16)},encodeFilterExp:function(d,b,y,v,m){a(y>0&&y%4==0),a(v>=1&&v<=24);var x={Separate:0,SharedVector:1,SharedComponent:2,Clamped:3};return h(n.exports.meshopt_encodeFilterExp,d,b,y,v,y,m?x[m]:1)},encodeFilterColor:function(d,b,y,v){return a(y==4||y==8),a(v>=2&&v<=16),h(n.exports.meshopt_encodeFilterColor,d,b,y,v,16)}}})();(function(){var t="b9H79Tebbbe8Fv9Gbb9Gvuuuuueu9Giuuub9Geueu9Giuuueuixkbeeeddddillviebeoweuec:W:Odkr;Neqo9TW9T9VV95dbH9F9F939H79T9F9J9H229F9Jt9VV7bb8A9TW79O9V9Wt9F9KW9J9V9KW9wWVtW949c919M9MWVbeY9TW79O9V9Wt9F9KW9J9V9KW69U9KW949c919M9MWVbdE9TW79O9V9Wt9F9KW9J9V9KW69U9KW949tWG91W9U9JWbiL9TW79O9V9Wt9F9KW9J9V9KWS9P2tWV9p9JtblK9TW79O9V9Wt9F9KW9J9V9KWS9P2tWV9r919HtbvL9TW79O9V9Wt9F9KW9J9V9KWS9P2tWVT949WboY9TW79O9V9Wt9F9KW9J9V9KWS9P2tWVJ9V29VVbrl79IV9Rbwq;BZkdbk;jYi5ud9:du8Jjjjjbcj;kb9Rgv8Kjjjjbc9:hodnalTmbcuhoaiRbbgrc;WeGc:Ge9hmbarcsGgwce0mbc9:hoalcufadcd4cbawEgDadfgrcKcaawEgqaraq0Egk6mbaicefhxcj;abad9Uc;WFbGcjdadca0EhmaialfgPar9Rgoadfhsavaoadz:jjjjbgzceVhHcbhOdndninaeaO9nmeaPax9RaD6mdamaeaO9RaOamfgoae6EgAcsfglc9WGhCabaOad2fhXaAcethQaxaDfhiaOaeaoaeao6E9RhLalcl4cifcd4hKazcj;cbfaAfhYcbh8AazcjdfhEaHh3incbhodnawTmbaxa8Acd4fRbbhokaocFeGh5cbh8Eazcj;cbfhqinaih8Fdndndndna5a8Ecet4ciGgoc9:fPdebdkaPa8F9RaA6mrazcj;cbfa8EaA2fa8FaAz:jjjjb8Aa8FaAfhixdkazcj;cbfa8EaA2fcbaAz:kjjjb8Aa8FhixekaPa8F9RaK6mva8FaKfhidnaCTmbaPai9RcK6mbaocdtc:q1jjbfcj1jjbawEhaczhrcbhlinargoc9Wfghaqfhrdndndndndndnaaa8Fahco4fRbbalcoG4ciGcdtfydbPDbedvivvvlvkar9cb83bbarcwf9cb83bbxlkarcbaiRbdai8Xbb9c:c:qj:bw9:9c:q;c1:I1e:d9c:b:c:e1z9:gg9cjjjjjz:dg8J9qE86bbaqaofgrcGfag9c8F1:NghcKtc8F91aicdfa8J9c8N1:Nfg8KRbbG86bbarcVfcba8KahcjeGcr4fghRbbag9cjjjjjl:dg8J9qE86bbarc7fcbaha8J9c8L1:NfghRbbag9cjjjjjd:dg8J9qE86bbarctfcbaha8J9c8K1:NfghRbbag9cjjjjje:dg8J9qE86bbarc91fcbaha8J9c8J1:NfghRbbag9cjjjj;ab:dg8J9qE86bbarc4fcbaha8J9cg1:NfghRbbag9cjjjja:dg8J9qE86bbarc93fcbaha8J9ch1:NfghRbbag9cjjjjz:dgg9qE86bbarc94fcbahag9ca1:NfghRbbai8Xbe9c:c:qj:bw9:9c:q;c1:I1e:d9c:b:c:e1z9:gg9cjjjjjz:dg8J9qE86bbarc95fag9c8F1:NgicKtc8F91aha8J9c8N1:NfghRbbG86bbarc96fcbahaicjeGcr4fgiRbbag9cjjjjjl:dg8J9qE86bbarc97fcbaia8J9c8L1:NfgiRbbag9cjjjjjd:dg8J9qE86bbarc98fcbaia8J9c8K1:NfgiRbbag9cjjjjje:dg8J9qE86bbarc99fcbaia8J9c8J1:NfgiRbbag9cjjjj;ab:dg8J9qE86bbarc9:fcbaia8J9cg1:NfgiRbbag9cjjjja:dg8J9qE86bbarcufcbaia8J9ch1:NfgiRbbag9cjjjjz:dgg9qE86bbaiag9ca1:NfhixikaraiRblaiRbbghco4g8Ka8KciSg8KE86bbaqaofgrcGfaiclfa8Kfg8KRbbahcl4ciGg8La8LciSg8LE86bbarcVfa8Ka8Lfg8KRbbahcd4ciGg8La8LciSg8LE86bbarc7fa8Ka8Lfg8KRbbahciGghahciSghE86bbarctfa8Kahfg8KRbbaiRbeghco4g8La8LciSg8LE86bbarc91fa8Ka8Lfg8KRbbahcl4ciGg8La8LciSg8LE86bbarc4fa8Ka8Lfg8KRbbahcd4ciGg8La8LciSg8LE86bbarc93fa8Ka8Lfg8KRbbahciGghahciSghE86bbarc94fa8Kahfg8KRbbaiRbdghco4g8La8LciSg8LE86bbarc95fa8Ka8Lfg8KRbbahcl4ciGg8La8LciSg8LE86bbarc96fa8Ka8Lfg8KRbbahcd4ciGg8La8LciSg8LE86bbarc97fa8Ka8Lfg8KRbbahciGghahciSghE86bbarc98fa8KahfghRbbaiRbigico4g8Ka8KciSg8KE86bbarc99faha8KfghRbbaicl4ciGg8Ka8KciSg8KE86bbarc9:faha8KfghRbbaicd4ciGg8Ka8KciSg8KE86bbarcufaha8KfgrRbbaiciGgiaiciSgiE86bbaraifhixdkaraiRbwaiRbbghcl4g8Ka8KcsSg8KE86bbaqaofgrcGfaicwfa8Kfg8KRbbahcsGghahcsSghE86bbarcVfa8KahfghRbbaiRbeg8Kcl4g8La8LcsSg8LE86bbarc7faha8LfghRbba8KcsGg8Ka8KcsSg8KE86bbarctfaha8KfghRbbaiRbdg8Kcl4g8La8LcsSg8LE86bbarc91faha8LfghRbba8KcsGg8Ka8KcsSg8KE86bbarc4faha8KfghRbbaiRbig8Kcl4g8La8LcsSg8LE86bbarc93faha8LfghRbba8KcsGg8Ka8KcsSg8KE86bbarc94faha8KfghRbbaiRblg8Kcl4g8La8LcsSg8LE86bbarc95faha8LfghRbba8KcsGg8Ka8KcsSg8KE86bbarc96faha8KfghRbbaiRbvg8Kcl4g8La8LcsSg8LE86bbarc97faha8LfghRbba8KcsGg8Ka8KcsSg8KE86bbarc98faha8KfghRbbaiRbog8Kcl4g8La8LcsSg8LE86bbarc99faha8LfghRbba8KcsGg8Ka8KcsSg8KE86bbarc9:faha8KfghRbbaiRbrgicl4g8Ka8KcsSg8KE86bbarcufaha8KfgrRbbaicsGgiaicsSgiE86bbaraifhixekarai8Pbb83bbarcwfaicwf8Pbb83bbaiczfhikdnaoaC9pmbalcdfhlaoczfhraPai9RcL0mekkaoaC6moaimexokaCmva8FTmvkaqaAfhqa8Ecefg8Ecl9hmbkdndndndnawTmbasa8Acd4fRbbgociGPlbedrbkaATmdaza8Afh8Fazcj;cbfhhcbh8EaEhaina8FRbbhraahocbhlinaoahalfRbbgqce4cbaqceG9R7arfgr86bbaoadfhoaAalcefgl9hmbkaacefhaa8Fcefh8FahaAfhha8Ecefg8Ecl9hmbxikkaATmeaza8Afhaazcj;cbfhhcbhoceh8EaYh8FinaEaofhlaa8Vbbhrcbhoinala8FaofRbbcwtahaofRbbgqVc;:FiGce4cbaqceG9R7arfgr87bbaladfhlaLaocefgofmbka8FaQfh8FcdhoaacdfhaahaQfhha8EceGhlcbh8EalmbxdkkaATmbcbaocl49Rh8Eaza8AfRbbhqcwhoa3hlinalRbbaotaqVhqalcefhlaocwfgoca9hmbkcbhhaEh8FaYhainazcj;cbfahfRbbhrcwhoaahlinalRbbaotarVhralaAfhlaocwfgoca9hmbkara8E93aq7hqcbhoa8Fhlinalaqao486bbalcefhlaocwfgoca9hmbka8Fadfh8FaacefhaahcefghaA9hmbkkaEclfhEa3clfh3a8Aclfg8Aad6mbkaXazcjdfaAad2z:jjjjb8AazazcjdfaAcufad2fadz:jjjjb8AaAaOfhOaihxaimbkc9:hoxdkcbc99aPax9RakSEhoxekc9:hokavcj;kbf8Kjjjjbaok:XseHu8Jjjjjbc;ae9Rgv8Kjjjjbc9:hodnaeci9UgrcHfal0mbcuhoaiRbbgwc;WeGc;Ge9hmbawcsGgDce0mbavc;abfcFecjez:kjjjb8AavcUf9cu83ibavc8Wf9cu83ibavcyf9cu83ibavcaf9cu83ibavcKf9cu83ibavczf9cu83ibav9cu83iwav9cu83ibaialfc9WfhqaicefgwarfhldnaeTmbcmcsaDceSEhkcbhxcbhmcbhrcbhicbhoindnalaq9nmbc9:hoxikdndnawRbbgDc;Ve0mbavc;abfaoaDcu7gPcl4fcsGcitfgsydlhzasydbhHdndnaDcsGgsak9pmbavaiaPfcsGcdtfydbaxasEhDaxasTgOfhxxekdndnascsSmbcehOasc987asamffcefhDxekalcefhDal8SbbgscFeGhPdndnascu9mmbaDhlxekalcvfhlaPcFbGhPcrhsdninaD8SbbgOcFbGastaPVhPaOcu9kmeaDcefhDascrfgsc8J9hmbxdkkaDcefhlkcehOaPce4cbaPceG9R7amfhDkaDhmkavc;abfaocitfgsaDBdbasazBdlavaicdtfaDBdbavc;abfaocefcsGcitfgsaHBdbasaDBdlaocdfhoaOaifhidnadcd9hmbabarcetfgsaH87ebasclfaD87ebascdfaz87ebxdkabarcdtfgsaHBdbascwfaDBdbasclfazBdbxekdnaDcpe0mbaxcefgOavaiaqaDcsGfRbbgscl49RcsGcdtfydbascz6gPEhDavaias9RcsGcdtfydbaOaPfgzascsGgOEhsaOThOdndnadcd9hmbabarcetfgHax87ebaHclfas87ebaHcdfaD87ebxekabarcdtfgHaxBdbaHcwfasBdbaHclfaDBdbkavaicdtfaxBdbavc;abfaocitfgHaDBdbaHaxBdlavaicefgicsGcdtfaDBdbavc;abfaocefcsGcitfgHasBdbaHaDBdlavaiaPfgicsGcdtfasBdbavc;abfaocdfcsGcitfgDaxBdbaDasBdlaocifhoaiaOfhiazaOfhxxekaxcbalRbbgHEgAaDc;:eSgDfhzaHcsGhCaHcl4hXdndnaHcs0mbazcefhOxekazhOavaiaX9RcsGcdtfydbhzkdndnaCmbaOcefhxxekaOhxavaiaH9RcsGcdtfydbhOkdndnaDTmbalcefhDxekalcdfhDal8SbegPcFeGhsdnaPcu9kmbalcofhAascFbGhscrhldninaD8SbbgPcFbGaltasVhsaPcu9kmeaDcefhDalcrfglc8J9hmbkaAhDxekaDcefhDkasce4cbasceG9R7amfgmhAkdndnaXcsSmbaDhsxekaDcefhsaD8SbbglcFeGhPdnalcu9kmbaDcvfhzaPcFbGhPcrhldninas8SbbgDcFbGaltaPVhPaDcu9kmeascefhsalcrfglc8J9hmbkazhsxekascefhskaPce4cbaPceG9R7amfgmhzkdndnaCcsSmbashlxekascefhlas8SbbgDcFeGhPdnaDcu9kmbascvfhOaPcFbGhPcrhDdninal8SbbgscFbGaDtaPVhPascu9kmealcefhlaDcrfgDc8J9hmbkaOhlxekalcefhlkaPce4cbaPceG9R7amfgmhOkdndnadcd9hmbabarcetfgDaA87ebaDclfaO87ebaDcdfaz87ebxekabarcdtfgDaABdbaDcwfaOBdbaDclfazBdbkavc;abfaocitfgDazBdbaDaABdlavaicdtfaABdbavc;abfaocefcsGcitfgDaOBdbaDazBdlavaicefgicsGcdtfazBdbavc;abfaocdfcsGcitfgDaABdbaDaOBdlavaiaHcz6aXcsSVfgicsGcdtfaOBdbaiaCTaCcsSVfhiaocifhokawcefhwaocsGhoaicsGhiarcifgrae6mbkkcbc99alaqSEhokavc;aef8Kjjjjbaok:clevu8Jjjjjbcz9Rhvdnaecvfal9nmbc9:skdnaiRbbc;:eGc;qeSmbcuskav9cb83iwaicefhoaialfc98fhrdnaeTmbdnadcdSmbcbhwindnaoar6mbc9:skaocefhlao8SbbgicFeGhddndnaicu9mmbalhoxekaocvfhoadcFbGhdcrhidninal8SbbgDcFbGaitadVhdaDcu9kmealcefhlaicrfgic8J9hmbxdkkalcefhokabawcdtfadc8Etc8F91adcd47avcwfadceGcdtVglydbfgiBdbalaiBdbawcefgwae9hmbxdkkcbhwindnaoar6mbc9:skaocefhlao8SbbgicFeGhddndnaicu9mmbalhoxekaocvfhoadcFbGhdcrhidninal8SbbgDcFbGaitadVhdaDcu9kmealcefhlaicrfgic8J9hmbxdkkalcefhokabawcetfadc8Etc8F91adcd47avcwfadceGcdtVglydbfgi87ebalaiBdbawcefgwae9hmbkkcbc99aoarSEk:Lvoeue99dud99eud99dndnadcl9hmbaeTmeindndnabcdfgd8Sbb:Yab8Sbbgi:Ygl:l:tabcefgv8Sbbgo:Ygr:l:tgwJbb;:9cawawNJbbbbawawJbbbb9GgDEgq:mgkaqaicb9iEalMgwawNakaqaocb9iEarMgqaqNMM:r:vglNJbbbZJbbb:;aDEMgr:lJbbb9p9DTmbar:Ohixekcjjjj94hikadai86bbdndnaqalNJbbbZJbbb:;aqJbbbb9GEMgq:lJbbb9p9DTmbaq:Ohdxekcjjjj94hdkavad86bbdndnawalNJbbbZJbbb:;awJbbbb9GEMgw:lJbbb9p9DTmbaw:Ohdxekcjjjj94hdkabad86bbabclfhbaecufgembxdkkaeTmbindndnabclfgd8Ueb:Yab8Uebgi:Ygl:l:tabcdfgv8Uebgo:Ygr:l:tgwJb;:FSawawNJbbbbawawJbbbb9GgDEgq:mgkaqaicb9iEalMgwawNakaqaocb9iEarMgqaqNMM:r:vglNJbbbZJbbb:;aDEMgr:lJbbb9p9DTmbar:Ohixekcjjjj94hikadai87ebdndnaqalNJbbbZJbbb:;aqJbbbb9GEMgq:lJbbb9p9DTmbaq:Ohdxekcjjjj94hdkavad87ebdndnawalNJbbbZJbbb:;awJbbbb9GEMgw:lJbbb9p9DTmbaw:Ohdxekcjjjj94hdkabad87ebabcwfhbaecufgembkkk;oiliui99iue99dnaeTmbcbhiabhlindndnJ;Zl81Zalcof8UebgvciV:Y:vgoal8Ueb:YNgrJb;:FSNJbbbZJbbb:;arJbbbb9GEMgw:lJbbb9p9DTmbaw:OhDxekcjjjj94hDkalclf8Uebhqalcdf8UebhkabaiavcefciGfcetfaD87ebdndnaoak:YNgwJb;:FSNJbbbZJbbb:;awJbbbb9GEMgx:lJbbb9p9DTmbax:OhDxekcjjjj94hDkabaiavciGfgkcd7cetfaD87ebdndnaoaq:YNgoJb;:FSNJbbbZJbbb:;aoJbbbb9GEMgx:lJbbb9p9DTmbax:OhDxekcjjjj94hDkabaiavcufciGfcetfaD87ebdndnJbbjZararN:tawawN:taoaoN:tgrJbbbbarJbbbb9GE:rJb;:FSNJbbbZMgr:lJbbb9p9DTmbar:Ohvxekcjjjj94hvkabakcetfav87ebalcwfhlaiclfhiaecufgembkkk9mbdnadcd4ae2gdTmbinababydbgecwtcw91:Yaece91cjjj98Gcjjj;8if::NUdbabclfhbadcufgdmbkkk:Tvirud99eudndnadcl9hmbaeTmeindndnabRbbgiabcefgl8Sbbgvabcdfgo8Sbbgrf9R:YJbbuJabcifgwRbbgdce4adVgDcd4aDVgDcl4aDVgD:Z:vgqNJbbbZMgk:lJbbb9p9DTmbak:Ohxxekcjjjj94hxkaoax86bbdndnaraif:YaqNJbbbZMgk:lJbbb9p9DTmbak:Ohoxekcjjjj94hokalao86bbdndnavaifar9R:YaqNJbbbZMgk:lJbbb9p9DTmbak:Ohixekcjjjj94hikabai86bbdndnaDadcetGadceGV:ZaqNJbbbZMgq:lJbbb9p9DTmbaq:Ohdxekcjjjj94hdkawad86bbabclfhbaecufgembxdkkaeTmbindndnab8Vebgiabcdfgl8Uebgvabclfgo8Uebgrf9R:YJbFu9habcofgw8Vebgdce4adVgDcd4aDVgDcl4aDVgDcw4aDVgD:Z:vgqNJbbbZMgk:lJbbb9p9DTmbak:Ohxxekcjjjj94hxkaoax87ebdndnaraif:YaqNJbbbZMgk:lJbbb9p9DTmbak:Ohoxekcjjjj94hokalao87ebdndnavaifar9R:YaqNJbbbZMgk:lJbbb9p9DTmbak:Ohixekcjjjj94hikabai87ebdndnaDadcetGadceGV:ZaqNJbbbZMgq:lJbbb9p9DTmbaq:Ohdxekcjjjj94hdkawad87ebabcwfhbaecufgembkkk9teiucbcbyd:K1jjbgeabcifc98GfgbBd:K1jjbdndnabZbcztgd9nmbcuhiabad9RcFFifcz4nbcuSmekaehikaik;teeeudndnaeabVciGTmbabhixekdndnadcz9pmbabhixekabhiinaiaeydbBdbaiaeydlBdlaiaeydwBdwaiaeydxBdxaeczfheaiczfhiadc9Wfgdcs0mbkkadcl6mbinaiaeydbBdbaeclfheaiclfhiadc98fgdci0mbkkdnadTmbinaiaeRbb86bbaicefhiaecefheadcufgdmbkkabk:3eedudndnabciGTmbabhixekaecFeGc:b:c:ew2hldndnadcz9pmbabhixekabhiinaialBdxaialBdwaialBdlaialBdbaiczfhiadc9Wfgdcs0mbkkadcl6mbinaialBdbaiclfhiadc98fgdci0mbkkdnadTmbinaiae86bbaicefhiadcufgdmbkkabkk81dbcjwk8Kbbbbdbbblbbbwbbbbbbbebbbdbbblbbbwbbbbc:Kwkl8WNbb",e="b9H79TebbbeKl9Gbb9Gvuuuuueu9Giuuub9Geueuixkbbebeeddddilve9Weeeviebeoweuec:q:6dkr;Neqo9TW9T9VV95dbH9F9F939H79T9F9J9H229F9Jt9VV7bb8A9TW79O9V9Wt9F9KW9J9V9KW9wWVtW949c919M9MWVbdY9TW79O9V9Wt9F9KW9J9V9KW69U9KW949c919M9MWVblE9TW79O9V9Wt9F9KW9J9V9KW69U9KW949tWG91W9U9JWbvL9TW79O9V9Wt9F9KW9J9V9KWS9P2tWV9p9JtboK9TW79O9V9Wt9F9KW9J9V9KWS9P2tWV9r919HtbrL9TW79O9V9Wt9F9KW9J9V9KWS9P2tWVT949WbwY9TW79O9V9Wt9F9KW9J9V9KWS9P2tWVJ9V29VVbDl79IV9Rbqq;Ctklbzik9:evu8Jjjjjbcz9Rhbcbheincbhdcbhiinabcwfadfaicjuaead4ceGglE86bbaialfhiadcefgdcw9hmbkaec:q:yjjbfai86bbaecitc:q1jjbfab8Piw83ibaecefgecjd9hmbkk:183lYud97dur978Jjjjjbcj;kb9Rgv8Kjjjjbc9:hodnalTmbcuhoaiRbbgrc;WeGc:Ge9hmbarcsGgwce0mbc9:hoalcufadcd4cbawEgDadfgrcKcaawEgqaraq0Egk6mbaicefhxavaialfgmar9Rgoad;8qbbcj;abad9Uc;WFbGcjdadca0EhPdndndnadTmbaoadfhscbhzinaeaz9nmdamax9RaD6miabazad2fhHaxaDfhOaPaeaz9RazaPfae6EgAcsfgocl4cifcd4hCavcj;cbfaoc9WGgXcetfhQavcj;cbfaXci2fhLavcj;cbfaXfhKcbhYaoc;ab6h8AincbhodnawTmbaxaYcd4fRbbhokaocFeGhEcbh3avcj;cbfh5indndndndnaEa3cet4ciGgoc9:fPdebdkamaO9RaX6mwavcj;cbfa3aX2faOaX;8qbbaOaAfhOxdkavcj;cbfa3aX2fcbaX;8kbxekamaO9RaC6moaoclVcbawEhraOaCfhocbhidna8Ambamao9Rc;Gb6mbcbhlina5alfhidndndndndndnaOalco4fRbbgqciGarfPDbedibledibkaipxbbbbbbbbbbbbbbbbpklbxlkaiaopbblaopbbbg8Eclp:mea8EpmbzeHdOiAlCvXoQrLg8Ecdp:mea8EpmbzeHdOiAlCvXoQrLpxiiiiiiiiiiiiiiiip9og8Fpxiiiiiiiiiiiiiiiip8Jg8Ep5b9cjF;8;4;W;G;ab9:9cU1:Ngacitc:q1jjbfpbibaac:q:yjjbfRbbgapsa8Ep5e9cjF;8;4;W;G;ab9:9cU1:Nghcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPa8Fa8Ep9spklbaaaoclffahc:q:yjjbfRbbfhoxikaiaopbbwaopbbbg8Eclp:mea8EpmbzeHdOiAlCvXoQrLpxssssssssssssssssp9og8Fpxssssssssssssssssp8Jg8Ep5b9cjF;8;4;W;G;ab9:9cU1:Ngacitc:q1jjbfpbibaac:q:yjjbfRbbgapsa8Ep5e9cjF;8;4;W;G;ab9:9cU1:Nghcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPa8Fa8Ep9spklbaaaocwffahc:q:yjjbfRbbfhoxdkaiaopbbbpklbaoczfhoxekaiaopbbdaoRbbgacitc:q1jjbfpbibaac:q:yjjbfRbbgapsaoRbeghcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPpklbaaaocdffahc:q:yjjbfRbbfhokdndndndndndnaqcd4ciGarfPDbedibledibkaiczfpxbbbbbbbbbbbbbbbbpklbxlkaiczfaopbblaopbbbg8Eclp:mea8EpmbzeHdOiAlCvXoQrLg8Ecdp:mea8EpmbzeHdOiAlCvXoQrLpxiiiiiiiiiiiiiiiip9og8Fpxiiiiiiiiiiiiiiiip8Jg8Ep5b9cjF;8;4;W;G;ab9:9cU1:Ngacitc:q1jjbfpbibaac:q:yjjbfRbbgapsa8Ep5e9cjF;8;4;W;G;ab9:9cU1:Nghcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPa8Fa8Ep9spklbaaaoclffahc:q:yjjbfRbbfhoxikaiczfaopbbwaopbbbg8Eclp:mea8EpmbzeHdOiAlCvXoQrLpxssssssssssssssssp9og8Fpxssssssssssssssssp8Jg8Ep5b9cjF;8;4;W;G;ab9:9cU1:Ngacitc:q1jjbfpbibaac:q:yjjbfRbbgapsa8Ep5e9cjF;8;4;W;G;ab9:9cU1:Nghcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPa8Fa8Ep9spklbaaaocwffahc:q:yjjbfRbbfhoxdkaiczfaopbbbpklbaoczfhoxekaiczfaopbbdaoRbbgacitc:q1jjbfpbibaac:q:yjjbfRbbgapsaoRbeghcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPpklbaaaocdffahc:q:yjjbfRbbfhokdndndndndndnaqcl4ciGarfPDbedibledibkaicafpxbbbbbbbbbbbbbbbbpklbxlkaicafaopbblaopbbbg8Eclp:mea8EpmbzeHdOiAlCvXoQrLg8Ecdp:mea8EpmbzeHdOiAlCvXoQrLpxiiiiiiiiiiiiiiiip9og8Fpxiiiiiiiiiiiiiiiip8Jg8Ep5b9cjF;8;4;W;G;ab9:9cU1:Ngacitc:q1jjbfpbibaac:q:yjjbfRbbgapsa8Ep5e9cjF;8;4;W;G;ab9:9cU1:Nghcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPa8Fa8Ep9spklbaaaoclffahc:q:yjjbfRbbfhoxikaicafaopbbwaopbbbg8Eclp:mea8EpmbzeHdOiAlCvXoQrLpxssssssssssssssssp9og8Fpxssssssssssssssssp8Jg8Ep5b9cjF;8;4;W;G;ab9:9cU1:Ngacitc:q1jjbfpbibaac:q:yjjbfRbbgapsa8Ep5e9cjF;8;4;W;G;ab9:9cU1:Nghcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPa8Fa8Ep9spklbaaaocwffahc:q:yjjbfRbbfhoxdkaicafaopbbbpklbaoczfhoxekaicafaopbbdaoRbbgacitc:q1jjbfpbibaac:q:yjjbfRbbgapsaoRbeghcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPpklbaaaocdffahc:q:yjjbfRbbfhokdndndndndndnaqco4arfPDbedibledibkaic8Wfpxbbbbbbbbbbbbbbbbpklbxlkaic8Wfaopbblaopbbbg8Eclp:mea8EpmbzeHdOiAlCvXoQrLg8Ecdp:mea8EpmbzeHdOiAlCvXoQrLpxiiiiiiiiiiiiiiiip9og8Fpxiiiiiiiiiiiiiiiip8Jg8Ep5b9cjF;8;4;W;G;ab9:9cU1:Ngicitc:q1jjbfpbibaic:q:yjjbfRbbgipsa8Ep5e9cjF;8;4;W;G;ab9:9cU1:Ngqcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPa8Fa8Ep9spklbaiaoclffaqc:q:yjjbfRbbfhoxikaic8Wfaopbbwaopbbbg8Eclp:mea8EpmbzeHdOiAlCvXoQrLpxssssssssssssssssp9og8Fpxssssssssssssssssp8Jg8Ep5b9cjF;8;4;W;G;ab9:9cU1:Ngicitc:q1jjbfpbibaic:q:yjjbfRbbgipsa8Ep5e9cjF;8;4;W;G;ab9:9cU1:Ngqcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPa8Fa8Ep9spklbaiaocwffaqc:q:yjjbfRbbfhoxdkaic8Wfaopbbbpklbaoczfhoxekaic8WfaopbbdaoRbbgicitc:q1jjbfpbibaic:q:yjjbfRbbgipsaoRbegqcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPpklbaiaocdffaqc:q:yjjbfRbbfhokalc;abfhialcjefaX0meaihlamao9Rc;Fb0mbkkdnaiaX9pmbaici4hlinamao9RcK6mwa5aifhqdndndndndndnaOaico4fRbbalcoG4ciGarfPDbedibledibkaqpxbbbbbbbbbbbbbbbbpkbbxlkaqaopbblaopbbbg8Eclp:mea8EpmbzeHdOiAlCvXoQrLg8Ecdp:mea8EpmbzeHdOiAlCvXoQrLpxiiiiiiiiiiiiiiiip9og8Fpxiiiiiiiiiiiiiiiip8Jg8Ep5b9cjF;8;4;W;G;ab9:9cU1:Ngacitc:q1jjbfpbibaac:q:yjjbfRbbgapsa8Ep5e9cjF;8;4;W;G;ab9:9cU1:Nghcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPa8Fa8Ep9spkbbaaaoclffahc:q:yjjbfRbbfhoxikaqaopbbwaopbbbg8Eclp:mea8EpmbzeHdOiAlCvXoQrLpxssssssssssssssssp9og8Fpxssssssssssssssssp8Jg8Ep5b9cjF;8;4;W;G;ab9:9cU1:Ngacitc:q1jjbfpbibaac:q:yjjbfRbbgapsa8Ep5e9cjF;8;4;W;G;ab9:9cU1:Nghcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPa8Fa8Ep9spkbbaaaocwffahc:q:yjjbfRbbfhoxdkaqaopbbbpkbbaoczfhoxekaqaopbbdaoRbbgacitc:q1jjbfpbibaac:q:yjjbfRbbgapsaoRbeghcitc:q1jjbfpbibp9UpmbedilvorzHOACXQLpPpkbbaaaocdffahc:q:yjjbfRbbfhokalcdfhlaiczfgiaX6mbkkaohOaoTmoka5aXfh5a3cefg3cl9hmbkdndndndnawTmbasaYcd4fRbbglciGPlbedwbkaXTmdavcjdfaYfhlavaYfpbdbhgcbhoinalavcj;cbfaofpblbg8JaKaofpblbg8KpmbzeHdOiAlCvXoQrLg8LaQaofpblbg8MaLaofpblbg8NpmbzeHdOiAlCvXoQrLgypmbezHdiOAlvCXorQLg8Ecep9Ta8Epxeeeeeeeeeeeeeeeeg8Fp9op9Hp9rg8Eagp9Uggp9Abbbaladfglaga8Ea8Epmlvorlvorlvorlvorp9Uggp9Abbbaladfglaga8Ea8EpmwDqkwDqkwDqkwDqkp9Uggp9Abbbaladfglaga8Ea8EpmxmPsxmPsxmPsxmPsp9Uggp9Abbbaladfglaga8LaypmwDKYqk8AExm35Ps8E8Fg8Ecep9Ta8Ea8Fp9op9Hp9rg8Ep9Uggp9Abbbaladfglaga8Ea8Epmlvorlvorlvorlvorp9Uggp9Abbbaladfglaga8Ea8EpmwDqkwDqkwDqkwDqkp9Uggp9Abbbaladfglaga8Ea8EpmxmPsxmPsxmPsxmPsp9Uggp9Abbbaladfglaga8Ja8KpmwKDYq8AkEx3m5P8Es8Fg8Ja8Ma8NpmwKDYq8AkEx3m5P8Es8Fg8KpmbezHdiOAlvCXorQLg8Ecep9Ta8Ea8Fp9op9Hp9rg8Ep9Uggp9Abbbaladfglaga8Ea8Epmlvorlvorlvorlvorp9Uggp9Abbbaladfglaga8Ea8EpmwDqkwDqkwDqkwDqkp9Uggp9Abbbaladfglaga8Ea8EpmxmPsxmPsxmPsxmPsp9Uggp9Abbbaladfglaga8Ja8KpmwDKYqk8AExm35Ps8E8Fg8Ecep9Ta8Ea8Fp9op9Hp9rg8Ep9Ug8Fp9Abbbaladfgla8Fa8Ea8Epmlvorlvorlvorlvorp9Ug8Fp9Abbbaladfgla8Fa8Ea8EpmwDqkwDqkwDqkwDqkp9Ug8Fp9Abbbaladfgla8Fa8Ea8EpmxmPsxmPsxmPsxmPsp9Uggp9AbbbaladfhlaoczfgoaX6mbxikkaXTmeavcjdfaYfhlavaYfpbdbhgcbhoinalavcj;cbfaofpblbg8JaKaofpblbg8KpmbzeHdOiAlCvXoQrLg8LaQaofpblbg8MaLaofpblbg8NpmbzeHdOiAlCvXoQrLgypmbezHdiOAlvCXorQLg8Ecep:nea8Epxebebebebebebebebg8Fp9op:bep9rg8Eagp:oeggp9Abbbaladfglaga8Ea8Epmlvorlvorlvorlvorp:oeggp9Abbbaladfglaga8Ea8EpmwDqkwDqkwDqkwDqkp:oeggp9Abbbaladfglaga8Ea8EpmxmPsxmPsxmPsxmPsp:oeggp9Abbbaladfglaga8LaypmwDKYqk8AExm35Ps8E8Fg8Ecep:nea8Ea8Fp9op:bep9rg8Ep:oeggp9Abbbaladfglaga8Ea8Epmlvorlvorlvorlvorp:oeggp9Abbbaladfglaga8Ea8EpmwDqkwDqkwDqkwDqkp:oeggp9Abbbaladfglaga8Ea8EpmxmPsxmPsxmPsxmPsp:oeggp9Abbbaladfglaga8Ja8KpmwKDYq8AkEx3m5P8Es8Fg8Ja8Ma8NpmwKDYq8AkEx3m5P8Es8Fg8KpmbezHdiOAlvCXorQLg8Ecep:nea8Ea8Fp9op:bep9rg8Ep:oeggp9Abbbaladfglaga8Ea8Epmlvorlvorlvorlvorp:oeggp9Abbbaladfglaga8Ea8EpmwDqkwDqkwDqkwDqkp:oeggp9Abbbaladfglaga8Ea8EpmxmPsxmPsxmPsxmPsp:oeggp9Abbbaladfglaga8Ja8KpmwDKYqk8AExm35Ps8E8Fg8Ecep:nea8Ea8Fp9op:bep9rg8Ep:oeg8Fp9Abbbaladfgla8Fa8Ea8Epmlvorlvorlvorlvorp:oeg8Fp9Abbbaladfgla8Fa8Ea8EpmwDqkwDqkwDqkwDqkp:oeg8Fp9Abbbaladfgla8Fa8Ea8EpmxmPsxmPsxmPsxmPsp:oeggp9AbbbaladfhlaoczfgoaX6mbxdkkaXTmbcbhocbalcl4gl9Rc8FGhiavcjdfaYfhravaYfpbdbh8Finaravcj;cbfaofpblbggaKaofpblbg8JpmbzeHdOiAlCvXoQrLg8KaQaofpblbg8LaLaofpblbg8MpmbzeHdOiAlCvXoQrLg8NpmbezHdiOAlvCXorQLg8Eaip:Rea8Ealp:Sep9qg8Ea8Fp9rg8Fp9Abbbaradfgra8Fa8Ea8Epmlvorlvorlvorlvorp9rg8Fp9Abbbaradfgra8Fa8Ea8EpmwDqkwDqkwDqkwDqkp9rg8Fp9Abbbaradfgra8Fa8Ea8EpmxmPsxmPsxmPsxmPsp9rg8Fp9Abbbaradfgra8Fa8Ka8NpmwDKYqk8AExm35Ps8E8Fg8Eaip:Rea8Ealp:Sep9qg8Ep9rg8Fp9Abbbaradfgra8Fa8Ea8Epmlvorlvorlvorlvorp9rg8Fp9Abbbaradfgra8Fa8Ea8EpmwDqkwDqkwDqkwDqkp9rg8Fp9Abbbaradfgra8Fa8Ea8EpmxmPsxmPsxmPsxmPsp9rg8Fp9Abbbaradfgra8Faga8JpmwKDYq8AkEx3m5P8Es8Fgga8La8MpmwKDYq8AkEx3m5P8Es8Fg8JpmbezHdiOAlvCXorQLg8Eaip:Rea8Ealp:Sep9qg8Ep9rg8Fp9Abbbaradfgra8Fa8Ea8Epmlvorlvorlvorlvorp9rg8Fp9Abbbaradfgra8Fa8Ea8EpmwDqkwDqkwDqkwDqkp9rg8Fp9Abbbaradfgra8Fa8Ea8EpmxmPsxmPsxmPsxmPsp9rg8Fp9Abbbaradfgra8Faga8JpmwDKYqk8AExm35Ps8E8Fg8Eaip:Rea8Ealp:Sep9qg8Ep9rg8Fp9Abbbaradfgra8Fa8Ea8Epmlvorlvorlvorlvorp9rg8Fp9Abbbaradfgra8Fa8Ea8EpmwDqkwDqkwDqkwDqkp9rg8Fp9Abbbaradfgra8Fa8Ea8EpmxmPsxmPsxmPsxmPsp9rg8Fp9AbbbaradfhraoczfgoaX6mbkkaYclfgYad6mbkaHavcjdfaAad2;8qbbavavcjdfaAcufad2fad;8qbbaAazfhzc9:hoaOhxaOmbxlkkaeTmbaDalfhrcbhocuhlinaralaD9RglfaD6mdaPaeao9RaoaPfae6Eaofgoae6mbkaial9Rhxkcbc99amax9RakSEhoxekc9:hokavcj;kbf8Kjjjjbaokwbz:bjjjbk:TseHu8Jjjjjbc;ae9Rgv8Kjjjjbc9:hodnaeci9UgrcHfal0mbcuhoaiRbbgwc;WeGc;Ge9hmbawcsGgDce0mbavc;abfcFecje;8kbavcUf9cu83ibavc8Wf9cu83ibavcyf9cu83ibavcaf9cu83ibavcKf9cu83ibavczf9cu83ibav9cu83iwav9cu83ibaialfc9WfhqaicefgwarfhldnaeTmbcmcsaDceSEhkcbhxcbhmcbhrcbhicbhoindnalaq9nmbc9:hoxikdndnawRbbgDc;Ve0mbavc;abfaoaDcu7gPcl4fcsGcitfgsydlhzasydbhHdndnaDcsGgsak9pmbavaiaPfcsGcdtfydbaxasEhDaxasTgOfhxxekdndnascsSmbcehOasc987asamffcefhDxekalcefhDal8SbbgscFeGhPdndnascu9mmbaDhlxekalcvfhlaPcFbGhPcrhsdninaD8SbbgOcFbGastaPVhPaOcu9kmeaDcefhDascrfgsc8J9hmbxdkkaDcefhlkcehOaPce4cbaPceG9R7amfhDkaDhmkavc;abfaocitfgsaDBdbasazBdlavaicdtfaDBdbavc;abfaocefcsGcitfgsaHBdbasaDBdlaocdfhoaOaifhidnadcd9hmbabarcetfgsaH87ebasclfaD87ebascdfaz87ebxdkabarcdtfgsaHBdbascwfaDBdbasclfazBdbxekdnaDcpe0mbaxcefgOavaiaqaDcsGfRbbgscl49RcsGcdtfydbascz6gPEhDavaias9RcsGcdtfydbaOaPfgzascsGgOEhsaOThOdndnadcd9hmbabarcetfgHax87ebaHclfas87ebaHcdfaD87ebxekabarcdtfgHaxBdbaHcwfasBdbaHclfaDBdbkavaicdtfaxBdbavc;abfaocitfgHaDBdbaHaxBdlavaicefgicsGcdtfaDBdbavc;abfaocefcsGcitfgHasBdbaHaDBdlavaiaPfgicsGcdtfasBdbavc;abfaocdfcsGcitfgDaxBdbaDasBdlaocifhoaiaOfhiazaOfhxxekaxcbalRbbgHEgAaDc;:eSgDfhzaHcsGhCaHcl4hXdndnaHcs0mbazcefhOxekazhOavaiaX9RcsGcdtfydbhzkdndnaCmbaOcefhxxekaOhxavaiaH9RcsGcdtfydbhOkdndnaDTmbalcefhDxekalcdfhDal8SbegPcFeGhsdnaPcu9kmbalcofhAascFbGhscrhldninaD8SbbgPcFbGaltasVhsaPcu9kmeaDcefhDalcrfglc8J9hmbkaAhDxekaDcefhDkasce4cbasceG9R7amfgmhAkdndnaXcsSmbaDhsxekaDcefhsaD8SbbglcFeGhPdnalcu9kmbaDcvfhzaPcFbGhPcrhldninas8SbbgDcFbGaltaPVhPaDcu9kmeascefhsalcrfglc8J9hmbkazhsxekascefhskaPce4cbaPceG9R7amfgmhzkdndnaCcsSmbashlxekascefhlas8SbbgDcFeGhPdnaDcu9kmbascvfhOaPcFbGhPcrhDdninal8SbbgscFbGaDtaPVhPascu9kmealcefhlaDcrfgDc8J9hmbkaOhlxekalcefhlkaPce4cbaPceG9R7amfgmhOkdndnadcd9hmbabarcetfgDaA87ebaDclfaO87ebaDcdfaz87ebxekabarcdtfgDaABdbaDcwfaOBdbaDclfazBdbkavc;abfaocitfgDazBdbaDaABdlavaicdtfaABdbavc;abfaocefcsGcitfgDaOBdbaDazBdlavaicefgicsGcdtfazBdbavc;abfaocdfcsGcitfgDaABdbaDaOBdlavaiaHcz6aXcsSVfgicsGcdtfaOBdbaiaCTaCcsSVfhiaocifhokawcefhwaocsGhoaicsGhiarcifgrae6mbkkcbc99alaqSEhokavc;aef8Kjjjjbaok:clevu8Jjjjjbcz9Rhvdnaecvfal9nmbc9:skdnaiRbbc;:eGc;qeSmbcuskav9cb83iwaicefhoaialfc98fhrdnaeTmbdnadcdSmbcbhwindnaoar6mbc9:skaocefhlao8SbbgicFeGhddndnaicu9mmbalhoxekaocvfhoadcFbGhdcrhidninal8SbbgDcFbGaitadVhdaDcu9kmealcefhlaicrfgic8J9hmbxdkkalcefhokabawcdtfadc8Etc8F91adcd47avcwfadceGcdtVglydbfgiBdbalaiBdbawcefgwae9hmbxdkkcbhwindnaoar6mbc9:skaocefhlao8SbbgicFeGhddndnaicu9mmbalhoxekaocvfhoadcFbGhdcrhidninal8SbbgDcFbGaitadVhdaDcu9kmealcefhlaicrfgic8J9hmbxdkkalcefhokabawcetfadc8Etc8F91adcd47avcwfadceGcdtVglydbfgi87ebalaiBdbawcefgwae9hmbkkcbc99aoarSEk:2Pliur97eue978Jjjjjbc8W9Rhiaec98Ghldndnadcl9hmbdnalTmbcbhvabhdinadadpbbbgocKp:RecKp:Sep;6egraocwp:RecKp:Sep;6earp;Geaoczp:RecKp:Sep;6egwp;Gep;Kep;LegDpxbbbbbbbbbbbbbbbbp:2egqarpxbbbjbbbjbbbjbbbjgkp9op9rp;Kegrpxbb;:9cbb;:9cbb;:9cbb;:9cararp;MeaDaDp;Meawaqawakp9op9rp;Kegrarp;Mep;Kep;Kep;Jep;Negwp;Mepxbbn0bbn0bbn0bbn0gqp;KepxFbbbFbbbFbbbFbbbp9oaopxbbbFbbbFbbbFbbbFp9op9qarawp;Meaqp;Kecwp:RepxbFbbbFbbbFbbbFbbp9op9qaDawp;Meaqp;Keczp:RepxbbFbbbFbbbFbbbFbp9op9qpkbbadczfhdavclfgval6mbkkalaeSmeaipxbbbbbbbbbbbbbbbbgqpklbaiabalcdtfgdaeciGglcdtgv;8qbbdnalTmbaiaipblbgocKp:RecKp:Sep;6egraocwp:RecKp:Sep;6earp;Geaoczp:RecKp:Sep;6egwp;Gep;Kep;LegDaqp:2egqarpxbbbjbbbjbbbjbbbjgkp9op9rp;Kegrpxbb;:9cbb;:9cbb;:9cbb;:9cararp;MeaDaDp;Meawaqawakp9op9rp;Kegrarp;Mep;Kep;Kep;Jep;Negwp;Mepxbbn0bbn0bbn0bbn0gqp;KepxFbbbFbbbFbbbFbbbp9oaopxbbbFbbbFbbbFbbbFp9op9qarawp;Meaqp;Kecwp:RepxbFbbbFbbbFbbbFbbp9op9qaDawp;Meaqp;Keczp:RepxbbFbbbFbbbFbbbFbp9op9qpklbkadaiav;8qbbskaipxFubbFubbFubbFubbgxpklbdnalTmbcbhvabhdinadczfgmampbbbgopxbbbbbbFFbbbbbbFFgkp9oadpbbbgDaopmbediwDqkzHOAKY8AEgwczp:Reczp:Sep;6egraipblbaDaopmlvorxmPsCXQL358E8Fp9op;6eawczp:Sep;6egwp;Gearp;Gep;Kep;Legopxbbbbbbbbbbbbbbbbp:2egqarpxbbbjbbbjbbbjbbbjgPp9op9rp;Kegrpxb;:FSb;:FSb;:FSb;:FSararp;Meaoaop;MeawaqawaPp9op9rp;Kegrarp;Mep;Kep;Kep;Jep;Negwp;Mepxbbn0bbn0bbn0bbn0gqp;KepxFFbbFFbbFFbbFFbbp9oaoawp;Meaqp;Keczp:Rep9qgoarawp;Meaqp;KepxFFbbFFbbFFbbFFbbp9ogrpmwDKYqk8AExm35Ps8E8Fp9qpkbbadaDakp9oaoarpmbezHdiOAlvCXorQLp9qpkbbadcafhdavclfgval6mbkkalaeSmbaiczfpxbbbbbbbbbbbbbbbbgopklbaiaopklbaiabalcitfgdaeciGglcitgv;8qbbaiaxpkladnalTmbaiaipblzgopxbbbbbbFFbbbbbbFFgkp9oaipblbgDaopmbediwDqkzHOAKY8AEgwczp:Reczp:Sep;6egraipblaaDaopmlvorxmPsCXQL358E8Fp9op;6eawczp:Sep;6egwp;Gearp;Gep;Kep;Legopxbbbbbbbbbbbbbbbbp:2egqarpxbbbjbbbjbbbjbbbjgPp9op9rp;Kegrpxb;:FSb;:FSb;:FSb;:FSararp;Meaoaop;MeawaqawaPp9op9rp;Kegrarp;Mep;Kep;Kep;Jep;Negwp;Mepxbbn0bbn0bbn0bbn0gqp;KepxFFbbFFbbFFbbFFbbp9oaoawp;Meaqp;Keczp:Rep9qgoarawp;Meaqp;KepxFFbbFFbbFFbbFFbbp9ogrpmwDKYqk8AExm35Ps8E8Fp9qpklzaiaDakp9oaoarpmbezHdiOAlvCXorQLp9qpklbkadaiav;8qbbkk;Iwllue97euo978Jjjjjbca9Rhidnaec98GglTmbcbhvabhoinaocKfpxbbjZbbjZbbjZbbjZpx;Zl81Z;Zl81Z;Zl81Z;Zl81ZaopbbbgraoczfgwpbbbgDpmlvorxmPsCXQL358E8Fgqczp:Segkpxibbbibbbibbbibbbp9qp;6ep;NegxaraDpmbediwDqkzHOAKY8AEgrczp:Reczp:Sep;6ep;MegDaDp;Meaxarczp:Sep;6ep;Megmamp;Meaxaqczp:Reczp:Sep;6ep;Megqaqp;Mep;Kep;Kep;Lepxbbbbbbbbbbbbbbbbp:4ep;Jepxb;:FSb;:FSb;:FSb;:FSgxp;Mepxbbn0bbn0bbn0bbn0grp;KepxFFbbFFbbFFbbFFbbgPp9oamaxp;Mearp;Keczp:Rep9qgmaDaxp;Mearp;KeaPp9oaqaxp;Mearp;Keczp:Rep9qgrpmwDKYqk8AExm35Ps8E8FgDp5eakclp:RegxpEi:T:j83ibawaDp5baxpEd:T:j83ibaocwfamarpmbezHdiOAlvCXorQLgrp5eaxpEe:T:j83ibaoarp5baxpEb:T:j83ibaocafhoavclfgval6mbkkdnalaeSmbaiczfpxbbbbbbbbbbbbbbbbgxpklbaiaxpklbaiabalcitfgoaeciGgvcitgw;8qbbdnavTmbaipxbbjZbbjZbbjZbbjZpx;Zl81Z;Zl81Z;Zl81Z;Zl81ZaipblbgraipblzgDpmlvorxmPsCXQL358E8Fgqczp:Segkpxibbbibbbibbbibbbp9qp;6ep;NegxaraDpmbediwDqkzHOAKY8AEgrczp:Reczp:Sep;6ep;MegDaDp;Meaxarczp:Sep;6ep;Megmamp;Meaxaqczp:Reczp:Sep;6ep;Megqaqp;Mep;Kep;Kep;Lepxbbbbbbbbbbbbbbbbp:4ep;Jepxb;:FSb;:FSb;:FSb;:FSgxp;Mepxbbn0bbn0bbn0bbn0grp;KepxFFbbFFbbFFbbFFbbgPp9oamaxp;Mearp;Keczp:Rep9qgmaDaxp;Mearp;KeaPp9oaqaxp;Mearp;Keczp:Rep9qgrpmwDKYqk8AExm35Ps8E8FgDp5eakclp:RegxpEi:T:j83iKaiaDp5baxpEd:T:j83izaiamarpmbezHdiOAlvCXorQLgrp5eaxpEe:T:j83iwaiarp5baxpEb:T:j83ibkaoaiaw;8qbbkk;uddiue978Jjjjjbc;ab9Rhidnadcd4ae2glc98GgvTmbcbheabhdinadadpbbbgocwp:Recwp:Sep;6eaocep:SepxbbjFbbjFbbjFbbjFp9opxbbjZbbjZbbjZbbjZp:Uep;Mepkbbadczfhdaeclfgeav6mbkkdnavalSmbaic8WfpxbbbbbbbbbbbbbbbbgopklbaicafaopklbaiczfaopklbaiaopklbaiabavcdtfgdalciGgecdtgv;8qbbdnaeTmbaiaipblbgocwp:Recwp:Sep;6eaocep:SepxbbjFbbjFbbjFbbjFp9opxbbjZbbjZbbjZbbjZp:Uep;Mepklbkadaiav;8qbbkk:CPvdue97euw97eu8Jjjjjbc8W9Rhiaec98Ghldndnadcl9hmbaipxbbbbbbbbbbbbbbbbgvpklbdnalTmbcbhoabhdinadpbbbhradpxbbuJbbuJbbuJbbuJaipblbarcKp:Tep9qgwcep:Seawp9qgDcdp:SeaDp9qgDclp:SeaDp9qgqp;6ep;NegDarcwp:RecKp:SegkarpxFbbbFbbbFbbbFbbbgxp9ogmp:Uep;6ep;Mepxbbn0bbn0bbn0bbn0gPp;Kecwp:RepxbFbbbFbbbFbbbFbbp9oaDamakp:Xearczp:RecKp:Segrp:Uep;6ep;MeaPp;Keaxp9op9qaDamakarp:Uep:Xep;6ep;MeaPp;Keczp:RepxbbFbbbFbbbFbbbFbp9op9qaDaqawcep:Rep9oawpxebbbebbbebbbebbbp9op9qp;6ep;MeaPp;KecKp:Rep9qpkbbadczfhdaoclfgoal6mbkkalaeSmeaiavpklaaicafabalcdtfgdaeciGglcdtgo;8qbbaiavpklbdnalTmbaipblahraipxbbuJbbuJbbuJbbuJaipblbarcKp:Tep9qgwcep:Seawp9qgDcdp:SeaDp9qgDclp:SeaDp9qgqp;6ep;NegDarcwp:RecKp:SegkarpxFbbbFbbbFbbbFbbbgxp9ogmp:Uep;6ep;Mepxbbn0bbn0bbn0bbn0gPp;Kecwp:RepxbFbbbFbbbFbbbFbbp9oaDamakp:Xearczp:RecKp:Segrp:Uep;6ep;MeaPp;Keaxp9op9qaDamakarp:Uep:Xep;6ep;MeaPp;Keczp:RepxbbFbbbFbbbFbbbFbp9op9qaDaqawcep:Rep9oawpxebbbebbbebbbebbbp9op9qp;6ep;MeaPp;KecKp:Rep9qpklakadaicafao;8qbbskaipxbbbbbbbbbbbbbbbbgvpklbdnalTmbcbhoabhdinadczfgspxbFu9hbFu9hbFu9hbFu9hadpbbbgDaspbbbgPpmlvorxmPsCXQL358E8Fgmczp:Teaipblbp9qgrcep:Searp9qgwcdp:Seawp9qgwclp:Seawp9qgwcwp:Seawp9qgqp;6ep;NegwaDaPpmbediwDqkzHOAKY8AEgDpxFFbbFFbbFFbbFFbbgPp9ogkaDczp:Segxp:Ueamczp:Reczp:Segmp:Xep;6ep;Mepxbbn0bbn0bbn0bbn0gDp;KeaPp9oawakaxamp:Uep:Xep;6ep;MeaDp;Keczp:Rep9qgxawaqarcep:Rep9oarpxebbbebbbebbbebbbp9op9qp;6ep;MeaDp;Keczp:Reawamakp:Uep;6ep;MeaDp;KeaPp9op9qgrpmwDKYqk8AExm35Ps8E8FpkbbadaxarpmbezHdiOAlvCXorQLpkbbadcafhdaoclfgoal6mbkkalaeSmbaiczfpxbbbbbbbbbbbbbbbbgrpklbaiarpklbaiabalcitfgdaeciGglcitgo;8qbbaiavpkladnalTmbaipxbFu9hbFu9hbFu9hbFu9haipblbgDaipblzgPpmlvorxmPsCXQL358E8Fgmczp:Teaipblap9qgrcep:Searp9qgwcdp:Seawp9qgwclp:Seawp9qgwcwp:Seawp9qgqp;6ep;NegwaDaPpmbediwDqkzHOAKY8AEgDpxFFbbFFbbFFbbFFbbgPp9ogkaDczp:Segxp:Ueamczp:Reczp:Segmp:Xep;6ep;Mepxbbn0bbn0bbn0bbn0gDp;KeaPp9oawakaxamp:Uep:Xep;6ep;MeaDp;Keczp:Rep9qgxawaqarcep:Rep9oarpxebbbebbbebbbebbbp9op9qp;6ep;MeaDp;Keczp:Reawamakp:Uep;6ep;MeaDp;KeaPp9op9qgrpmwDKYqk8AExm35Ps8E8FpklzaiaxarpmbezHdiOAlvCXorQLpklbkadaiao;8qbbkk9teiucbcbydj1jjbgeabcifc98GfgbBdj1jjbdndnabZbcztgd9nmbcuhiabad9RcFFifcz4nbcuSmekaehikaikkkebcjwklz:Dbb",n=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),i=new Uint8Array([32,0,65,2,1,106,34,33,3,128,11,4,13,64,6,253,10,7,15,116,127,5,8,12,40,16,19,54,20,9,27,255,113,17,42,67,24,23,146,148,18,14,22,45,70,69,56,114,101,21,25,63,75,136,108,28,118,29,73,115]);if(typeof WebAssembly!="object")return{supported:!1};var r=WebAssembly.validate(n)?o(e):o(t),a,s=WebAssembly.instantiate(r,{}).then(function(m){a=m.instance,a.exports.__wasm_call_ctors()});function o(m){for(var x=new Uint8Array(m.length),_=0;_<m.length;++_){var E=m.charCodeAt(_);x[_]=E>96?E-97:E>64?E-39:E+4}for(var A=0,_=0;_<m.length;++_)x[A++]=x[_]<60?i[x[_]]:(x[_]-60)*64+x[++_];return x.buffer.slice(0,A)}function l(m,x,_,E,A,w,T){var k=m.exports.sbrk,N=E+3&-4,D=k(N*A),P=k(w.length),B=new Uint8Array(m.exports.memory.buffer);B.set(w,P);var G=x(D,E,A,P,w.length);if(G==0&&T&&T(D,N,A),_.set(B.subarray(D,D+E*A)),k(D-k(0)),G!=0)throw new Error("Malformed buffer data: "+G)}var c={NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp",COLOR:"meshopt_decodeFilterColor"},u={ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"},f=[],h=0;function d(m){var x={object:new Worker(m),pending:0,requests:{}};return x.object.onmessage=function(_){var E=_.data;x.pending-=E.count,x.requests[E.id][E.action](E.value),delete x.requests[E.id]},x}function b(m){for(var x="self.ready = WebAssembly.instantiate(new Uint8Array(["+new Uint8Array(r)+"]), {}).then(function(result) { result.instance.exports.__wasm_call_ctors(); return result.instance; });self.onmessage = "+v.name+";"+l.toString()+v.toString(),_=new Blob([x],{type:"text/javascript"}),E=URL.createObjectURL(_),A=f.length;A<m;++A)f[A]=d(E);for(var A=m;A<f.length;++A)f[A].object.postMessage({});f.length=m,URL.revokeObjectURL(E)}function y(m,x,_,E,A){for(var w=f[0],T=1;T<f.length;++T)f[T].pending<w.pending&&(w=f[T]);return new Promise(function(k,N){var D=new Uint8Array(_),P=++h;w.pending+=m,w.requests[P]={resolve:k,reject:N},w.object.postMessage({id:P,count:m,size:x,source:D,mode:E,filter:A},[D.buffer])})}function v(m){var x=m.data;if(!x.id)return self.close();self.ready.then(function(_){try{var E=new Uint8Array(x.count*x.size);l(_,_.exports[x.mode],E,x.count,x.size,x.source,_.exports[x.filter]),self.postMessage({id:x.id,count:x.count,action:"resolve",value:E},[E.buffer])}catch(A){self.postMessage({id:x.id,count:x.count,action:"reject",value:A})}})}return{ready:s,supported:!0,useWorkers:function(m){b(m)},decodeVertexBuffer:function(m,x,_,E,A){l(a,a.exports.meshopt_decodeVertexBuffer,m,x,_,E,a.exports[c[A]])},decodeIndexBuffer:function(m,x,_,E){l(a,a.exports.meshopt_decodeIndexBuffer,m,x,_,E)},decodeIndexSequence:function(m,x,_,E){l(a,a.exports.meshopt_decodeIndexSequence,m,x,_,E)},decodeGltfBuffer:function(m,x,_,E,A,w){l(a,a.exports[u[A]],m,x,_,E,a.exports[c[w]])},decodeGltfBufferAsync:function(m,x,_,E,A){return f.length>0?y(m,x,_,u[E],c[A]):s.then(function(){var w=new Uint8Array(m*x);return l(a,a.exports[u[E]],w,m,x,_,a.exports[c[A]]),w})}}})();var uPe=function(){var t="b9H79Tebbbe:Gez9Geueu9Geub9Gbb9Gsuuuuuuuuuuuu99uueu9Gvuuuuub9Gruuuuuuub9Gouuuuuue999Gvuuuuueu9Gquuuuuuu99uueu9GPuuuuuuuuuuu99uueu9Gquuuuuuuu99ueu9Gruuuuuu99eu9Gwuuuuuu99ueu9Giuuue999Gluuuueu9GiuuueuiXCdilvorlwiDqkxmPbssbelve9Weiiviebeoweuec:G:Pdkr;7eko9TW9T9VV95dbH9F9F939H79T9F9J9H229F9Jt9VV7bbz9TW79O9V9Wt9F79P9T9W29P9M95br8E9TW79O9V9Wt9F79P9T9W29P9M959x9Pt9OcttV9P9I91tW7bw8A9TW79O9V9Wt9F79P9T9W29P9M959x9Pt9O9v9W9K9HtWbDQ9TW79O9V9Wt9F79P9T9W29P9M959t29V9W9W95bqX9TW79O9V9Wt9F79P9T9W29P9M959qV919UWbkQ9TW79O9V9Wt9F79P9T9W29P9M959q9V9P9Ut7bxX9TW79O9V9Wt9F79P9T9W29P9M959t9J9H2Wbma9TW79O9V9Wt9F9V9Wt9P9T9P96W9wWVtW94SWt9J9O9sW9T9H9WbPl79IV9RbsDwebcekdOAq:d;OeCdbk:J1eo3ue99euE99Cue9:8Jjjjjbcj;sb9Rgs8Kjjjjbcbhzasc:Cefcbc;Kbz:rjjjb8AdnabaeSmbabaeadcdtz:qjjjb8AkdnamcdGTmbalcrfci4gHcbyd1:jjjbHjjjjbbheasc:Cefasyd;8egOcdtfaeBdbasaOcefBd;8eaecbaHz:rjjjbhAcbhlcbhednadTmbcbhlabheadhHinaAaeydbgOci4fgCaCRbbgCceaOcrGgOtV86bbaCcu7aO4ceGalfhlaeclfheaHcufgHmbkcualcdtalcFFFFi0Ehekaecbyd1:jjjbHjjjjbbhzasc:Cefasyd;8egecdtfazBdbasaecefBd;8ealcd4alfhOcehHinaHgecethHaeaO6mbkcbhXcuaecdtgOaecFFFFi0Ecbyd1:jjjbHjjjjbbhHasc:Cefasyd;8egCcdtfaHBdbasaCcefBd;8eaHcFeaOz:rjjjbhQdnadTmbaecufhLcbhKindndnaQabaXcdtfgYydbgCc:v;t;h;Ev2aLGgOcdtfgAydbgHcuSmbceheinazaHcdtfydbaCSmdaOaefhHaecefheaQaHaLGgOcdtfgAydbgHcu9hmbkkazaKcdtfaCBdbaAaKBdbaKhHaKcefhKkaYaHBdbaXcefgXad9hmbkkaQcbyd:m:jjjbH:bjjjbbasasyd;8ecufBd;8ekcbh8AcualcefgecdtaecFFFFi0Ecbyd1:jjjbHjjjjbbhKasc:Cefasyd;8egecdtfaKBdbasaKBdNeasaecefBd;8ecuadcitadcFFFFe0Ecbyd1:jjjbHjjjjbbhEasc:Cefasyd;8egecdtfaEBdbasaEBd:yeasaecefBd;8eascNefabadalcbz:cjjjbcualcdtgealcFFFFi0Eg3cbyd1:jjjbHjjjjbbhCasc:Cefasyd;8egHcdtfaCBdbasaHcefBd;8ea3cbyd1:jjjbHjjjjbbhYasc:Cefasyd;8egHcdtfaYBdbasaHcefBd;8eaCaYaialavazasc:Cefz:djjjbalcbyd1:jjjbHjjjjbbh5asc:Cefasyd;8egHcdtfa5BdbasaHcefBd;8ea3cbyd1:jjjbHjjjjbbhHasc:Cefasyd;8egOcdtfaHBdbasaOcefBd;8ea3cbyd1:jjjbHjjjjbbhOasc:Cefasyd;8egAcdtfaOBdbasaAcefBd;8eaHcFeaez:rjjjbh8EaOcFeaez:rjjjbh8FdnalTmbaEcwfhaindnaKa8AgOcefg8AcdtfydbgAaKaOcdtgefydbgHSmbaAaH9RhhaEaHcitfhga8Faefh8Ja8Eaefh8KcbhQindndnagaQcitfydbgLaO9hmba8KaOBdba8JaOBdbxekdnaKaLcdtg8LfgeclfydbgHaeydbgeSmbaEaecitgAfydbaOSmeaHae9Rh8Maecu7aHfhXaaaAfhHcbheinaXaeSmeaecefheaHydbhAaHcwfhHaAaO9hmbkaea8M6meka8Fa8LfgeaOaLaeydbcuSEBdba8KaLaOa8KydbcuSEBdbkaQcefgQah9hmbkka8Aal9hmbkaChHaYhOa8FhAa8EhQcbheindndnaeaHydbgL9hmbdnaeaOydbgL9hmbaQydbhLdnaAydbgXcu9hmbaLcu9hmba5aefcb86bbxikdnaXcuSmbaLcuSmbaeaXSmbaCaXcdtfydbaCaLcdtfydb9hmba5aefcd86bbxika5aefh8KdnaeaXSmbaeaLSmba8Kce86bbxika8Kcl86bbxdkdnaeaYaLcdtgXfydb9hmbdnaAydbg8KcuSmbaea8KSmbaQydbghcuSmbaeahSmba8FaXfydbggcuSmbagaLSmba8EaXfydbgXcuSmbaXaLSmbdnaCa8KcdtfydbgLaCaXcdtfydb9hmbaLaCahcdtfydbgXSmbaXaCagcdtfydb9hmba5aefcd86bbxlka5aefcl86bbxika5aefcl86bbxdka5aefcl86bbxeka5aefa5aLfRbb86bbkaHclfhHaOclfhOaAclfhAaQclfhQalaecefge9hmbkdnamcaGTmbaEcwfh8Jcbh8Nindndna5a8NfgyRbbg8Pc9:fPibebekdndndnaCa8Ncdtfydbgea8N9hmbdnaqmbcbhgxdkdnazTmbcbhga8NheinagaqazaecdtgefydbfRbbcdGce4VhgaYaefydbgea8N9hmbxikkcbhga8NheinagaqaefRbbcdGce4VhgaYaecdtfydbgea8N9hmbxdkka5aefRbbhexeka8NheindnaKaecdtgafgeclfydbgHaeydbgeSmbaHae9Rh8AaEaecitfh8MaCaafh8Lcbh8Kina8Ma8KcitfydbgXhednindnaKaecdtgLfgeclfydbgHaeydbgeSmbdnaCaEaecitgOfydbcdtfydba8LydbgQ9hmbcehexikaHae9Rhhaecu7aHfhAa8JaOfhHcbheinaAaeSmeaecefheaHydbhOaHcwfhHaCaOcdtfydbaQ9hmbkaeah6hexdkaYaLfydbgeaX9hmbkcbhekagaece7Vhga8Kcefg8Ka8A9hmbkkaYaafydbgea8N9hmbka8PciagceGEhekayae86bbka8Ncefg8Nal9hmbkkdnaqTmbdndnazTmbazheaChHalhOindnaqaeydbfRbbceGTmba5aHydbfcl86bbkaeclfheaHclfhHaOcufgOmbxdkkaChealhHindnaqRbbceGTmba5aeydbfcl86bbkaqcefhqaeclfheaHcufgHmbkkaChealhOa5hHindna5aeydbfRbbcl9hmbaHcl86bbkaeclfheaHcefhHaOcufgOmbkkamceGTmba5healhHindnaeRbbce9hmbaecl86bbkaecefheaHcufgHmbkkcbhIcualcx2alc;v:Q;v:Qe0Ecbyd1:jjjbHjjjjbbhaasc:Cefasyd;8egecdtfaaBdbasaecefBd;8easc:qefcbBdbas9cb83i1eaaaialavazasc1efz:ejjjbh8RdndnaDmbcbh8Scbh8Lxekcbh8LawhecbhHindnaeIdbJbbbb9ETmbasa8LcdtfaHBdba8Lcefh8LkaeclfheaDaHcefgH9hmbkcua8Lal2gecdtaecFFFFi0Ecbyd1:jjjbHjjjjbbh8Sasc:Cefasyd;8egecdtfa8SBdbasaecefBd;8ealTmbdna8Lmbcbh8Lxekarcd4hXdnazTmba8Lcdth8KcbhLa8ShKinaoazaLcdtfydbaX2cdtfhQasheaKhHa8LhOinaHaQaeydbcdtgAfIdbawaAfIdbNUdbaeclfheaHclfhHaOcufgOmbkaKa8KfhKaLcefgLal9hmbxdkka8Lcdth8KcbhLa8ShKinaoaLaX2cdtfhQasheaKhHa8LhOinaHaQaeydbcdtgAfIdbawaAfIdbNUdbaeclfheaHclfhHaOcufgOmbkaKa8KfhKaLcefgLal9hmbkkcualc8S2gHalc;D;O;f8U0EgAcbyd1:jjjbHjjjjbbheasc:Cefasyd;8egOcdtfaeBdbasaOcefBd;8eaecbaHz:rjjjbhycbhqcbh8Ndna8LTmbcbhIaAcbyd1:jjjbHjjjjbbh8Nasc:Cefasyd;8egecdtfa8NBdbasaecefBd;8ea8NcbaHz:rjjjb8Acua8Lal2gecltgHaecFFFFb0Ecbyd1:jjjbHjjjjbbhqasc:Cefasyd;8egecdtfaqBdbasaecefBd;8eaqcbaHz:rjjjb8AamcjjjjdGTmbcualcltgealcFFFFb0Ecbyd1:jjjbHjjjjbbhIasc:Cefasyd;8egHcdtfaIBdbasaHcefBd;8eaIcbaez:rjjjb8AkdnadTmbcbhQabhHinaaaHclfydbgLcx2fgeIdbaaaHydbgKcx2fgOIdbgR:tg8UaaaHcwfydbgXcx2fgAIdlaOIdlg8V:tg8WNaAIdbaR:tg8XaeIdla8V:tg8YN:tg8Zh80aeIdwaOIdwg81:tgBa8XNaAIdwa81:tg83a8UN:tgUh8Xa8Ya83Na8WaBN:tg8Yh8Udna8Za8ZNa8Ya8YNaUaUNMM:rgBJbbbb9EgOTmba8ZaB:vh80aUaB:vh8Xa8YaB:vh8UkayaCaKcdtfydbgAc8S2fgea8UaB:rg8Wa8UNNg85aeIdbMUdbaea8Xa8Wa8XNg86Ng87aeIdlMUdlaea80a8Wa80Ng83Ng88aeIdwMUdwaea86a8UNg86aeIdxMUdxaea83a8UNg89aeIdzMUdzaea83a8XNg8:aeIdCMUdCaea8Ua8Wa80a81Na8UaRNa8Va8XNMM:mgZNg83Ng8UaeIdKMUdKaea8Xa83Ng8XaeId3MUd3aea80a83Ng80aeIdaMUdaaea83aZNg83aeId8KMUd8Kaea8WaeIdyMUdyayaCaLcdtfydbgLc8S2fgea85aeIdbMUdbaea87aeIdlMUdlaea88aeIdwMUdwaea86aeIdxMUdxaea89aeIdzMUdzaea8:aeIdCMUdCaea8UaeIdKMUdKaea8XaeId3MUd3aea80aeIdaMUdaaea83aeId8KMUd8Kaea8WaeIdyMUdyayaCaXcdtfydbgKc8S2fgea85aeIdbMUdbaea87aeIdlMUdlaea88aeIdwMUdwaea86aeIdxMUdxaea89aeIdzMUdzaea8:aeIdCMUdCaea8UaeIdKMUdKaea8XaeId3MUd3aea80aeIdaMUdaaea83aeId8KMUd8Kaea8WaeIdyMUdydnaITmbdnaOTmba8ZaB:vh8ZaUaB:vhUa8YaB:vh8YkaIaAcltfgeaBJbbbZNg8UaUNg8WaeIdlMUdlaea8Ua8ZNg8XaeIdwMUdwaea8Ua8YNg80aeIdbMUdbaea8UaR:ma8YNaUa8VN:ta81a8ZN:tNg8UaeIdxMUdxaIaLcltfgea8WaeIdlMUdlaea8XaeIdwMUdwaea80aeIdbMUdbaea8UaeIdxMUdxaIaKcltfgea8WaeIdlMUdlaea8XaeIdwMUdwaea80aeIdbMUdbaea8UaeIdxMUdxkaHcxfhHaQcifgQad6mbkkdnalTmbJ;n;m;m89J:v:;;w8ZamczGEh8YcbhOaChAaahHayheindnaOaAydb9hmbaecxfgQaQIdbJbbbbMUdbaeczfgQaQIdbJbbbbMUdbaecCfgQaQIdbJbbbbMUdbaea8YaecyfgQIdbg8ZNg8UaeIdbMUdbaeclfgLa8UaLIdbMUdbaecwfgLa8UaLIdbMUdbaecKfgLaLIdbaHIdbg8Xa8UN:tUdbaHcwfIdbh8Waec3fgLaLIdba8UaHclfIdbg80N:tUdbaecafgLaLIdba8Ua8WN:tUdbaec8KfgLIdbhUaQa8Za8UMUdbaLaUa8Ua8Wa8WNa8Xa8XNa80a80NMMNMUdbkaAclfhAaHcxfhHaec8SfhealaOcefgO9hmbkkdnadTmbcbhXabhKinabaXcdtfhLcbhHina5aLaHc:G1jjbfydbcdtfydbgOfRbbhedndna5aKaHfydbgAfRbbgQc99fcFeGcpe0mbaec99fcFeGc;:e6mekdnaQcufcFeGce0mba8EaAcdtfydbaO9hmekdnaecufcFeGce0mba8FaOcdtfydbaA9hmekJbbacJbbacJbbbZaecFeGceSEaQcFeGceSEh88aaaOcx2fgeIdwaaaAcx2fgQIdwgB:tg80:mh86aeIdlaQIdlg83:tg8Z:mh89aeIdbaQIdbgR:tgU:mh8:dnaaaLaHc:K1jjbfydbcdtfydbcx2fgeIdwaB:tg8Va80a80NaUaUNa8Za8ZNMMg8YNa8Va80NaeIdbaR:tg81aUNa8ZaeIdla83:tg85NMMg8Wa80N:tg8Xa8XNa81a8YNa8WaUN:tg8Ua8UNa85a8YNa8Wa8ZN:tg8Wa8WNMM:rg87Jbbbb9ETmba8Xa87:vh8Xa8Wa87:vh8Wa8Ua87:vh8Uka88a8Y:rNg8Ya8XaBNa8UaRNa83a8WNMM:mgZNg87aZNhZa8Xa87Nhna8Wa87Nhca8Ua87Nh9ca8Ya8XNg87a8WNhJa87a8UNh9ea8Ya8WNgTa8UNhSa8Xa87Nh87a8WaTNhTa8Ua8Ya8UNNh9hdnaUa85Na81a89NMg8Xa8XNa8Za8VNa85a86NMg8Ua8UNa80a81Na8Va8:NMg8Wa8WNMM:rg80Jbbbb9ETmba8Xa80:vh8Xa8Wa80:vh8Wa8Ua80:vh8UkayaCaAcdtfydbc8S2fgeaeIdba9ha8Ua88a80:rNg80a8UNNMgUMUdbaeaTa8Wa80a8WNg8VNMg81aeIdlMUdlaea87a8Xa80a8XNg8ZNMg85aeIdwMUdwaeaSa8Va8UNMg8VaeIdxMUdxaea9ea8Za8UNMg87aeIdzMUdzaeaJa8Za8WNMg8ZaeIdCMUdCaea9ca8Ua80a8XaBNa8UaRNa83a8WNMMgB:mNg80NMg8UaeIdKMUdKaeaca8Wa80NMg8WaeId3MUd3aeana8Xa80NMg8XaeIdaMUdaaeaZaBa80N:tg80aeId8KMUd8Kaea8YJbbbbMg8YaeIdyMUdyayaCaOcdtfydbc8S2fgeaUaeIdbMUdbaea81aeIdlMUdlaea85aeIdwMUdwaea8VaeIdxMUdxaea87aeIdzMUdzaea8ZaeIdCMUdCaea8UaeIdKMUdKaea8WaeId3MUd3aea8XaeIdaMUdaaea80aeId8KMUd8Kaea8YaeIdyMUdykaHclfgHcx9hmbkaKcxfhKaXcifgXad6mbka8LTmbcbhKinJbbbbh8YaaabaKcdtfgeclfydbgXcx2fgHIdwaaaeydbg8Kcx2fgOIdwg81:tg8Wa8WNaHIdbaOIdbg85:tg8Xa8XNaHIdlaOIdlg87:tg80a80NMMgRaaaecwfydbghcx2fgeIdwa81:tg8ZNa8Wa8Wa8ZNa8XaeIdba85:tgUNa80aeIdla87:tgBNMMg8UN:tJbbbbJbbjZaRa8Za8ZNaUaUNaBaBNMMg8VNa8Ua8UN:tg83:va83Jbbbb9BEg83Nh89a8Va8WNa8Za8UN:ta83Nh8:aRaBNa80a8UN:ta83NhZa8Va80NaBa8UN:ta83NhnaRaUNa8Xa8UN:ta83Nhca8Va8XNaUa8UN:ta83Nh9ca8XaBNaUa80N:tg8Ua8UNa80a8ZNaBa8WN:tg8Ua8UNa8WaUNa8Za8XN:tg8Ua8UNMM:rJbbbZNh8Ua8Sa8Ka8L2ggcdtfhHa8Saha8L2gEcdtfhOa8SaXa8L2g8JcdtfhAa81:mhJa87:mh9ea85:mhTcbhQa8LhLJbbbbhBJbbbbh83JbbbbhRJbbbbh8VJbbbbh81Jbbbbh85Jbbbbh87Jbbbbh88Jbbbbh86inascjdfaQfgecwfa8Ua8:aAIdbaHIdbg8Z:tg80Na89aOIdba8Z:tgUNMg8WNUdbaeclfa8Uana80NaZaUNMg8XNUdbaea8Ua9ca80NacaUNMg80NUdbaecxfa8UaJa8WNa9ea8XNa8ZaTa80NMMMg8ZNUdba8Ua8Wa8XNNa8VMh8Va8Ua8Wa80NNa81Mh81a8Ua8Xa80NNa85Mh85a8Ua8Za8ZNNa8YMh8Ya8Ua8Wa8ZNNaBMhBa8Ua8Xa8ZNNa83Mh83a8Ua80a8ZNNaRMhRa8Ua8Wa8WNNa87Mh87a8Ua8Xa8XNNa88Mh88a8Ua80a80NNa86Mh86aHclfhHaAclfhAaOclfhOaQczfhQaLcufgLmbka8Na8Kc8S2fgea86aeIdbMUdbaea88aeIdlMUdlaea87aeIdwMUdwaea85aeIdxMUdxaea81aeIdzMUdzaea8VaeIdCMUdCaeaRaeIdKMUdKaea83aeId3MUd3aeaBaeIdaMUdaaea8YaeId8KMUd8Kaea8UaeIdyMUdya8NaXc8S2fgea86aeIdbMUdbaea88aeIdlMUdlaea87aeIdwMUdwaea85aeIdxMUdxaea81aeIdzMUdzaea8VaeIdCMUdCaeaRaeIdKMUdKaea83aeId3MUd3aeaBaeIdaMUdaaea8YaeId8KMUd8Kaea8UaeIdyMUdya8Nahc8S2fgea86aeIdbMUdbaea88aeIdlMUdlaea87aeIdwMUdwaea85aeIdxMUdxaea81aeIdzMUdzaea8VaeIdCMUdCaeaRaeIdKMUdKaea83aeId3MUd3aeaBaeIdaMUdaaea8YaeId8KMUd8Kaea8UaeIdyMUdyaqagcltfhLcbhHa8LhAinaLaHfgeascjdfaHfgOIdbaeIdbMUdbaeclfgQaOclfIdbaQIdbMUdbaecwfgQaOcwfIdbaQIdbMUdbaecxfgeaOcxfIdbaeIdbMUdbaHczfhHaAcufgAmbkaqa8JcltfhLcbhHa8LhAinaLaHfgeascjdfaHfgOIdbaeIdbMUdbaeclfgQaOclfIdbaQIdbMUdbaecwfgQaOcwfIdbaQIdbMUdbaecxfgeaOcxfIdbaeIdbMUdbaHczfhHaAcufgAmbkaqaEcltfhLcbhHa8LhAinaLaHfgeascjdfaHfgOIdbaeIdbMUdbaeclfgQaOclfIdbaQIdbMUdbaecwfgQaOcwfIdbaQIdbMUdbaecxfgeaOcxfIdbaeIdbMUdbaHczfhHaAcufgAmbkaKcifgKad6mbkkcbhOdndnamcwGg9imbJbbbbh85cbh6cbh9kcbh0xekcbh6a3cbyd1:jjjbHjjjjbbh0asc:Cefasyd;8egecdtfa0BdbasaecefBd;8ecua0alabadaCz:fjjjbgAcltaAcjjjjiGEcbyd1:jjjbHjjjjbbh9kasc:Cefasyd;8egecdtfa9kBdbasaecefBd;8ea9kaAa0aaalz:gjjjbJFFuuh85aATmba9kheaAhHinaeIdbg8Ua85a85a8U9EEh85aeclfheaHcufgHmbkaAh6kasydNeh9mdnalTmba9mclfhea9mydbhAa5hHalhQcbhOincbaeydbgLaA9RaHRbbcpeGEaOfhOaHcefhHaeclfheaLhAaQcufgQmbkaOce4hOkcuadaO9Rcifg9ncx2a9nc;v:Q;v:Qe0Ecbyd1:jjjbHjjjjbbh8Pasc:Cefasyd;8egecdtfa8PBdbasaecefBd;8ecua9ncdta9ncFFFFi0Ecbyd1:jjjbHjjjjbbh9oasc:Cefasyd;8egecdtfa9oBdbasaecefBd;8ea3cbyd1:jjjbHjjjjbbhDasc:Cefasyd;8egecdtfaDBdbasaecefBd;8ealcbyd1:jjjbHjjjjbbh9pasc:Cefasyd;8egecdtfa9pBdbasaecefBd;8eaxaxNa8RJbbjZamclGEgnanN:vh88Jbbbbh86dnadak9nmbdna9nci6mbasyd:yeh9qa8Lclth9ra8Pcwfh9sJbbbbh87Jbbbbh86inascNefabadalaCz:cjjjbabh8Kcbh8Mcbh3inaba3cdtfhgcbheindnaCa8KaefydbgOcdtgXfydbgAaCagaec:W1jjbfydbcdtfydbgHcdtghfydbgQSmba5aHfRbbgKcv2a5aOfRbbgLfc;a1jjbfRbbg8JaLcv2aKfgEc;a1jjbfRbbg8AVcFeGTmbdnaQaA9nmbaEc;G1jjbfRbbcFeGmekdnaLcufcFeGce0mbaKTmba8EaXfydbaH9hmekdnaLTmbaKcufcFeGce0mba8FahfydbaO9hmeka8Pa8Mcx2fgAaHaOa8AcFeGgQEBdlaAaOaHaQEBdbaAaQa8JGcb9hBdwa8Mcefh8Mkaeclfgecx9hmbkdna3cifg3ad9pmba8Kcxfh8Ka8Mcifa9n9nmekka8MTmdcbhhinayaCa8Pahcx2fgKydbgQcdtgAfydbc8S2fgeIdwaaaKydlgLcx2fgHIdwg8XNaeIdzaHIdbg80NaeIdaMg8Ua8UMMa8XNaeIdlaHIdlg8ZNaeIdCa8XNaeId3Mg8Ua8UMMa8ZNaeIdba80NaeIdxa8ZNaeIdKMg8Ua8UMMa80NaeId8KMMM:lh8UJbbbbJbbjZaeIdyg8W:va8WJbbbb9BEh8WdndnaKydwg8KmbJFFuuh81xekJbbbbJbbjZayaCaLcdtfydbc8S2fgeIdygU:vaUJbbbb9BEaeIdwaaaQcx2fgHIdwgUNaeIdzaHIdbg8YNaeIdaMgBaBMMaUNaeIdlaHIdlgBNaeIdCaUNaeId3MgUaUMMaBNaeIdba8YNaeIdxaBNaeIdKMgUaUMMa8YNaeId8KMMM:lNh81ka8Wa8UNh8Vdna8LTmba8NaQc8S2fgHIdwa8XNaHIdza80NaHIdaMg8Ua8UMMa8XNaHIdla8ZNaHIdCa8XNaHId3Mg8Ua8UMMa8ZNaHIdba80NaHIdxa8ZNaHIdKMg8Ua8UMMa80NaHId8KMMMh8UaqaQa8L2ggcltfheaHIdyhUa8SaLa8L2gEcdtfgXhHa8LhOinaHIdbg8Wa8WaUNaecxfIdba8XaecwfIdbNa80aeIdbNa8ZaeclfIdbNMMMg8Wa8WM:tNa8UMh8UaHclfhHaeczfheaOcufgOmbkdndna8KmbJbbbbh8Wxeka8NaLc8S2fgOIdwaaaQcx2fgeIdwg8YNaOIdzaeIdbgBNaOIdaMg8Wa8WMMa8YNaOIdlaeIdlg83NaOIdCa8YNaOId3Mg8Wa8WMMa83NaOIdbaBNaOIdxa83NaOIdKMg8Wa8WMMaBNaOId8KMMMh8Wa8SagcdtfhHaqaEcltfheaOIdyhRa8LhOinaHIdbgUaUaRNaecxfIdba8YaecwfIdbNaBaeIdbNa83aeclfIdbNMMMgUaUM:tNa8WMh8WaHclfhHaeczfheaOcufgOmbka8W:lh8Wka8Va8U:lMh8Va81a8WMh81dndndna5aQfRbbc9:fPdbedkdna8Fa8Ea8EaAfydbaLSEaYaAfydbgXcdtfydbgAcu9hmbaYaLcdtfydbhAka8NaXc8S2fgOIdwaaaAcx2fgeIdwg8XNaOIdzaeIdbg80NaOIdaMg8Ua8UMMa8XNaOIdlaeIdlg8ZNaOIdCa8XNaOId3Mg8Ua8UMMa8ZNaOIdba80NaOIdxa8ZNaOIdKMg8Ua8UMMa80NaOId8KMMMh8Ua8SaAa8L2ggcdtfhHaqaXa8L2gEcltfheaOIdyhUa8LhOinaHIdbg8Wa8WaUNaecxfIdba8XaecwfIdbNa80aeIdbNa8ZaeclfIdbNMMMg8Wa8WM:tNa8UMh8UaHclfhHaeczfheaOcufgOmbkdndna8KmbJbbbbh8Wxeka8NaAc8S2fgOIdwaaaXcx2fgeIdwg80NaOIdzaeIdbg8ZNaOIdaMg8Wa8WMMa80NaOIdlaeIdlgUNaOIdCa80NaOId3Mg8Wa8WMMaUNaOIdba8ZNaOIdxaUNaOIdKMg8Wa8WMMa8ZNaOId8KMMMh8Wa8SaEcdtfhHaqagcltfheaOIdyh8Ya8LhOinaHIdbg8Xa8Xa8YNaecxfIdba80aecwfIdbNa8ZaeIdbNaUaeclfIdbNMMMg8Xa8XM:tNa8WMh8WaHclfhHaeczfheaOcufgOmbka8W:lh8Wka8Va8U:lMh8Va81a8WMh81xdkaYaAfydbgAaQSmbina8NaAc8S2fgHIdwa8XNaHIdza80NaHIdaMg8Ua8UMMa8XNaHIdla8ZNaHIdCa8XNaHId3Mg8Ua8UMMa8ZNaHIdba80NaHIdxa8ZNaHIdKMg8Ua8UMMa80NaHId8KMMMh8UaqaAa8L2cltfheaHIdyhUaXhHa8LhOinaHIdbg8Wa8WaUNaecxfIdba8XaecwfIdbNa80aeIdbNa8ZaeclfIdbNMMMg8Wa8WM:tNa8UMh8UaHclfhHaeczfheaOcufgOmbka8Va8U:lMh8VaYaAcdtfydbgAaQ9hmbkka5aLfRbbci9hmba8KTmbaYaLcdtfydbgAaLSmba8SagcdtfhXaaaQcx2fgeIdbh8XaeIdwh80aeIdlh8Zina8NaAc8S2fgHIdwa80NaHIdza8XNaHIdaMg8Ua8UMMa80NaHIdla8ZNaHIdCa80NaHId3Mg8Ua8UMMa8ZNaHIdba8XNaHIdxa8ZNaHIdKMg8Ua8UMMa8XNaHId8KMMMh8UaqaAa8L2cltfheaHIdyhUaXhHa8LhOinaHIdbg8Wa8WaUNaecxfIdba80aecwfIdbNa8XaeIdbNa8ZaeclfIdbNMMMg8Wa8WM:tNa8UMh8UaHclfhHaeczfheaOcufgOmbka81a8U:lMh81aYaAcdtfydbgAaL9hmbkkaKa81a8Va81a8V9DgeEUdwaKaQaLaea8Kcb9hGgeEBdlaKaLaQaeEBdbahcefgha8M9hmbkascjdfcbcj;qbz:rjjjb8Aa9shea8MhHinascjdfaeydbcA4cF8FGgOcFAaOcFA6EcdtfgOaOydbcefBdbaecxfheaHcufgHmbkcbhecbhHinascjdfaefgOydbhAaOaHBdbaAaHfhHaeclfgecj;qb9hmbkcbhea9shHinascjdfaHydbcA4cF8FGgOcFAaOcFA6EcdtfgOaOydbgOcefBdba9oaOcdtfaeBdbaHcxfhHa8Maecefge9hmbkadak9RgOci9Uh9tdnalTmbcbheaDhHinaHaeBdbaHclfhHalaecefge9hmbkkcbh9ua9pcbalz:rjjjbh3aOcO9Uh9va9tce4h9wcbh8Acbh8Jdnina8Pa9oa8Jcdtfydbcx2fgEIdwg8Ua889Emea8Aa9t9pmeJFFuuh8Wdna9wa8M9pmba8Pa9oa9wcdtfydbcx2fIdwJbb;aZNh8Wkdna8Ua8W9ETmba8Ua869ETmba8Aa9v0mdkdna3aCaEydlghcdtg9xfydbgAfg9yRbba3aCaEydbg8Kcdtg9zfydbgefg9ARbbVmba5a8KfRbbh9Bdna9maecdtfgHclfydbgOaHydbgHSmbaOaH9RhQaaaAcx2fhKaaaecx2fhXa9qaHcitfhecbhHcehgdnindnaDaeydbcdtfydbgOaASmbaDaeclfydbcdtfydbgLaASmbaOaLSmbaaaLcx2fgLIdbaaaOcx2fgOIdbg8X:tg8UaXIdlaOIdlg80:tg8YNaXIdba8X:tgBaLIdla80:tg8WN:tg8Za8UaKIdla80:tg83NaKIdba8X:tgRa8WN:tg80Na8WaXIdwaOIdwgU:tg8VNa8YaLIdwaU:tg8XN:tg8Ya8WaKIdwaU:tg81Na83a8XN:tg8WNa8XaBNa8Va8UN:tgUa8XaRNa81a8UN:tg8UNMMa8Za8ZNa8Ya8YNaUaUNMMa80a80Na8Wa8WNa8Ua8UNMMN:rJbbj8:N9FmdkaecwfheaHcefgHaQ6hgaQaH9hmbkkagceGTmba9wcefh9wxekdndndndna9Bc9:fPdebdka8KheinaDaecdtgefahBdbaYaefydbgea8K9hmbxikkdna8Fa8Ea8Ea9zfydbahSEaYa9zfydbg8Kcdtfydbgecu9hmbaYa9xfydbhekaDa9zfahBdbaehhkaDa8KcdtfahBdbka9Ace86bba9yce86bbaEIdwg8Ua86a86a8U9DEh86a9ucefh9ucecda9BceSEa8Afh8Aka8Jcefg8Ja8M9hmbkka9uTmddnalTmbcbhLcbhXindnaDaXcdtgefydbgOaXSmbaCaOcdtfydbh8KdnaXaCaefydb9hghmbaya8Kc8S2fgeayaXc8S2fgHIdbaeIdbMUdbaeaHIdlaeIdlMUdlaeaHIdwaeIdwMUdwaeaHIdxaeIdxMUdxaeaHIdzaeIdzMUdzaeaHIdCaeIdCMUdCaeaHIdKaeIdKMUdKaeaHId3aeId3MUd3aeaHIdaaeIdaMUdaaeaHId8KaeId8KMUd8KaeaHIdyaeIdyMUdyaITmbaIa8KcltfgeaIaXcltfgHIdbaeIdbMUdbaeaHIdlaeIdlMUdlaeaHIdwaeIdwMUdwaeaHIdxaeIdxMUdxka8LTmba8NaOc8S2fgea8NaXc8S2ggfgHIdbaeIdbMUdbaeaHIdlaeIdlMUdlaeaHIdwaeIdwMUdwaeaHIdxaeIdxMUdxaeaHIdzaeIdzMUdzaeaHIdCaeIdCMUdCaeaHIdKaeIdKMUdKaeaHId3aeId3MUd3aeaHIdaaeIdaMUdaaeaHId8KaeId8KMUd8KaeaHIdyaeIdyMUdya9raO2hKaqhHa8LhAinaHaKfgeaHaLfgOIdbaeIdbMUdbaeclfgQaOclfIdbaQIdbMUdbaecwfgQaOcwfIdbaQIdbMUdbaecxfgeaOcxfIdbaeIdbMUdbaHczfhHaAcufgAmbkahmbJbbbbJbbjZayagfgeIdyg8U:va8UJbbbb9BEaeIdwaaa8Kcx2fgHIdwg8UNaeIdzaHIdbg8WNaeIdaMg8Xa8XMMa8UNaeIdlaHIdlg8XNaeIdCa8UNaeId3Mg8Ua8UMMa8XNaeIdba8WNaeIdxa8XNaeIdKMg8Ua8UMMa8WNaeId8KMMM:lNg8Ua87a87a8U9DEh87kaLa9rfhLaXcefgXal9hmbkcbhHa8EheindnaeydbgOcuSmbdnaHaDaOcdtgAfydbgO9hmbcuhOa8EaAfydbgAcuSmbaDaAcdtfydbhOkaeaOBdbkaeclfhealaHcefgH9hmbkcbhHa8FheindnaeydbgOcuSmbdnaHaDaOcdtgAfydbgO9hmbcuhOa8FaAfydbgAcuSmbaDaAcdtfydbhOkaeaOBdbkaeclfhealaHcefgH9hmbkka87a86a8LEh87cbhHabhecbhOindnaCaDaeydbcdtfydbgLcdtfydbgAaCaDaeclfydbcdtfydbgKcdtfydbgQSmbaAaCaDaecwfydbcdtfydbg8KcdtfydbgXSmbaQaXSmbabaHcdtfgAaLBdbaAcwfa8KBdbaAclfaKBdbaHcifhHkaecxfheaOcifgOad6mbkdndna9imbaHhdxekdnaHak0mbaHhdxekdna85a879FmbaHhdxekJFFuuh85cbhdabhecbhOindna9ka0aeydbgAcdtfydbcdtfIdbg8Ua879ETmbaeclf8Pdbh9CabadcdtfgQaABdbaQclfa9C83dba8Ua85a85a8U9EEh85adcifhdkaecxfheaOcifgOaH6mbkkadak0mbxdkkascNefabadalaCz:cjjjbkdndnadak0mbadhOxekdna9imbadhOxekdna85a889FmbadhOxekcehLina85Jbb;aZNg8Ua88a8Ua889DEh8XJbbbbh8Udna6Tmba9khea6hHinaeIdbg8Wa8Ua8Wa8X9FEa8Ua8Wa8U9EEh8UaeclfheaHcufgHmbkkJFFuuh85cbhOabhecbhHindna9ka0aeydbgAcdtfydbcdtfIdbg8Wa8X9ETmbaeclf8Pdbh9CabaOcdtfgQaABdbaQclfa9C83dba8Wa85a85a8W9EEh85aOcifhOkaecxfheaHcifgHad6mbkdnaLaOad9hVceGmbadhOxdka8Ua86a86a8U9DEh86aOak9nmecbhLaOhda85a889FmbkkdnamcjjjjdGTmba9pcbalz:rjjjbhLdnaOTmbabheaOhHinaLaeydbgAfa5aAfRbbcl9h86bbaeclfheaHcufgHmbkkascNefabaOalaCz:cjjjbalTmbcbhQasyd:yehgindnaLaQfRbbTmbdna5aQfRbbgecl0mbceaetcQGmekdnaCaQcdtgKfydbgeaQSmbaaaQcx2fgHaaaecx2fge8Pdb83dbaHcwfaecwfydbBdbxekayaQc8S2fgeIdyg8Ua8UJL:3;rUNg8UMh88aeIdwa8UMhRaeIdla8UMh8VaeIdba8UMhUaeIdaa8UaaaQcx2fg8KIdwg89N:th81aeId3a8Ua8KIdlg8:N:th85aeIdKa8KIdbgZa8UN:th8YJbbbbhcaeIdCJbbbbMh87aeIdzJbbbbMhBaeIdxJbbbbMh83dndna8LTmbaQhAinJbbbba88a8NaAc8S2fgHIdyg8U:va8UJbbbb9BEh8UaqaAa8L2cltfheaHIdaa88Na81Mh81aHId3a88Na85Mh85aHIdKa88Na8YMh8YaHIdCa88Na87Mh87aHIdza88NaBMhBaHIdxa88Na83Mh83aHIdwa88NaRMhRaHIdla88Na8VMh8VaHIdba88NaUMhUa8LhHina81aecxfIdbg8ZaecwfIdbg8WNa8UN:th81a85a8ZaeclfIdbg8XNa8UN:th85a87a8Wa8XNa8UN:th87aUaeIdbg80a80Na8UN:thUa8Ya8Za80Na8UN:th8YaBa8Wa80Na8UN:thBa83a8Xa80Na8UN:th83aRa8Wa8WNa8UN:thRa8Va8Xa8XNa8UN:th8VaeczfheaHcufgHmbkaYaAcdtfydbgAaQ9hmbkaITmbaIaQcltfgeIdxhTaeIdwh9caeIdlhJaeIdbh8UxekJbbbbhTJbbbbh9cJbbbbhJJbbbbh8UkaBaU:vg8Xa8YNa81:ta87aBa83aU:vg8WN:tg81a8Va83a8WN:tg8Z:vg80a8Wa8YNa85:tg8VN:th85a9ca8Ua8XN:taJa8Ua8WN:tg83a80N:tg87aRaBa8XN:ta81a80N:tgB:vgR:mh81a83a8Z:vg9c:mhJdnJbbbba8Ua8UaU:vg9eN:ta83a9cN:ta87aRN:tg83:la88J:983:g81Ng8U9ETmba81a85NaJa8VNa9ea8YNaT:tMMa83:vhckaU:la8U9ETmba8Z:la8U9ETmbaB:la8U9ETmba9e:macNa8X:ma81acNa85aB:vMg85Na8W:maJacNa80:ma85Na8Va8Z:vMMg87Na8Y:maU:vMMMh88a9maKfgeclfydbgHaeydbge9RhXagaecitfhKJbbbbh8UdnaHaeSghmbJbbbbh8UaKheaXhAinaaaeclfydbcx2fgHIdwa89:tg8Wa8WNaHIdbaZ:tg8Wa8WNaHIdla8::tg8Wa8WNMMg8Waaaeydbcx2fgHIdwa89:tg8Xa8XNaHIdbaZ:tg8Xa8XNaHIdla8::tg8Xa8XNMMg8Xa8Ua8Ua8X9DEg8Ua8Ua8W9DEh8UaecwfheaAcufgAmbkka85a89:tg8Wa8WNa88aZ:tg8Wa8WNa87a8::tg8Wa8WNMMa8U:rg8Ua8UN9EmbdnahmbcbhAcehhdninaaaKclfydbcx2fgeIdbaaaKydbcx2fgHIdbg8X:tg8Ua8:aHIdlg80:tg8YNaZa8X:tgBaeIdla80:tg8WN:tg8Za8Ua87a80:tg83Na88a8X:tgRa8WN:tg80Na8Wa89aHIdwgU:tg8VNa8YaeIdwaU:tg8XN:tg8Ya8Wa85aU:tg81Na83a8XN:tg8WNa8XaBNa8Va8UN:tgUa8XaRNa81a8UN:tg8UNMMa8Za8ZNa8Ya8YNaUaUNMMa80a80Na8Wa8WNa8Ua8UNMMN:rJbbj8:N9FmeaKcwfhKaAcefgAaX6hhaXaA9hmbkkahceGmeka8Ka85Udwa8Ka87Udla8Ka88UdbkaQcefgQal9hmbkdndna8LTmba8LclthYa8Lcdth8KcbhKa8ShXindnaLaKfRbbTmba5aKfRbbclSmbJbbbbJbbjZa8NaKc8S2fIdyg8U:va8UJbbbb9BEh8UaaaCaKcdtfydbcx2fhHaqheaXhAa8LhQinaAa8UaecwfIdbaHIdwNaeIdbaHIdbNaeclfIdbaHIdlNMMaecxfIdbMNUdbaeczfheaAclfhAaQcufgQmbkkaqaYfhqaXa8KfhXaKcefgKal9hmbkarcd4hXavcd4hYasId:qeh8UasId:meh8WasId1eh8XazTmea8Lcdth8KcbhKindnaLaKfRbbTmbaiazaKcdtfydbgCaY2cdtfgeaaaKcx2fgHIdba8RNa8XMUdbaeaHIdla8RNa8WMUdlaeaHIdwa8RNa8UMUdwaoaCaX2cdtfhQashea8ShHa8LhCinaQaeydbcdtgAfaHIdbawaAfIdb:vUdbaeclfheaHclfhHaCcufgCmbkka8Sa8Kfh8SaKcefgKal9hmbxikkavcd4hCasId:qeh8UasId:meh8WasId1eh8XdnazTmbazheindna9pRbbTmbaiaeydbaC2cdtfgHaaIdba8RNa8XMUdbaHaaclfIdba8RNa8WMUdlaHaacwfIdba8RNa8UMUdwka9pcefh9paeclfheaacxfhaalcufglmbxikkaCcdtheindna9pRbbTmbaiaaIdba8RNa8XMUdbaiclfaaclfIdba8RNa8WMUdbaicwfaacwfIdba8RNa8UMUdbka9pcefh9paacxfhaaiaefhialcufglmbxdkka8Lcdth8KcbhKindnaLaKfRbbTmbaiaKaY2cdtfgeaaaKcx2fgHIdba8RNa8XMUdbaeaHIdla8RNa8WMUdlaeaHIdwa8RNa8UMUdwaoaKaX2cdtfhQashea8ShHa8LhCinaQaeydbcdtgAfaHIdbawaAfIdb:vUdbaeclfheaHclfhHaCcufgCmbkka8Sa8Kfh8SaKcefgKal9hmbkkdnamcjjjjlGTmbazmbaOTmbcbhLabheina5aeydbgAfRbbc3thKaecwfgXydbhHdndna8EaAcdtg8KfydbaeclfgYydbgCSmbcbhQa8FaCcdtfydbaA9hmekcjjjj94hQkaeaKaQVaAVBdba5aCfRbbc3thKdndna8EaCcdtfydbaHSmbcbhQa8FaHcdtfydbaC9hmekcjjjj94hQkaYaKaQVaCVBdba5aHfRbbc3thQdndna8EaHcdtfydbaASmbcbhCa8Fa8KfydbaH9hmekcjjjj94hCkaXaQaCVaHVBdbaecxfheaLcifgLaO6mbkkdnazTmbaOTmbaOheinabazabydbcdtfydbBdbabclfhbaecufgembkkdnaPTmbaPana86:rNUdbkasyd;8egecdtasc:Ceffc98fhHdninaeTmeaHydbcbyd:m:jjjbH:bjjjbbaHc98fhHaecufhexbkkascj;sbf8KjjjjbaOk;Yieouabydlhvabydbclfcbaicdtz:rjjjbhoadci9UhrdnadTmbdnalTmbaehwadhDinaoalawydbcdtfydbcdtfgqaqydbcefBdbawclfhwaDcufgDmbxdkkaehwadhDinaoawydbcdtfgqaqydbcefBdbawclfhwaDcufgDmbkkdnaiTmbcbhDaohwinawydbhqawaDBdbawclfhwaqaDfhDaicufgimbkkdnadci6mbinaecwfydbhwaeclfydbhDaeydbhidnalTmbalawcdtfydbhwalaDcdtfydbhDalaicdtfydbhikavaoaicdtfgqydbcitfaDBdbavaqydbcitfawBdlaqaqydbcefBdbavaoaDcdtfgqydbcitfawBdbavaqydbcitfaiBdlaqaqydbcefBdbavaoawcdtfgwydbcitfaiBdbavawydbcitfaDBdlawawydbcefBdbaecxfhearcufgrmbkkabydbcbBdbk:todDue99aicd4aifhrcehwinawgDcethwaDar6mbkcuaDcdtgraDcFFFFi0Ecbyd1:jjjbHjjjjbbhwaoaoyd9GgqcefBd9GaoaqcdtfawBdbawcFearz:rjjjbhkdnaiTmbalcd4hlaDcufhxcbhminamhDdnavTmbavamcdtfydbhDkcbadaDal2cdtfgDydlgwawcjjjj94SEgwcH4aw7c:F:b:DD2cbaDydbgwawcjjjj94SEgwcH4aw7c;D;O:B8J27cbaDydwgDaDcjjjj94SEgDcH4aD7c:3F;N8N27axGhwamcdthPdndndnavTmbakawcdtfgrydbgDcuSmeadavaPfydbal2cdtfgsIdbhzcehqinaqhrdnadavaDcdtfydbal2cdtfgqIdbaz9CmbaqIdlasIdl9CmbaqIdwasIdw9BmlkarcefhqakawarfaxGgwcdtfgrydbgDcu9hmbxdkkakawcdtfgrydbgDcuSmbadamal2cdtfgsIdbhzcehqinaqhrdnadaDal2cdtfgqIdbaz9CmbaqIdlasIdl9CmbaqIdwasIdw9BmikarcefhqakawarfaxGgwcdtfgrydbgDcu9hmbkkaramBdbamhDkabaPfaDBdbamcefgmai9hmbkkakcbyd:m:jjjbH:bjjjbbaoaoyd9GcufBd9GdnaeTmbaiTmbcbhDaehwinawaDBdbawclfhwaiaDcefgD9hmbkcbhDaehwindnaDabydbgrSmbawaearcdtfgrydbBdbaraDBdbkawclfhwabclfhbaiaDcefgD9hmbkkk:hrdvuv998Jjjjjbca9Rgoczfcwfcbyd11jjbBdbaocb8Pdj1jjb83izaocwfcbydN1jjbBdbaocb8Pd:m1jjb83ibdnadTmbaicd4hrdnabmbdnalTmbcbhwinaealawcdtfydbar2cdtfhDcbhiinaoczfaifgqaDaifIdbgkaqIdbgxaxak9EEUdbaoaifgqakaqIdbgxaxak9DEUdbaiclfgicx9hmbkawcefgwad9hmbxikkarcdthwcbhDincbhiinaoczfaifgqaeaifIdbgkaqIdbgxaxak9EEUdbaoaifgqakaqIdbgxaxak9DEUdbaiclfgicx9hmbkaeawfheaDcefgDad9hmbxdkkdnalTmbcbhwinabawcx2fgiaealawcdtfydbar2cdtfgDIdbUdbaiaDIdlUdlaiaDIdwUdwcbhiinaoczfaifgqaDaifIdbgkaqIdbgxaxak9EEUdbaoaifgqakaqIdbgxaxak9DEUdbaiclfgicx9hmbkawcefgwad9hmbxdkkarcdthlcbhwaehDinabawcx2fgiaeawar2cdtfgqIdbUdbaiaqIdlUdlaiaqIdwUdwcbhiinaoczfaifgqaDaifIdbgkaqIdbgxaxak9EEUdbaoaifgqakaqIdbgxaxak9DEUdbaiclfgicx9hmbkaDalfhDawcefgwad9hmbkkJbbbbaoIdbaoIdzgx:tgkakJbbbb9DEgkaoIdlaoIdCgm:tgPaPak9DEgkaoIdwaoIdKgP:tgsasak9DEhsdnabTmbadTmbJbbbbJbbjZas:vasJbbbb9BEhkinabakabIdbax:tNUdbabclfgoakaoIdbam:tNUdbabcwfgoakaoIdbaP:tNUdbabcxfhbadcufgdmbkkdnavTmbavaPUdwavamUdlavaxUdbkask:ZlewudnaeTmbcbhvabhoinaoavBdbaoclfhoaeavcefgv9hmbkkdnaiTmbcbhrinadarcdtfhwcbhDinalawaDcdtgvc:G1jjbfydbcdtfydbcdtfydbhodnabalawavfydbcdtfydbgqcdtfgkydbgvaqSmbinakabavgqcdtfgxydbgvBdbaxhkaqav9hmbkkdnabaocdtfgkydbgvaoSmbinakabavgocdtfgxydbgvBdbaxhkaoav9hmbkkdnaqaoSmbabaqaoaqao0Ecdtfaqaoaqao6EBdbkaDcefgDci9hmbkarcifgrai6mbkkdnaembcbskcbhxindnalaxcdtgvfydbax9hmbaxhodnabavfgDydbgvaxSmbaDhqinaqabavgocdtfgkydbgvBdbakhqaoav9hmbkkaDaoBdbkaxcefgxae9hmbkcbhvabhocbhkindndnavalydbgq9hmbdnavaoydbgq9hmbaoakBdbakcefhkxdkaoabaqcdtfydbBdbxekaoabaqcdtfydbBdbkaoclfhoalclfhlaeavcefgv9hmbkakk;Jiilud99duabcbaecltz:rjjjbhvdnalTmbadhoaihralhwinarcwfIdbhDarclfIdbhqavaoydbcltfgkarIdbakIdbMUdbakclfgxaqaxIdbMUdbakcwfgxaDaxIdbMUdbakcxfgkakIdbJbbjZMUdbaoclfhoarcxfhrawcufgwmbkkdnaeTmbavhraehkinarcxfgoIdbhDaocbBdbararIdbJbbbbJbbjZaD:vaDJbbbb9BEgDNUdbarclfgoaDaoIdbNUdbarcwfgoaDaoIdbNUdbarczfhrakcufgkmbkkdnalTmbinavadydbcltfgrcxfgkaicwfIdbarcwfIdb:tgDaDNaiIdbarIdb:tgDaDNaiclfIdbarclfIdb:tgDaDNMMgDakIdbgqaqaD9DEUdbadclfhdaicxfhialcufglmbkkdnaeTmbavcxfhrinabarIdbUdbarczfhrabclfhbaecufgembkkk8MbabaeadaialavcbcbcbcbcbaoarawaDz:bjjjbk8MbabaeadaialavaoarawaDaqakaxamaPz:bjjjbkRbababaeadaialavaoarawaDaqakaxcjjjjdVamz:bjjjbk:p8Koque99due99iuq998Jjjjjbc;Wb9Rgq8Kjjjjbcbhkaqcxfcbc;Kbz:rjjjb8Aaqcualcx2alc;v:Q;v:Qe0Ecbyd1:jjjbHjjjjbbgxBdxaqceBd2axaialavcbcbz:ejjjb8AaqcualcdtalcFFFFi0Egmcbyd1:jjjbHjjjjbbgiBdzaqcdBd2dndnJFF959eJbbjZawJbbjZawJbbjZ9DE:vawJ9VO:d869DEgw:lJbbb9p9DTmbaw:OhPxekcjjjj94hPkadci9Uhsarco9UhzdndnaombaPcd9imekdnalTmbaPcuf:YhwdnaoTmbcbhvaihHaxhOindndnaoavfRbbceGTmbavcjjjjlVhAxekdndnaOclfIdbawNJbbbZMgC:lJbbb9p9DTmbaC:OhAxekcjjjj94hAkaAcqthAdndnaOcwfIdbawNJbbbZMgC:lJbbb9p9DTmbaC:OhXxekcjjjj94hXkaAaXVhAdndnaOIdbawNJbbbZMgC:lJbbb9p9DTmbaC:OhXxekcjjjj94hXkaAaXcCtVhAkaHaABdbaHclfhHaOcxfhOalavcefgv9hmbxdkkaxhvaihOalhHindndnavIdbawNJbbbZMgC:lJbbb9p9DTmbaC:OhAxekcjjjj94hAkaAcCthAdndnavclfIdbawNJbbbZMgC:lJbbb9p9DTmbaC:OhXxekcjjjj94hXkaXcqtaAVhAdndnavcwfIdbawNJbbbZMgC:lJbbb9p9DTmbaC:OhXxekcjjjj94hXkaOaAaXVBdbavcxfhvaOclfhOaHcufgHmbkkadTmbcbhkaehvcbhOinakaiavclfydbcdtfydbgHaiavcwfydbcdtfydbgA9haiavydbcdtfydbgXaH9haXaA9hGGfhkavcxfhvaOcifgOad6mbkkarci9UhQdndnaz:Z:rJbbbZMgw:lJbbb9p9DTmbaw:Ohvxekcjjjj94hvkaQ:ZhLcbhKc:bwhHdndninashYaHhXaPhrakg8AaQ9pmeaXar9Rcd9imeavaXcufavaX9iEarcefavar9kEhzdnalTmbazcuf:YhwdnaoTmbcbhOaihPaxhvindndnaoaOfRbbceGTmbaOcjjjjlVhHxekdndnavclfIdbawNJbbbZMgC:lJbbb9p9DTmbaC:OhHxekcjjjj94hHkaHcqthHdndnavcwfIdbawNJbbbZMgC:lJbbb9p9DTmbaC:Ohsxekcjjjj94hskaHasVhHdndnavIdbawNJbbbZMgC:lJbbb9p9DTmbaC:Ohsxekcjjjj94hskaHascCtVhHkaPaHBdbaPclfhPavcxfhvalaOcefgO9hmbxdkkaxhvaihOalhPindndnavIdbawNJbbbZMgC:lJbbb9p9DTmbaC:OhHxekcjjjj94hHkaHcCthHdndnavclfIdbawNJbbbZMgC:lJbbb9p9DTmbaC:Ohsxekcjjjj94hskascqtaHVhHdndnavcwfIdbawNJbbbZMgC:lJbbb9p9DTmbaC:Ohsxekcjjjj94hskaOaHasVBdbavcxfhvaOclfhOaPcufgPmbkkcbhOdnadTmbaehvcbhPinaOaiavclfydbcdtfydbgHaiavcwfydbcdtfydbgs9haiavydbcdtfydbgAaH9haAas9hGGfhOavcxfhvaPcifgPad6mbkkaYhsaOhkaXhHazhPdnaOaQ9nmbaOhsa8AhkazhHarhPkdndnaKcl0mbdnaY:Zgwa8A:ZgC:taz:YgEar:Y:tg3aEaX:Y:tg5aO:Zg8EaL:tNNNawaL:ta5NaCa8E:tNaCaL:ta3Na8Eaw:tNM:vaEMJbbbZMgw:lJbbb9p9DTmbaw:Ohvxdkcjjjj94hvxekaPaHfcd9ThvkaKcefgKcs9hmbxdkka8AhkarhPkdndndnakmbJbbjZhwcbhicdhvaDmexdkalcd4alfhHcehOinaOgvcethOavaH6mbkcbhOaqcuavcdtgravcFFFFi0Ecbyd1:jjjbHjjjjbbgzBdCaqciBd2aqamcbyd1:jjjbHjjjjbbgXBdKaqclBd2dndndndnalTmbaPcuf:YhwaoTmecbhOaihHaxhPindndnaoaOfRbbceGTmbaOcjjjjlVhsxekdndnaPclfIdbawNJbbbZMgC:lJbbb9p9DTmbaC:Ohsxekcjjjj94hskascqthsdndnaPcwfIdbawNJbbbZMgC:lJbbb9p9DTmbaC:OhAxekcjjjj94hAkasaAVhsdndnaPIdbawNJbbbZMgC:lJbbb9p9DTmbaC:OhAxekcjjjj94hAkasaAcCtVhskaHasBdbaHclfhHaPcxfhPalaOcefgO9hmbxikkazcFearz:rjjjb8AcbhrcbhvxdkaxhOaihPalhHindndnaOIdbawNJbbbZMgC:lJbbb9p9DTmbaC:Ohsxekcjjjj94hskascCthsdndnaOclfIdbawNJbbbZMgC:lJbbb9p9DTmbaC:OhAxekcjjjj94hAkaAcqtasVhsdndnaOcwfIdbawNJbbbZMgC:lJbbb9p9DTmbaC:OhAxekcjjjj94hAkaPasaAVBdbaOcxfhOaPclfhPaHcufgHmbkkazcFearz:rjjjbhAavcufhocbhrcbhzindndndnaAaiazcdtgKfydbgHcm4aH7c:v;t;h;Ev2gvcs4av7aoGgPcdtfgsydbgOcuSmbcehvinaiaOcdtgOfydbaHSmdaPavfhOavcefhvaAaOaoGgPcdtfgsydbgOcu9hmbkkasazBdbarhvarcefhrxekaXaOfydbhvkaXaKfavBdbazcefgzal9hmbkcuarc8S2gOarc;D;O;f8U0EhvkcbhAaqavcbyd1:jjjbHjjjjbbgvBd3aqcvBd2avcbaOz:rjjjbhOdnadTmbaehiinJbbnnJbbjZaXaiydbgHcdtfydbgvaXaiclfydbgPcdtfydbgzSavaXaicwfydbgscdtfydbgKSGgoEh8FdnaxaPcx2fgPIdbaxaHcx2fgHIdbg8E:tgCaxascx2fgsIdlaHIdlg3:tgwNasIdba8E:tgEaPIdla3:tgaN:tgLaLNaaasIdwaHIdwg5:tghNawaPIdwa5:tgaN:tgwawNaaaENahaCN:tgCaCNMM:rgEJbbbb9ETmbaLaE:vhLaCaE:vhCawaE:vhwkaOavc8S2fgvavIdbawa8FaE:rNgEawNNgaMUdbavaCaEaCNghNggavIdlMUdlavaLaEaLNg8FNg8JavIdwMUdwavahawNghavIdxMUdxava8FawNg8KavIdzMUdzava8FaCNg8FavIdCMUdCavawaEaLa5Nawa8ENa3aCNMM:mg3Ng8ENgwavIdKMUdKavaCa8ENgCavId3MUd3avaLa8ENgLavIdaMUdaava8Ea3Ng8EavId8KMUd8KavaEavIdyMUdydnaombaOazc8S2fgvaaavIdbMUdbavagavIdlMUdlava8JavIdwMUdwavahavIdxMUdxava8KavIdzMUdzava8FavIdCMUdCavawavIdKMUdKavaCavId3MUd3avaLavIdaMUdaava8EavId8KMUd8KavaEavIdyMUdyaOaKc8S2fgvaaavIdbMUdbavagavIdlMUdlava8JavIdwMUdwavahavIdxMUdxava8KavIdzMUdzava8FavIdCMUdCavawavIdKMUdKavaCavId3MUd3avaLavIdaMUdaava8EavId8KMUd8KavaEavIdyMUdykaicxfhiaAcifgAad6mbkkcbhHaqcuarcdtgvarcFFFFi0Egicbyd1:jjjbHjjjjbbgPBdaaqcoBd2aqaicbyd1:jjjbHjjjjbbgiBd8KaqcrBd2aPcFeavz:rjjjbhzdnalTmbaXhPinJbbbbJbbjZaOaPydbgsc8S2fgvIdygw:vawJbbbb9BEavIdwaxcwfIdbgwNavIdzaxIdbgCNavIdaMgLaLMMawNavIdlaxclfIdbgLNavIdCawNavId3MgwawMMaLNavIdbaCNavIdxaLNavIdKMgwawMMaCNavId8KMMM:lNhwdndnazascdtgvfgsydbcuSmbaiavfIdbaw9ETmekasaHBdbaiavfawUdbkaPclfhPaxcxfhxalaHcefgH9hmbkkJbbbbhwdnarTmbinaiIdbgCawawaC9DEhwaiclfhiarcufgrmbkkakcd4akfhOcehiinaigvcethiavaO6mbkcbhiaqcuavcdtgOavcFFFFi0Ecbyd1:jjjbHjjjjbbgPBdyaPcFeaOz:rjjjbhsdnadTmbavcufhAcbhrcbhxindnaXaeaxcdtfgvydbcdtfydbgiaXavclfydbcdtfydbgOSmbaiaXavcwfydbcdtfydbgvSmbaOavSmbazavcdtfydbhHdndnazaOcdtfydbgvazaicdtfydbgi9pmbavaH9pmbaHhlaihoavhHxekdnaHai9pmbaHav9pmbaihlavhoxekavhlaHhoaihHkabarcx2fgvaHBdbavcwfaoBdbavclfalBdbdnasaoc:3F;N8N2alc:F:b:DD27aHc;D;O:B8J27aAGgOcdtfgvydbgicuSmbcehPinaPhvdnabaicx2fgiydbaH9hmbaiydlal9hmbaiydwaoSmikavcefhPasaOavfaAGgOcdtfgvydbgicu9hmbkkavarBdbarcefhrkaxcifgxad6mbkarci2hikdnaDmbcwhvxdkaw:rhwcwhvkaDawUdbkavcdthvdninavTmeavc98fgvaqcxffydbcbyd:m:jjjbH:bjjjbbxbkkaqc;Wbf8Kjjjjbaik:2ldwue9:8Jjjjjbc;Wb9Rgr8Kjjjjbcbhwarcxfcbc;Kbz:rjjjb8AdnabaeSmbabaeadcdtz:qjjjb8AkarcualcdtalcFFFFi0EgDcbyd1:jjjbHjjjjbbgqBdxarceBd2aqcbaialavcbarcxfz:djjjbcualcx2alc;v:Q;v:Qe0Ecbyd1:jjjbHjjjjbbhkarcxfaryd2gxcdtgmfakBdbaraxcefgPBd2akaialavcbcbz:ejjjb8AarcxfaPcdtfaDcbyd1:jjjbHjjjjbbgvBdbaraxcdfgiBd2arcxfaicdtfcuavalaeadaqz:fjjjbgecltaecjjjjiGEcbyd1:jjjbHjjjjbbgiBdbaiaeavakalz:gjjjbdnadTmbaoaoNhocbhwabhlcbhkindnaiavalydbgecdtfydbcdtfIdbao9ETmbalclf8PdbhsabawcdtfgqaeBdbaqclfas83dbawcifhwkalcxfhlakcifgkad6mbkkaxcifhlamarcxffcwfhkdninalTmeakydbcbyd:m:jjjbH:bjjjbbakc98fhkalcufhlxbkkarc;Wbf8Kjjjjbawk:FCoDud99rue99iul998Jjjjjbc;Wb9Rgw8KjjjjbdndnarmbcbhDxekawcxfcbc;Kbz:rjjjb8Aawcuadcx2adc;v:Q;v:Qe0Ecbyd1:jjjbHjjjjbbgqBdxawceBd2aqaeadaicbcbz:ejjjb8AawcuadcdtadcFFFFi0Egkcbyd1:jjjbHjjjjbbgxBdzawcdBd2adcd4adfhmceheinaegicetheaiam6mbkcbhPawcuaicdtgsaicFFFFi0Ecbyd1:jjjbHjjjjbbgzBdCawciBd2dndnar:ZgH:rJbbbZMgO:lJbbb9p9DTmbaO:Ohexekcjjjj94hekaicufhAc:bwhmcbhCadhXcbhQinaChLaeamgKcufaeaK9iEaPgDcefaeaD9kEhYdndnadTmbaYcuf:YhOaqhiaxheadhmindndnaiIdbaONJbbbZMg8A:lJbbb9p9DTmba8A:OhCxekcjjjj94hCkaCcCthCdndnaiclfIdbaONJbbbZMg8A:lJbbb9p9DTmba8A:OhExekcjjjj94hEkaEcqtaCVhCdndnaicwfIdbaONJbbbZMg8A:lJbbb9p9DTmba8A:OhExekcjjjj94hEkaeaCaEVBdbaicxfhiaeclfheamcufgmmbkazcFeasz:rjjjbh3cbh5cbhPindna3axaPcdtfydbgCcm4aC7c:v;t;h;Ev2gics4ai7aAGgmcdtfgEydbgecuSmbaeaCSmbcehiina3amaifaAGgmcdtfgEydbgecuSmeaicefhiaeaC9hmbkkaEaCBdba5aecuSfh5aPcefgPad9hmbxdkkazcFeasz:rjjjb8Acbh5kaDaYa5ar0giEhPaLa5aiEhCdna5arSmbaYaKaiEgmaP9Rcd9imbdndnaQcl0mbdnaX:ZgOaL:Zg8A:taY:Yg8EaD:Y:tg8Fa8EaK:Y:tgaa5:ZghaH:tNNNaOaH:taaNa8Aah:tNa8AaH:ta8FNahaO:tNM:va8EMJbbbZMgO:lJbbb9p9DTmbaO:Ohexdkcjjjj94hexekaPamfcd9Theka5aXaiEhXaQcefgQcs9hmekkdndnaCmbcihicbhDxekcbhiawakcbyd1:jjjbHjjjjbbg5BdKawclBd2aPcuf:Yh8AdndnadTmbaqhiaxheadhmindndnaiIdba8ANJbbbZMgO:lJbbb9p9DTmbaO:OhCxekcjjjj94hCkaCcCthCdndnaiclfIdba8ANJbbbZMgO:lJbbb9p9DTmbaO:OhExekcjjjj94hEkaEcqtaCVhCdndnaicwfIdba8ANJbbbZMgO:lJbbb9p9DTmbaO:OhExekcjjjj94hEkaeaCaEVBdbaicxfhiaeclfheamcufgmmbkazcFeasz:rjjjbh3cbhDcbhYindndndna3axaYcdtgKfydbgCcm4aC7c:v;t;h;Ev2gics4ai7aAGgmcdtfgEydbgecuSmbcehiinaxaecdtgefydbaCSmdamaifheaicefhia3aeaAGgmcdtfgEydbgecu9hmbkkaEaYBdbaDhiaDcefhDxeka5aefydbhika5aKfaiBdbaYcefgYad9hmbkcuaDc32giaDc;j:KM;jb0EhexekazcFeasz:rjjjb8AcbhDcbhekawaecbyd1:jjjbHjjjjbbgeBd3awcvBd2aecbaiz:rjjjbhEavcd4hKdnadTmbdnalTmbaKcdth3a5hCaqhealhmadhAinaEaCydbc32fgiaeIdbaiIdbMUdbaiaeclfIdbaiIdlMUdlaiaecwfIdbaiIdwMUdwaiamIdbaiIdxMUdxaiamclfIdbaiIdzMUdzaiamcwfIdbaiIdCMUdCaiaiIdKJbbjZMUdKaCclfhCaecxfheama3fhmaAcufgAmbxdkka5hmaqheadhCinaEamydbc32fgiaeIdbaiIdbMUdbaiaeclfIdbaiIdlMUdlaiaecwfIdbaiIdwMUdwaiaiIdxJbbbbMUdxaiaiIdzJbbbbMUdzaiaiIdCJbbbbMUdCaiaiIdKJbbjZMUdKamclfhmaecxfheaCcufgCmbkkdnaDTmbaEhiaDheinaiaiIdbJbbbbJbbjZaicKfIdbgO:vaOJbbbb9BEgONUdbaiclfgmaOamIdbNUdbaicwfgmaOamIdbNUdbaicxfgmaOamIdbNUdbaiczfgmaOamIdbNUdbaicCfgmaOamIdbNUdbaic3fhiaecufgembkkcbhCawcuaDcdtgYaDcFFFFi0Egicbyd1:jjjbHjjjjbbgeBdaawcoBd2awaicbyd1:jjjbHjjjjbbg3Bd8KaecFeaYz:rjjjbhxdnadTmbJbbjZJbbjZa8A:vaPceSEaoNgOaONh8AaKcdthPalheina8Aaec;81jjbalEgmIdwaEa5ydbgAc32fgiIdC:tgOaONamIdbaiIdx:tgOaONamIdlaiIdz:tgOaONMMNaqcwfIdbaiIdw:tgOaONaqIdbaiIdb:tgOaONaqclfIdbaiIdl:tgOaONMMMhOdndnaxaAcdtgifgmydbcuSmba3aifIdbaO9ETmekamaCBdba3aifaOUdbka5clfh5aqcxfhqaeaPfheadaCcefgC9hmbkkabaxaYz:qjjjb8AcrhikaicdthiinaiTmeaic98fgiawcxffydbcbyd:m:jjjbH:bjjjbbxbkkawc;Wbf8KjjjjbaDk:Ydidui99ducbhi8Jjjjjbca9Rglczfcwfcbyd11jjbBdbalcb8Pdj1jjb83izalcwfcbydN1jjbBdbalcb8Pd:m1jjb83ibdndnaembJbbjFhvJbbjFhoJbbjFhrxekadcd4cdthwincbhdinalczfadfgDabadfIdbgvaDIdbgoaoav9EEUdbaladfgDavaDIdbgoaoav9DEUdbadclfgdcx9hmbkabawfhbaicefgiae9hmbkalIdwalIdK:thralIdlalIdC:thoalIdbalIdz:thvkJbbbbavavJbbbb9DEgvaoaoav9DEgvararav9DEk9DeeuabcFeaicdtz:rjjjbhlcbhbdnadTmbindnalaeydbcdtfgiydbcu9hmbaiabBdbabcefhbkaeclfheadcufgdmbkkabk9teiucbcbyd:q:jjjbgeabcifc98GfgbBd:q:jjjbdndnabZbcztgd9nmbcuhiabad9RcFFifcz4nbcuSmekaehikaik;teeeudndnaeabVciGTmbabhixekdndnadcz9pmbabhixekabhiinaiaeydbBdbaiaeydlBdlaiaeydwBdwaiaeydxBdxaeczfheaiczfhiadc9Wfgdcs0mbkkadcl6mbinaiaeydbBdbaeclfheaiclfhiadc98fgdci0mbkkdnadTmbinaiaeRbb86bbaicefhiaecefheadcufgdmbkkabk:3eedudndnabciGTmbabhixekaecFeGc:b:c:ew2hldndnadcz9pmbabhixekabhiinaialBdxaialBdwaialBdlaialBdbaiczfhiadc9Wfgdcs0mbkkadcl6mbinaialBdbaiclfhiadc98fgdci0mbkkdnadTmbinaiae86bbaicefhiadcufgdmbkkabk9teiucbcbyd:q:jjjbgeabcrfc94GfgbBd:q:jjjbdndnabZbcztgd9nmbcuhiabad9RcFFifcz4nbcuSmekaehikaik9:eiuZbhedndncbyd:q:jjjbgdaecztgi9nmbcuheadai9RcFFifcz4nbcuSmekadhekcbabae9Rcifc98Gcbyd:q:jjjbfgdBd:q:jjjbdnadZbcztge9nmbadae9RcFFifcz4nb8Akkk:Iedbcjwk1eFFuuFFuuFFuuFFuFFFuFFFuFbbbbbbbbebbbdbbbbbbbebbbebbbdbbbbbbbbbbbeeeeebebbebbebebbbeebbbbbbbbbbbbeeeeeebebbeeebeebbbbebebbbbbbbbbbbbbbbbbbc1Dkxebbbdbbb:GNbb",e=new Uint8Array([32,0,65,2,1,106,34,33,3,128,11,4,13,64,6,253,10,7,15,116,127,5,8,12,40,16,19,54,20,9,27,255,113,17,42,67,24,23,146,148,18,14,22,45,70,69,56,114,101,21,25,63,75,136,108,28,118,29,73,115]);if(typeof WebAssembly!="object")return{supported:!1};var n,i=WebAssembly.instantiate(r(t),{}).then(function(m){n=m.instance,n.exports.__wasm_call_ctors()});function r(m){for(var x=new Uint8Array(m.length),_=0;_<m.length;++_){var E=m.charCodeAt(_);x[_]=E>96?E-97:E>64?E-39:E+4}for(var A=0,_=0;_<m.length;++_)x[A++]=x[_]<60?e[x[_]]:(x[_]-60)*64+x[++_];return x.buffer.slice(0,A)}function a(m){if(!m)throw new Error("Assertion failed")}function s(m){return new Uint8Array(m.buffer,m.byteOffset,m.byteLength)}function o(m,x,_){var E=n.exports.sbrk,A=E(x.length*4),w=E(_*4),T=new Uint8Array(n.exports.memory.buffer),k=s(x);T.set(k,A);var N=m(w,A,x.length,_);T=new Uint8Array(n.exports.memory.buffer);var D=new Uint32Array(_);new Uint8Array(D.buffer).set(T.subarray(w,w+_*4)),k.set(T.subarray(A,A+x.length*4)),E(A-E(0));for(var P=0;P<x.length;++P)x[P]=D[x[P]];return[D,N]}function l(m){for(var x=0,_=0;_<m.length;++_){var E=m[_];x=x<E?E:x}return x}function c(m,x,_,E,A,w,T,k,N){var D=n.exports.sbrk,P=D(4),B=D(_*4),G=D(A*w),H=D(_*4),V=new Uint8Array(n.exports.memory.buffer);V.set(s(E),G),V.set(s(x),H);var U=m(B,H,_,G,A,w,T,k,N,P);V=new Uint8Array(n.exports.memory.buffer);var F=new Uint32Array(U);s(F).set(V.subarray(B,B+U*4));var q=new Float32Array(1);return s(q).set(V.subarray(P,P+4)),D(P-D(0)),[F,q[0]]}function u(m,x,_,E,A,w,T,k,N,D,P,B,G){var H=n.exports.sbrk,V=H(4),U=H(_*4),F=H(A*w),q=H(A*k),X=H(N.length*4),z=H(_*4),oe=D?H(A):0,fe=new Uint8Array(n.exports.memory.buffer);fe.set(s(E),F),fe.set(s(T),q),fe.set(s(N),X),fe.set(s(x),z),D&&fe.set(s(D),oe);var K=m(U,z,_,F,A,w,q,k,X,N.length,oe,P,B,G,V);fe=new Uint8Array(n.exports.memory.buffer);var Me=new Uint32Array(K);s(Me).set(fe.subarray(U,U+K*4));var _e=new Float32Array(1);return s(_e).set(fe.subarray(V,V+4)),H(V-H(0)),[Me,_e[0]]}function f(m,x,_,E,A,w,T,k,N,D,P,B,G){var H=n.exports.sbrk,V=H(4),U=H(A*w),F=H(A*k),q=H(N.length*4),X=H(_*4),z=D?H(A):0,oe=new Uint8Array(n.exports.memory.buffer);oe.set(s(E),U),oe.set(s(T),F),oe.set(s(N),q),oe.set(s(x),X),D&&oe.set(s(D),z);var fe=m(X,_,U,A,w,F,k,q,N.length,z,P,B,G,V);oe=new Uint8Array(n.exports.memory.buffer),s(x).set(oe.subarray(X,X+fe*4)),s(E).set(oe.subarray(U,U+A*w)),s(T).set(oe.subarray(F,F+A*k));var K=new Float32Array(1);return s(K).set(oe.subarray(V,V+4)),H(V-H(0)),[fe,K[0]]}function h(m,x,_,E){var A=n.exports.sbrk,w=A(_*E),T=new Uint8Array(n.exports.memory.buffer);T.set(s(x),w);var k=m(w,_,E);return A(w-A(0)),k}function d(m,x,_,E,A,w,T,k){var N=n.exports.sbrk,D=N(k*4),P=N(_*E),B=N(_*w),G=new Uint8Array(n.exports.memory.buffer);G.set(s(x),P),A&&G.set(s(A),B);var H=m(D,P,_,E,B,w,T,k);G=new Uint8Array(n.exports.memory.buffer);var V=new Uint32Array(H);return s(V).set(G.subarray(D,D+H*4)),N(D-N(0)),V}function b(m,x,_,E,A,w,T,k,N){var D=n.exports.sbrk,P=D(4),B=D(_*4),G=D(A*w),H=D(_*4),V=T?D(A):0,U=new Uint8Array(n.exports.memory.buffer);U.set(s(E),G),U.set(s(x),H),T&&U.set(s(T),V);var F=m(B,H,_,G,A,w,V,k,N,P);U=new Uint8Array(n.exports.memory.buffer);var q=new Uint32Array(F);s(q).set(U.subarray(B,B+F*4));var X=new Float32Array(1);return s(X).set(U.subarray(P,P+4)),D(P-D(0)),[q,X[0]]}function y(m,x,_,E,A,w,T){var k=n.exports.sbrk,N=k(_*4),D=k(A*w),P=k(_*4),B=new Uint8Array(n.exports.memory.buffer);B.set(s(E),D),B.set(s(x),P);var G=m(N,P,_,D,A,w,T);B=new Uint8Array(n.exports.memory.buffer);var H=new Uint32Array(G);return s(H).set(B.subarray(N,N+G*4)),k(N-k(0)),H}var v={LockBorder:1,Sparse:2,ErrorAbsolute:4,Prune:8,Regularize:16,Permissive:32,_InternalDebug:1<<30};return{ready:i,supported:!0,compactMesh:function(m){a(m instanceof Uint32Array||m instanceof Int32Array||m instanceof Uint16Array||m instanceof Int16Array),a(m.length%3==0);var x=m.BYTES_PER_ELEMENT==4?m:new Uint32Array(m);return o(n.exports.meshopt_optimizeVertexFetchRemap,x,l(m)+1)},simplify:function(m,x,_,E,A,w){a(m instanceof Uint32Array||m instanceof Int32Array||m instanceof Uint16Array||m instanceof Int16Array),a(m.length%3==0),a(x instanceof Float32Array),a(x.length%_==0),a(_>=3),a(E>=0&&E<=m.length),a(E%3==0),a(A>=0);for(var T=0,k=0;k<(w?w.length:0);++k)a(w[k]in v),T|=v[w[k]];var N=m.BYTES_PER_ELEMENT==4?m:new Uint32Array(m),D=c(n.exports.meshopt_simplify,N,m.length,x,x.length/_,_*4,E,A,T);return D[0]=m instanceof Uint32Array?D[0]:new m.constructor(D[0]),D},simplifyWithAttributes:function(m,x,_,E,A,w,T,k,N,D){a(m instanceof Uint32Array||m instanceof Int32Array||m instanceof Uint16Array||m instanceof Int16Array),a(m.length%3==0),a(x instanceof Float32Array),a(x.length%_==0),a(_>=3),a(E instanceof Float32Array),a(E.length==A*(x.length/_)),a(A>=0),a(T==null||T instanceof Uint8Array),a(T==null||T.length==x.length/_),a(k>=0&&k<=m.length),a(k%3==0),a(N>=0),a(Array.isArray(w)),a(A>=w.length),a(w.length<=32);for(var P=0;P<w.length;++P)a(w[P]>=0);for(var B=0,P=0;P<(D?D.length:0);++P)a(D[P]in v),B|=v[D[P]];var G=m.BYTES_PER_ELEMENT==4?m:new Uint32Array(m),H=u(n.exports.meshopt_simplifyWithAttributes,G,m.length,x,x.length/_,_*4,E,A*4,new Float32Array(w),T,k,N,B);return H[0]=m instanceof Uint32Array?H[0]:new m.constructor(H[0]),H},simplifyWithUpdate:function(m,x,_,E,A,w,T,k,N,D){a(m instanceof Uint32Array||m instanceof Int32Array||m instanceof Uint16Array||m instanceof Int16Array),a(m.length%3==0),a(x instanceof Float32Array),a(x.length%_==0),a(_>=3),a(E instanceof Float32Array),a(E.length==A*(x.length/_)),a(A>=0),a(T==null||T instanceof Uint8Array),a(T==null||T.length==x.length/_),a(k>=0&&k<=m.length),a(k%3==0),a(N>=0),a(Array.isArray(w)),a(A>=w.length),a(w.length<=32);for(var P=0;P<w.length;++P)a(w[P]>=0);for(var B=0,P=0;P<(D?D.length:0);++P)a(D[P]in v),B|=v[D[P]];var G=m.BYTES_PER_ELEMENT==4?m:new Uint32Array(m),H=f(n.exports.meshopt_simplifyWithUpdate,G,m.length,x,x.length/_,_*4,E,A*4,new Float32Array(w),T,k,N,B);if(m!==G)for(var P=0;P<H[0];++P)m[P]=G[P];return H},getScale:function(m,x){return a(m instanceof Float32Array),a(m.length%x==0),a(x>=3),h(n.exports.meshopt_simplifyScale,m,m.length/x,x*4)},simplifyPoints:function(m,x,_,E,A,w){return a(m instanceof Float32Array),a(m.length%x==0),a(x>=3),a(_>=0&&_<=m.length/x),E?(a(E instanceof Float32Array),a(E.length%A==0),a(A>=3),a(m.length/x==E.length/A),d(n.exports.meshopt_simplifyPoints,m,m.length/x,x*4,E,A*4,w,_)):d(n.exports.meshopt_simplifyPoints,m,m.length/x,x*4,void 0,0,0,_)},simplifySloppy:function(m,x,_,E,A,w){a(m instanceof Uint32Array||m instanceof Int32Array||m instanceof Uint16Array||m instanceof Int16Array),a(m.length%3==0),a(x instanceof Float32Array),a(x.length%_==0),a(_>=3),a(E==null||E instanceof Uint8Array),a(E==null||E.length==x.length/_),a(A>=0&&A<=m.length),a(A%3==0),a(w>=0);var T=m.BYTES_PER_ELEMENT==4?m:new Uint32Array(m),k=b(n.exports.meshopt_simplifySloppy,T,m.length,x,x.length/_,_*4,E,A,w);return k[0]=m instanceof Uint32Array?k[0]:new m.constructor(k[0]),k},simplifyPrune:function(m,x,_,E){a(m instanceof Uint32Array||m instanceof Int32Array||m instanceof Uint16Array||m instanceof Int16Array),a(m.length%3==0),a(x instanceof Float32Array),a(x.length%_==0),a(_>=3),a(E>=0);var A=m.BYTES_PER_ELEMENT==4?m:new Uint32Array(m),w=y(n.exports.meshopt_simplifyPrune,A,m.length,x,x.length/_,_*4,E);return w=m instanceof Uint32Array?w:new m.constructor(w),w}}}();(function(){var t="b9H79TebbbeVx9Geueu9Geub9Gbb9Giuuueu9Gmuuuuuuuuuuu9999eu9Gvuuuuueu9Gwuuuuuuuub9Gxuuuuuuuuuuuueu9Gkuuuuuuuuuu99eu9Gouuuuuub9Gruuuuuuub9GluuuubiAOdilvorwDqqDkbiibeilve9Weiiviebeoweuec;G:Odkr;qeDo9TW9T9VV95dbH9F9F939H79T9F9J9H229F9Jt9VV7bb8A9TW79O9V9Wt9F9I919P29K9nW79O2Wt79c9V919U9KbeX9TW79O9V9Wt9F9I919P29K9nW79O2Wt7bo39TW79O9V9Wt9F9J9V9T9W91tWJ2917tWV9c9V919U9K7br39TW79O9V9Wt9F9J9V9T9W91tW9nW79O2Wt9c9V919U9K7bDE9TW79O9V9Wt9F9J9V9T9W91tW9t9W9OWVW9c9V919U9K7bqL9TW79O9V9Wt9F9V9Wt9P9T9P96W9nW79O2Wtbkl79IV9RbxDwebcekdszq:x9DOdbkIbabaec9:fgefcufae9Ugeabci9Uadfcufad9Ugbaeab0Ek:w8KDPue99eux99dui99euo99iu8Jjjjjbc:WD9Rgm8KjjjjbdndnalmbcbhPxekamc:Cwfcbc;Kbz:ojjjb8Adndnalcb9imbaoal9nmbamcuaocdtaocFFFFi0Egscbyd;u1jjbHjjjjbbgzBd:CwamceBd;8wamascbyd;u1jjbHjjjjbbgHBd:GwamcdBd;8wamcualcdtalcFFFFi0Ecbyd;u1jjbHjjjjbbgOBd:KwamciBd;8waihsalhAinazasydbcdtfcbBdbasclfhsaAcufgAmbkaihsalhAinazasydbcdtfgCaCydbcefBdbasclfhsaAcufgAmbkaihsalhCcbhXindnazasydbcdtgQfgAydbcb9imbaHaQfaXBdbaAaAydbgQcjjjj94VBdbaQaXfhXkasclfhsaCcufgCmbkalci9UhLdnalci6mbcbhsaihAinaAcwfydbhCaAclfydbhXaHaAydbcdtfgQaQydbgQcefBdbaOaQcdtfasBdbaHaXcdtfgXaXydbgXcefBdbaOaXcdtfasBdbaHaCcdtfgCaCydbgCcefBdbaOaCcdtfasBdbaAcxfhAaLascefgs9hmbkkaihsalhAindnazasydbcdtgCfgXydbgQcu9kmbaXaQcFFFFrGgQBdbaHaCfgCaCydbaQ9RBdbkasclfhsaAcufgAmbxdkkamcuaocdtgsaocFFFFi0EgAcbyd;u1jjbHjjjjbbgzBd:CwamceBd;8wamaAcbyd;u1jjbHjjjjbbgHBd:GwamcdBd;8wamcualcdtalcFFFFi0Ecbyd;u1jjbHjjjjbbgOBd:KwamciBd;8wazcbasz:ojjjbhXalci9UhLaihsalhAinaXasydbcdtfgCaCydbcefBdbasclfhsaAcufgAmbkdnaoTmbcbhsaHhAaXhCaohQinaAasBdbaAclfhAaCydbasfhsaCclfhCaQcufgQmbkkdnalci6mbcbhsaihAinaAcwfydbhCaAclfydbhQaHaAydbcdtfgKaKydbgKcefBdbaOaKcdtfasBdbaHaQcdtfgQaQydbgQcefBdbaOaQcdtfasBdbaHaCcdtfgCaCydbgCcefBdbaOaCcdtfasBdbaAcxfhAaLascefgs9hmbkkaoTmbcbhsaohAinaHasfgCaCydbaXasfydb9RBdbasclfhsaAcufgAmbkkamaLcbyd;u1jjbHjjjjbbgsBd:OwamclBd;8wascbaLz:ojjjbhYamcuaLcK2alcjjjjd0Ecbyd;u1jjbHjjjjbbg8ABd:SwamcvBd;8wJbbbbhEdnalci6g3mbarcd4hKaihAa8AhsaLhrJbbbbh5inavaAclfydbaK2cdtfgCIdlh8EavaAydbaK2cdtfgXIdlhEavaAcwfydbaK2cdtfgQIdlh8FaCIdwhaaXIdwhhaQIdwhgasaCIdbg8JaXIdbg8KMaQIdbg8LMJbbnn:vUdbasclfaXIdlaCIdlMaQIdlMJbbnn:vUdbaQIdwh8MaCIdwh8NaXIdwhyascxfa8EaE:tg8Eagah:tggNa8FaE:tg8Faaah:tgaN:tgEJbbbbJbbjZa8Ja8K:tg8Ja8FNa8La8K:tg8Ka8EN:tghahNaEaENaaa8KNaga8JN:tgEaENMM:rg8K:va8KJbbbb9BEg8ENUdbasczfaEa8ENUdbascCfaha8ENUdbascwfa8Maya8NMMJbbnn:vUdba5a8KMh5aAcxfhAascKfhsarcufgrmbka5aL:Z:vJbbbZNhEkamcuaLcdtalcFFFF970Ecbyd;u1jjbHjjjjbbgCBd:WwamcoBd;8waEaq:ZNhEdna3mbcbhsaChAinaAasBdbaAclfhAaLascefgs9hmbkkaE:rhhcuh8PamcuaLcltalcFFFFd0Ecbyd;u1jjbHjjjjbbgIBd:0wamcrBd;8wcbaIa8AaCaLz:djjjb8AJFFuuhyJFFuuh8RJFFuuh8Sdnalci6gXmbJFFuuh8Sa8AhsaLhAJFFuuh8RJFFuuhyinascwfIdbgEayayaE9EEhyasclfIdbgEa8Ra8RaE9EEh8RasIdbgEa8Sa8SaE9EEh8SascKfhsaAcufgAmbkkahJbbbZNhgamaocetgscuaocu9kEcbyd;u1jjbHjjjjbbgABd:4waAcFeasz:ojjjbhCdnaXmbcbhAJFFuuhEa8Ahscuh8PinascwfIdbay:tghahNasIdba8S:tghahNasclfIdba8R:tghahNMM:rghaEa8PcuSahaE9DVgXEhEaAa8PaXEh8PascKfhsaLaAcefgA9hmbkkamczfcbcjwz:ojjjb8Aamcwf9cb83ibam9cb83ibagaxNhRJbbjZak:th8Ncbh8UJbbbbh8VJbbbbh8WJbbbbh8XJbbbbh8YJbbbbh8ZJbbbbh80cbh81cbhPinJbbbbhEdna8UTmbJbbjZa8U:Z:vhEkJbbbbhhdna80a80Na8Ya8YNa8Za8ZNMMg8KJbbbb9BmbJbbjZa8K:r:vhhka8XaENh5a8WaENh8Fa8VaENhaa8PhQdndndndndna8UaPVTmbamydwgBTmea80ahNh8Ja8ZahNh8La8YahNh8Maeamydbcdtfh83cbh3JFFuuhEcvhXcuhQindnaza83a3cdtfydbcdtgsfydbgvTmbaOaHasfydbcdtfhAindndnaCaiaAydbgKcx2fgsclfydbgrcetf8Vebcs4aCasydbgLcetf8Vebcs4faCascwfydbglcetf8Vebcs4fgombcbhsxekcehsazaLcdtfydbgLceSmbcehsazarcdtfydbgrceSmbcehsazalcdtfydbglceSmbdnarcdSaLcdSfalcdSfcd6mbaocefhsxekaocdfhskdnasaX9kmba8AaKcK2fgLIdwa5:thhaLIdla8F:th8KaLIdbaa:th8EdndnakJbbbb9DTmba8E:lg8Ea8K:lg8Ka8Ea8K9EEg8Kah:lgha8Kah9EEag:vJbbjZMhhxekahahNa8Ea8ENa8Ka8KNMM:rag:va8NNJbbjZMJ9VO:d86JbbjZaLIdCa8JNaLIdxa8MNa8LaLIdzNMMakN:tghahJ9VO:d869DENhhkaKaQasaX6ahaE9DVgLEhQasaXaLEhXahaEaLEhEkaAclfhAavcufgvmbkka3cefg3aB9hmbkkaQcu9hmekama5Ud:ODama8FUd:KDamaaUd:GDamcuBd:qDamcFFF;7rBdjDaIcba8AaYamc:GDfakJbbbb9Damc:qDfamcjDfz:ejjjbamyd:qDhQdndnaxJbbbb9ETmba8UaD6mbaQcuSmeceh3amIdjDaR9EmixdkaQcu9hmekdna8UTmbdnamydlgza8Uci2fgsciGTmbadasfcba8Uazcu7fciGcefz:ojjjb8AkabaPcltfgzam8Pib83dbazcwfamcwf8Pib83dbaPcefhPkc3hzinazc98Smvamc:Cwfazfydbcbyd;y1jjbH:bjjjbbazc98fhzxbkkcbh3a8Uaq9pmbamydwaCaiaQcx2fgsydbcetf8Vebcs4aCascwfydbcetf8Vebcs4faCasclfydbcetf8Vebcs4ffaw9nmekcbhscbhAdna81TmbcbhAamczfhXinamczfaAcdtfaXydbgLBdbaXclfhXaAaYaLfRbbTfhAa81cufg81mbkkamydwhlamydbhXam9cu83i:GDam9cu83i:ODam9cu83i:qDam9cu83i:yDaAc;8eaAclfc:bd6Eh81inamcjDfasfcFFF;7rBdbasclfgscz9hmbka81cdthBdnalTmbaeaXcdtfhocbhrindnazaoarcdtfydbcdtgsfydbgvTmbaOaHasfydbcdtfhAcuhLcuhsinazaiaAydbgKcx2fgXclfydbcdtfydbazaXydbcdtfydbfazaXcwfydbcdtfydbfgXasaXas6gXEhsaKaLaXEhLaAclfhAavcufgvmbkaLcuSmba8AaLcK2fgAIdway:tgEaENaAIdba8S:tgEaENaAIdla8R:tgEaENMM:rhEcbhAindndnasamc:qDfaAfgvydbgX6mbasaX9hmeaEamcjDfaAfIdb9FTmekavasBdbamc:GDfaAfaLBdbamcjDfaAfaEUdbxdkaAclfgAcz9hmbkkarcefgral9hmbkkamczfaBfhLcbhscbhAindnamc:GDfasfydbgXcuSmbaLaAcdtfaXBdbaAcefhAkasclfgscz9hmbkaAa81fg81TmbJFFuuhhcuhKamczfhsa81hvcuhLina8AasydbgXcK2fgAIdway:tgEaENaAIdba8S:tgEaENaAIdla8R:tgEaENMM:rhEdndnazaiaXcx2fgAclfydbcdtfydbazaAydbcdtfydbfazaAcwfydbcdtfydbfgAaL6mbaAaL9hmeaEah9DTmekaEhhaAhLaXhKkasclfhsavcufgvmbkaKcuSmbaKhQkdnamaiaQcx2fgrydbarclfydbarcwfydbaCabaeadaPawaqa3z:fjjjbTmbaPcefhPJbbbbh8VJbbbbh8WJbbbbh8XJbbbbh8YJbbbbh8ZJbbbbh80kcbhXinaOaHaraXcdtfydbcdtgAfydbcdtfgKhsazaAfgvydbgLhAdnaLTmbdninasydbaQSmeasclfhsaAcufgATmdxbkkasaKaLcdtfc98fydbBdbavavydbcufBdbkaXcefgXci9hmbka8AaQcK2fgsIdbhEasIdlhhasIdwh8KasIdxh8EasIdzh5asIdCh8FaYaQfce86bba80a8FMh80a8Za5Mh8Za8Ya8EMh8Ya8Xa8KMh8Xa8WahMh8Wa8VaEMh8Vamydxh8Uxbkkamc:WDf8KjjjjbaPk;Vvivuv99lu8Jjjjjbca9Rgv8Kjjjjbdndnalcw0mbaiydbhoaeabcitfgralcdtcufBdlaraoBdbdnalcd6mbaiclfhoalcufhwarcxfhrinaoydbhDarcuBdbarc98faDBdbarcwfhraoclfhoawcufgwmbkkalabfhrxekcbhDavczfcwfcbBdbav9cb83izavcwfcbBdbav9cb83ibJbbjZhqJbbjZhkinadaiaDcdtfydbcK2fhwcbhrinavczfarfgoawarfIdbgxaoIdbgm:tgPakNamMgmUdbavarfgoaPaxam:tNaoIdbMUdbarclfgrcx9hmbkJbbjZaqJbbjZMgq:vhkaDcefgDal9hmbkcbhoadcbcecdavIdlgxavIdwgm9GEgravIdbgPam9GEaraPax9GEgscdtgrfhzavczfarfIdbhxaihralhwinaiaocdtfgDydbhHaDarydbgOBdbaraHBdbarclfhraoazaOcK2fIdbax9Dfhoawcufgwmbkaeabcitfhrdndnaocv6mbaoalc98f6mekaraiydbBdbaralcdtcufBdlaiclfhoalcufhwarcxfhrinaoydbhDarcuBdbarc98faDBdbarcwfhraoclfhoawcufgwmbkalabfhrxekaraxUdbararydlc98GasVBdlabcefaeadaiaoz:djjjbhwararydlciGawabcu7fcdtVBdlawaeadaiaocdtfalao9Rz:djjjbhrkavcaf8Kjjjjbark:;idiud99dndnabaecitfgwydlgDciGgqciSmbinabcbaDcd4gDalaqcdtfIdbawIdb:tgkJbbbb9FEgwaecefgefadaialavaoarz:ejjjbak:larIdb9FTmdabawaD7aefgecitfgwydlgDciGgqci9hmbkkabaecitfgeclfhbdnavmbcuhwindnaiaeydbgDfRbbmbadaDcK2fgqIdwalIdw:tgkakNaqIdbalIdb:tgkakNaqIdlalIdl:tgkakNMM:rgkarIdb9DTmbarakUdbaoaDBdbkaecwfheawcefgwabydbcd46mbxdkkcuhwindnaiaeydbgDfRbbmbadaDcK2fgqIdbalIdb:t:lgkaqIdlalIdl:t:lgxakax9EEgkaqIdwalIdw:t:lgxakax9EEgkarIdb9DTmbarakUdbaoaDBdbkaecwfheawcefgwabydbcd46mbkkk;llevudnabydwgxaladcetfgm8Vebcs4alaecetfgP8Vebgscs4falaicetfgz8Vebcs4ffaD0abydxaq9pVakVgDce9hmbavawcltfgxab8Pdb83dbaxcwfabcwfgx8Pdb83dbdnaxydbgqTmbaoabydbcdtfhxaqhsinalaxydbcetfcFFi87ebaxclfhxascufgsmbkkdnabydxglci2gsabydlgxfgkciGTmbarakfcbalaxcu7fciGcefz:ojjjb8Aabydxci2hsabydlhxabydwhqkab9cb83dwababydbaqfBdbabascifc98GaxfBdlaP8Vebhscbhxkdnascztcz91cu9kmbabaxcefBdwaPax87ebaoabydbcdtfaxcdtfaeBdbkdnam8Uebcu9kmbababydwgxcefBdwamax87ebaoabydbcdtfaxcdtfadBdbkdnaz8Uebcu9kmbababydwgxcefBdwazax87ebaoabydbcdtfaxcdtfaiBdbkarabydlfabydxci2faPRbb86bbarabydlfabydxci2fcefamRbb86bbarabydlfabydxci2fcdfazRbb86bbababydxcefBdxaDk8LbabaeadaialavaoarawaDaDaqJbbbbz:cjjjbk;Nkovud99euv99eul998Jjjjjbc:W;ae9Rgo8KjjjjbdndnadTmbavcd4hrcbhwcbhDindnaiaeclfydbar2cdtfgvIdbaiaeydbar2cdtfgqIdbgk:tgxaiaecwfydbar2cdtfgmIdlaqIdlgP:tgsNamIdbak:tgzavIdlaP:tgPN:tgkakNaPamIdwaqIdwgH:tgONasavIdwaH:tgHN:tgPaPNaHazNaOaxN:tgxaxNMM:rgsJbbbb9Bmbaoc:W:qefawcx2fgAakas:vUdwaAaxas:vUdlaAaPas:vUdbaoc8Wfawc8K2fgAaq8Pdb83dbaAav8Pdb83dxaAam8Pdb83dKaAcwfaqcwfydbBdbaAcCfavcwfydbBdbaAcafamcwfydbBdbawcefhwkaecxfheaDcifgDad6mbkab9cb83dbabcyf9cb83dbabcaf9cb83dbabcKf9cb83dbabczf9cb83dbabcwf9cb83dbawTmeaocbBd8Sao9cb83iKao9cb83izaoczfaoc8Wfawci2cxaoc8Sfcbcrz1jjjbaoIdKhCaoIdChXaoIdzhQao9cb83iwao9cb83ibaoaoc:W:qefawcxaoc8Sfcbciz1jjjbJbbjZhkaoIdwgPJbbbbJbbjZaPaPNaoIdbgPaPNaoIdlgsasNMM:rgx:vaxJbbbb9BEgzNhxasazNhsaPazNhzaoc:W:qefheawhvinaecwfIdbaxNaeIdbazNasaeclfIdbNMMgPakaPak9DEhkaecxfheavcufgvmbkabaCUdwabaXUdlabaQUdbabaoId3UdxdndnakJ;n;m;m899FmbJbbbbhPaoc:W:qefheaoc8WfhvinaCavcwfIdb:taecwfIdbgHNaQavIdb:taeIdbgONaXavclfIdb:taeclfIdbgLNMMaxaHNazaONasaLNMM:vgHaPaHaP9EEhPavc8KfhvaecxfheawcufgwmbkabaxUd8KabasUdaabazUd3abaCaxaPN:tUdKabaXasaPN:tUdCabaQazaPN:tUdzabJbbjZakakN:t:rgkUdydndnaxJbbj:;axJbbj:;9GEgPJbbjZaPJbbjZ9FEJbb;:9cNJbbbZJbbb:;axJbbbb9GEMgP:lJbbb9p9DTmbaP:Ohexekcjjjj94hekabae86b8UdndnasJbbj:;asJbbj:;9GEgPJbbjZaPJbbjZ9FEJbb;:9cNJbbbZJbbb:;asJbbbb9GEMgP:lJbbb9p9DTmbaP:Ohvxekcjjjj94hvkabav86bRdndnazJbbj:;azJbbj:;9GEgPJbbjZaPJbbjZ9FEJbb;:9cNJbbbZJbbb:;azJbbbb9GEMgP:lJbbb9p9DTmbaP:Ohqxekcjjjj94hqkabaq86b8SdndnaecKtcK91:YJbb;:9c:vax:t:lavcKtcK91:YJbb;:9c:vas:t:laqcKtcK91:YJbb;:9c:vaz:t:lakMMMJbb;:9cNJbbjZMgk:lJbbb9p9DTmbak:Ohexekcjjjj94hekaecFbaecFb9iEhexekabcjjj;8iBdycFbhekabae86b8Vxekab9cb83dbabcyf9cb83dbabcaf9cb83dbabcKf9cb83dbabczf9cb83dbabcwf9cb83dbkaoc:W;aef8Kjjjjbk;Iwwvul99iud99eue99eul998Jjjjjbcje9Rgr8Kjjjjbavcd4hwaicd4hDdndnaoTmbarc;abfcbaocdtgvz:ojjjb8Aarc;Gbfcbavz:ojjjb8AarhvarcafhiaohqinavcFFF97BdbaicFFF;7rBdbaiclfhiavclfhvaqcufgqmbkdnadTmbcbhkinaeakaD2cdtfgvIdwhxavIdlhmavIdbhPalakaw2cdtfIdbhsarc;abfhzarhiarc;GbfhHarcafhqcj1jjbhvaohOinasavcwfIdbaxNavIdbaPNavclfIdbamNMMgAMhCakhXdnaAas:tgAaqIdbgQ9DgLmbaHydbhXkaHaXBdbakhXdnaCaiIdbgK9EmbazydbhXaKhCkazaXBdbaiaCUdbaqaAaQaLEUdbavcxfhvaqclfhqaHclfhHaiclfhiazclfhzaOcufgOmbkakcefgkad9hmbkkadThkJbbbbhCcbhXarc;abfhvarc;Gbfhicbhqinalavydbgzaw2cdtfIdbalaiydbgHaw2cdtfIdbaeazaD2cdtfgzIdwaeaHaD2cdtfgHIdw:tgsasNazIdbaHIdb:tgsasNazIdlaHIdl:tgsasNMM:rMMgsaCasaC9EgzEhCaqaXazEhXaiclfhiavclfhvaoaqcefgq9hmbkaCJbbbZNhKxekadThkcbhXJbbbbhKkJbbbbhCdnaearc;abfaXcdtgifydbgqaD2cdtfgvIdwaearc;GbfaifydbgzaD2cdtfgiIdwgm:tgsasNavIdbaiIdbgY:tgAaANavIdlaiIdlgP:tgQaQNMM:rgxJbbbb9ETmbaxalaqaw2cdtfIdbMalazaw2cdtfIdb:taxaxM:vhCkasaCNamMhmaQaCNaPMhPaAaCNaYMhYdnakmbaDcdthvawcdthiindnalIdbg8AaecwfIdbam:tgCaCNaeIdbaY:tgsasNaeclfIdbaP:tgAaANMM:rgQMgEaK9ETmbJbbbbhxdnaQJbbbb9ETmbaEaK:taQaQM:vhxkaxaCNamMhmaxaANaPMhPaxasNaYMhYa8AaKaQMMJbbbZNhKkaeavfhealaifhladcufgdmbkkabaKUdxabamUdwabaPUdlabaYUdbarcjef8Kjjjjbkjeeiu8Jjjjjbcj8W9Rgr8Kjjjjbaici2hwdnaiTmbawceawce0EhDarhiinaiaeadRbbcdtfydbBdbadcefhdaiclfhiaDcufgDmbkkabarawaladaoz:hjjjbarcj8Wf8Kjjjjbk:Reeeu8Jjjjjbca9Rgo8Kjjjjbab9cb83dbabcyf9cb83dbabcaf9cb83dbabcKf9cb83dbabczf9cb83dbabcwf9cb83dbdnadTmbaocbBd3ao9cb83iwao9cb83ibaoaeadaialaoc3falEavcbalEcrz1jjjbabao8Pib83dbabao8Piw83dwkaocaf8Kjjjjbk:3lequ8JjjjjbcjP9Rgl8Kjjjjbcbhvalcjxfcbaiz:ojjjb8AdndnadTmbcjehoaehrincuhwarhDcuhqavhkdninawakaoalcjxfaDcefRbbfRbb9RcFeGci6aoalcjxfaDRbbfRbb9RcFeGci6faoalcjxfaDcdfRbbfRbb9RcFeGci6fgxaq9mgmEhwdnammbaxce0mdkaxaqaxaq9kEhqaDcifhDadakcefgk9hmbkkaeawci2fgDcdfRbbhqaDcefRbbhxaDRbbhkaeavci2fgDcifaDawav9Rci2z:rjjjb8Aakalcjxffaocefgo86bbaxalcjxffao86bbaDcdfaq86bbaDcefax86bbaDak86bbaqalcjxffao86bbarcifhravcefgvad9hmbkalcFeaicetz:ojjjbhoadci2gDceaDce0EhqcbhxindnaoaeRbbgkcetfgw8UebgDcu9kmbawax87ebaocjlfaxcdtfabakcdtfydbBdbaxhDaxcefhxkaeaD86bbaecefheaqcufgqmbkaxcdthDxekcbhDkabalcjlfaDz:njjjb8AalcjPf8Kjjjjbk9teiucbcbyd;C1jjbgeabcifc98GfgbBd;C1jjbdndnabZbcztgd9nmbcuhiabad9RcFFifcz4nbcuSmekaehikaik;teeeudndnaeabVciGTmbabhixekdndnadcz9pmbabhixekabhiinaiaeydbBdbaiaeydlBdlaiaeydwBdwaiaeydxBdxaeczfheaiczfhiadc9Wfgdcs0mbkkadcl6mbinaiaeydbBdbaeclfheaiclfhiadc98fgdci0mbkkdnadTmbinaiaeRbb86bbaicefhiaecefheadcufgdmbkkabk:3eedudndnabciGTmbabhixekaecFeGc:b:c:ew2hldndnadcz9pmbabhixekabhiinaialBdxaialBdwaialBdlaialBdbaiczfhiadc9Wfgdcs0mbkkadcl6mbinaialBdbaiclfhiadc98fgdci0mbkkdnadTmbinaiae86bbaicefhiadcufgdmbkkabk9teiucbcbyd;C1jjbgeabcrfc94GfgbBd;C1jjbdndnabZbcztgd9nmbcuhiabad9RcFFifcz4nbcuSmekaehikaik9:eiuZbhedndncbyd;C1jjbgdaecztgi9nmbcuheadai9RcFFifcz4nbcuSmekadhekcbabae9Rcifc98Gcbyd;C1jjbfgdBd;C1jjbdnadZbcztge9nmbadae9RcFFifcz4nb8Akk:;Deludndndnadch9pmbabaeSmdaeabadfgi9Rcbadcet9R0mekabaead;8qbbxekaeab7ciGhldndndnabae9pmbdnalTmbadhvabhixikdnabciGmbadhvabhixdkadTmiabaeRbb86bbadcufhvdnabcefgiciGmbaecefhexdkavTmiabaeRbe86beadc9:fhvdnabcdfgiciGmbaecdfhexdkavTmiabaeRbd86bdadc99fhvdnabcifgiciGmbaecifhexdkavTmiabaeRbi86biabclfhiaeclfheadc98fhvxekdnalmbdnaiciGTmbadTmlabadcufgifglaeaifRbb86bbdnalciGmbaihdxekaiTmlabadc9:fgifglaeaifRbb86bbdnalciGmbaihdxekaiTmlabadc99fgifglaeaifRbb86bbdnalciGmbaihdxekaiTmlabadc98fgdfaeadfRbb86bbkadcl6mbdnadc98fgocd4cefciGgiTmbaec98fhlabc98fhvinavadfaladfydbBdbadc98fhdaicufgimbkkaocx6mbaec9Wfhvabc9WfhoinaoadfgicxfavadfglcxfydbBdbaicwfalcwfydbBdbaiclfalclfydbBdbaialydbBdbadc9Wfgdci0mbkkadTmdadhidnadciGglTmbaecufhvabcufhoadhiinaoaifavaifRbb86bbaicufhialcufglmbkkadcl6mdaec98fhlabc98fhvinavaifgecifalaifgdcifRbb86bbaecdfadcdfRbb86bbaecefadcefRbb86bbaeadRbb86bbaic98fgimbxikkavcl6mbdnavc98fglcd4cefcrGgdTmbavadcdt9RhvinaiaeydbBdbaeclfheaiclfhiadcufgdmbkkalc36mbinaiaeydbBdbaiaeydlBdlaiaeydwBdwaiaeydxBdxaiaeydzBdzaiaeydCBdCaiaeydKBdKaiaeyd3Bd3aecafheaicafhiavc9Gfgvci0mbkkavTmbdndnavcrGgdmbavhlxekavc94GhlinaiaeRbb86bbaicefhiaecefheadcufgdmbkkavcw6mbinaiaeRbb86bbaiaeRbe86beaiaeRbd86bdaiaeRbi86biaiaeRbl86blaiaeRbv86bvaiaeRbo86boaiaeRbr86braicwfhiaecwfhealc94fglmbkkabkk9Tdbcjwk9ubbjZbbbbbbbbbbbbbbjZbbbbbbbbbbbbbbjZ86;nAZ86;nAZ86;nAZ86;nA:;86;nAZ86;nAZ86;nAZ86;nA:;86;nAZ86;nAZ86;nAZ86;nA:;bc;uwkxebbbdbbb9GNbb",e=new Uint8Array([32,0,65,2,1,106,34,33,3,128,11,4,13,64,6,253,10,7,15,116,127,5,8,12,40,16,19,54,20,9,27,255,113,17,42,67,24,23,146,148,18,14,22,45,70,69,56,114,101,21,25,63,75,136,108,28,118,29,73,115]);if(typeof WebAssembly!="object")return{supported:!1};var n,i=WebAssembly.instantiate(r(t),{}).then(function(y){n=y.instance,n.exports.__wasm_call_ctors()});function r(y){for(var v=new Uint8Array(y.length),m=0;m<y.length;++m){var x=y.charCodeAt(m);v[m]=x>96?x-97:x>64?x-39:x+4}for(var _=0,m=0;m<y.length;++m)v[_++]=v[m]<60?e[v[m]]:(v[m]-60)*64+v[++m];return v.buffer.slice(0,_)}function a(y){if(!y)throw new Error("Assertion failed")}function s(y){return new Uint8Array(y.buffer,y.byteOffset,y.byteLength)}var o=48,l=16;function c(y,v){var m=y.meshlets[v*4+0],x=y.meshlets[v*4+1],_=y.meshlets[v*4+2],E=y.meshlets[v*4+3];return{vertices:y.vertices.subarray(m,m+_),triangles:y.triangles.subarray(x,x+E*3)}}function u(y,v,m,x,_,E,A){var w=n.exports.sbrk,T=n.exports.meshopt_buildMeshletsBound(y.length,_,E),k=w(T*l),N=w(T*_*4),D=w(T*E*3),P=w(y.byteLength),B=w(v.byteLength),G=new Uint8Array(n.exports.memory.buffer);G.set(s(y),P),G.set(s(v),B);var H=n.exports.meshopt_buildMeshlets(k,N,D,P,y.length,B,m,x,_,E,A);G=new Uint8Array(n.exports.memory.buffer);for(var V=G.subarray(k,k+H*l),U=new Uint32Array(V.buffer,V.byteOffset,V.byteLength/4).slice(),F=0;F<H;++F){var q=U[F*4+0],X=U[F*4+1],m=U[F*4+2],z=U[F*4+3];n.exports.meshopt_optimizeMeshlet(N+q*4,D+X,z,m)}var oe=U[(H-1)*4+0],fe=U[(H-1)*4+1],K=U[(H-1)*4+2],Me=U[(H-1)*4+3],_e=oe+K,pe=fe+(Me*3+3&-4),xe={meshlets:U,vertices:new Uint32Array(G.buffer,N,_e).slice(),triangles:new Uint8Array(G.buffer,D,pe*3).slice(),meshletCount:H};return w(k-w(0)),xe}function f(y){var v=new Float32Array(n.exports.memory.buffer,y,o/4);return{centerX:v[0],centerY:v[1],centerZ:v[2],radius:v[3],coneApexX:v[4],coneApexY:v[5],coneApexZ:v[6],coneAxisX:v[7],coneAxisY:v[8],coneAxisZ:v[9],coneCutoff:v[10]}}function h(y,v,m,x){var _=n.exports.sbrk,E=[],A=_(v.byteLength),w=_(y.vertices.byteLength),T=_(y.triangles.byteLength),k=_(o),N=new Uint8Array(n.exports.memory.buffer);N.set(s(v),A),N.set(s(y.vertices),w),N.set(s(y.triangles),T);for(var D=0;D<y.meshletCount;++D){var P=y.meshlets[D*4+0],B=y.meshlets[D*4+0+1],G=y.meshlets[D*4+0+3];n.exports.meshopt_computeMeshletBounds(k,w+P*4,T+B,G,A,m,x),E.push(f(k))}return _(A-_(0)),E}function d(y,v,m,x){var _=n.exports.sbrk,E=_(o),A=_(y.byteLength),w=_(v.byteLength),T=new Uint8Array(n.exports.memory.buffer);T.set(s(y),A),T.set(s(v),w),n.exports.meshopt_computeClusterBounds(E,A,y.length,w,m,x);var k=f(E);return _(E-_(0)),k}function b(y,v,m,x,_){var E=n.exports.sbrk,A=E(o),w=E(y.byteLength),T=x?E(x.byteLength):0,k=new Uint8Array(n.exports.memory.buffer);k.set(s(y),w),x&&k.set(s(x),T),n.exports.meshopt_computeSphereBounds(A,w,v,m,T,x?_:0);var N=f(A);return E(A-E(0)),N}return{ready:i,supported:!0,buildMeshlets:function(y,v,m,x,_,E){a(y.length%3==0),a(v instanceof Float32Array),a(v.length%m==0),a(m>=3),a(x<=256||x>0),a(_<=512),a(_%4==0),E=E||0;var A=y.BYTES_PER_ELEMENT==4?y:new Uint32Array(y);return u(A,v,v.length/m,m*4,x,_,E)},extractMeshlet:function(y,v){return a(v>=0&&v<y.meshletCount),c(y,v)},computeClusterBounds:function(y,v,m){a(y.length%3==0),a(y.length/3<=512),a(v instanceof Float32Array),a(v.length%m==0),a(m>=3);var x=y.BYTES_PER_ELEMENT==4?y:new Uint32Array(y);return d(x,v,v.length/m,m*4)},computeMeshletBounds:function(y,v,m){return a(y.meshletCount!=0),a(v instanceof Float32Array),a(v.length%m==0),a(m>=3),h(y,v,v.length/m,m*4)},computeSphereBounds:function(y,v,m,x){return a(y instanceof Float32Array),a(y.length%v==0),a(v>=3),a(!m||m instanceof Float32Array),a(!m||m.length%x==0),a(!m||x>=1),a(!m||y.length/v==m.length/x),x=x||0,b(y,y.length/v,v*4,m,x*4)}}})();function fPe(t,e,n,i){if(!t||!e||i==="off")return{geometries:[],materials:[]};let r=[],a=[];if(e.computeBoundingSphere(),i==="auto"){const l=e.boundingSphere.radius,c=e.attributes.position.count;if(c<50)return{geometries:[],materials:[]};c<500?r=[.6,.2]:c<2e3?r=[.4,.1,.03]:r=[.2,.05,.01];const u=Math.sqrt(l+1e-5);a=[1,2,3].slice(0,r.length).map(h=>h*u)}else r=i.map(l=>l[1]),a=i.map(l=>l[0]);const s=[],o=[];return r.forEach((l,c)=>{const u=Math.floor(e.index.array.length*l/3)*3,f=e.clone(),h=uPe.simplify(new Uint32Array(f.index.array),new Float32Array(f.attributes.position.array),3,u,.02,["LockBorder"])[0];f.index.array.set(h),f.index.needsUpdate=!0,f.setDrawRange(0,h.length);const d=Array.isArray(n)?n.map(b=>b.clone()):n.clone();t.addLOD(f,d,a[c]),s.push(f),Array.isArray(d)?o.push(...d):o.push(d)}),{geometries:s,materials:o}}const uee=ke.forwardRef(function(e,n){const[i,r]=ke.useState(null);ke.useImperativeHandle(n,()=>i,[i]);const a=I.useMemo(()=>new Q,[]),s=I.useMemo(()=>new Hn,[]),o=I.useMemo(()=>new Q(1,1,1),[]),l=mi(c=>c.gl);return I.useEffect(()=>{const c=e.batched_positions.byteLength/(3*Float32Array.BYTES_PER_ELEMENT),u=new Vn(e.geometry.clone(),e.material,{capacity:c,renderer:l});let f=[],h=[];if(e.lod!=="off"){const d=fPe(u,e.geometry,e.material,e.lod);f=d.geometries,h=d.materials}return r(u),()=>{u.disposeBVH(),u.dispose(),f.forEach(d=>d.dispose()),h.forEach(d=>d.dispose())}},[e.geometry,e.lod,e.material]),I.useEffect(()=>{if(!i)return;const c=e.batched_positions.byteLength/(3*Float32Array.BYTES_PER_ELEMENT);i.instancesCount!==c&&(i.capacity<c&&i.resizeBuffers(c),i.clearInstances(),i.addInstances(c,()=>{}));const u=new DataView(e.batched_positions.buffer,e.batched_positions.byteOffset,e.batched_positions.byteLength),f=new DataView(e.batched_wxyzs.buffer,e.batched_wxyzs.byteOffset,e.batched_wxyzs.byteLength),h=e.batched_scales?new DataView(e.batched_scales.buffer,e.batched_scales.byteOffset,e.batched_scales.byteLength):null;i.updateInstances((d,b)=>{const y=b*3*4,v=b*4*4,m=e.batched_scales&&e.batched_scales.byteLength===e.batched_wxyzs.byteLength/4*3?b*3*4:b*4;if(a.set(u.getFloat32(y,!0),u.getFloat32(y+4,!0),u.getFloat32(y+8,!0)),s.set(f.getFloat32(v+4,!0),f.getFloat32(v+8,!0),f.getFloat32(v+12,!0),f.getFloat32(v,!0)),h)if(e.batched_scales.byteLength===e.batched_wxyzs.byteLength/4*3)o.set(h.getFloat32(m,!0),h.getFloat32(m+4,!0),h.getFloat32(m+8,!0));else{const x=h.getFloat32(m,!0);o.setScalar(x)}else o.set(1,1,1);d.position.copy(a),d.quaternion.copy(s),d.scale.copy(o)})},[e.batched_positions,e.batched_wxyzs,e.batched_scales,i]),ke.useEffect(()=>{i!==null&&(e.clickable||i.instancesCount>5e4?i.computeBVH({margin:i.geometry.boundingSphere.radius*.2}):i.disposeBVH())},[e.clickable,i]),ke.useEffect(()=>{if(!(i===null||e.batched_colors===null))for(let c=0;c<i.instancesCount;c++){let u;e.batched_colors.byteLength==3?u=new Ut(e.batched_colors[0]/255,e.batched_colors[1]/255,e.batched_colors[2]/255):e.batched_colors.byteLength===i.instancesCount*3?u=new Ut(e.batched_colors[c*3]/255,e.batched_colors[c*3+1]/255,e.batched_colors[c*3+2]/255):(console.error(`Invalid batched_colors length: ${e.batched_colors.byteLength}, expected 3 or ${i.instancesCount*3}`),u=new Ut(1,1,1)),i.setColorAt(c,u)}},[e.batched_colors,i]),I.useEffect(()=>{i&&(i.castShadow=e.cast_shadow,i.receiveShadow=e.receive_shadow,i.LODinfo&&i.LODinfo.objects&&i.LODinfo.objects.forEach(c=>{c.castShadow=e.cast_shadow,c.receiveShadow=e.receive_shadow}))},[e.cast_shadow,e.receive_shadow,i]),C.jsxs(C.Fragment,{children:[i&&C.jsx("primitive",{object:i}),e.clickable&&C.jsx(XE,{geometry:e.geometry,batched_positions:e.batched_positions,batched_wxyzs:e.batched_wxyzs,batched_scales:e.batched_scales})]})}),hPe=ke.forwardRef(function({children:e,...n},i){const a=ke.useContext(xi).useSceneTree(l=>l[n.name]?.clickable)??!1,s=I.useMemo(()=>{const l=L_({material:n.props.material,wireframe:n.props.wireframe,opacity:n.props.opacity,flat_shading:n.props.flat_shading,side:n.props.side});return n.props.opacity!==null&&n.props.opacity<1&&(l.transparent=!0),l},[n.props.material,n.props.wireframe,n.props.opacity,n.props.flat_shading,n.props.side]),o=I.useMemo(()=>{const l=new An;return l.setAttribute("position",new In(new Float32Array(n.props.vertices.buffer.slice(n.props.vertices.byteOffset,n.props.vertices.byteOffset+n.props.vertices.byteLength)),3)),l.setIndex(new In(new Uint32Array(n.props.faces.buffer.slice(n.props.faces.byteOffset,n.props.faces.byteOffset+n.props.faces.byteLength)),1)),l.computeVertexNormals(),l.computeBoundingSphere(),l},[n.props.vertices.buffer,n.props.faces.buffer]);return C.jsxs("group",{ref:i,children:[C.jsx(uee,{geometry:o,material:s,batched_positions:n.props.batched_positions,batched_wxyzs:n.props.batched_wxyzs,batched_scales:n.props.batched_scales,batched_colors:n.props.batched_colors,lod:n.props.lod,cast_shadow:n.props.cast_shadow,receive_shadow:n.props.receive_shadow,clickable:a}),e]})}),fee=new Mwe;fee.setDecoderPath("https://www.gstatic.com/draco/v1/decoders/");function dPe(t){t instanceof Di&&(t.geometry&&t.geometry.dispose(),t.material&&(Array.isArray(t.material)?t.material.forEach(e=>{T5(e)}):T5(t.material)))}function hee(t){const[e,n]=ke.useState(),[i,r]=ke.useState([]),a=ke.useRef(null);return ke.useEffect(()=>{const s=new HSe;return s.setDRACOLoader(fee),s.parse(new Uint8Array(t).buffer,"",o=>{o.animations&&o.animations.length&&(a.current=new wJ(o.scene),o.animations.forEach(c=>{a.current.clipAction(c).play()}));const l=[];o?.scene.traverse(c=>{c instanceof Di&&(c.geometry.computeVertexNormals(),c.geometry.computeBoundingSphere(),l.push(c))}),r(l),n(o)},o=>{console.log("Error loading GLB!"),console.log(o)}),()=>{a.current&&a.current.stopAllAction(),e&&e.scene.traverse(dPe)}},[t]),{gltf:e,meshes:i,mixerRef:a}}const pPe=ke.forwardRef(function({children:e,...n},i){const{gltf:r,meshes:a,mixerRef:s}=hee(n.props.glb_data);ke.useEffect(()=>{r&&r.scene.traverse(d=>{d instanceof Di&&(d.castShadow=n.props.cast_shadow,d.receiveShadow=n.props.receive_shadow)})},[r,n.props.cast_shadow,n.props.receive_shadow]),ca((d,b)=>{s.current?.update(b)});const o=mi(d=>d.gl),l=ke.useMemo(()=>o.getDrawingBufferSize(new yt),[o]),c=ke.useMemo(()=>{const d=new XP({side:Aa});return d.thickness=10,d.color=new Ut(16514816),d.opacity=.8,d.size=l,d.transparent=!0,d.screenspace=!0,d.toneMapped=!0,d},[l]),u=ke.useRef(null),f=ke.useContext(Wy);ca(()=>{u.current!==null&&(u.current.visible=f.state.current.isHovered)});const h=f.clickable;return r?C.jsxs("group",{ref:i,children:[C.jsx("primitive",{object:r.scene,scale:n.props.scale}),h?C.jsx("group",{ref:u,visible:!1,children:a.map((d,b)=>C.jsx("mesh",{geometry:d.geometry,material:c},b))}):null,e]}):null}),mPe=ke.forwardRef(function({children:e,...n},i){const a=ke.useContext(xi).useSceneTree(c=>c[n.name]?.clickable)??!1,{gltf:s}=hee(n.props.glb_data),{geometry:o,material:l}=I.useMemo(()=>{if(!s)return{geometry:null,material:null};const c=[],u=[];s.scene.traverse(d=>{d instanceof Di&&d.parent&&(d.geometry.applyMatrix4(d.matrixWorld),c.push(d.geometry),u.push(d.material))});const f=c.length===1?c[0].clone():ESe(c),h=u.length===1?u[0]:u;return{geometry:f,material:h}},[s]);return!o||!l?null:C.jsxs("group",{ref:i,children:[C.jsx(uee,{geometry:o,material:l,batched_positions:n.props.batched_positions,batched_wxyzs:n.props.batched_wxyzs,batched_scales:n.props.batched_scales,batched_colors:null,lod:n.props.lod,cast_shadow:n.props.cast_shadow,receive_shadow:n.props.receive_shadow,clickable:a}),e]})});function gPe(t,e){const n=new yt;return n.x=(e[0]+.5)/t.mutable.current.canvas.clientWidth,n.y=(e[1]+.5)/t.mutable.current.canvas.clientHeight,n}function Ul(t){return t[0]<<16|t[1]<<8|t[2]}function bPe(t){return ke.useContext(xi).useSceneTree(i=>i[t.name]?.labelVisible)?C.jsx(Wm,{children:C.jsx("span",{style:{backgroundColor:"rgba(240, 240, 240, 0.9)",color:"#333",borderRadius:"0.2rem",userSelect:"none",padding:"0.1em 0.2em"},children:t.name})}):null}function P8(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength),n=[];for(let i=0;i<e.byteLength;i+=12)n.push([e.getFloat32(i,!0),e.getFloat32(i+4,!0),e.getFloat32(i+8,!0)]);return n}function yPe(t,e,n){if(t===void 0)return{makeObject:()=>null};switch(t.type){case"FrameMessage":return{makeObject:(i,r)=>C.jsx(HEe,{ref:i,showAxes:t.props.show_axes,axesLength:t.props.axes_length,axesRadius:t.props.axes_radius,originRadius:t.props.origin_radius,originColor:Ul(t.props.origin_color),children:r})};case"BatchedAxesMessage":return{makeObject:(i,r)=>C.jsx(VEe,{ref:i,batched_wxyzs:t.props.batched_wxyzs,batched_positions:t.props.batched_positions,batched_scales:t.props.batched_scales,axes_length:t.props.axes_length,axes_radius:t.props.axes_radius,children:r}),computeClickInstanceIndexFromInstanceId:i=>Math.floor(i/3)};case"GridMessage":{const i=new Hn().setFromEuler(t.props.plane=="xz"?new li(0,0,0):t.props.plane=="xy"?new li(Math.PI/2,0,0):t.props.plane=="yx"?new li(0,Math.PI/2,Math.PI/2):t.props.plane=="yz"?new li(0,0,Math.PI/2):t.props.plane=="zx"?new li(0,Math.PI/2,0):new li(-Math.PI/2,0,-Math.PI/2)),r=new Hn().setFromEuler(new li(-Math.PI/2,0,0)).premultiply(i);let a;return t.props.shadow_opacity>0?a=C.jsxs("mesh",{receiveShadow:!0,position:[0,0,-.01],quaternion:r,children:[C.jsx("planeGeometry",{args:[t.props.width,t.props.height]}),C.jsx("shadowMaterial",{opacity:t.props.shadow_opacity,color:0,depthWrite:!1})]}):a=null,{makeObject:(s,o)=>C.jsxs("group",{ref:s,children:[C.jsx(C$,{args:[t.props.width,t.props.height,t.props.width_segments,t.props.height_segments],side:oa,cellColor:Ul(t.props.cell_color),cellThickness:t.props.cell_thickness,cellSize:t.props.cell_size,sectionColor:Ul(t.props.section_color),sectionThickness:t.props.section_thickness,sectionSize:t.props.section_size,quaternion:i}),a,o]})}}case"PointCloudMessage":return{makeObject:(i,r)=>C.jsx(BEe,{ref:i,...t,children:r})};case"SkinnedMeshMessage":return{makeObject:(i,r)=>C.jsx(PLe,{ref:i,...t,children:r})};case"MeshMessage":return{makeObject:(i,r)=>C.jsx(ILe,{ref:i,...t,children:r})};case"BoxMessage":return{makeObject:(i,r)=>C.jsx(OLe,{ref:i,...t,children:r})};case"IcosphereMessage":return{makeObject:(i,r)=>C.jsx(LLe,{ref:i,...t,children:r})};case"BatchedMeshesMessage":return{makeObject:(i,r)=>C.jsx(hPe,{ref:i,...t,children:r}),computeClickInstanceIndexFromInstanceId:t.type==="BatchedMeshesMessage"?i=>i:void 0};case"CameraFrustumMessage":return{makeObject:(i,r)=>C.jsx(qEe,{ref:i,...t,children:r})};case"TransformControlsMessage":{const{send:i,flush:r}=B$(e,50);let a=!1;return{makeObject:(s,o)=>C.jsx("group",{onClick:l=>l.stopPropagation(),children:C.jsx(z$,{ref:s,scale:t.props.scale,lineWidth:t.props.line_width,fixed:t.props.fixed,activeAxes:t.props.active_axes,disableAxes:t.props.disable_axes,disableSliders:t.props.disable_sliders,disableRotations:t.props.disable_rotations,disableScaling:!0,translationLimits:t.props.translation_limits,rotationLimits:t.props.rotation_limits,depthTest:t.props.depth_test,opacity:t.props.opacity,onDragStart:()=>{a=!0,e.mutable.current.sendMessage({type:"TransformControlsDragStartMessage",name:t.name})},onDrag:l=>{const c=new Hn;c.setFromRotationMatrix(l);const u=new Q().setFromMatrixPosition(l),f=[c.w,c.x,c.y,c.z],h=u.toArray();e.sceneTreeActions.updateNodeAttributes(t.name,{wxyz:f,position:h}),i({type:"TransformControlsUpdateMessage",name:t.name,wxyz:f,position:h})},onDragEnd:()=>{a&&(a=!1,r(),e.mutable.current.sendMessage({type:"TransformControlsDragEndMessage",name:t.name}))},children:o})}),unmountWhenInvisible:!0}}case"LabelMessage":return{makeObject:(i,r)=>C.jsxs("group",{ref:i,children:[C.jsx(Wm,{children:C.jsx("div",{style:{width:"10em",fontSize:"0.8em",transform:"translateX(0.1em) translateY(0.5em)"},children:C.jsx("span",{style:{background:"#fff",border:"1px solid #777",borderRadius:"0.2em",color:"#333",padding:"0.2em"},children:t.props.text})})}),r]}),unmountWhenInvisible:!0};case"Gui3DMessage":return{makeObject:(i,r)=>C.jsxs("group",{ref:i,children:[C.jsx(Wm,{children:C.jsx(n,{children:C.jsx(xs,{style:{width:"18em",fontSize:"0.875em",marginLeft:"0.5em",marginTop:"0.5em"},shadow:"0 0 0.8em 0 rgba(0,0,0,0.1)",pb:"0.25em",onPointerDown:a=>{a.stopPropagation()},children:C.jsx(CU,{containerUuid:t.props.container_uuid})})})}),r]}),unmountWhenInvisible:!0};case"ImageMessage":return{makeObject:(i,r)=>C.jsx(GEe,{ref:i,...t,children:r})};case"GlbMessage":return{makeObject:(i,r)=>C.jsx(pPe,{ref:i,...t,children:r})};case"BatchedGlbMessage":return{makeObject:(i,r)=>C.jsx(mPe,{ref:i,...t,children:r}),computeClickInstanceIndexFromInstanceId:i=>i};case"LineSegmentsMessage":return{makeObject:(i,r)=>{const a=new Float32Array(t.props.points.buffer.slice(t.props.points.byteOffset,t.props.points.byteOffset+t.props.points.byteLength)),s=new Uint8Array(t.props.colors.buffer.slice(t.props.colors.byteOffset,t.props.colors.byteOffset+t.props.colors.byteLength));return C.jsxs("group",{ref:i,children:[C.jsx(CLe,{points:a,lineWidth:t.props.line_width,vertexColors:s,segments:!0}),r]})}};case"CatmullRomSplineMessage":return{makeObject:(i,r)=>C.jsxs("group",{ref:i,children:[C.jsx(Lwe,{points:P8(t.props.points),closed:t.props.closed,curveType:t.props.curve_type,tension:t.props.tension,lineWidth:t.props.line_width,color:Ul(t.props.color),segments:t.props.segments??void 0}),r]})};case"CubicBezierSplineMessage":return{makeObject:(i,r)=>{const a=P8(t.props.points),s=P8(t.props.control_points);return C.jsxs("group",{ref:i,children:[[...Array(a.length-1).keys()].map(o=>C.jsx(Owe,{start:a[o],end:a[o+1],midA:s[2*o],midB:s[2*o+1],lineWidth:t.props.line_width,color:Ul(t.props.color),segments:t.props.segments??void 0},o)),r]})}};case"GaussianSplatsMessage":return{makeObject:(i,r)=>C.jsx(iMe,{ref:i,buffer:new Uint32Array(t.props.buffer.buffer.slice(t.props.buffer.byteOffset,t.props.buffer.byteOffset+t.props.buffer.byteLength)),children:r})};case"DirectionalLightMessage":return{makeObject:(i,r)=>C.jsxs("group",{ref:i,children:[C.jsx(sI,{lightIntensity:t.props.intensity,color:Ul(t.props.color),castShadow:t.props.cast_shadow}),r]}),unmountWhenInvisible:!0};case"AmbientLightMessage":return{makeObject:(i,r)=>C.jsx("ambientLight",{ref:i,intensity:t.props.intensity,color:Ul(t.props.color),children:r})};case"HemisphereLightMessage":return{makeObject:(i,r)=>C.jsx("hemisphereLight",{ref:i,intensity:t.props.intensity,color:Ul(t.props.sky_color),groundColor:Ul(t.props.ground_color),children:r})};case"PointLightMessage":return{makeObject:(i,r)=>C.jsx("pointLight",{ref:i,intensity:t.props.intensity,color:Ul(t.props.color),distance:t.props.distance,decay:t.props.decay,castShadow:t.props.cast_shadow,...YH,children:r})};case"RectAreaLightMessage":return{makeObject:(i,r)=>C.jsx("rectAreaLight",{ref:i,intensity:t.props.intensity,color:Ul(t.props.color),width:t.props.width,height:t.props.height,children:r})};case"SpotLightMessage":return{makeObject:(i,r)=>C.jsx("spotLight",{ref:i,intensity:t.props.intensity,color:Ul(t.props.color),distance:t.props.distance,angle:t.props.angle,penumbra:t.props.penumbra,decay:t.props.decay,castShadow:t.props.cast_shadow,...YH,children:r})};default:return console.log("Received message did not match any known types:",t),{makeObject:()=>null}}}function dee(t){const e=ke.useContext(xi),n=e.useSceneTree(A=>A[t.name]?.message),i=JJ(),r=e.sceneTreeActions.updateNodeAttributes,{makeObject:a,unmountWhenInvisible:s,computeClickInstanceIndexFromInstanceId:o}=ke.useMemo(()=>yPe(n,e,i),[n,e,i]),[l,c]=ke.useState(!1),u=e.useSceneTree(A=>A[t.name]?.clickable)??!1,f=ke.useRef(null),h=ke.useRef(),d=ke.useMemo(()=>C.jsx(vPe,{name:t.name}),[]),b=e.mutable.current,y=ke.useMemo(()=>a===void 0?null:a(A=>{f.current=A,b.nodeRefFromName[t.name]=f.current},d),[a,d]),v=ke.useRef(null);function m(){const A=e.useSceneTree.getState()[t.name];if(((A?.overrideVisibility===void 0?A?.visibility:A.overrideVisibility)??!1)===!1)return!1;if(h.current&&h.current.parent!==null&&(v.current=h.current.parent),v.current!==null){let T=v.current.visible;return T&&v.current.traverseAncestors(k=>{T=T&&k.visible}),T}return!0}ke.useEffect(()=>{r(t.name,{poseUpdateState:"needsUpdate"})},[y]),ca(()=>{const A=e.useSceneTree.getState()[t.name];if(s){const T=m();T&&l&&(f.current!==null&&(f.current.visible=!1),r(t.name,{poseUpdateState:"needsUpdate"}),c(!1)),!T&&!l&&c(!0)}if(f.current===null||A===void 0)return;const w=(A?.overrideVisibility===void 0?A?.visibility:A.overrideVisibility)??!1;if(f.current.visible=w,A.poseUpdateState=="needsUpdate"){r(t.name,{poseUpdateState:"updated"});const T=A.wxyz??[1,0,0,0];f.current.quaternion.set(T[1],T[2],T[3],T[0]);const k=A.position??[0,0,0];f.current.position.set(k[0],k[1],k[2]),f.current.matrixAutoUpdate||f.current.updateMatrix(),f.current.matrixWorldAutoUpdate||f.current.updateMatrixWorld()}},-1e3);const x=YC(50).send,_=ke.useRef({isHovered:!1,instanceId:null});!u&&_.current.isHovered&&(_.current.isHovered=!1,b.hoveredElementsCount--,b.hoveredElementsCount===0&&(document.body.style.cursor="auto")),I.useEffect(()=>()=>{_.current.isHovered&&(b.hoveredElementsCount--,b.hoveredElementsCount===0&&(document.body.style.cursor="auto"))});const E=ke.useRef({dragging:!1,startClientX:0,startClientY:0});return y===void 0||l?null:C.jsx(C.Fragment,{children:C.jsx("group",{ref:h,onPointerDown:u?A=>{if(!m())return;A.stopPropagation();const w=E.current,T=b.canvas.getBoundingClientRect();w.startClientX=A.clientX-T.left,w.startClientY=A.clientY-T.top,w.dragging=!1}:void 0,onPointerMove:u?A=>{if(!m())return;A.stopPropagation();const w=E.current,T=b.canvas.getBoundingClientRect(),k=A.clientX-T.left-w.startClientX,N=A.clientY-T.top-w.startClientY;Math.abs(k)<=3&&Math.abs(N)<=3||(w.dragging=!0)}:void 0,onPointerUp:u?A=>{if(!m()||(A.stopPropagation(),E.current.dragging))return;const T=j$(e,A.ray),k=b.canvas.getBoundingClientRect(),N=gPe(e,[A.clientX-k.left,A.clientY-k.top]);x({type:"SceneNodeClickMessage",name:t.name,instance_index:o===void 0?null:o(A.instanceId),ray_origin:[T.origin.x,T.origin.y,T.origin.z],ray_direction:[T.direction.x,T.direction.y,T.direction.z],screen_pos:[N.x,N.y]})}:void 0,onPointerOver:u?A=>{m()&&(A.stopPropagation(),_.current.isHovered=!0,_.current.instanceId=A.instanceId??null,b.hoveredElementsCount++,b.hoveredElementsCount===1&&(document.body.style.cursor="pointer"))}:void 0,onPointerOut:u?()=>{m()&&(_.current.isHovered=!1,_.current.instanceId=null,b.hoveredElementsCount--,b.hoveredElementsCount===0&&(document.body.style.cursor="auto"))}:void 0,children:C.jsx(Wy.Provider,{value:{state:_,clickable:u},children:y})})})}function vPe(t){const n=ke.useContext(xi).useSceneTree(i=>i[t.name]?.children);return C.jsxs(C.Fragment,{children:[n&&n.map(i=>C.jsx(dee,{name:i},i)),C.jsx(bPe,{name:t.name})]})}var p2={},pee={L:1,M:0,Q:3,H:2},mee={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},xPe=mee;function gee(t){this.mode=xPe.MODE_8BIT_BYTE,this.data=t}gee.prototype={getLength:function(t){return this.data.length},write:function(t){for(var e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)}};var _Pe=gee,dE=pee;function Lu(t,e){this.totalCount=t,this.dataCount=e}Lu.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];Lu.getRSBlocks=function(t,e){var n=Lu.getRsBlockTable(t,e);if(n==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var i=n.length/3,r=new Array,a=0;a<i;a++)for(var s=n[a*3+0],o=n[a*3+1],l=n[a*3+2],c=0;c<s;c++)r.push(new Lu(o,l));return r};Lu.getRsBlockTable=function(t,e){switch(e){case dE.L:return Lu.RS_BLOCK_TABLE[(t-1)*4+0];case dE.M:return Lu.RS_BLOCK_TABLE[(t-1)*4+1];case dE.Q:return Lu.RS_BLOCK_TABLE[(t-1)*4+2];case dE.H:return Lu.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};var SPe=Lu;function bee(){this.buffer=new Array,this.length=0}bee.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var n=0;n<e;n++)this.putBit((t>>>e-n-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var wPe=bee,Jc={glog:function(t){if(t<1)throw new Error("glog("+t+")");return Jc.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return Jc.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var fs=0;fs<8;fs++)Jc.EXP_TABLE[fs]=1<<fs;for(var fs=8;fs<256;fs++)Jc.EXP_TABLE[fs]=Jc.EXP_TABLE[fs-4]^Jc.EXP_TABLE[fs-5]^Jc.EXP_TABLE[fs-6]^Jc.EXP_TABLE[fs-8];for(var fs=0;fs<255;fs++)Jc.LOG_TABLE[Jc.EXP_TABLE[fs]]=fs;var yee=Jc,Fp=yee;function $E(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var n=0;n<t.length&&t[n]==0;)n++;this.num=new Array(t.length-n+e);for(var i=0;i<t.length-n;i++)this.num[i]=t[i+n]}$E.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),n=0;n<this.getLength();n++)for(var i=0;i<t.getLength();i++)e[n+i]^=Fp.gexp(Fp.glog(this.get(n))+Fp.glog(t.get(i)));return new $E(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=Fp.glog(this.get(0))-Fp.glog(t.get(0)),n=new Array(this.getLength()),i=0;i<this.getLength();i++)n[i]=this.get(i);for(var i=0;i<t.getLength();i++)n[i]^=Fp.gexp(Fp.glog(t.get(i))+e);return new $E(n,0).mod(t)}};var vee=$E,Fl=mee,yV=vee,EPe=yee,Jh={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},as={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;as.getBCHDigit(e)-as.getBCHDigit(as.G15)>=0;)e^=as.G15<<as.getBCHDigit(e)-as.getBCHDigit(as.G15);return(t<<10|e)^as.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;as.getBCHDigit(e)-as.getBCHDigit(as.G18)>=0;)e^=as.G18<<as.getBCHDigit(e)-as.getBCHDigit(as.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return as.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,n){switch(t){case Jh.PATTERN000:return(e+n)%2==0;case Jh.PATTERN001:return e%2==0;case Jh.PATTERN010:return n%3==0;case Jh.PATTERN011:return(e+n)%3==0;case Jh.PATTERN100:return(Math.floor(e/2)+Math.floor(n/3))%2==0;case Jh.PATTERN101:return e*n%2+e*n%3==0;case Jh.PATTERN110:return(e*n%2+e*n%3)%2==0;case Jh.PATTERN111:return(e*n%3+(e+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new yV([1],0),n=0;n<t;n++)e=e.multiply(new yV([1,EPe.gexp(n)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case Fl.MODE_NUMBER:return 10;case Fl.MODE_ALPHA_NUM:return 9;case Fl.MODE_8BIT_BYTE:return 8;case Fl.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case Fl.MODE_NUMBER:return 12;case Fl.MODE_ALPHA_NUM:return 11;case Fl.MODE_8BIT_BYTE:return 16;case Fl.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case Fl.MODE_NUMBER:return 14;case Fl.MODE_ALPHA_NUM:return 13;case Fl.MODE_8BIT_BYTE:return 16;case Fl.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),n=0,i=0;i<e;i++)for(var r=0;r<e;r++){for(var a=0,s=t.isDark(i,r),o=-1;o<=1;o++)if(!(i+o<0||e<=i+o))for(var l=-1;l<=1;l++)r+l<0||e<=r+l||o==0&&l==0||s==t.isDark(i+o,r+l)&&a++;a>5&&(n+=3+a-5)}for(var i=0;i<e-1;i++)for(var r=0;r<e-1;r++){var c=0;t.isDark(i,r)&&c++,t.isDark(i+1,r)&&c++,t.isDark(i,r+1)&&c++,t.isDark(i+1,r+1)&&c++,(c==0||c==4)&&(n+=3)}for(var i=0;i<e;i++)for(var r=0;r<e-6;r++)t.isDark(i,r)&&!t.isDark(i,r+1)&&t.isDark(i,r+2)&&t.isDark(i,r+3)&&t.isDark(i,r+4)&&!t.isDark(i,r+5)&&t.isDark(i,r+6)&&(n+=40);for(var r=0;r<e;r++)for(var i=0;i<e-6;i++)t.isDark(i,r)&&!t.isDark(i+1,r)&&t.isDark(i+2,r)&&t.isDark(i+3,r)&&t.isDark(i+4,r)&&!t.isDark(i+5,r)&&t.isDark(i+6,r)&&(n+=40);for(var u=0,r=0;r<e;r++)for(var i=0;i<e;i++)t.isDark(i,r)&&u++;var f=Math.abs(100*u/e/e-50)/5;return n+=f*10,n}},MPe=as,APe=_Pe,xee=SPe,_ee=wPe,$d=MPe,TPe=vee;function zu(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var wl=zu.prototype;wl.addData=function(t){var e=new APe(t);this.dataList.push(e),this.dataCache=null};wl.isDark=function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]};wl.getModuleCount=function(){return this.moduleCount};wl.make=function(){if(this.typeNumber<1){var t=1;for(t=1;t<40;t++){for(var e=xee.getRSBlocks(t,this.errorCorrectLevel),n=new _ee,i=0,r=0;r<e.length;r++)i+=e[r].dataCount;for(var r=0;r<this.dataList.length;r++){var a=this.dataList[r];n.put(a.mode,4),n.put(a.getLength(),$d.getLengthInBits(a.mode,t)),a.write(n)}if(n.getLengthInBits()<=i*8)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())};wl.makeImpl=function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++)this.modules[n][i]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=zu.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)};wl.setupPositionProbePattern=function(t,e){for(var n=-1;n<=7;n++)if(!(t+n<=-1||this.moduleCount<=t+n))for(var i=-1;i<=7;i++)e+i<=-1||this.moduleCount<=e+i||(0<=n&&n<=6&&(i==0||i==6)||0<=i&&i<=6&&(n==0||n==6)||2<=n&&n<=4&&2<=i&&i<=4?this.modules[t+n][e+i]=!0:this.modules[t+n][e+i]=!1)};wl.getBestMaskPattern=function(){for(var t=0,e=0,n=0;n<8;n++){this.makeImpl(!0,n);var i=$d.getLostPoint(this);(n==0||t>i)&&(t=i,e=n)}return e};wl.createMovieClip=function(t,e,n){var i=t.createEmptyMovieClip(e,n),r=1;this.make();for(var a=0;a<this.modules.length;a++)for(var s=a*r,o=0;o<this.modules[a].length;o++){var l=o*r,c=this.modules[a][o];c&&(i.beginFill(0,100),i.moveTo(l,s),i.lineTo(l+r,s),i.lineTo(l+r,s+r),i.lineTo(l,s+r),i.endFill())}return i};wl.setupTimingPattern=function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)};wl.setupPositionAdjustPattern=function(){for(var t=$d.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var n=0;n<t.length;n++){var i=t[e],r=t[n];if(this.modules[i][r]==null)for(var a=-2;a<=2;a++)for(var s=-2;s<=2;s++)a==-2||a==2||s==-2||s==2||a==0&&s==0?this.modules[i+a][r+s]=!0:this.modules[i+a][r+s]=!1}};wl.setupTypeNumber=function(t){for(var e=$d.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var i=!t&&(e>>n&1)==1;this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=i}for(var n=0;n<18;n++){var i=!t&&(e>>n&1)==1;this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=i}};wl.setupTypeInfo=function(t,e){for(var n=this.errorCorrectLevel<<3|e,i=$d.getBCHTypeInfo(n),r=0;r<15;r++){var a=!t&&(i>>r&1)==1;r<6?this.modules[r][8]=a:r<8?this.modules[r+1][8]=a:this.modules[this.moduleCount-15+r][8]=a}for(var r=0;r<15;r++){var a=!t&&(i>>r&1)==1;r<8?this.modules[8][this.moduleCount-r-1]=a:r<9?this.modules[8][15-r-1+1]=a:this.modules[8][15-r-1]=a}this.modules[this.moduleCount-8][8]=!t};wl.mapData=function(t,e){for(var n=-1,i=this.moduleCount-1,r=7,a=0,s=this.moduleCount-1;s>0;s-=2)for(s==6&&s--;;){for(var o=0;o<2;o++)if(this.modules[i][s-o]==null){var l=!1;a<t.length&&(l=(t[a]>>>r&1)==1);var c=$d.getMask(e,i,s-o);c&&(l=!l),this.modules[i][s-o]=l,r--,r==-1&&(a++,r=7)}if(i+=n,i<0||this.moduleCount<=i){i-=n,n=-n;break}}};zu.PAD0=236;zu.PAD1=17;zu.createData=function(t,e,n){for(var i=xee.getRSBlocks(t,e),r=new _ee,a=0;a<n.length;a++){var s=n[a];r.put(s.mode,4),r.put(s.getLength(),$d.getLengthInBits(s.mode,t)),s.write(r)}for(var o=0,a=0;a<i.length;a++)o+=i[a].dataCount;if(r.getLengthInBits()>o*8)throw new Error("code length overflow. ("+r.getLengthInBits()+">"+o*8+")");for(r.getLengthInBits()+4<=o*8&&r.put(0,4);r.getLengthInBits()%8!=0;)r.putBit(!1);for(;!(r.getLengthInBits()>=o*8||(r.put(zu.PAD0,8),r.getLengthInBits()>=o*8));)r.put(zu.PAD1,8);return zu.createBytes(r,i)};zu.createBytes=function(t,e){for(var n=0,i=0,r=0,a=new Array(e.length),s=new Array(e.length),o=0;o<e.length;o++){var l=e[o].dataCount,c=e[o].totalCount-l;i=Math.max(i,l),r=Math.max(r,c),a[o]=new Array(l);for(var u=0;u<a[o].length;u++)a[o][u]=255&t.buffer[u+n];n+=l;var f=$d.getErrorCorrectPolynomial(c),h=new TPe(a[o],f.getLength()-1),d=h.mod(f);s[o]=new Array(f.getLength()-1);for(var u=0;u<s[o].length;u++){var b=u+d.getLength()-s[o].length;s[o][u]=b>=0?d.get(b):0}}for(var y=0,u=0;u<e.length;u++)y+=e[u].totalCount;for(var v=new Array(y),m=0,u=0;u<i;u++)for(var o=0;o<e.length;o++)u<a[o].length&&(v[m++]=a[o][u]);for(var u=0;u<r;u++)for(var o=0;o<e.length;o++)u<s[o].length&&(v[m++]=s[o][u]);return v};var CPe=zu,DU={};Object.defineProperty(DU,"__esModule",{value:!0});var RPe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},kPe=nq,zl=wee(kPe),See=I,pE=wee(See);function wee(t){return t&&t.__esModule?t:{default:t}}function DPe(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}var NPe={bgColor:zl.default.oneOfType([zl.default.object,zl.default.string]).isRequired,bgD:zl.default.string.isRequired,fgColor:zl.default.oneOfType([zl.default.object,zl.default.string]).isRequired,fgD:zl.default.string.isRequired,size:zl.default.number.isRequired,title:zl.default.string,viewBoxSize:zl.default.number.isRequired,xmlns:zl.default.string},NU=(0,See.forwardRef)(function(t,e){var n=t.bgColor,i=t.bgD,r=t.fgD,a=t.fgColor,s=t.size,o=t.title,l=t.viewBoxSize,c=t.xmlns,u=c===void 0?"http://www.w3.org/2000/svg":c,f=DPe(t,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return pE.default.createElement("svg",RPe({},f,{height:s,ref:e,viewBox:"0 0 "+l+" "+l,width:s,xmlns:u}),o?pE.default.createElement("title",null,o):null,pE.default.createElement("path",{d:i,fill:n}),pE.default.createElement("path",{d:r,fill:a}))});NU.displayName="QRCodeSvg";NU.propTypes=NPe;DU.default=NU;Object.defineProperty(p2,"__esModule",{value:!0});p2.QRCode=void 0;var IPe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},OPe=nq,Nf=H_(OPe),LPe=pee,PPe=H_(LPe),UPe=CPe,FPe=H_(UPe),Eee=I,zPe=H_(Eee),jPe=DU,BPe=H_(jPe);function H_(t){return t&&t.__esModule?t:{default:t}}function HPe(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}var VPe={bgColor:Nf.default.oneOfType([Nf.default.object,Nf.default.string]),fgColor:Nf.default.oneOfType([Nf.default.object,Nf.default.string]),level:Nf.default.string,size:Nf.default.number,value:Nf.default.string.isRequired},m2=(0,Eee.forwardRef)(function(t,e){var n=t.bgColor,i=n===void 0?"#FFFFFF":n,r=t.fgColor,a=r===void 0?"#000000":r,s=t.level,o=s===void 0?"L":s,l=t.size,c=l===void 0?256:l,u=t.value,f=HPe(t,["bgColor","fgColor","level","size","value"]),h=new FPe.default(-1,PPe.default[o]);h.addData(u),h.make();var d=h.modules;return zPe.default.createElement(BPe.default,IPe({},f,{bgColor:i,bgD:d.map(function(b,y){return b.map(function(v,m){return v?"":"M "+m+" "+y+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:a,fgD:d.map(function(b,y){return b.map(function(v,m){return v?"M "+m+" "+y+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:e,size:c,viewBoxSize:d.length}))});p2.QRCode=m2;m2.displayName="QRCode";m2.propTypes=VPe;var GPe=p2.default=m2,WPe="z8daqr0",qPe="z8daqr1",vV="z8daqr2",XPe="z8daqr3",KPe="z8daqr4";function YPe(t){if(!/^[0-9a-zA-Z-]+$/.test(t))throw new Error(`[@mantine/use-form] Form name "${t}" is invalid, it should contain only letters, numbers and dashes`)}const JPe=typeof window<"u"?I.useLayoutEffect:I.useEffect;function is(t,e){JPe(()=>{if(t)return window.addEventListener(t,e),()=>window.removeEventListener(t,e)},[t])}function $Pe(t,e){t&&YPe(t),is(`mantine-form:${t}:set-field-value`,n=>e.setFieldValue(n.detail.path,n.detail.value)),is(`mantine-form:${t}:set-values`,n=>e.setValues(n.detail)),is(`mantine-form:${t}:set-initial-values`,n=>e.setInitialValues(n.detail)),is(`mantine-form:${t}:set-errors`,n=>e.setErrors(n.detail)),is(`mantine-form:${t}:set-field-error`,n=>e.setFieldError(n.detail.path,n.detail.error)),is(`mantine-form:${t}:clear-field-error`,n=>e.clearFieldError(n.detail)),is(`mantine-form:${t}:clear-errors`,e.clearErrors),is(`mantine-form:${t}:reset`,e.reset),is(`mantine-form:${t}:validate`,e.validate),is(`mantine-form:${t}:validate-field`,n=>e.validateField(n.detail)),is(`mantine-form:${t}:reorder-list-item`,n=>e.reorderListItem(n.detail.path,n.detail.payload)),is(`mantine-form:${t}:remove-list-item`,n=>e.removeListItem(n.detail.path,n.detail.index)),is(`mantine-form:${t}:insert-list-item`,n=>e.insertListItem(n.detail.path,n.detail.item,n.detail.index)),is(`mantine-form:${t}:set-dirty`,n=>e.setDirty(n.detail)),is(`mantine-form:${t}:set-touched`,n=>e.setTouched(n.detail)),is(`mantine-form:${t}:reset-dirty`,n=>e.resetDirty(n.detail)),is(`mantine-form:${t}:reset-touched`,e.resetTouched)}function ZPe(t){return e=>{if(!e)t(e);else if(typeof e=="function")t(e);else if(typeof e=="object"&&"nativeEvent"in e){const{currentTarget:n}=e;n instanceof HTMLInputElement?n.type==="checkbox"?t(n.checked):t(n.value):(n instanceof HTMLTextAreaElement||n instanceof HTMLSelectElement)&&t(n.value)}else t(e)}}function oI(t){return t===null||typeof t!="object"?{}:Object.keys(t).reduce((e,n)=>{const i=t[n];return i!=null&&i!==!1&&(e[n]=i),e},{})}function QPe(t){const[e,n]=I.useState(oI(t)),i=I.useRef(e),r=I.useCallback(l=>{n(c=>{const u=oI(typeof l=="function"?l(c):l);return i.current=u,u})},[]),a=I.useCallback(()=>r({}),[]),s=I.useCallback(l=>{i.current[l]!==void 0&&r(c=>{const u={...c};return delete u[l],u})},[e]),o=I.useCallback((l,c)=>{c==null||c===!1?s(l):i.current[l]!==c&&r(u=>({...u,[l]:c}))},[e]);return{errorsState:e,setErrors:r,clearErrors:a,setFieldError:o,clearFieldError:s}}function lI(t,e){if(e===null||typeof e!="object")return{};const n={...e};return Object.keys(e).forEach(i=>{i.includes(`${String(t)}.`)&&delete n[i]}),n}function xV(t,e){const n=t.substring(e.length+1).split(".")[0];return parseInt(n,10)}function _V(t,e,n,i){if(e===void 0)return n;const r=`${String(t)}`;let a=n;i===-1&&(a=lI(`${r}.${e}`,a));const s={...a},o=new Set;return Object.entries(a).filter(([l])=>{if(!l.startsWith(`${r}.`))return!1;const c=xV(l,r);return Number.isNaN(c)?!1:c>=e}).forEach(([l,c])=>{const u=xV(l,r),f=l.replace(`${r}.${u}`,`${r}.${u+i}`);s[f]=c,o.add(f),o.has(l)||delete s[l]}),s}function eUe(t,{from:e,to:n},i){const r=`${t}.${e}`,a=`${t}.${n}`,s={...i},o=new Set;return Object.keys(i).forEach(l=>{if(o.has(l))return;let c,u;if(l.startsWith(r)?(c=l,u=l.replace(r,a)):l.startsWith(a)&&(c=l.replace(a,r),u=l),c&&u){const f=s[c],h=s[u];h===void 0?delete s[c]:s[c]=h,f===void 0?delete s[u]:s[u]=f,o.add(c),o.add(u)}}),s}function SV(t,e,n){typeof n.value=="object"&&(n.value=e0(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||e==="__proto__"?Object.defineProperty(t,e,n):t[e]=n.value}function e0(t){if(typeof t!="object")return t;var e=0,n,i,r,a=Object.prototype.toString.call(t);if(a==="[object Object]"?r=Object.create(t.__proto__||null):a==="[object Array]"?r=Array(t.length):a==="[object Set]"?(r=new Set,t.forEach(function(s){r.add(e0(s))})):a==="[object Map]"?(r=new Map,t.forEach(function(s,o){r.set(e0(o),e0(s))})):a==="[object Date]"?r=new Date(+t):a==="[object RegExp]"?r=new RegExp(t.source,t.flags):a==="[object DataView]"?r=new t.constructor(e0(t.buffer)):a==="[object ArrayBuffer]"?r=t.slice(0):a.slice(-6)==="Array]"&&(r=new t.constructor(t)),r){for(i=Object.getOwnPropertySymbols(t);e<i.length;e++)SV(r,i[e],Object.getOwnPropertyDescriptor(t,i[e]));for(e=0,i=Object.getOwnPropertyNames(t);e<i.length;e++)Object.hasOwnProperty.call(r,n=i[e])&&r[n]===t[n]||SV(r,n,Object.getOwnPropertyDescriptor(t,n))}return r||t}function Mee(t){return typeof t!="string"?[]:t.split(".")}function Ea(t,e){const n=Mee(t);if(n.length===0||typeof e!="object"||e===null)return;let i=e[n[0]];for(let r=1;r<n.length&&i!=null;r+=1)i=i[n[r]];return i}function V_(t,e,n){const i=Mee(t);if(i.length===0)return n;const r=e0(n);if(i.length===1)return r[i[0]]=e,r;let a=r[i[0]];for(let s=1;s<i.length-1;s+=1){if(a===void 0)return r;a=a[i[s]]}return a[i[i.length-1]]=e,r}function tUe(t,{from:e,to:n},i){const r=Ea(t,i);if(!Array.isArray(r))return i;const a=[...r],s=r[e];return a.splice(e,1),a.splice(n,0,s),V_(t,a,i)}function nUe(t,e,n,i){const r=Ea(t,i);if(!Array.isArray(r))return i;const a=[...r];return a.splice(typeof n=="number"?n:a.length,0,e),V_(t,a,i)}function iUe(t,e,n){const i=Ea(t,n);return Array.isArray(i)?V_(t,i.filter((r,a)=>a!==e),n):n}function rUe(t,e,n,i){const r=Ea(t,i);if(!Array.isArray(r)||r.length<=n)return i;const a=[...r];return a[n]=e,V_(t,a,i)}function aUe({$values:t,$errors:e,$status:n}){const i=I.useCallback((o,l)=>{n.clearFieldDirty(o),e.setErrors(c=>eUe(o,l,c)),t.setValues({values:tUe(o,l,t.refValues.current),updateState:!0})},[]),r=I.useCallback((o,l)=>{n.clearFieldDirty(o),e.setErrors(c=>_V(o,l,c,-1)),t.setValues({values:iUe(o,l,t.refValues.current),updateState:!0})},[]),a=I.useCallback((o,l,c)=>{n.clearFieldDirty(o),e.setErrors(u=>_V(o,c,u,1)),t.setValues({values:nUe(o,l,c,t.refValues.current),updateState:!0})},[]),s=I.useCallback((o,l,c)=>{n.clearFieldDirty(o),t.setValues({values:rUe(o,c,l,t.refValues.current),updateState:!0})},[]);return{reorderListItem:i,removeListItem:r,insertListItem:a,replaceListItem:s}}var sUe=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var i,r,a;if(Array.isArray(e)){if(i=e.length,i!=n.length)return!1;for(r=i;r--!==0;)if(!t(e[r],n[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(a=Object.keys(e),i=a.length,i!==Object.keys(n).length)return!1;for(r=i;r--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[r]))return!1;for(r=i;r--!==0;){var s=a[r];if(!t(e[s],n[s]))return!1}return!0}return e!==e&&n!==n};const mE=mc(sUe);function nx(t,e){const n=Object.keys(t);if(typeof e=="string"){const i=n.filter(r=>r.startsWith(`${e}.`));return t[e]||i.some(r=>t[r])||!1}return n.some(i=>t[i])}function oUe({initialDirty:t,initialTouched:e,mode:n,$values:i}){const[r,a]=I.useState(e),[s,o]=I.useState(t),l=I.useRef(e),c=I.useRef(t),u=I.useCallback(w=>{const T=typeof w=="function"?w(l.current):w;l.current=T,n==="controlled"&&a(T)},[]),f=I.useCallback((w,T=!1)=>{const k=typeof w=="function"?w(c.current):w;c.current=k,(n==="controlled"||T)&&o(k)},[]),h=I.useCallback(()=>u({}),[]),d=I.useCallback(w=>{const T=w?{...i.refValues.current,...w}:i.refValues.current;i.setValuesSnapshot(T),f({})},[]),b=I.useCallback((w,T)=>{u(k=>nx(k,w)===T?k:{...k,[w]:T})},[]),y=I.useCallback((w,T,k)=>{f(N=>nx(N,w)===T?N:{...N,[w]:T},k)},[]),v=I.useCallback((w,T)=>{const k=nx(c.current,w),N=!mE(Ea(w,i.getValuesSnapshot()),T),D=lI(w,c.current);D[w]=N,f(D,k!==N)},[]),m=I.useCallback(w=>nx(l.current,w),[]),x=I.useCallback(w=>f(T=>{if(typeof w!="string")return T;const k=lI(w,T);return delete k[w],mE(k,T)?T:k}),[]),_=I.useCallback(w=>{if(w){const k=Ea(w,c.current);if(typeof k=="boolean")return k;const N=Ea(w,i.refValues.current),D=Ea(w,i.valuesSnapshot.current);return!mE(N,D)}return Object.keys(c.current).length>0?nx(c.current):!mE(i.refValues.current,i.valuesSnapshot.current)},[]),E=I.useCallback(()=>c.current,[]),A=I.useCallback(()=>l.current,[]);return{touchedState:r,dirtyState:s,touchedRef:l,dirtyRef:c,setTouched:u,setDirty:f,resetDirty:d,resetTouched:h,isTouched:m,setFieldTouched:b,setFieldDirty:y,setTouchedState:a,setDirtyState:o,clearFieldDirty:x,isDirty:_,getDirty:E,getTouched:A,setCalculatedFieldDirty:v}}function lUe({initialValues:t,onValuesChange:e,mode:n}){const i=I.useRef(!1),[r,a]=I.useState(t||{}),s=I.useRef(r),o=I.useRef(r),l=I.useCallback(({values:v,subscribers:m,updateState:x=!0,mergeWithPreviousValues:_=!0})=>{const E=s.current,A=v instanceof Function?v(s.current):v,w=_?{...E,...A}:A;s.current=w,x&&(a(w),n==="uncontrolled"&&(s.current=w)),e?.(w,E),m?.filter(Boolean).forEach(T=>T({updatedValues:w,previousValues:E}))},[e]),c=I.useCallback(v=>{const m=Ea(v.path,s.current),x=v.value instanceof Function?v.value(m):v.value;if(m!==x){const _=s.current,E=V_(v.path,x,s.current);l({values:E,updateState:v.updateState}),v.subscribers?.filter(Boolean).forEach(A=>A({path:v.path,updatedValues:E,previousValues:_}))}},[l]),u=I.useCallback(v=>{o.current=v},[]),f=I.useCallback((v,m)=>{i.current||(i.current=!0,l({values:v,updateState:n==="controlled"}),u(v),m())},[l]),h=I.useCallback(()=>{l({values:o.current,updateState:!0,mergeWithPreviousValues:!1})},[l]),d=I.useCallback(()=>s.current,[]),b=I.useCallback(()=>o.current,[]),y=I.useCallback((v,m)=>{const x=Ea(v,o.current);typeof x>"u"||c({path:v,value:x,updateState:n==="controlled",subscribers:m})},[c,n]);return{initialized:i,stateValues:r,refValues:s,valuesSnapshot:o,setValues:l,setFieldValue:c,resetValues:h,setValuesSnapshot:u,initialize:f,getValues:d,getValuesSnapshot:b,resetField:y}}function cUe({$status:t,cascadeUpdates:e}){const n=I.useRef({}),i=I.useCallback((a,s)=>{I.useEffect(()=>(n.current[a]=n.current[a]||[],n.current[a].push(s),()=>{n.current[a]=n.current[a].filter(o=>o!==s)}),[s])},[]),r=I.useCallback(a=>{const s=n.current[a]?.map(o=>l=>o({previousValue:Ea(a,l.previousValues),value:Ea(a,l.updatedValues),touched:t.isTouched(a),dirty:t.isDirty(a)}))??[];if(e)for(const o in n.current)(o.startsWith(`${a}.`)||a.startsWith(`${o}.`))&&s.push(...n.current[o].map(l=>c=>l({previousValue:Ea(o,c.previousValues),value:Ea(o,c.updatedValues),touched:t.isTouched(o),dirty:t.isDirty(o)})));return s},[]);return{subscribers:n,watch:i,getFieldSubscribers:r}}function wV(t,e){return t?`${t}-${e.toString()}`:e.toString()}const gE=Symbol("root-rule");function EV(t){const e=oI(t);return{hasErrors:Object.keys(e).length>0,errors:e}}function cI(t,e,n="",i={}){return typeof t!="object"||t===null?i:Object.keys(t).reduce((r,a)=>{const s=t[a],o=`${n===""?"":`${n}.`}${a}`,l=Ea(o,e);let c=!1;return typeof s=="function"&&(r[o]=s(l,e,o)),typeof s=="object"&&Array.isArray(l)&&(c=!0,l.forEach((u,f)=>cI(s,e,`${o}.${f}`,r)),gE in s&&(r[o]=s[gE](l,e,o))),typeof s=="object"&&typeof l=="object"&&l!==null&&(c||cI(s,e,o,r),gE in s&&(r[o]=s[gE](l,e,o))),r},i)}function uI(t,e){return EV(typeof t=="function"?t(e):cI(t,e))}function bE(t,e,n){if(typeof t!="string")return{hasError:!1,error:null};const i=uI(e,n),r=Object.keys(i.errors).find(a=>t.split(".").every((s,o)=>s===a.split(".")[o]));return{hasError:!!r,error:r?i.errors[r]:null}}const uUe="__MANTINE_FORM_INDEX__";function MV(t,e){return e?typeof e=="boolean"?e:Array.isArray(e)?e.includes(t.replace(/[.][0-9]+/g,`.${uUe}`)):!1:!1}function fUe({name:t,mode:e="controlled",initialValues:n,initialErrors:i={},initialDirty:r={},initialTouched:a={},clearInputErrorOnChange:s=!0,validateInputOnChange:o=!1,validateInputOnBlur:l=!1,onValuesChange:c,transformValues:u=v=>v,enhanceGetInputProps:f,validate:h,onSubmitPreventDefault:d="always",touchTrigger:b="change",cascadeUpdates:y=!1}={}){const v=QPe(i),m=lUe({initialValues:n,onValuesChange:c,mode:e}),x=oUe({initialDirty:r,initialTouched:a,$values:m,mode:e}),_=aUe({$values:m,$errors:v,$status:x}),E=cUe({$status:x,cascadeUpdates:y}),[A,w]=I.useState(0),[T,k]=I.useState({}),[N,D]=I.useState(!1),P=I.useCallback(()=>{m.resetValues(),v.clearErrors(),x.resetDirty(),x.resetTouched(),e==="uncontrolled"&&w(xe=>xe+1)},[]),B=I.useCallback(xe=>{s&&v.clearErrors(),e==="uncontrolled"&&w(Oe=>Oe+1),Object.keys(E.subscribers.current).forEach(Oe=>{const Ge=Ea(Oe,m.refValues.current),Ye=Ea(Oe,xe);Ge!==Ye&&E.getFieldSubscribers(Oe).forEach(ct=>ct({previousValues:xe,updatedValues:m.refValues.current}))})},[s]),G=I.useCallback(xe=>{const Oe=m.refValues.current;m.initialize(xe,()=>e==="uncontrolled"&&w(Ge=>Ge+1)),B(Oe)},[B]),H=I.useCallback((xe,Oe,Ge)=>{const Ye=MV(xe,o),ct=Oe instanceof Function?Oe(Ea(xe,m.refValues.current)):Oe;x.setCalculatedFieldDirty(xe,ct),b==="change"&&x.setFieldTouched(xe,!0),!Ye&&s&&v.clearFieldError(xe),m.setFieldValue({path:xe,value:Oe,updateState:e==="controlled",subscribers:[...E.getFieldSubscribers(xe),Ye?Tt=>{const he=bE(xe,h,Tt.updatedValues);he.hasError?v.setFieldError(xe,he.error):v.clearFieldError(xe)}:null,Ge?.forceUpdate!==!1&&e!=="controlled"?()=>k(Tt=>({...Tt,[xe]:(Tt[xe]||0)+1})):null]})},[c,h]),V=I.useCallback(xe=>{const Oe=m.refValues.current;m.setValues({values:xe,updateState:e==="controlled"}),B(Oe)},[c,B]),U=I.useCallback(()=>{const xe=uI(h,m.refValues.current);return v.setErrors(xe.errors),xe},[h]),F=I.useCallback(xe=>{const Oe=bE(xe,h,m.refValues.current);return Oe.hasError?v.setFieldError(xe,Oe.error):v.clearFieldError(xe),Oe},[h]),q=(xe,{type:Oe="input",withError:Ge=!0,withFocus:Ye=!0,...ct}={})=>{const he={onChange:ZPe(Ve=>H(xe,Ve,{forceUpdate:!1})),"data-path":wV(t,xe)};return Ge&&(he.error=v.errorsState[xe]),Oe==="checkbox"?he[e==="controlled"?"checked":"defaultChecked"]=Ea(xe,m.refValues.current):he[e==="controlled"?"value":"defaultValue"]=Ea(xe,m.refValues.current),Ye&&(he.onFocus=()=>x.setFieldTouched(xe,!0),he.onBlur=()=>{if(MV(xe,l)){const Ve=bE(xe,h,m.refValues.current);Ve.hasError?v.setFieldError(xe,Ve.error):v.clearFieldError(xe)}}),Object.assign(he,f?.({inputProps:he,field:xe,options:{type:Oe,withError:Ge,withFocus:Ye,...ct},form:pe}))},X=(xe,Oe)=>Ge=>{d==="always"&&Ge?.preventDefault();const Ye=U();if(Ye.hasErrors)d==="validation-failed"&&Ge?.preventDefault(),Oe?.(Ye.errors,m.refValues.current,Ge);else{const ct=xe?.(u(m.refValues.current),Ge);ct instanceof Promise&&(D(!0),ct.finally(()=>D(!1)))}},z=xe=>u(xe||m.refValues.current),oe=I.useCallback(xe=>{xe.preventDefault(),P()},[]),fe=I.useCallback(xe=>xe?!bE(xe,h,m.refValues.current).hasError:!uI(h,m.refValues.current).hasErrors,[h]),K=xe=>`${A}-${String(xe)}-${T[String(xe)]||0}`,Me=I.useCallback(xe=>document.querySelector(`[data-path="${wV(t,xe)}"]`),[]),_e=I.useCallback(xe=>{m.resetField(xe,[e!=="controlled"?()=>k(Oe=>({...Oe,[xe]:(Oe[xe]||0)+1})):null])},[m.resetField,e,k]),pe={watch:E.watch,initialized:m.initialized.current,values:e==="uncontrolled"?m.refValues.current:m.stateValues,getValues:m.getValues,getInitialValues:m.getValuesSnapshot,setInitialValues:m.setValuesSnapshot,resetField:_e,initialize:G,setValues:V,setFieldValue:H,submitting:N,setSubmitting:D,errors:v.errorsState,setErrors:v.setErrors,setFieldError:v.setFieldError,clearFieldError:v.clearFieldError,clearErrors:v.clearErrors,resetDirty:x.resetDirty,setTouched:x.setTouched,setDirty:x.setDirty,isTouched:x.isTouched,resetTouched:x.resetTouched,isDirty:x.isDirty,getTouched:x.getTouched,getDirty:x.getDirty,reorderListItem:_.reorderListItem,insertListItem:_.insertListItem,removeListItem:_.removeListItem,replaceListItem:_.replaceListItem,reset:P,validate:U,validateField:F,getInputProps:q,onSubmit:X,onReset:oe,isValid:fe,getTransformedValues:z,key:K,getInputNode:Me};return $Pe(t,pe),pe}function hUe({nodeName:t,closePopoverFn:e}){const n=ke.useContext(xi),i=n.useSceneTree(f=>f[t]?.message),r=n.sceneTreeActions.updateSceneNodeProps;if(i===void 0)return null;function a(f){return f==Number.POSITIVE_INFINITY?"Infinity":JSON.stringify(f)}function s(f){return f==="Infinity"?Number.POSITIVE_INFINITY:JSON.parse(f)}const o=i.props,l=Object.fromEntries(Object.entries(o).filter(([,f])=>!(f instanceof Uint8Array)).map(([f,h])=>[f,a(h)])),c=fUe({initialValues:{...l},validate:{...Object.fromEntries(Object.keys(l).map(f=>[f,h=>{try{return s(h),null}catch{return"Invalid JSON"}}]))}}),u=f=>{Object.entries(f).forEach(([h,d])=>{if(d!==l[h])try{const b=s(d);r(t,{[h]:b}),c.setFieldValue(h,a(b))}catch(b){console.error("Failed to parse JSON:",b)}})};return C.jsxs(et,{className:qPe,component:"form",onSubmit:c.onSubmit(u),w:"15em",children:[C.jsxs(et,{children:[C.jsxs(et,{style:{display:"flex",alignItems:"center"},children:[C.jsxs(et,{style:{fontWeight:"500",flexGrow:"1"},fz:"sm",children:[i.type.replace("Message","").replace(/([a-z])(\d[A-Z])/g,"$1 $2").replace(/([a-z])([A-Z])/g,"$1 $2").trim()," ","Props"]}),C.jsx(Tr,{label:"Close props",children:C.jsx(bAe,{style:{cursor:"pointer",width:"1em",height:"1em",display:"block",opacity:"0.7"},onClick:f=>{f.stopPropagation(),e()}})})]}),C.jsx(et,{style:{opacity:"0.5"},fz:"xs",children:t})]}),C.jsx(bc.Autosize,{mah:"30vh",scrollbarSize:6,offsetScrollbars:"present",type:"auto",children:C.jsx(et,{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:Object.entries(o).map(([f,h])=>{if(h instanceof Uint8Array||f.startsWith("_"))return null;const d=c.values[f]!==l[f];return C.jsxs(lh,{align:"center",children:[C.jsx(et,{style:{flexGrow:"1"},fz:"xs",children:f.charAt(0).toUpperCase()+f.slice(1).split("_").join(" ")}),C.jsx(lh,{gap:"xs",style:{width:"9em"},children:(()=>{try{const b=s(c.values[f]);if(f.toLowerCase().includes("color")&&Array.isArray(b)&&b.length===3&&b.every(v=>typeof v=="number")){const v=(x,_,E)=>{const A=w=>{const T=Math.round(w).toString(16);return T.length===1?"0"+T:T};return"#"+A(x)+A(_)+A(E)},m=x=>{const _=parseInt(x.slice(1,3),16),E=parseInt(x.slice(3,5),16),A=parseInt(x.slice(5,7),16);return[_,E,A]};return C.jsx(Ry,{size:"xs",styles:{input:{height:"1.625rem",minHeight:"1.625rem"}},style:{width:"100%"},value:v(b[0],b[1],b[2]),onChange:x=>{const _=m(x);c.setFieldValue(f,a(_)),c.onSubmit(u)()},onKeyDown:x=>{x.key==="Enter"&&(x.preventDefault(),c.onSubmit(u)())}})}}catch{}return C.jsx(sg,{size:"xs",styles:{input:{height:"1.625rem",minHeight:"1.625rem",width:"100%"}},style:{width:"100%"},...c.getInputProps(f),onKeyDown:b=>{b.key==="Enter"&&(b.preventDefault(),c.onSubmit(u)())},rightSection:C.jsx(HMe,{style:{width:"1rem",height:"1rem",opacity:d?1:.3,cursor:d?"pointer":"default"},onClick:()=>{d&&c.onSubmit(u)()}})})})()})]},f)})})}),C.jsx(et,{style:{opacity:"0.4",marginTop:"0.25rem"},fz:"xs",children:"Updates from the server will overwrite local changes."})]})}function dUe(){const e=ke.useContext(xi).useSceneTree(n=>n[""].children);return C.jsx(bc,{className:WPe,children:C.jsx(mUe,{children:C.jsx(pUe,{children:e.map(n=>C.jsx(gUe,{nodeName:n,isParentVisible:!0,indentCount:0},n))})})})}const Aee=ke.createContext(null),Tee=ke.createContext(null);function pUe({children:t}){const e=ke.useRef(!1),n=ke.useRef(!1),i=a=>{e.current=!0,n.current=a},r=()=>{e.current=!1};return ke.useEffect(()=>(window.addEventListener("mouseup",r),()=>{window.removeEventListener("mouseup",r)}),[r]),C.jsx(Aee.Provider,{value:{paintingRef:e,paintValueRef:n,startPainting:i,stopPainting:r},children:t})}function mUe({children:t}){const[e,n]=ke.useState(null);return C.jsx(Tee.Provider,{value:{openPopoverNodeName:e,setOpenPopoverNodeName:n},children:t})}const gUe=ke.memo(function t(e){const n=ke.useContext(xi),i=ma(),{colorScheme:r}=ng(),{paintingRef:a,paintValueRef:s,startPainting:o}=ke.useContext(Aee),{openPopoverNodeName:l,setOpenPopoverNodeName:c}=ke.useContext(Tee),u=k=>{k.stopPropagation();const N=!_;o(N),n.sceneTreeActions.updateNodeAttributes(e.nodeName,{overrideVisibility:N})},f=()=>{a.current&&n.sceneTreeActions.updateNodeAttributes(e.nodeName,{overrideVisibility:s.current})},h=n.useSceneTree(k=>k[e.nodeName]?.children),d=(h?.length??0)>0,[b,{toggle:y}]=uc(!1),v=k=>{n.sceneTreeActions.updateNodeAttributes(e.nodeName,{labelVisible:k})},m=n.useSceneTree(k=>k[e.nodeName]?.visibility)??!0,x=n.useSceneTree(k=>k[e.nodeName]?.overrideVisibility),_=x!==void 0?x:m;ke.useEffect(()=>()=>{v(!1)},[]);const E=_&&e.isParentVisible,A=_?JMe:qMe,w=()=>{c(null)},T=()=>{l===e.nodeName?c(null):c(e.nodeName)};return C.jsxs(C.Fragment,{children:[C.jsxs(et,{className:XPe,style:{cursor:d?"pointer":void 0},onClick:d?y:void 0,onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),children:[new Array(e.indentCount).fill(null).map((k,N)=>C.jsx(et,{className:KPe},N)),C.jsx(et,{style:{opacity:d?.7:.1},children:b?C.jsx(EMe,{style:{height:"1em",width:"1em",transform:"translateY(0.1em)"}}):C.jsx(AMe,{style:{height:"1em",width:"1em",transform:"translateY(0.1em)"}})}),C.jsx(et,{style:{width:"1.5em",height:"1.5em"},children:C.jsx(Tr,{label:"Toggle visibility override",children:C.jsx(A,{style:{cursor:"pointer",opacity:E?.85:.25,width:"1.5em",height:"1.5em",display:"block",...x!==void 0&&{color:i.colors[i.primaryColor][r==="dark"?4:6],filter:`drop-shadow(0 0 2px ${i.colors[i.primaryColor][r==="dark"?4:6]}30)`}},onMouseDown:u,onMouseEnter:f})})}),C.jsxs(et,{style:{flexGrow:"1",userSelect:"none",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[C.jsx("span",{style:{opacity:"0.3"},children:"/"}),e.nodeName.split("/").at(-1)]}),x!==void 0?C.jsx(et,{className:vV,style:{width:"1.25em",height:"1.25em",display:"block",transition:"opacity 0.2s",marginRight:"0.25em"},children:C.jsx(Tr,{label:"Clear visibility override",children:C.jsx(KMe,{style:{cursor:"pointer",width:"1.25em",height:"1.25em",display:"block",opacity:.7,color:i.colors[i.primaryColor][r==="dark"?4:6],filter:`drop-shadow(0 0 2px ${i.colors[i.primaryColor][r==="dark"?4:6]}30)`},onClick:k=>{k.stopPropagation(),n.sceneTreeActions.updateNodeAttributes(e.nodeName,{overrideVisibility:void 0})}})})}):null,C.jsxs(ko,{position:"bottom",withArrow:!0,shadow:"sm",arrowSize:10,opened:l===e.nodeName,onDismiss:w,middlewares:{flip:!0,shift:!0},withinPortal:!0,children:[C.jsx(ko.Target,{children:C.jsx(et,{className:vV,style:{width:"1.25em",height:"1.25em",display:"block",transition:"opacity 0.2s"},children:C.jsx(Tr,{label:"Local props",children:C.jsx(aAe,{style:{cursor:"pointer",width:"1.25em",height:"1.25em",display:"block"},onClick:k=>{k.stopPropagation(),T()}})})})}),C.jsx(ko.Dropdown,{onMouseDown:k=>k.stopPropagation(),onClick:k=>k.stopPropagation(),children:C.jsx(hUe,{nodeName:e.nodeName,closePopoverFn:w})})]})]}),b?h?.map(k=>C.jsx(t,{nodeName:k,isParentVisible:E,indentCount:e.indentCount+1},k)):null]})});function bUe({devSettingsStore:t}){const e=ke.useContext(xi),n=t(u=>u.showStats),i=e.useGui(u=>u.theme.show_logo),r=t(u=>u.fixedDpr),a=t(u=>u.logCamera),s=t(u=>u.enableOrbitCrosshair),o=e.useGui(u=>u.theme.dark_mode),l=u=>{e.useGui.setState({theme:{...e.useGui.getState().theme,dark_mode:u}})},c=u=>{e.useGui.setState({theme:{...e.useGui.getState().theme,show_logo:u}})};return C.jsx(xs,{withBorder:!0,p:"xs",children:C.jsxs(Em,{gap:"xs",children:[C.jsx(fd,{radius:"xs",label:"Dark Mode",checked:o,onChange:u=>l(u.currentTarget.checked),size:"xs"}),C.jsx(fd,{radius:"xs",label:"WebGL Stats",checked:n,onChange:u=>t.setState({showStats:u.currentTarget.checked}),size:"xs"}),C.jsx(fd,{radius:"xs",label:"Show Viser Logo",checked:i,onChange:u=>c(u.currentTarget.checked),size:"xs"}),C.jsx(Tr,{label:C.jsxs(C.Fragment,{children:["Log camera position and orientation to the",C.jsx("br",{}),"Javascript console."]}),refProp:"rootRef",children:C.jsx(fd,{radius:"xs",label:"Log Camera to Console",checked:a,onChange:u=>t.setState({logCamera:u.currentTarget.checked}),size:"xs"})}),C.jsx(Tr,{label:C.jsxs(C.Fragment,{children:["Show crosshair at look-at point",C.jsx("br",{}),"when moving camera."]}),refProp:"rootRef",children:C.jsx(fd,{radius:"xs",label:"Show Orbit Crosshair",checked:s,onChange:u=>t.setState({enableOrbitCrosshair:u.currentTarget.checked}),size:"xs"})}),C.jsx(Tr,{label:C.jsxs(C.Fragment,{children:["Device pixel ratio for rendering.",C.jsx("br",{}),"Default (adaptive) behavior dynamically",C.jsx("br",{}),"reduces resolution to maintain framerates."]}),children:C.jsx(Dy,{label:"Device Pixel Ratio",placeholder:"Adaptive",value:r?.toString()??"",onChange:u=>t.setState({fixedDpr:u?parseFloat(u):null}),data:[{value:"",label:"Adaptive"},{value:"0.5",label:"0.5"},{value:"1",label:"1.0"},{value:"1.5",label:"1.5"},{value:"2",label:"2.0"}],size:"xs",radius:"xs",clearable:!1})})]})})}const yUe=ke.memo(dUe);function vUe(){const t=ke.useContext(xi),e=t.mutable.current,n=t.useGui(a=>a.theme.control_width),[i,r]=ke.useState(!1);return C.jsx(C.Fragment,{children:C.jsxs(Em,{gap:"xs",mt:"0.3em",children:[C.jsx(Tr,{label:"Server URL",position:"top-start",children:C.jsx(sg,{leftSection:C.jsx(g_,{src:"./logo.svg",style:{width:"1rem",height:"auto",filter:"grayscale(100%) opacity(0.3)"}}),leftSectionWidth:"1.8rem",defaultValue:t.useGui(a=>a.server),onBlur:a=>t.useGui.setState({server:a.currentTarget.value}),onKeyDown:a=>{a.key==="Enter"&&(a.currentTarget.blur(),a.currentTarget.focus())}})}),C.jsxs(j0,{gap:"0.5em",children:[C.jsx(ds,{onClick:async()=>{if("showSaveFilePicker"in window&&(()=>{try{return window.self===window.top}catch{return!1}})()){const s=window.showSaveFilePicker({suggestedName:"render.png",types:[{accept:{"image/png":[".png"]}}]});e.canvas?.toBlob(async o=>{if(o===null){console.error("Export failed");return}const c=await(await s).createWritable();await c.write(o),await c.close()})}else e.canvas?.toBlob(s=>{if(s===null){console.error("Export failed");return}const o=URL.createObjectURL(s),l=document.createElement("a");l.href=o;const c="render.png";l.download=c,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(o)})},flex:1,leftSection:n==="small"?void 0:C.jsx(oAe,{size:"1rem"}),px:"0",style:{height:"1.875rem"},children:"Save Canvas"}),C.jsx(ds,{onClick:()=>{e.resetCameraView()},flex:1,leftSection:n==="small"?void 0:C.jsx(eAe,{size:"1rem"}),px:"0",style:{height:"1.875rem"},children:"Reset View"})]}),C.jsxs(j0,{gap:"md",children:[C.jsx(Tr,{label:C.jsxs(C.Fragment,{children:["Show tool for setting the look-at point and",C.jsx("br",{}),"up direction of the camera.",C.jsx("br",{}),C.jsx("br",{}),"This can be used to set the origin of the",C.jsx("br",{}),"camera's orbit controls."]}),refProp:"rootRef",position:"top-start",children:C.jsx(ch,{radius:"xs",label:"Orbit Origin Tool",onChange:a=>{t.useGui.setState({showOrbitOriginTool:a.currentTarget.checked})},styles:{label:{paddingLeft:"8px",letterSpacing:"-0.3px"},root:{flex:1}},size:"sm"})}),C.jsx(ch,{radius:"xs",label:"Dev Settings",onChange:a=>{r(a.currentTarget.checked)},styles:{label:{paddingLeft:"8px",letterSpacing:"-0.3px"},root:{flex:1}},size:"sm"})]}),C.jsx(et,{mt:"-0.4em",children:C.jsx(sh,{in:i,children:C.jsx(et,{mt:"0.4em",children:C.jsx(bUe,{devSettingsStore:t.useDevSettings})})})}),C.jsx(ig,{}),C.jsxs(et,{children:[C.jsx(Tr,{label:C.jsxs(C.Fragment,{children:["Hierarchical view of all objects in the 3D scene.",C.jsx("br",{}),"Use to override visibility and properties."]}),position:"top-start",children:C.jsx(iu,{style:{fontWeight:500},fz:"sm",children:"Scene tree"})}),C.jsx(yUe,{})]})]})})}const g2=ke.createContext(null);function fm({children:t}){const e=ke.useRef(null),[n,{toggle:i}]=uc(!0);return C.jsx(g2.Provider,{value:{wrapperRef:e,expanded:n,toggleExpanded:i},children:C.jsx(C.Fragment,{children:C.jsx(xs,{radius:"0",shadow:"0 0 1em 0 rgba(0,0,0,0.1)",style:{boxSizing:"border-box",zIndex:10,position:"fixed",bottom:0,right:0,margin:0,minHeight:"3.5em",maxHeight:"60%",width:"20em",transition:"height 0.3s linear"},component:bc.Autosize,ref:e,children:C.jsx(et,{style:{width:"20em"},children:t})})})})}fm.Handle=function({children:e}){const n=ke.useContext(g2);return C.jsx(et,{style:{cursor:"pointer",position:"relative",fontWeight:400,userSelect:"none",display:"flex",alignItems:"center",padding:"0 0.8em",height:"3.5em"},onClick:()=>{n.toggleExpanded()},children:e})};fm.Contents=function({children:e}){const n=ke.useContext(g2);return C.jsxs(sh,{in:n.expanded,children:[C.jsx(ig,{mx:"xs"}),e]})};fm.HideWhenCollapsed=function({children:e}){return ke.useContext(g2)?.expanded??!0?e:null};const xUe={move:"touchmove",end:"touchend"},_Ue={move:"mousemove",end:"mouseup"};function SUe(t){return t.type==="touchmove"}function wUe(t){return t.type==="mousemove"}const b2=ke.createContext(null);function hm({children:t,width:e}){const n=ke.useRef(null),[i,{toggle:r}]=uc(!0),[a,s]=ke.useState(800),o=ke.useRef({dragging:!1,startPosX:0,startPosY:0,startClientX:0,startClientY:0}),l=ke.useRef({}),c=(d,b,y)=>Math.abs(d+b/2)<Math.abs(d-y+b/2)?d:d-y,u=15;function f(d,b){const y=n.current;if(y===null)return[d,b];const v=y.parentElement;if(v===null)return[d,b];let m=d,x=b;return m=Math.min(m,v.clientWidth-y.clientWidth-u),m=Math.max(m,u),x=Math.min(x,v.clientHeight-y.clientHeight-u),x=Math.max(x,u),y.style.top=`${x.toString()}px`,y.style.left=`${m.toString()}px`,[c(m,y.clientWidth,v.clientWidth),c(x,y.clientHeight,v.clientHeight)]}ke.useEffect(()=>{const d=n.current;if(d===null)return;const b=d.parentElement;if(b===null)return;const y=new ResizeObserver(()=>{l.current.x===void 0&&(l.current.x=c(d.offsetLeft,d.clientWidth,b.clientWidth)),l.current.y===void 0&&(l.current.y=c(d.offsetTop,d.clientHeight,b.clientHeight));const v=b.clientHeight-u*2;a!==v&&s(v);let m=l.current.x,x=l.current.y;for(;m<0;)m+=b.clientWidth;for(;x<0;)x+=b.clientHeight;f(m,x)});return y.observe(d),y.observe(b),()=>{y.disconnect()}});const h=d=>{const b=o.current,y=n.current;if(!y)return;d.type=="touchstart"?(d=d,b.startClientX=d.touches[0].clientX,b.startClientY=d.touches[0].clientY):(d=d,b.startClientX=d.clientX,b.startClientY=d.clientY),b.startPosX=y.offsetLeft,b.startPosY=y.offsetTop;const v=d.type=="touchstart"?xUe:_Ue;function m(x){let _=0,E=0;if(SUe(x)?(x=x,_=x.touches[0].clientX-b.startClientX,E=x.touches[0].clientY-b.startClientY):wUe(x)&&(x=x,_=x.clientX-b.startClientX,E=x.clientY-b.startClientY),Math.abs(_)<=3&&Math.abs(E)<=3)return;b.dragging=!0;const A=b.startPosX+_,w=b.startPosY+E;[l.current.x,l.current.y]=f(A,w)}window.addEventListener(v.move,m),window.addEventListener(v.end,()=>{d.type=="touchstart"&&(b.dragging=!1),window.removeEventListener(v.move,m)},{once:!0})};return C.jsx(b2.Provider,{value:{wrapperRef:n,expanded:i,width:e,maxHeight:a,toggleExpanded:r,dragHandler:h,dragInfo:o},children:C.jsx(xs,{radius:"xs",shadow:"0.1em 0 1em 0 rgba(0,0,0,0.1)",style:{boxSizing:"border-box",width:e,zIndex:10,position:"absolute",top:"1em",right:"1em",margin:0,"& .expandIcon":{transform:"rotate(0)"},overflow:"hidden"},ref:n,children:t})})}hm.Handle=function({children:e}){const n=ke.useContext(b2);return C.jsx(C.Fragment,{children:C.jsx(et,{style:{borderRadius:"0.2em 0.2em 0 0",lineHeight:"1.5em",cursor:"pointer",position:"relative",fontWeight:400,userSelect:"none",display:"flex",alignItems:"center",padding:"0 0.75em",height:"2.75em"},onClick:()=>{const i=n.dragInfo.current;if(i.dragging){i.dragging=!1;return}n.toggleExpanded()},onTouchStart:i=>{n.dragHandler(i)},onMouseDown:i=>{n.dragHandler(i)},children:e})})};hm.Contents=function({children:e}){const n=ke.useContext(b2);return C.jsxs(sh,{in:n.expanded,children:[C.jsx(ig,{mx:"xs"}),C.jsx(bc.Autosize,{mah:n.maxHeight,children:C.jsx(et,{style:{width:n.width},children:e})})]})};hm.HideWhenCollapsed=function({children:e}){return ke.useContext(b2)?.expanded??!0?e:null};const Cee=ke.createContext(null);function n1({children:t,collapsible:e,width:n}){const[i,{toggle:r}]=uc(!1),a=C.jsx(et,{style:s=>({position:"absolute",top:0,right:i?"0em":"-3em",transitionProperty:"right",transitionDuration:"0.5s",transitionDelay:"0.25s",borderBottomLeftRadius:"0.5em",backgroundColor:ng().colorScheme=="dark"?s.colors.dark[5]:s.colors.gray[2],padding:"0.5em"}),children:C.jsx(_l,{onClick:s=>{s.stopPropagation(),r()},children:C.jsx(Tr,{zIndex:100,label:"Show sidebar",children:C.jsx(DMe,{})})})});return C.jsxs(Cee.Provider,{value:{collapsible:e,toggleCollapsed:r},children:[a,C.jsx(xs,{shadow:"0 0 1em 0 rgba(0,0,0,0.1)",style:{width:i?0:n,boxSizing:"content-box",transition:"width 0.5s 0s",zIndex:8}}),C.jsx(xs,{radius:0,style:{width:i?0:n,top:0,bottom:0,right:0,position:"absolute",boxSizing:"content-box",transition:"width 0.5s 0s",zIndex:20},children:C.jsx(et,{style:{width:n,height:"100%",display:"flex",flexDirection:"column"},children:t})})]})}n1.Handle=function({children:e}){const{toggleCollapsed:n,collapsible:i}=ke.useContext(Cee),r=C.jsx(_l,{onClick:a=>{a.stopPropagation(),n()},children:C.jsx(Tr,{zIndex:100,label:"Collapse sidebar",children:C.jsx(IMe,{stroke:1.625})})});return C.jsxs(C.Fragment,{children:[C.jsxs(et,{p:"xs",style:{lineHeight:"1.5em",fontWeight:400,position:"relative",zIndex:20,alignItems:"center",display:"flex",flexDirection:"row"},children:[e,i?r:null]}),C.jsx(ig,{mx:"xs"})]})};n1.Contents=function({children:e}){return C.jsx(bc,{style:{flexGrow:1},children:e})};const EUe="root",MUe=ke.memo(CU);function AUe(t){const e=ma(),n=wO(`(max-width: ${e.breakpoints.xs})`),i=ke.useContext(xi),r=i.useGui(f=>"root"in f.guiUuidSetFromContainerUuid),[a,{toggle:s}]=uc(!1),o=i.useGui(f=>f.theme.control_width),l=o=="small"?"16em":o=="medium"?"20em":o=="large"?"24em":null,c=C.jsx(_l,{onClick:f=>{f.stopPropagation(),s()},style:{display:r?void 0:"none",transform:"translateY(0.05em)"},children:C.jsx(Tr,{zIndex:100,label:a?"Return to GUI":"Configuration & diagnostics",withinPortal:!0,children:a?C.jsx(xMe,{stroke:1.625}):C.jsx(yMe,{stroke:1.625})})}),u=C.jsxs(C.Fragment,{children:[C.jsx(sh,{in:!r||a,children:C.jsx(et,{p:"xs",pt:"0.375em",children:C.jsx(vUe,{})})}),C.jsx(sh,{in:r&&!a,children:C.jsx(MUe,{containerUuid:EUe})})]});return n?C.jsxs(fm,{children:[C.jsxs(fm.Handle,{children:[C.jsx(U8,{}),C.jsxs(fm.HideWhenCollapsed,{children:[C.jsx(F8,{}),c]})]}),C.jsx(fm.Contents,{children:u})]}):t.control_layout==="floating"?C.jsxs(hm,{width:l,children:[C.jsxs(hm.Handle,{children:[C.jsx(U8,{}),C.jsxs(hm.HideWhenCollapsed,{children:[C.jsx(F8,{}),c]})]}),C.jsx(hm.Contents,{children:u})]}):C.jsxs(n1,{width:l,collapsible:t.control_layout==="collapsible",children:[C.jsxs(n1.Handle,{children:[C.jsx(U8,{}),C.jsx(F8,{}),c]}),C.jsx(n1.Contents,{children:u})]})}function U8(){const{useGui:t}=ke.useContext(xi),e=t(i=>i.websocketConnected),n=t(i=>i.label);return C.jsxs(C.Fragment,{children:[C.jsx("div",{style:{width:"1.1em"}})," ",C.jsx(hc,{transition:"skew-down",mounted:e,children:i=>C.jsx(UMe,{color:"#0b0",style:{position:"absolute",width:"1.25em",height:"1.25em",...i}})}),C.jsx(hc,{transition:"skew-down",mounted:!e,children:i=>C.jsx(Vd,{size:"xs",type:"dots",color:"red",style:{position:"absolute",...i}})}),C.jsx(et,{px:"xs",style:{flexGrow:1,letterSpacing:"-0.5px"},pt:"0.1em",children:n!==""?n:e?"Connected":"Connecting..."})]})}function F8(){const t=ke.useContext(xi),e=t.mutable.current,n=t.useGui(d=>d.websocketConnected),i=t.useGui(d=>d.shareUrl),r=t.useGui(d=>d.setShareUrl),[a,s]=ke.useState(!1),[o,{open:l,close:c}]=uc(!1),[u,{toggle:f}]=uc();ke.useEffect(()=>{i!==null&&s(!1)},[i]),ke.useEffect(()=>{!n&&o&&c()},[n,o]);const h=ng().colorScheme;return t.useGui(d=>d.theme).show_share_button===!1?null:C.jsxs(C.Fragment,{children:[C.jsx(Tr,{zIndex:100,label:n?"Share":"Share (needs connection)",withinPortal:!0,children:C.jsx(_l,{onClick:d=>{d.stopPropagation(),l()},style:{transform:"translateY(0.05em)"},disabled:!n,children:C.jsx(mAe,{stroke:2,height:"1.125em",width:"1.125em"})})}),C.jsxs(mo,{title:"Share",opened:o,onClose:c,withCloseButton:!1,zIndex:100,withinPortal:!0,onClick:d=>d.stopPropagation(),onMouseDown:d=>d.stopPropagation(),onMouseMove:d=>d.stopPropagation(),onMouseUp:d=>d.stopPropagation(),styles:{title:{fontWeight:600}},children:[i===null?C.jsx(C.Fragment,{children:a?C.jsx(Em,{mb:"xl",children:C.jsx(Vd,{size:"xl",mx:"auto",type:"dots"})}):C.jsxs(Em,{mb:"md",children:[C.jsx(iu,{children:"Create a public, shareable URL to this Viser instance."}),C.jsx(ds,{fullWidth:!0,onClick:()=>{e.sendMessage({type:"ShareUrlRequest"}),s(!0)},children:"Request Share URL"})]})}):C.jsxs(C.Fragment,{children:[C.jsx(iu,{children:"Share URL is connected."}),C.jsxs(Em,{gap:"xs",my:"md",children:[C.jsx(sg,{value:i}),C.jsxs(lh,{justify:"space-between",columnGap:"0.5em",align:"center",children:[C.jsx(fK,{value:i,children:({copied:d,copy:b})=>C.jsx(ds,{style:{width:"50%"},leftSection:d?C.jsx(YP,{height:"1.375em",width:"1.375em"}):C.jsx(jMe,{height:"1.375em",width:"1.375em"}),onClick:b,variant:d?"outline":"filled",children:d?"Copied!":"Copy URL"})}),C.jsx(ds,{style:{flexGrow:1},leftSection:u?C.jsx(fAe,{}):C.jsx(dAe,{}),onClick:f,children:"QR Code"}),C.jsx(Tr,{zIndex:100,label:"Disconnect",withinPortal:!0,children:C.jsx(ds,{color:"red",onClick:()=>{e.sendMessage({type:"ShareUrlDisconnect"}),r(null)},children:C.jsx(cAe,{})})})]}),C.jsx(sh,{in:u,children:C.jsx(GPe,{value:i,fgColor:h==="dark"?"#ffffff":"#000000",bgColor:"rgba(0,0,0,0)",level:"M",style:{width:"100%",height:"auto",margin:"1em auto 0 auto"}})})]})]}),C.jsxs(iu,{size:"xs",children:["Share links are experimental and bandwidth-limited. Problems? Consider"," ",C.jsx(wm,{href:"https://github.com/nerfstudio-project/viser/issues",children:"reporting on GitHub"}),"."]})]})]})}var Pn,AV,t0,QA;(function(t){t.HEX="HEX",t.RGB="RGB",t.HSL="HSL",t.CIELab="CIELab",t.CMYK="CMYK"})(Pn||(Pn={})),function(t){t.ANALOGOUS="ANALOGOUS",t.COMPLEMENTARY="COMPLEMENTARY",t.SPLIT_COMPLEMENTARY="SPLIT_COMPLEMENTARY",t.TRIADIC="TRIADIC",t.TETRADIC="TETRADIC",t.SQUARE="SQUARE"}(AV||(AV={})),function(t){t.ADDITIVE="ADDITIVE",t.SUBTRACTIVE="SUBTRACTIVE"}(t0||(t0={})),function(t){t.black="#000000",t.silver="#C0C0C0",t.gray="#808080",t.white="#FFFFFF",t.maroon="#800000",t.red="#FF0000",t.purple="#800080",t.fuchsia="#FF00FF",t.green="#008000",t.lime="#00FF00",t.olive="#808000",t.yellow="#FFFF00",t.navy="#000080",t.blue="#0000FF",t.teal="#008080",t.aqua="#00FFFF",t.orange="#FFA500",t.aliceblue="#F0F8FF",t.antiquewhite="#FAEBD7",t.aquamarine="#7FFFD4",t.azure="#F0FFFF",t.beige="#F5F5DC",t.bisque="#FFE4C4",t.blanchedalmond="#FFEBCD",t.blueviolet="#8A2BE2",t.brown="#A52A2A",t.burlywood="#DEB887",t.cadetblue="#5F9EA0",t.chartreuse="#7FFF00",t.chocolate="#D2691E",t.coral="#FF7F50",t.cornflowerblue="#6495ED",t.cornsilk="#FFF8DC",t.crimson="#DC143C",t.cyan="#00FFFF",t.darkblue="#00008B",t.darkcyan="#008B8B",t.darkgoldenrod="#B8860B",t.darkgray="#A9A9A9",t.darkgreen="#006400",t.darkgrey="#A9A9A9",t.darkkhaki="#BDB76B",t.darkmagenta="#8B008B",t.darkolivegreen="#556B2F",t.darkorange="#FF8C00",t.darkorchid="#9932CC",t.darkred="#8B0000",t.darksalmon="#E9967A",t.darkseagreen="#8FBC8F",t.darkslateblue="#483D8B",t.darkslategray="#2F4F4F",t.darkslategrey="#2F4F4F",t.darkturquoise="#00CED1",t.darkviolet="#9400D3",t.deeppink="#FF1493",t.deepskyblue="#00BFFF",t.dimgray="#696969",t.dimgrey="#696969",t.dodgerblue="#1E90FF",t.firebrick="#B22222",t.floralwhite="#FFFAF0",t.forestgreen="#228B22",t.gainsboro="#DCDCDC",t.ghostwhite="#F8F8FF",t.gold="#FFD700",t.goldenrod="#DAA520",t.greenyellow="#ADFF2F",t.grey="#808080",t.honeydew="#F0FFF0",t.hotpink="#FF69B4",t.indianred="#CD5C5C",t.indigo="#4B0082",t.ivory="#FFFFF0",t.khaki="#F0E68C",t.lavender="#E6E6FA",t.lavenderblush="#FFF0F5",t.lawngreen="#7CFC00",t.lemonchiffon="#FFFACD",t.lightblue="#ADD8E6",t.lightcoral="#F08080",t.lightcyan="#E0FFFF",t.lightgoldenrodyellow="#FAFAD2",t.lightgray="#D3D3D3",t.lightgreen="#90EE90",t.lightgrey="#D3D3D3",t.lightpink="#FFB6C1",t.lightsalmon="#FFA07A",t.lightseagreen="#20B2AA",t.lightskyblue="#87CEFA",t.lightslategray="#778899",t.lightslategrey="#778899",t.lightsteelblue="#B0C4DE",t.lightyellow="#FFFFE0",t.limegreen="#32CD32",t.linen="#FAF0E6",t.magenta="#FF00FF",t.mediumaquamarine="#66CDAA",t.mediumblue="#0000CD",t.mediumorchid="#BA55D3",t.mediumpurple="#9370DB",t.mediumseagreen="#3CB371",t.mediumslateblue="#7B68EE",t.mediumspringgreen="#00FA9A",t.mediumturquoise="#48D1CC",t.mediumvioletred="#C71585",t.midnightblue="#191970",t.mintcream="#F5FFFA",t.mistyrose="#FFE4E1",t.moccasin="#FFE4B5",t.navajowhite="#FFDEAD",t.oldlace="#FDF5E6",t.olivedrab="#6B8E23",t.orangered="#FF4500",t.orchid="#DA70D6",t.palegoldenrod="#EEE8AA",t.palegreen="#98FB98",t.paleturquoise="#AFEEEE",t.palevioletred="#DB7093",t.papayawhip="#FFEFD5",t.peachpuff="#FFDAB9",t.peru="#CD853F",t.pink="#FFC0CB",t.plum="#DDA0DD",t.powderblue="#B0E0E6",t.rosybrown="#BC8F8F",t.royalblue="#4169E1",t.saddlebrown="#8B4513",t.salmon="#FA8072",t.sandybrown="#F4A460",t.seagreen="#2E8B57",t.seashell="#FFF5EE",t.sienna="#A0522D",t.skyblue="#87CEEB",t.slateblue="#6A5ACD",t.slategray="#708090",t.slategrey="#708090",t.snow="#FFFAFA",t.springgreen="#00FF7F",t.steelblue="#4682B4",t.tan="#D2B48C",t.thistle="#D8BFD8",t.tomato="#FF6347",t.turquoise="#40E0D0",t.violet="#EE82EE",t.wheat="#F5DEB3",t.whitesmoke="#F5F5F5",t.yellowgreen="#9ACD32",t.rebeccapurple="#663399"}(QA||(QA={}));const Ree=Object.keys(QA),TUe={HEX:["R","G","B","A"],RGB:["R","G","B","A"],HSL:["H","S","L","A"],CIELab:["L","a","b","A"],CMYK:["C","M","Y","K","A"]},fI={BGR:Pn.RGB,ABGR:Pn.RGB,HLS:Pn.HSL,AHLS:Pn.HSL,LAB:Pn.CIELab,ALAB:Pn.CIELab,CKMY:Pn.CMYK,ACKMY:Pn.CMYK};var TV;(function(t){t.NUMBER="number",t.BOOLEAN="boolean"})(TV||(TV={}));const Fb={[Pn.HEX]:/^#(?:([a-f\d])([a-f\d])([a-f\d])([a-f\d])?|([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?)$/i,[Pn.RGB]:/^rgba?\s*\(\s*(?:((?:\d*\.)?\d+%?)\s*,\s*((?:\d*\.)?\d+%?)\s*,\s*((?:\d*\.)?\d+%?)(?:\s*,\s*((?:\d*\.)?\d+))?|((?:\d*\.)?\d+%?)\s*((?:\d*\.)?\d+%?)\s*((?:\d*\.)?\d+%?)(?:\s*\/\s*((?:\d*\.)?\d+%?))?)\s*\)$/,[Pn.HSL]:/^hsla?\s*\(\s*(?:(-?(?:\d*\.)?\d+(?:deg|grad|rad|turn)?)\s*,\s*((?:\d*\.)?\d+)%\s*,\s*((?:\d*\.)?\d+)%(?:\s*,\s*((?:\d*\.)?\d+))?|(-?(?:\d*\.)?\d+(?:deg|grad|rad|turn)?)\s*((?:\d*\.)?\d+)%\s*((?:\d*\.)?\d+)%(?:\s*\/\s*((?:\d*\.)?\d+%?))?)\s*\)$/,[Pn.CIELab]:/^lab\s*\(\s*(?:((?:\d*\.)?\d+%?)\s*(-?(?:\d*\.)?\d+%?)\s*(-?(?:\d*\.)?\d+%?)(?:\s*\/\s*((?:\d*\.)?\d+%?))?)\s*\)$/,[Pn.CMYK]:/^(?:device-cmyk|cmyk)\s*\(\s*(?:((?:\d*\.)?\d+%?)\s*,\s*((?:\d*\.)?\d+%?)\s*,\s*((?:\d*\.)?\d+%?)\s*,\s*((?:\d*\.)?\d+%?)(?:\s*,\s*((?:\d*\.)?\d+))?|((?:\d*\.)?\d+%?)\s*((?:\d*\.)?\d+%?)\s*((?:\d*\.)?\d+%?)\s*((?:\d*\.)?\d+%?)(?:\s*\/\s*((?:\d*\.)?\d+%?))?)\s*\)$/},CUe=/^(-?(?:\d*\.)?\d+)((?:deg|grad|rad|turn)?)$/,hg=/^(-?\d+(?:\.\d+)?|-?\.\d+)%$/,hI=/^0x([a-f\d]{1,2})$/i,RUe=/\{(\d+)\}/g,kUe="The provided string color doesn't have a correct format",DUe="The provided color object doesn't have the proper keys or format";var ol,tu,dI;(function(t){t.NONE="none",t.DEGREES="deg",t.GRADIANS="grad",t.RADIANS="rad",t.TURNS="turn"})(ol||(ol={})),function(t){t.NONE="none",t.PERCENT="percent"}(tu||(tu={})),function(t){t.DEVICE_CMYK="device-cmyk",t.CMYK="cmyk"}(dI||(dI={}));ol.NONE,tu.NONE,tu.NONE,tu.PERCENT,tu.NONE,dI.DEVICE_CMYK;const ao=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),G_=t=>+`${t}`.replace(hg,"$1"),Dm=t=>hg.test(`${t}`)?G_(t):Math.min(+t,100),yE=t=>(t.length===1&&(t+=t),parseInt(t,16)),vE=t=>{const e=bn(t,0).toString(16).toUpperCase();return e.length===1?`0x0${e}`:`0x${e}`},dm=(t,e=!1)=>!e&&hg.test(t)?Math.min(255*G_(t)/100,255):hI.test(t)?(t.length===3&&(t+=t.slice(-1)),e?bn(t)/255:bn(t)):Math.min(+t,e?1:255),eT=t=>hg.test(t)?E0(125*G_(t)/100,-125,125):E0(+t,-125,125),vd=t=>Math.min(hg.test(t)?G_(t)/100:+t,1),kee=t=>[...t].sort().join("").toUpperCase(),bn=(t,e=6)=>{const n=Math.pow(10,e);return Math.round(+t*n)/n},E0=(t,e,n)=>Math.max(e,Math.min(t,n)),Dee=t=>{if(typeof t=="string"){const e=t.match(CUe),n=+e[1];switch(e[2]){case ol.RADIANS:t=bn(180*n/Math.PI);break;case ol.TURNS:t=bn(360*n);break;case ol.GRADIANS:t=bn(.9*n);break;case ol.DEGREES:default:t=n}}return(t>360||t<0)&&(t-=360*Math.floor(t/360)),t},NUe=(t,e)=>{let n;switch(e){case ol.RADIANS:n=bn((i=>i*Math.PI/180)(t));break;case ol.TURNS:n=bn(t/360);break;case ol.GRADIANS:n=bn(10/9*t);break;case ol.DEGREES:case ol.NONE:default:n=t}return n},Nee=[[.4360747,.3850649,.1430804],[.2225045,.7168786,.0606169],[.0139322,.0971045,.7141733]],IUe=[[3.1338561,-1.6168667,-.4906146],[-.9787684,1.9161415,.033454],[.0719453,-.2289914,1.4052427]],M0=Nee.map(t=>t.reduce((e,n)=>e+n,0)),z8=(t,e,n)=>(n<0&&(n+=6),n>=6&&(n-=6),bn(n<1?255*((e-t)*n+t):n<3?255*e:n<4?255*((e-t)*(4-n)+t):255*t)),OUe=t=>t<=.04045?t/12.92:((t+.055)/1.055)**2.4,LUe=t=>t<=.0031308?12.92*t:1.055*t**(1/2.4)-.055,Iee=(t,e,n,i)=>{const r=[0,0,0],a=[t,e,n];return i.forEach((s,o)=>{s.forEach((l,c)=>{r[o]+=l*a[c]})}),r},ad=(t,e,n)=>{e/=100;const i=(n/=100)<=.5?n*(e+1):n+e-n*e,r=2*n-i;return{R:z8(r,i,(t/=60)+2),G:z8(r,i,t),B:z8(r,i,t-2)}},pI=(t,e,n,i=1)=>{t/=255,e/=255,n/=255,i=Math.min(i,1);const r=Math.max(t,e,n),a=Math.min(t,e,n),s=r-a;let o=0,l=0;const c=(r+a)/2;if(s!==0){switch(r){case t:o=(e-n)/s%6;break;case e:o=(n-t)/s+2;break;case n:o=(t-e)/s+4}o=bn(60*o),o<0&&(o+=360),l=s/(1-Math.abs(2*c-1))}return{H:o,S:bn(100*l),L:bn(100*c),A:i}},tT=(t,e,n)=>{const i=[t/255,e/255,n/255].map(OUe),r=Iee(i[0],i[1],i[2],Nee),a=((s,o,l)=>{const c=h=>h>.008856451679035631?Math.cbrt(h):h/.12841854934601665+.13793103448275862,u=c(s/M0[0]),f=c(o/M0[1]);return[116*f-16,500*(u-f),200*(f-c(l/M0[2]))]})(r[0],r[1],r[2]);return{L:a[0],a:a[1],b:a[2]}},Oee=(t,e,n)=>{const i=((a,s,o)=>{const l=h=>h>.20689655172413793?h**3:.12841854934601665*(h-.13793103448275862),c=(a+16)/116,u=s/500,f=o/200;return[M0[0]*l(c+u),M0[1]*l(c),M0[2]*l(c-f)]})(t,e,n),r=Iee(i[0],i[1],i[2],IUe).map(LUe);return{R:E0(255*r[0],0,255),G:E0(255*r[1],0,255),B:E0(255*r[2],0,255)}},Lee=(t,e,n,i)=>({R:bn(255*(1-t)*(i=1-i)),G:bn(255*(1-e)*i),B:bn(255*(1-n)*i)}),PUe=(t,e,n)=>{t/=255,e/=255,n/=255;const i=1-Math.max(t,e,n),r=1-i,a=r&&(r-e)/r,s=r&&(r-n)/r;return{C:bn(100*(r&&(r-t)/r)),M:bn(100*a),Y:bn(100*s),K:bn(100*i)}},j8=t=>t?", ":",",ix=(t,e)=>{const n=kee(Object.keys(t));return TUe[fI[n]].reduce((i,r,a)=>{const s=t[r];return s!==void 0&&i.push(e(s,a)),i},[])},rx=(t,e)=>t.replace(RUe,(n,i)=>`${e[+i-1]}`),xE=(t,e,n=!1)=>{const{alphaUnit:i,legacyCSS:r,decimals:a}=e;return i!==tu.PERCENT||r&&!n?bn(t,a):`${bn(100*t,a)}%`},Wl={[Pn.HEX]:t=>{const e=ix(t,i=>(r=>{let a=bn(r,0).toString(16).toUpperCase();return a.length===1&&(a=`0${a}`),a})(bn(i))),n=e.length===4?"#{1}{2}{3}{4}":"#{1}{2}{3}";return rx(n,e)},[Pn.RGB]:(t,e)=>{const{decimals:n,legacyCSS:i,spacesAfterCommas:r,rgbUnit:a}=e,s=j8(r),o=ix(t,(c,u)=>a===tu.PERCENT&&u<3?`${((f,h)=>bn(f/255*100,h))(c,n)}%`:u===3?xE(c,e):bn(c,n)),l=i?o.length===4?`rgba({1}${s}{2}${s}{3}${s}{4})`:`rgb({1}${s}{2}${s}{3})`:o.length===4?"rgb({1} {2} {3} / {4})":"rgb({1} {2} {3})";return rx(l,o)},[Pn.HSL]:(t,e)=>{const{decimals:n,legacyCSS:i,spacesAfterCommas:r,anglesUnit:a}=e,s=j8(r),o=ix(t,(c,u)=>u===0&&a!==ol.NONE?`${bn(NUe(c,a),n)}${a}`:u===3?xE(c,e):bn(c,n)),l=i?o.length===4?`hsla({1}${s}{2}%${s}{3}%${s}{4})`:`hsl({1}${s}{2}%${s}{3}%)`:o.length===4?"hsl({1} {2}% {3}% / {4})":"hsl({1} {2}% {3}%)";return rx(l,o)},[Pn.CIELab]:(t,e)=>{const{decimals:n,labUnit:i}=e,r=ix(t,(s,o)=>{if(o===0){const l=bn(Dm(s),n);return i===tu.PERCENT?`${l}%`:`${l}`}return o<3?i===tu.PERCENT?`${((l,c)=>bn(l/125*100,c))(s,n)}%`:bn(s,n):xE(s,e,!0)}),a=r.length===4?"lab({1} {2} {3} / {4})":"lab({1} {2} {3})";return rx(a,r)},[Pn.CMYK]:(t,e)=>{const{decimals:n,legacyCSS:i,spacesAfterCommas:r,cmykUnit:a,cmykFunction:s}=e,o=j8(r),l=ix(t,(u,f)=>a===tu.PERCENT&&f<4?`${bn(u,n)}%`:f===4?xE(u,e):bn(u/100,n)),c=i?l.length===5?`${s}({1}${o}{2}${o}{3}${o}{4}${o}{5})`:`${s}({1}${o}{2}${o}{3}${o}{4})`:l.length===5?`${s}({1} {2} {3} {4} / {5})`:`${s}({1} {2} {3} {4})`;return rx(c,l)}},Xf=t=>(typeof t=="string"&&(t=hg.test(t)?G_(t)/100:+t),isNaN(+t)||t>1?1:bn(t)),Pee=t=>typeof t=="string"?(e=>{let n;if(Object.keys(Pn).some(i=>{if(Fb[i].test(e))return n=i,!0}),!n&&~Ree.indexOf(e)&&(n=Pn.HEX),!n)throw new Error(kUe);return n})(t):(e=>{let n,i=!1;const r=kee(Object.keys(e));if(fI[r]&&(n=fI[r]),n&&n===Pn.RGB){const a=Object.entries(e).some(o=>!hI.test(`${o[1]}`)),s=Object.entries(e).some(o=>!(hg.test(`${o[1]}`)||!hI.test(`${o[1]}`)&&!isNaN(+o[1])&&+o[1]<=255));a&&s&&(i=!0),a||(n=Pn.HEX)}if(!n||i)throw new Error(DUe);return n})(t),UUe={[Pn.HEX](t){const e=(~Ree.indexOf(t)?QA[t]:t).match(Fb.HEX),n={R:yE(e[1]||e[5]),G:yE(e[2]||e[6]),B:yE(e[3]||e[7])},i=e[4]||e[8];return i!==void 0&&(n.A=yE(i)/255),n},[Pn.RGB](t){const e=t.match(Fb.RGB),n=dm(e[1]||e[5]),i=dm(e[2]||e[6]),r=dm(e[3]||e[7]),a=e[4]||e[8],s={R:Math.min(n,255),G:Math.min(i,255),B:Math.min(r,255)};return a!==void 0&&(s.A=Xf(a)),s},[Pn.HSL](t){const e=t.match(Fb.HSL),n=Dee(e[1]||e[5]),i=Dm(e[2]||e[6]),r=Dm(e[3]||e[7]),a=e[4]||e[8],s=ad(n,i,r);return a!==void 0&&(s.A=Xf(a)),s},[Pn.CIELab](t){const e=t.match(Fb.CIELab),n=Dm(e[1]),i=eT(e[2]),r=eT(e[3]),a=e[4],s=Oee(n,i,r);return a!==void 0&&(s.A=Xf(a)),s},[Pn.CMYK](t){const e=t.match(Fb.CMYK),n=vd(e[1]||e[6]),i=vd(e[2]||e[7]),r=vd(e[3]||e[8]),a=vd(e[4]||e[9]),s=e[5]||e[10],o=Lee(n,i,r,a);return s!==void 0&&(o.A=Xf(s)),o}},FUe={[Pn.HEX](t){const e={R:dm(`${t.R}`),G:dm(`${t.G}`),B:dm(`${t.B}`)};return ao(t,"A")&&(e.A=Math.min(dm(`${t.A}`,!0),1)),e},[Pn.RGB](t){return this.HEX(t)},[Pn.HSL](t){const e=Dm(`${t.S}`),n=Dm(`${t.L}`),i=ad(Dee(t.H),e,n);return ao(t,"A")&&(i.A=Xf(t.A)),i},[Pn.CIELab](t){const e=Dm(`${t.L}`),n=eT(`${t.a}`),i=eT(`${t.b}`),r=Oee(e,n,i);return ao(t,"A")&&(r.A=Xf(t.A)),r},[Pn.CMYK](t){const e=vd(`${t.C}`),n=vd(`${t.M}`),i=vd(`${t.Y}`),r=vd(`${t.K}`),a=Lee(e,n,i,r);return ao(t,"A")&&(a.A=Xf(t.A)),a}},zUe=(t,e=Pee(t))=>typeof t=="string"?UUe[e](t):FUe[e](t),cs={[Pn.HEX]:t=>({R:vE(t.R),G:vE(t.G),B:vE(t.B)}),HEXA(t){const e=cs.HEX(t);return e.A=ao(t,"A")?vE(255*t.A):"0xFF",e},[Pn.RGB](t,e){const n=jUe(t,e);return ao(n,"A")&&delete n.A,n},RGBA(t,e){const n=cs.RGB(t,e);return n.A=ao(t,"A")?bn(t.A):1,n},[Pn.HSL](t,e){const n=pI(t.R,t.G,t.B);return delete n.A,BUe(n,e)},HSLA(t,e){const n=cs.HSL(t,e);return n.A=ao(t,"A")?bn(t.A,e):1,n},[Pn.CIELab](t,e){const n=tT(t.R,t.G,t.B);return HUe(n,e)},CIELabA(t,e){const n=cs.CIELab(t,e);return n.A=ao(t,"A")?bn(t.A,e):1,n},[Pn.CMYK]:(t,e)=>VUe(PUe(t.R,t.G,t.B),e),CMYKA(t,e){const n=cs.CMYK(t,e);return n.A=ao(t,"A")?bn(t.A,e):1,n}};Pn.HEX+"",Pn.RGB+"",Pn.HSL+"",Pn.CIELab+"";Pn.HEX+"",Pn.RGB+"",Pn.HSL+"",Pn.CIELab+"";const jUe=(t,e)=>({R:bn(t.R,e),G:bn(t.G,e),B:bn(t.B,e),...ao(t,"A")?{A:bn(t.A,e)}:{}}),BUe=(t,e)=>({H:bn(t.H,e),S:bn(t.S,e),L:bn(t.L,e),...ao(t,"A")?{A:bn(t.A,e)}:{}}),HUe=(t,e)=>({L:bn(t.L,e),a:bn(t.a,e),b:bn(t.b,e)}),VUe=(t,e)=>({C:bn(t.C,e),M:bn(t.M,e),Y:bn(t.Y,e),K:bn(t.K,e)});var Uee=Symbol.for("immer-nothing"),CV=Symbol.for("immer-draftable"),Qi=Symbol.for("immer-state");function ec(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var hy=Object.getPrototypeOf;function dy(t){return!!t&&!!t[Qi]}function hh(t){return t?Fee(t)||Array.isArray(t)||!!t[CV]||!!t.constructor?.[CV]||v2(t)||x2(t):!1}var GUe=Object.prototype.constructor.toString();function Fee(t){if(!t||typeof t!="object")return!1;const e=hy(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===GUe}function H1(t,e){y2(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,i)=>e(i,n,t))}function y2(t){const e=t[Qi];return e?e.type_:Array.isArray(t)?1:v2(t)?2:x2(t)?3:0}function mI(t,e){return y2(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function zee(t,e,n){const i=y2(t);i===2?t.set(e,n):i===3?t.add(n):t[e]=n}function WUe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function v2(t){return t instanceof Map}function x2(t){return t instanceof Set}function Va(t){return t.copy_||t.base_}function gI(t,e){if(v2(t))return new Map(t);if(x2(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=Fee(t);if(e===!0||e==="class_only"&&!n){const i=Object.getOwnPropertyDescriptors(t);delete i[Qi];let r=Reflect.ownKeys(i);for(let a=0;a<r.length;a++){const s=r[a],o=i[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(i[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[s]})}return Object.create(hy(t),i)}else{const i=hy(t);if(i!==null&&n)return{...t};const r=Object.create(i);return Object.assign(r,t)}}function IU(t,e=!1){return _2(t)||dy(t)||!hh(t)||(y2(t)>1&&(t.set=t.add=t.clear=t.delete=qUe),Object.freeze(t),e&&Object.entries(t).forEach(([n,i])=>IU(i,!0))),t}function qUe(){ec(2)}function _2(t){return Object.isFrozen(t)}var bI={};function Ym(t){const e=bI[t];return e||ec(0,t),e}function XUe(t,e){bI[t]||(bI[t]=e)}var V1;function nT(){return V1}function KUe(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function RV(t,e){e&&(Ym("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function yI(t){vI(t),t.drafts_.forEach(YUe),t.drafts_=null}function vI(t){t===V1&&(V1=t.parent_)}function kV(t){return V1=KUe(V1,t)}function YUe(t){const e=t[Qi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function DV(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Qi].modified_&&(yI(e),ec(4)),hh(t)&&(t=iT(e,t),e.parent_||rT(e,t)),e.patches_&&Ym("Patches").generateReplacementPatches_(n[Qi].base_,t,e.patches_,e.inversePatches_)):t=iT(e,n,[]),yI(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Uee?t:void 0}function iT(t,e,n){if(_2(e))return e;const i=e[Qi];if(!i)return H1(e,(r,a)=>NV(t,i,e,r,a,n)),e;if(i.scope_!==t)return e;if(!i.modified_)return rT(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const r=i.copy_;let a=r,s=!1;i.type_===3&&(a=new Set(r),r.clear(),s=!0),H1(a,(o,l)=>NV(t,i,r,o,l,n,s)),rT(t,r,!1),n&&t.patches_&&Ym("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function NV(t,e,n,i,r,a,s){if(dy(r)){const o=a&&e&&e.type_!==3&&!mI(e.assigned_,i)?a.concat(i):void 0,l=iT(t,r,o);if(zee(n,i,l),dy(l))t.canAutoFreeze_=!1;else return}else s&&n.add(r);if(hh(r)&&!_2(r)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;iT(t,r),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,i)&&rT(t,r)}}function rT(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&IU(e,n)}function JUe(t,e){const n=Array.isArray(t),i={type_:n?1:0,scope_:e?e.scope_:nT(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=i,a=OU;n&&(r=[i],a=G1);const{revoke:s,proxy:o}=Proxy.revocable(r,a);return i.draft_=o,i.revoke_=s,o}var OU={get(t,e){if(e===Qi)return t;const n=Va(t);if(!mI(n,e))return $Ue(t,n,e);const i=n[e];return t.finalized_||!hh(i)?i:i===B8(t.base_,e)?(H8(t),t.copy_[e]=W1(i,t)):i},has(t,e){return e in Va(t)},ownKeys(t){return Reflect.ownKeys(Va(t))},set(t,e,n){const i=jee(Va(t),e);if(i?.set)return i.set.call(t.draft_,n),!0;if(!t.modified_){const r=B8(Va(t),e),a=r?.[Qi];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(WUe(n,r)&&(n!==void 0||mI(t.base_,e)))return!0;H8(t),Of(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return B8(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,H8(t),Of(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Va(t),i=Reflect.getOwnPropertyDescriptor(n,e);return i&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:i.enumerable,value:n[e]}},defineProperty(){ec(11)},getPrototypeOf(t){return hy(t.base_)},setPrototypeOf(){ec(12)}},G1={};H1(OU,(t,e)=>{G1[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});G1.deleteProperty=function(t,e){return G1.set.call(this,t,e,void 0)};G1.set=function(t,e,n){return OU.set.call(this,t[0],e,n,t[0])};function B8(t,e){const n=t[Qi];return(n?Va(n):t)[e]}function $Ue(t,e,n){const i=jee(e,n);return i?"value"in i?i.value:i.get?.call(t.draft_):void 0}function jee(t,e){if(!(e in t))return;let n=hy(t);for(;n;){const i=Object.getOwnPropertyDescriptor(n,e);if(i)return i;n=hy(n)}}function Of(t){t.modified_||(t.modified_=!0,t.parent_&&Of(t.parent_))}function H8(t){t.copy_||(t.copy_=gI(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var ZUe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,i)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const s=this;return function(l=a,...c){return s.produce(l,u=>n.call(this,u,...c))}}typeof n!="function"&&ec(6),i!==void 0&&typeof i!="function"&&ec(7);let r;if(hh(e)){const a=kV(this),s=W1(e,void 0);let o=!0;try{r=n(s),o=!1}finally{o?yI(a):vI(a)}return RV(a,i),DV(r,a)}else if(!e||typeof e!="object"){if(r=n(e),r===void 0&&(r=e),r===Uee&&(r=void 0),this.autoFreeze_&&IU(r,!0),i){const a=[],s=[];Ym("Patches").generateReplacementPatches_(e,r,a,s),i(a,s)}return r}else ec(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...o)=>this.produceWithPatches(s,l=>e(l,...o));let i,r;return[this.produce(e,n,(s,o)=>{i=s,r=o}),i,r]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){hh(t)||ec(8),dy(t)&&(t=QUe(t));const e=kV(this),n=W1(t,void 0);return n[Qi].isManual_=!0,vI(e),n}finishDraft(t,e){const n=t&&t[Qi];(!n||!n.isManual_)&&ec(9);const{scope_:i}=n;return RV(i,e),DV(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const r=e[n];if(r.path.length===0&&r.op==="replace"){t=r.value;break}}n>-1&&(e=e.slice(n+1));const i=Ym("Patches").applyPatches_;return dy(t)?i(t,e):this.produce(t,r=>i(r,e))}};function W1(t,e){const n=v2(t)?Ym("MapSet").proxyMap_(t,e):x2(t)?Ym("MapSet").proxySet_(t,e):JUe(t,e);return(e?e.scope_:nT()).drafts_.push(n),n}function QUe(t){return dy(t)||ec(10,t),Bee(t)}function Bee(t){if(!hh(t)||_2(t))return t;const e=t[Qi];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=gI(t,e.scope_.immer_.useStrictShallowCopy_)}else n=gI(t,!0);return H1(n,(i,r)=>{zee(n,i,Bee(r))}),e&&(e.finalized_=!1),n}function e9e(){class t extends Map{constructor(l,c){super(),this[Qi]={type_:2,parent_:c,scope_:c?c.scope_:nT(),modified_:!1,finalized_:!1,copy_:void 0,assigned_:void 0,base_:l,draft_:this,isManual_:!1,revoked_:!1}}get size(){return Va(this[Qi]).size}has(l){return Va(this[Qi]).has(l)}set(l,c){const u=this[Qi];return s(u),(!Va(u).has(l)||Va(u).get(l)!==c)&&(n(u),Of(u),u.assigned_.set(l,!0),u.copy_.set(l,c),u.assigned_.set(l,!0)),this}delete(l){if(!this.has(l))return!1;const c=this[Qi];return s(c),n(c),Of(c),c.base_.has(l)?c.assigned_.set(l,!1):c.assigned_.delete(l),c.copy_.delete(l),!0}clear(){const l=this[Qi];s(l),Va(l).size&&(n(l),Of(l),l.assigned_=new Map,H1(l.base_,c=>{l.assigned_.set(c,!1)}),l.copy_.clear())}forEach(l,c){const u=this[Qi];Va(u).forEach((f,h,d)=>{l.call(c,this.get(h),h,this)})}get(l){const c=this[Qi];s(c);const u=Va(c).get(l);if(c.finalized_||!hh(u)||u!==c.base_.get(l))return u;const f=W1(u,c);return n(c),c.copy_.set(l,f),f}keys(){return Va(this[Qi]).keys()}values(){const l=this.keys();return{[Symbol.iterator]:()=>this.values(),next:()=>{const c=l.next();return c.done?c:{done:!1,value:this.get(c.value)}}}}entries(){const l=this.keys();return{[Symbol.iterator]:()=>this.entries(),next:()=>{const c=l.next();if(c.done)return c;const u=this.get(c.value);return{done:!1,value:[c.value,u]}}}}[Symbol.iterator](){return this.entries()}}function e(o,l){return new t(o,l)}function n(o){o.copy_||(o.assigned_=new Map,o.copy_=new Map(o.base_))}class i extends Set{constructor(l,c){super(),this[Qi]={type_:3,parent_:c,scope_:c?c.scope_:nT(),modified_:!1,finalized_:!1,copy_:void 0,base_:l,draft_:this,drafts_:new Map,revoked_:!1,isManual_:!1}}get size(){return Va(this[Qi]).size}has(l){const c=this[Qi];return s(c),c.copy_?!!(c.copy_.has(l)||c.drafts_.has(l)&&c.copy_.has(c.drafts_.get(l))):c.base_.has(l)}add(l){const c=this[Qi];return s(c),this.has(l)||(a(c),Of(c),c.copy_.add(l)),this}delete(l){if(!this.has(l))return!1;const c=this[Qi];return s(c),a(c),Of(c),c.copy_.delete(l)||(c.drafts_.has(l)?c.copy_.delete(c.drafts_.get(l)):!1)}clear(){const l=this[Qi];s(l),Va(l).size&&(a(l),Of(l),l.copy_.clear())}values(){const l=this[Qi];return s(l),a(l),l.copy_.values()}entries(){const l=this[Qi];return s(l),a(l),l.copy_.entries()}keys(){return this.values()}[Symbol.iterator](){return this.values()}forEach(l,c){const u=this.values();let f=u.next();for(;!f.done;)l.call(c,f.value,f.value,this),f=u.next()}}function r(o,l){return new i(o,l)}function a(o){o.copy_||(o.copy_=new Set,o.base_.forEach(l=>{if(hh(l)){const c=W1(l,o);o.drafts_.set(l,c),o.copy_.add(c)}else o.copy_.add(l)}))}function s(o){o.revoked_&&ec(3,JSON.stringify(Va(o)))}XUe("MapSet",{proxyMap_:e,proxySet_:r})}var vl=new ZUe,t9e=vl.produce;vl.produceWithPatches.bind(vl);vl.setAutoFreeze.bind(vl);vl.setUseStrictShallowCopy.bind(vl);vl.applyPatches.bind(vl);vl.createDraft.bind(vl);vl.finishDraft.bind(vl);const n9e=t=>(e,n,i)=>(i.setState=(r,a,...s)=>{const o=typeof r=="function"?t9e(r):r;return e(o,a,...s)},t(i.setState,n,i)),i9e=n9e,r9e=new URLSearchParams(window.location.search),a9e=r9e.get("hideViserLogo")!==null,zp={theme:{type:"ThemeConfigurationMessage",titlebar_content:null,control_layout:"floating",control_width:"medium",dark_mode:!1,show_logo:!a9e,show_share_button:!0,colors:null},label:"",server:"ws://localhost:8080",shareUrl:null,websocketConnected:!1,backgroundAvailable:!1,showOrbitOriginTool:!1,showOrbitOriginCrosshair:0,guiUuidSetFromContainerUuid:{},modals:[],guiOrderFromUuid:{},guiConfigFromUuid:{},uploadsInProgress:{}};function s9e(t){return ke.useState(()=>I_(i9e(e=>({...zp,server:t,setTheme:n=>e(i=>{i.theme=n}),setShareUrl:n=>e(i=>{i.shareUrl=n}),addGui:n=>e(i=>{i.guiOrderFromUuid[n.uuid]=n.props.order,i.guiConfigFromUuid[n.uuid]=n,n.container_uuid in i.guiUuidSetFromContainerUuid||(i.guiUuidSetFromContainerUuid[n.container_uuid]={}),i.guiUuidSetFromContainerUuid[n.container_uuid][n.uuid]=!0}),addModal:n=>e(i=>{i.modals.push(n)}),removeModal:n=>e(i=>{i.modals=i.modals.filter(r=>r.uuid!==n)}),removeGui:n=>e(i=>{const r=i.guiConfigFromUuid[n];if(r==null){console.warn("(OK) Tried to remove non-existent component",n);return}delete i.guiUuidSetFromContainerUuid[r.container_uuid][n],delete i.guiOrderFromUuid[n],delete i.guiConfigFromUuid[n],Object.keys(i.guiUuidSetFromContainerUuid[r.container_uuid]).length==0&&delete i.guiUuidSetFromContainerUuid[r.container_uuid]}),resetGui:()=>e(n=>{n.shareUrl=zp.shareUrl,n.guiUuidSetFromContainerUuid=zp.guiUuidSetFromContainerUuid,n.modals=zp.modals,n.guiOrderFromUuid=zp.guiOrderFromUuid,n.guiConfigFromUuid=zp.guiConfigFromUuid,n.uploadsInProgress=zp.uploadsInProgress}),updateUploadState:n=>e(i=>{const{componentId:r,...a}=n;i.uploadsInProgress[r]={...i.uploadsInProgress[r],...a}}),updateGuiProps:(n,i)=>{e(r=>{const a=r.guiConfigFromUuid[n];if(a===void 0){console.error(`Tried to update non-existent component '${n}' with`,i);return}for(const[s,o]of Object.entries(i))s==="value"?r.guiConfigFromUuid[n].value=o:s in a.props?a.props[s]=o:console.error(`Tried to update nonexistent property '${s}' of GUI element ${n}!`)})}}))))[0]}const ZE="websocket";function o9e(t){const e=new URLSearchParams(window.location.search),n=window.location.host.includes(t.replace("ws://","").replace("/",""))||window.location.host.includes(t.replace("wss://","").replace("/",""));n&&e.has(ZE)?e.delete(ZE):n||e.set(ZE,t),window.history.replaceState(null,"Viser",e.size===0?window.location.href.split("?")[0]:"?"+Array.from(e.entries()).map(([i,r])=>`${i}=${r}`).join("&"))}function l9e(t){return new Worker(""+new URL("WebsocketServerWorker-CrIaH0xb.js",import.meta.url).href,{type:"module",name:t?.name})}function c9e(){const t=I.useContext(xi),e=t.mutable.current,n=t.useGui(a=>a.server),i=t.useGui(a=>a.resetGui),r=t.sceneTreeActions.resetScene;return o9e(n),ke.useEffect(()=>{const a=new l9e;a.onmessage=o=>{const l=o.data;l.type==="connected"?(i(),r(),t.useGui.setState({websocketConnected:!0}),e.sendMessage=c=>{s({type:"send",message:c})}):l.type==="closed"?(i(),t.useGui.setState({websocketConnected:!1}),e.sendMessage=c=>{console.log(`Tried to send ${c.type} but websocket is not connected!`)},l.versionMismatch&&ms.show({id:"version-mismatch",title:"Connection rejected",message:`${l.closeReason}.`,color:"red",autoClose:5e3,withCloseButton:!0})):l.type==="message_batch"&&e.messageQueue.push(...l.messages)};function s(o){a.postMessage(o)}return s({type:"set_server",server:n}),()=>{s({type:"close"}),e.sendMessage=o=>console.log(`Tried to send ${o.type} but websocket is not connected!`),t.useGui.setState({websocketConnected:!1})}},[n,i,r]),null}function u9e(t){throw new Error("Didn't expect to get here",t)}function Hee(t){let e=null;switch(t){case null:break;case"GitHub":e=SMe;break;case"Description":e=ZMe;break;case"Keyboard":e=nAe;break;default:u9e(t)}return e}function f9e(t){const e=Hee(t.icon);return C.jsx(ds,{component:"a",variant:"default",size:"compact-sm",href:t.href||void 0,target:"_blank",leftSection:e===null?null:C.jsx(e,{size:"1em"}),ml:"xs",color:"gray",children:t.text})}function h9e(t){const e=Hee(t.icon);return C.jsx(ds,{m:"sm",component:"a",variant:"default",href:t.href||void 0,target:"_blank",leftSection:e===null?null:C.jsx(e,{size:"1.5em"}),ml:"sm",color:"gray",children:t.text})}function d9e(t,e){let n;t.image_url_dark==null||e==="light"?n=t.image_url_light:n=t.image_url_dark;const i=C.jsx("img",{src:n,alt:t.image_alt,style:{height:"1.8em",margin:"0 0.5em"}});return t.href==null?i:C.jsx("a",{style:{display:"block",height:"1.8em"},href:t.href,children:i})}function p9e(){const e=I.useContext(xi).useGui(o=>o.theme.titlebar_content),n=ng().colorScheme,[i,r]=uc(!1);if(e==null)return null;const a=e.buttons,s=e.image;return C.jsx(et,{style:{height:"3.2em",margin:0,border:"0",zIndex:10},children:C.jsxs(xs,{shadow:"0 0 0.8em 0 rgba(0,0,0,0.1)",style:{height:"100%"},children:[C.jsxs(ML,{fluid:!0,style:()=>({height:"100%",display:"flex",alignItems:"center"}),children:[C.jsx(j0,{style:()=>({marginRight:"auto"}),children:s!==null?d9e(s,n):null}),C.jsx(j0,{display:{base:"none",xs:"flex"},style:()=>({flexWrap:"nowrap",overflowX:"scroll",msOverflowStyle:"none",scrollbarWidth:"none"}),children:a?.map((o,l)=>I.createElement(f9e,{...o,key:l}))}),C.jsx(gL,{size:"sm",opened:i,onClick:r.toggle,title:i?"Close navigation":"Open navigation",display:{base:"block",xs:"none"}})]}),C.jsx(YO,{children:C.jsx(xs,{display:{base:"flex",xs:"none"},radius:"0",style:{flexDirection:"column",position:"absolute",top:"3.2em",zIndex:2e3,height:i?"calc(100vh - 2.375em)":"0",width:"100vw",transition:"all 0.5s",overflow:i?"scroll":"hidden",padding:i?"1rem":"0"},children:a?.map((o,l)=>I.createElement(h9e,{...o,key:l}))})})]})})}function m9e(){return I.useContext(xi).useGui(i=>i.modals).map((i,r)=>C.jsx(g9e,{conf:i,index:r},i.uuid))}function g9e({conf:t,index:e}){return C.jsx(mo,{opened:!0,title:t.title,onClose:()=>{},withCloseButton:!1,centered:!0,zIndex:100+e,children:C.jsx(CU,{containerUuid:t.uuid})})}const LU={message:{type:"FrameMessage",name:"",props:{show_axes:!1,axes_length:.5,axes_radius:.0125,origin_radius:.025,origin_color:[236,236,0]}},children:["/WorldAxes"],clickable:!1,visibility:!0,wxyz:(()=>{const t=new Hn().setFromEuler(new li(Math.PI/2,Math.PI,-Math.PI/2));return[t.w,t.x,t.y,t.z]})()},Vee={message:{type:"FrameMessage",name:"/WorldAxes",props:{show_axes:!0,axes_length:.5,axes_radius:.0125,origin_radius:.025,origin_color:[236,236,0]}},children:[],clickable:!1,visibility:!0};function b9e(t,e){return{addSceneNode:n=>{const i=t.getState(),r=i[n.name],a=n.name.split("/").slice(0,-1).join("/"),s=i[a],o={[n.name]:{...r,message:n,children:r?.children??[],clickable:r?.clickable??!1}};s&&!s.children.includes(n.name)&&(o[a]={...s,children:[...s.children,n.name]}),r&&delete e[n.name],t.setState(o)},removeSceneNode:n=>{const i=t.getState(),r=[];function a(c){r.push(c);const u=i[c];u&&u.children.forEach(a)}a(n);const s={};r.forEach(c=>{s[c]=void 0,delete e[c]});const o=n.split("/").slice(0,-1).join("/"),l=i[o];l&&(s[o]={...l,children:l.children.filter(c=>c!==n)}),t.setState(s)},updateSceneNodeProps:(n,i)=>{const r=t.getState()[n];if(r===void 0)return console.error(`Attempted to update props of non-existent node ${n}`,i),{};t.setState({[n]:{...r,message:{...r.message,props:{...r.message.props,...i}}}})},resetScene:()=>{t.setState({"":LU,"/WorldAxes":Vee},!0)},updateNodeAttributes:(n,i)=>{const r=t.getState()[n];if(r===void 0){console.log(`(OK) Attempted to update attributes of non-existent node ${n}`,i);return}t.setState({[n]:{...r,...i}})}}}function y9e(t){return ke.useState(()=>{const e=I_(()=>({"":LU,"/WorldAxes":Vee})),n=b9e(e,t);return{store:e,actions:n}})[0]}function v9e(){return ke.useState(()=>I_(()=>({enableDefaultLights:!0,enableDefaultLightsShadows:!0,environmentMap:{type:"EnvironmentMapMessage",hdri:"city",background:!1,background_blurriness:0,background_intensity:1,background_wxyz:[1,0,0,0],environment_intensity:1,environment_wxyz:[1,0,0,0]}})))[0]}function x9e(){return ke.useState(()=>{const t=new URLSearchParams(window.location.search),e=t.get("showStats")!==null,n=t.get("fixedDpr"),i=n?parseFloat(n):null,r=t.get("logCamera")!==null;return I_(()=>({showStats:e,fixedDpr:i,logCamera:r,enableOrbitCrosshair:!0}))})[0]}function ax(t,e,n){return Object.keys(t[e]).reduce((i,r)=>(i[r]=`var(--mantine-${n}-${r})`,i),{})}function IV(t,e){return t in e.breakpoints?e.breakpoints[t]:GD(t)}function _9e(t){const e=pq(NT,t),n=ax(e,"fontSizes","font-size"),i=ax(e,"lineHeights","line-height"),r=ax(e,"shadows","shadow"),a=ax(e,"radius","radius"),s=ax(e,"spacing","spacing"),o=Object.keys(e.headings.sizes).reduce((c,u)=>(c[u]={fontSize:`var(--mantine-${u}-font-size)`,lineHeight:`var(--mantine-${u}-line-height)`,fontWeight:`var(--mantine-${u}-font-weight)`},c),{}),l=Object.keys(e.colors).reduce((c,u)=>(c[u]={0:`var(--mantine-color-${u}-0)`,1:`var(--mantine-color-${u}-1)`,2:`var(--mantine-color-${u}-2)`,3:`var(--mantine-color-${u}-3)`,4:`var(--mantine-color-${u}-4)`,5:`var(--mantine-color-${u}-5)`,6:`var(--mantine-color-${u}-6)`,7:`var(--mantine-color-${u}-7)`,8:`var(--mantine-color-${u}-8)`,9:`var(--mantine-color-${u}-9)`,filled:`var(--mantine-color-${u}-filled)`,filledHover:`var(--mantine-color-${u}-filled-hover)`,light:`var(--mantine-color-${u}-light)`,lightHover:`var(--mantine-color-${u}-light-hover)`,lightColor:`var(--mantine-color-${u}-light-color)`,outline:`var(--mantine-color-${u}-outline)`,outlineHover:`var(--mantine-color-${u}-outline-hover)`},c),{primary:"var(--mantine-primary-color-filled)",primaryColors:{0:"var(--mantine-primary-color-0)",1:"var(--mantine-primary-color-1)",2:"var(--mantine-primary-color-2)",3:"var(--mantine-primary-color-3)",4:"var(--mantine-primary-color-4)",5:"var(--mantine-primary-color-5)",6:"var(--mantine-primary-color-6)",7:"var(--mantine-primary-color-7)",8:"var(--mantine-primary-color-8)",9:"var(--mantine-primary-color-9)",filled:"var(--mantine-primary-color-filled)",filledHover:"var(--mantine-primary-color-filled-hover)",light:"var(--mantine-primary-color-light)",lightHover:"var(--mantine-primary-color-light-hover)",lightColor:"var(--mantine-primary-color-light-color)",outline:"var(--mantine-primary-color-outline)",outlineHover:"var(--mantine-primary-color-outline-hover)"},white:"var(--mantine-color-white)",black:"var(--mantine-color-black)",text:"var(--mantine-color-text)",body:"var(--mantine-color-body)",error:"var(--mantine-color-error)",placeholder:"var(--mantine-color-placeholder)",anchor:"var(--mantine-color-anchor)",default:"var(--mantine-color-default)",defaultHover:"var(--mantine-color-default-hover)",defaultColor:"var(--mantine-color-default-color)",defaultBorder:"var(--mantine-color-default-border)",dimmed:"var(--mantine-color-dimmed)",disabledBody:"var(--mantine-color-disabled)",disabledText:"var(--mantine-color-disabled-color)",disabledBorder:"var(--mantine-color-disabled-border)"});return{scale:"var(--mantine-scale)",cursorType:"var(--mantine-cursor-type)",webkitFontSmoothing:"var(--mantine-webkit-font-smoothing)",mozFontSmoothing:"var(--mantine-moz-font-smoothing)",lineHeight:"var(--mantine-line-height)",fontFamily:"var(--mantine-font-family)",fontFamilyMonospace:"var(--mantine-font-family-monospace)",fontFamilyHeadings:"var(--mantine-font-family-headings)",headingFontWeight:"var(--mantine-heading-font-weight)",radiusDefault:"var(--mantine-radius-default)",breakpoints:e.breakpoints,fontSizes:n,lineHeights:i,shadows:r,radius:a,headings:o,spacing:s,colors:l,rtlSelector:'[dir="rtl"] &',darkSelector:'[data-mantine-color-scheme="dark"] &',lightSelector:'[data-mantine-color-scheme="light"] &',smallerThan:c=>`(max-width: ${IV(c,e)})`,largerThan:c=>`(min-width: ${IV(c,e)})`}}const Gee={fontFamily:"Inter",autoContrast:!0,components:{Checkbox:ch.extend({defaultProps:{radius:"xs"}}),ColorInput:Ry.extend({defaultProps:{radius:"xs"}}),Select:Dy.extend({defaultProps:{radius:"sm"}}),Textarea:qT.extend({defaultProps:{radius:"xs"}}),TextInput:sg.extend({defaultProps:{radius:"xs"}}),NumberInput:rg.extend({defaultProps:{radius:"xs"}}),Paper:xs.extend({defaultProps:{radius:"xs",shadow:"0"}}),ActionIcon:_l.extend({defaultProps:{variant:"subtle",color:"gray",radius:"xs"}}),Button:ds.extend({defaultProps:{radius:"xs",styles:{label:{fontWeight:450}}}})}};_9e(Gee);const S9e=new Set(["CameraFrustumMessage","GlbMessage","FrameMessage","BatchedAxesMessage","GridMessage","LabelMessage","Gui3DMessage","PointCloudMessage","DirectionalLightMessage","AmbientLightMessage","HemisphereLightMessage","PointLightMessage","RectAreaLightMessage","SpotLightMessage","MeshMessage","BoxMessage","IcosphereMessage","SkinnedMeshMessage","BatchedMeshesMessage","BatchedGlbMessage","TransformControlsMessage","ImageMessage","LineSegmentsMessage","CatmullRomSplineMessage","CubicBezierSplineMessage","GaussianSplatsMessage"]);function w9e(t){return S9e.has(t.type)}const E9e=new Set(["GuiFolderMessage","GuiMarkdownMessage","GuiHtmlMessage","GuiProgressBarMessage","GuiPlotlyMessage","GuiUplotMessage","GuiImageMessage","GuiTabGroupMessage","GuiButtonMessage","GuiUploadButtonMessage","GuiSliderMessage","GuiMultiSliderMessage","GuiNumberMessage","GuiRgbMessage","GuiRgbaMessage","GuiCheckboxMessage","GuiVector2Message","GuiVector3Message","GuiTextMessage","GuiDropdownMessage","GuiButtonGroupMessage"]);function M9e(t){return E9e.has(t.type)}function A9e(){const t=I.useContext(xi),e=t.mutable.current,n=t.sceneTreeActions.updateSceneNodeProps,i=t.sceneTreeActions.removeSceneNode,r=t.sceneTreeActions.addSceneNode,a=t.useGui(y=>y.setTheme),s=t.useGui(y=>y.setShareUrl),o=t.useGui(y=>y.addGui),l=t.useGui(y=>y.addModal),c=t.useGui(y=>y.removeModal),u=t.useGui(y=>y.removeGui),f=t.useGui(y=>y.updateGuiProps),h=t.useGui(y=>y.updateUploadState);function d(y){const v=t.useSceneTree.getState()[y.name],m=t.useSceneTree.getState(),x=y.name.split("/").slice(0,-1).join("/");m[x]?.message===void 0&&(d({...LU.message,name:x}),t.sceneTreeActions.updateNodeAttributes(x,{visibility:!0})),r(y),y!==v?.message&&t.sceneTreeActions.updateNodeAttributes(y.name,{poseUpdateState:"waitForMakeObject"})}const b=T9e();return y=>{if(M9e(y)){o(y);return}if(w9e(y)){if(y.type==="SkinnedMeshMessage"){e.skinnedMeshState[y.name]={initialized:!1,dirty:!1,poses:[]};const v=new Float32Array(y.props.bone_wxyzs.buffer.slice(y.props.bone_wxyzs.byteOffset,y.props.bone_wxyzs.byteOffset+y.props.bone_wxyzs.byteLength)),m=new Float32Array(y.props.bone_positions.buffer.slice(y.props.bone_positions.byteOffset,y.props.bone_positions.byteOffset+y.props.bone_positions.byteLength));for(let x=0;x<y.props.bone_wxyzs.length;x++)e.skinnedMeshState[y.name].poses.push({wxyz:[v[4*x],v[4*x+1],v[4*x+2],v[4*x+3]],position:[m[3*x],m[3*x+1],m[3*x+2]]})}d(y);return}switch(y.type){case"SceneNodeUpdateMessage":{n(y.name,y.updates);return}case"ShareUrlUpdated":{s(y.share_url);return}case"GetRenderRequestMessage":{e.getRenderRequest=y,e.getRenderRequestState="triggered";return}case"SetGuiPanelLabelMessage":{t.useGui.setState({label:y.label??""});return}case"ThemeConfigurationMessage":{a(y);return}case"RunJavascriptMessage":{new Function(y.source)();return}case"NotificationMessage":{console.log(y.uuid,y.props.loading),(y.mode==="show"?ms.show:ms.update)({id:y.uuid,title:y.props.title,message:y.props.body,withCloseButton:y.props.with_close_button,loading:y.props.loading,autoClose:y.props.auto_close_seconds===null?!1:y.props.auto_close_seconds*1e3,color:JC(y.props.color)});return}case"RemoveNotificationMessage":{ms.hide(y.uuid);return}case"ScenePointerEnableMessage":{e.scenePointerInfo.enabled=y.enable?y.event_type:!1,e.canvas.style.cursor=y.enable?"pointer":"auto";return}case"EnvironmentMapMessage":{t.useEnvironment.setState({environmentMap:y});return}case"EnableLightsMessage":{t.useEnvironment.setState({enableDefaultLights:y.enabled,enableDefaultLightsShadows:y.cast_shadow});return}case"GuiModalMessage":{l(y);return}case"GuiCloseModalMessage":{c(y.uuid);return}case"SetBoneOrientationMessage":{const v=e.skinnedMeshState;v[y.name].poses[y.bone_index].wxyz=y.wxyz,v[y.name].dirty=!0;break}case"SetBonePositionMessage":{const v=e.skinnedMeshState;v[y.name].poses[y.bone_index].position=y.position,v[y.name].dirty=!0;break}case"SetCameraLookAtMessage":{const v=e.cameraControl,m=Gf(t),x=new Q(y.look_at[0],y.look_at[1],y.look_at[2]);x.applyMatrix4(m),v.setTarget(x.x,x.y,x.z,!1);return}case"SetCameraUpDirectionMessage":{const v=e.camera,m=e.cameraControl,x=Gf(t),_=new Q(y.position[0],y.position[1],y.position[2]).normalize().applyQuaternion(new Hn().setFromRotationMatrix(x));v.up.set(_.x,_.y,_.z);const E=new Q;m.getPosition(E),m.updateCameraUp(),m.setPosition(E.x,E.y,E.z,!1);return}case"SetCameraPositionMessage":{const v=e.cameraControl,m=new Q(y.position[0],y.position[1],y.position[2]),x=Gf(t);m.applyMatrix4(x),v.setPosition(m.x,m.y,m.z);return}case"SetCameraFovMessage":{const v=e.camera;v.setFocalLength(.5*v.getFilmHeight()/Math.tan(y.fov/2)),e.sendCamera!==null&&e.sendCamera();return}case"SetCameraNearMessage":{const v=e.camera;v.near=y.near,v.updateProjectionMatrix();return}case"SetCameraFarMessage":{const v=e.camera;v.far=y.far,v.updateProjectionMatrix();return}case"SetOrientationMessage":{const v=t.useSceneTree.getState()[y.name],m=v?.poseUpdateState!=="waitForMakeObject"?"needsUpdate":v?.poseUpdateState||"needsUpdate";return{targetNode:y.name,updates:{wxyz:y.wxyz,poseUpdateState:m}}}case"SetPositionMessage":{const v=t.useSceneTree.getState()[y.name],m=v?.poseUpdateState!=="waitForMakeObject"?"needsUpdate":v?.poseUpdateState||"needsUpdate";return{targetNode:y.name,updates:{position:y.position,poseUpdateState:m}}}case"SetSceneNodeVisibilityMessage":return{targetNode:y.name,updates:{visibility:y.visible}};case"BackgroundImageMessage":{if(y.rgb_data!==null){const v=URL.createObjectURL(new Blob([y.rgb_data],{type:"image/"+y.format}));new iy().load(v,m=>{URL.revokeObjectURL(v);const x=e.backgroundMaterial.uniforms.colorMap.value;e.backgroundMaterial.uniforms.colorMap.value=m,Kk(x)&&x.dispose()}),e.backgroundMaterial.uniforms.enabled.value=!0}else{const v=e.backgroundMaterial.uniforms.colorMap.value;Kk(v)&&v.dispose(),e.backgroundMaterial.uniforms.enabled.value=!1}if(e.backgroundMaterial.uniforms.hasDepth.value=y.depth_data!==null,y.depth_data!==null){const v=URL.createObjectURL(new Blob([y.depth_data],{type:"image/"+y.format}));new iy().load(v,m=>{URL.revokeObjectURL(v);const x=e.backgroundMaterial?.uniforms.depthMap.value;e.backgroundMaterial.uniforms.depthMap.value=m,Kk(x)&&x.dispose()})}return}case"RemoveSceneNodeMessage":{console.log("Removing scene node:",y.name);const v=t.useSceneTree.getState();if(!(y.name in v)){console.log("(OK) Skipping scene node removal for "+y.name);return}i(y.name),e.skinnedMeshState[y.name]!==void 0&&delete e.skinnedMeshState[y.name];return}case"SetSceneNodeClickableMessage":return{targetNode:y.name,updates:{clickable:y.clickable}};case"GuiUpdateMessage":{f(y.uuid,y.updates);return}case"GuiRemoveMessage":{u(y.uuid);return}case"FileTransferStartDownload":case"FileTransferPart":{b(y);return}case"FileTransferPartAck":{h({componentId:y.source_component_uuid,uploadedBytes:y.transferred_bytes,totalBytes:y.total_bytes});return}default:{console.log("Received message did not match any known types:",y);return}}}}function T9e(){const t=ke.useRef({});return e=>{const n="download-"+e.transfer_uuid;switch(e.type){case"FileTransferStartDownload":{let s=e.size_bytes;const o=["B","K","M","G","T","P"];let l=0;for(;s>=100&&l<o.length-1;)s/=1024,l+=1;t.current[e.transfer_uuid]={metadata:e,notificationId:n,parts:[],bytesDownloaded:0,displayFilesize:`${s.toFixed(1)}${o[l]}`};break}case"FileTransferPart":{const s=t.current[e.transfer_uuid];e.part_index!=s.parts.length&&console.error("A file download message was received out of order!"),s.parts.push(e),s.bytesDownloaded+=e.content.length;break}}const i=t.current[e.transfer_uuid],r=100*i.bytesDownloaded/i.metadata.size_bytes,a=i.bytesDownloaded==i.metadata.size_bytes;if((i.bytesDownloaded==0?ms.show:ms.update)({title:(a?"Received ":"Receiving ")+`${i.metadata.filename} (${i.displayFilesize})`,message:C.jsx(Zu,{size:"sm",value:r}),id:n,autoClose:a&&i.metadata.save_immediately,withCloseButton:a,loading:!a,icon:a?C.jsx(YP,{}):void 0}),a){const s=window.URL.createObjectURL(new Blob(i.parts.sort((o,l)=>o.part_index-l.part_index).map(o=>o.content),{type:i.metadata.mime_type}));if(i.metadata.save_immediately){const o=document.createElement("a");o.href=s,o.download=i.metadata.filename,o.click(),o.remove(),delete t.current[e.transfer_uuid],URL.revokeObjectURL(s)}else ms.update({id:n,title:"",message:C.jsx(C.Fragment,{children:C.jsx("a",{href:s,download:i.metadata.filename,children:C.jsx(ds,{leftSection:C.jsx(GMe,{size:14}),variant:"light",size:"sm",mt:"0.05em",style:{width:"100%"},children:`${i.metadata.filename} (${i.displayFilesize})`})})}),autoClose:!1,onClose:()=>{URL.revokeObjectURL(s),delete t.current[e.transfer_uuid]}})}}}function C9e(){const t=A9e(),e=I.useContext(xi),n=e.mutable.current,i=n.messageQueue,r=ke.useContext(P_),a=mi(s=>s.gl);return ca(()=>{if(n.getRenderRequestState==="triggered")n.getRenderRequestState="pause";else if(n.getRenderRequestState==="pause"){const s=n.getRenderRequest.position,o=n.getRenderRequest.wxyz,l=n.getRenderRequest.fov,c=n.getRenderRequest.width,u=n.getRenderRequest.height,f=Gf(e),h=new Xr(ac.radToDeg(l),c/u,.01,1e3);h.position.set(...s).applyMatrix4(f),h.setRotationFromQuaternion(new Hn(o[1],o[2],o[3],o[0]).premultiply(new Hn().setFromRotationMatrix(f)).multiply(new Hn().setFromAxisAngle(new Q(1,0,0),Math.PI)));const d=r.meshPropsRef.current,b=d!==null?d.sortedIndexAttribute.array.slice():null;r.updateCamera.current!==null&&r.updateCamera.current(h,c,u,!0);const y=a.getSize(new yt),v=a.getClearColor(new Ut),m=a.getClearAlpha();a.setSize(c,u),a.setClearColor(16777215),a.setClearAlpha(n.getRenderRequest.format=="image/png"?0:1),a.render(n.scene,h);const x=a.domElement,_=document.createElement("canvas");_.width=c,_.height=u,_.getContext("2d").drawImage(x,0,0,c,u),a.setSize(y.x,y.y),a.setClearColor(v),a.setClearAlpha(m),b!==null&&d!==null&&(d.sortedIndexAttribute.array=b,d.sortedIndexAttribute.needsUpdate=!0),n.getRenderRequestState="in_progress",_.toBlob(async A=>{n.sendMessage({type:"GetRenderResponseMessage",payload:new Uint8Array(await A.arrayBuffer())}),n.getRenderRequestState="ready"},n.getRenderRequest.format)}if(n.getRenderRequestState==="ready"){const s=i.findIndex(f=>f.type==="GetRenderRequestMessage"),o=s!==-1?s+1:i.length,c=i.splice(0,o).map(t).reduce((f,h)=>h===void 0?f:{...f,[h.targetNode]:{...f[h.targetNode],...h.updates}},{}),u=e.useSceneTree.getState();for(const[f,h]of Object.entries(c)){if(!(f in u)){console.log(`(OK) Tried to update non-existent scene node ${f}`);continue}c[f]={...u[f],...h}}e.useSceneTree.setState(c)}},-1e5),null}new TextEncoder;const R9e=4096;function Wee(t,e,n){let i=e;const r=i+n,a=[];let s="";for(;i<r;){const o=t[i++];if(!(o&128))a.push(o);else if((o&224)===192){const l=t[i++]&63;a.push((o&31)<<6|l)}else if((o&240)===224){const l=t[i++]&63,c=t[i++]&63;a.push((o&31)<<12|l<<6|c)}else if((o&248)===240){const l=t[i++]&63,c=t[i++]&63,u=t[i++]&63;let f=(o&7)<<18|l<<12|c<<6|u;f>65535&&(f-=65536,a.push(f>>>10&1023|55296),f=56320|f&1023),a.push(f)}else a.push(o);a.length>=R9e&&(s+=String.fromCharCode(...a),a.length=0)}return a.length>0&&(s+=String.fromCharCode(...a)),s}const k9e=new TextDecoder,D9e=200;function N9e(t,e,n){const i=t.subarray(e,e+n);return k9e.decode(i)}function I9e(t,e,n){return n>D9e?N9e(t,e,n):Wee(t,e,n)}class _E{constructor(e,n){this.type=e,this.data=n}}class al extends Error{constructor(e){super(e);const n=Object.create(al.prototype);Object.setPrototypeOf(this,n),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:al.name})}}const sx=4294967295;function O9e(t,e,n){const i=Math.floor(n/4294967296),r=n;t.setUint32(e,i),t.setUint32(e+4,r)}function qee(t,e){const n=t.getInt32(e),i=t.getUint32(e+4);return n*4294967296+i}function L9e(t,e){const n=t.getUint32(e),i=t.getUint32(e+4);return n*4294967296+i}const P9e=-1,U9e=4294967296-1,F9e=17179869184-1;function z9e({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=F9e)if(e===0&&t<=U9e){const n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t),n}else{const n=t/4294967296,i=t&4294967295,r=new Uint8Array(8),a=new DataView(r.buffer);return a.setUint32(0,e<<2|n&3),a.setUint32(4,i),r}else{const n=new Uint8Array(12),i=new DataView(n.buffer);return i.setUint32(0,e),O9e(i,4,t),n}}function j9e(t){const e=t.getTime(),n=Math.floor(e/1e3),i=(e-n*1e3)*1e6,r=Math.floor(i/1e9);return{sec:n+r,nsec:i-r*1e9}}function B9e(t){if(t instanceof Date){const e=j9e(t);return z9e(e)}else return null}function H9e(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const n=e.getUint32(0),i=e.getUint32(4),r=(n&3)*4294967296+i,a=n>>>2;return{sec:r,nsec:a}}case 12:{const n=qee(e,4),i=e.getUint32(0);return{sec:n,nsec:i}}default:throw new al(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function V9e(t){const e=H9e(t);return new Date(e.sec*1e3+e.nsec/1e6)}const G9e={type:P9e,encode:B9e,decode:V9e};class xI{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(G9e)}register({type:e,encode:n,decode:i}){if(e>=0)this.encoders[e]=n,this.decoders[e]=i;else{const r=-1-e;this.builtInEncoders[r]=n,this.builtInDecoders[r]=i}}tryToEncode(e,n){for(let i=0;i<this.builtInEncoders.length;i++){const r=this.builtInEncoders[i];if(r!=null){const a=r(e,n);if(a!=null){const s=-1-i;return new _E(s,a)}}}for(let i=0;i<this.encoders.length;i++){const r=this.encoders[i];if(r!=null){const a=r(e,n);if(a!=null){const s=i;return new _E(s,a)}}}return e instanceof _E?e:null}decode(e,n,i){const r=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return r?r(e,n,i):new _E(n,e)}}xI.defaultCodec=new xI;function W9e(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function OV(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):W9e(t)?new Uint8Array(t):Uint8Array.from(t)}function V8(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}const q9e=16,X9e=16;class K9e{constructor(e=q9e,n=X9e){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=n,this.caches=[];for(let i=0;i<this.maxKeyLength;i++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,n,i){const r=this.caches[i-1];e:for(const a of r){const s=a.bytes;for(let o=0;o<i;o++)if(s[o]!==e[n+o])continue e;return a.str}return null}store(e,n){const i=this.caches[e.length-1],r={bytes:e,str:n};i.length>=this.maxLengthPerKey?i[Math.random()*i.length|0]=r:i.push(r)}decode(e,n,i){const r=this.find(e,n,i);if(r!=null)return this.hit++,r;this.miss++;const a=Wee(e,n,i),s=Uint8Array.prototype.slice.call(e,n,n+i);return this.store(s,a),a}}const _I="array",i1="map_key",Xee="map_value",Y9e=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new al("The type of key must be string or number but "+typeof t)};class J9e{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const n=this.getUninitializedStateFromPool();n.type=_I,n.position=0,n.size=e,n.array=new Array(e)}pushMapState(e){const n=this.getUninitializedStateFromPool();n.type=i1,n.readCount=0,n.size=e,n.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===_I){const i=e;i.size=0,i.array=void 0,i.position=0,i.type=void 0}if(e.type===i1||e.type===Xee){const i=e;i.size=0,i.map=void 0,i.readCount=0,i.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const ox=-1,PU=new DataView(new ArrayBuffer(0)),$9e=new Uint8Array(PU.buffer);try{PU.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const LV=new RangeError("Insufficient data"),Z9e=new K9e;class S2{constructor(e){this.totalPos=0,this.pos=0,this.view=PU,this.bytes=$9e,this.headByte=ox,this.stack=new J9e,this.entered=!1,this.extensionCodec=e?.extensionCodec??xI.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.rawStrings=e?.rawStrings??!1,this.maxStrLength=e?.maxStrLength??sx,this.maxBinLength=e?.maxBinLength??sx,this.maxArrayLength=e?.maxArrayLength??sx,this.maxMapLength=e?.maxMapLength??sx,this.maxExtLength=e?.maxExtLength??sx,this.keyDecoder=e?.keyDecoder!==void 0?e.keyDecoder:Z9e,this.mapKeyConverter=e?.mapKeyConverter??Y9e}clone(){return new S2({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=ox,this.stack.reset()}setBuffer(e){const n=OV(e);this.bytes=n,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===ox&&!this.hasRemaining(1))this.setBuffer(e);else{const n=this.bytes.subarray(this.pos),i=OV(e),r=new Uint8Array(n.length+i.length);r.set(n),r.set(i,n.length),this.setBuffer(r)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:n,pos:i}=this;return new RangeError(`Extra ${n.byteLength-i} of ${n.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let n=!1,i;for await(const o of e){if(n)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(o);try{i=this.doDecodeSync(),n=!0}catch(l){if(!(l instanceof RangeError))throw l}this.totalPos+=this.pos}if(n){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return i}const{headByte:r,pos:a,totalPos:s}=this;throw new RangeError(`Insufficient data in parsing ${V8(r)} at ${s} (${a} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,n){if(this.entered){yield*this.clone().decodeMultiAsync(e,n);return}try{this.entered=!0;let i=n,r=-1;for await(const a of e){if(n&&r===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(a),i&&(r=this.readArraySize(),i=!1,this.complete());try{for(;yield this.doDecodeSync(),--r!==0;);}catch(s){if(!(s instanceof RangeError))throw s}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let n;if(e>=224)n=e-256;else if(e<192)if(e<128)n=e;else if(e<144){const r=e-128;if(r!==0){this.pushMapState(r),this.complete();continue e}else n={}}else if(e<160){const r=e-144;if(r!==0){this.pushArrayState(r),this.complete();continue e}else n=[]}else{const r=e-160;n=this.decodeString(r,0)}else if(e===192)n=null;else if(e===194)n=!1;else if(e===195)n=!0;else if(e===202)n=this.readF32();else if(e===203)n=this.readF64();else if(e===204)n=this.readU8();else if(e===205)n=this.readU16();else if(e===206)n=this.readU32();else if(e===207)this.useBigInt64?n=this.readU64AsBigInt():n=this.readU64();else if(e===208)n=this.readI8();else if(e===209)n=this.readI16();else if(e===210)n=this.readI32();else if(e===211)this.useBigInt64?n=this.readI64AsBigInt():n=this.readI64();else if(e===217){const r=this.lookU8();n=this.decodeString(r,1)}else if(e===218){const r=this.lookU16();n=this.decodeString(r,2)}else if(e===219){const r=this.lookU32();n=this.decodeString(r,4)}else if(e===220){const r=this.readU16();if(r!==0){this.pushArrayState(r),this.complete();continue e}else n=[]}else if(e===221){const r=this.readU32();if(r!==0){this.pushArrayState(r),this.complete();continue e}else n=[]}else if(e===222){const r=this.readU16();if(r!==0){this.pushMapState(r),this.complete();continue e}else n={}}else if(e===223){const r=this.readU32();if(r!==0){this.pushMapState(r),this.complete();continue e}else n={}}else if(e===196){const r=this.lookU8();n=this.decodeBinary(r,1)}else if(e===197){const r=this.lookU16();n=this.decodeBinary(r,2)}else if(e===198){const r=this.lookU32();n=this.decodeBinary(r,4)}else if(e===212)n=this.decodeExtension(1,0);else if(e===213)n=this.decodeExtension(2,0);else if(e===214)n=this.decodeExtension(4,0);else if(e===215)n=this.decodeExtension(8,0);else if(e===216)n=this.decodeExtension(16,0);else if(e===199){const r=this.lookU8();n=this.decodeExtension(r,1)}else if(e===200){const r=this.lookU16();n=this.decodeExtension(r,2)}else if(e===201){const r=this.lookU32();n=this.decodeExtension(r,4)}else throw new al(`Unrecognized type byte: ${V8(e)}`);this.complete();const i=this.stack;for(;i.length>0;){const r=i.top();if(r.type===_I)if(r.array[r.position]=n,r.position++,r.position===r.size)n=r.array,i.release(r);else continue e;else if(r.type===i1){if(n==="__proto__")throw new al("The key __proto__ is not allowed");r.key=this.mapKeyConverter(n),r.type=Xee;continue e}else if(r.map[r.key]=n,r.readCount++,r.readCount===r.size)n=r.map,i.release(r);else{r.key=null,r.type=i1;continue e}}return n}}readHeadByte(){return this.headByte===ox&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=ox}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new al(`Unrecognized array type byte: ${V8(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new al(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new al(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,n){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,n):this.decodeBinary(e,n)}decodeUtf8String(e,n){if(e>this.maxStrLength)throw new al(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+n+e)throw LV;const i=this.pos+n;let r;return this.stateIsMapKey()&&this.keyDecoder?.canBeCached(e)?r=this.keyDecoder.decode(this.bytes,i,e):r=I9e(this.bytes,i,e),this.pos+=n+e,r}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===i1:!1}decodeBinary(e,n){if(e>this.maxBinLength)throw new al(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+n))throw LV;const i=this.pos+n,r=this.bytes.subarray(i,i+e);return this.pos+=n+e,r}decodeExtension(e,n){if(e>this.maxExtLength)throw new al(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const i=this.view.getInt8(this.pos+n),r=this.decodeBinary(e,n+1);return this.extensionCodec.decode(r,i,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=L9e(this.view,this.pos);return this.pos+=8,e}readI64(){const e=qee(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}}function Q9e(t,e){return new S2(e).decode(t)}function e4e(t){return t[Symbol.asyncIterator]!=null}async function*t4e(t){const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)return;yield i}}finally{e.releaseLock()}}function n4e(t){return e4e(t)?t:t4e(t)}async function i4e(t,e){const n=n4e(t);return new S2(e).decodeAsync(n)}var PV={},r4e=function(t,e,n,i,r){var a=new Worker(PV[e]||(PV[e]=URL.createObjectURL(new Blob([t+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return a.onmessage=function(s){var o=s.data,l=o.$e$;if(l){var c=new Error(l[0]);c.code=l[1],c.stack=l[2],r(c,null)}else r(null,o)},a.postMessage(n,i),a},lo=Uint8Array,pm=Uint16Array,Kee=Int32Array,UU=new lo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),FU=new lo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Yee=new lo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Jee=function(t,e){for(var n=new pm(31),i=0;i<31;++i)n[i]=e+=1<<t[i-1];for(var r=new Kee(n[30]),i=1;i<30;++i)for(var a=n[i];a<n[i+1];++a)r[a]=a-n[i]<<5|i;return{b:n,r}},$ee=Jee(UU,2),zU=$ee.b,a4e=$ee.r;zU[28]=258,a4e[258]=28;var s4e=Jee(FU,0),Zee=s4e.b,aT=new pm(32768);for(var Ir=0;Ir<32768;++Ir){var $h=(Ir&43690)>>1|(Ir&21845)<<1;$h=($h&52428)>>2|($h&13107)<<2,$h=($h&61680)>>4|($h&3855)<<4,aT[Ir]=(($h&65280)>>8|($h&255)<<8)>>1}var A0=function(t,e,n){for(var i=t.length,r=0,a=new pm(e);r<i;++r)t[r]&&++a[t[r]-1];var s=new pm(e);for(r=1;r<e;++r)s[r]=s[r-1]+a[r-1]<<1;var o;if(n){o=new pm(1<<e);var l=15-e;for(r=0;r<i;++r)if(t[r])for(var c=r<<4|t[r],u=e-t[r],f=s[t[r]-1]++<<u,h=f|(1<<u)-1;f<=h;++f)o[aT[f]>>l]=c}else for(o=new pm(i),r=0;r<i;++r)t[r]&&(o[r]=aT[s[t[r]-1]++]>>15-t[r]);return o},W_=new lo(288);for(var Ir=0;Ir<144;++Ir)W_[Ir]=8;for(var Ir=144;Ir<256;++Ir)W_[Ir]=9;for(var Ir=256;Ir<280;++Ir)W_[Ir]=7;for(var Ir=280;Ir<288;++Ir)W_[Ir]=8;var Qee=new lo(32);for(var Ir=0;Ir<32;++Ir)Qee[Ir]=5;var ete=A0(W_,9,1),tte=A0(Qee,5,1),QE=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},Bl=function(t,e,n){var i=e/8|0;return(t[i]|t[i+1]<<8)>>(e&7)&n},eM=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},nte=function(t){return(t+7)/8|0},ite=function(t,e,n){return(e==null||e<0)&&(e=0),(n==null||n>t.length)&&(n=t.length),new lo(t.subarray(e,n))},rte=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Wa=function(t,e,n){var i=new Error(e||rte[t]);if(i.code=t,Error.captureStackTrace&&Error.captureStackTrace(i,Wa),!n)throw i;return i},w2=function(t,e,n,i){var r=t.length,a=i?i.length:0;if(!r||e.f&&!e.l)return n||new lo(0);var s=!n,o=s||e.i!=2,l=e.i;s&&(n=new lo(r*3));var c=function(ct){var Tt=n.length;if(ct>Tt){var he=new lo(Math.max(Tt*2,ct));he.set(n),n=he}},u=e.f||0,f=e.p||0,h=e.b||0,d=e.l,b=e.d,y=e.m,v=e.n,m=r*8;do{if(!d){u=Bl(t,f,1);var x=Bl(t,f+1,3);if(f+=3,x)if(x==1)d=ete,b=tte,y=9,v=5;else if(x==2){var w=Bl(t,f,31)+257,T=Bl(t,f+10,15)+4,k=w+Bl(t,f+5,31)+1;f+=14;for(var N=new lo(k),D=new lo(19),P=0;P<T;++P)D[Yee[P]]=Bl(t,f+P*3,7);f+=T*3;for(var B=QE(D),G=(1<<B)-1,H=A0(D,B,1),P=0;P<k;){var V=H[Bl(t,f,G)];f+=V&15;var _=V>>4;if(_<16)N[P++]=_;else{var U=0,F=0;for(_==16?(F=3+Bl(t,f,3),f+=2,U=N[P-1]):_==17?(F=3+Bl(t,f,7),f+=3):_==18&&(F=11+Bl(t,f,127),f+=7);F--;)N[P++]=U}}var q=N.subarray(0,w),X=N.subarray(w);y=QE(q),v=QE(X),d=A0(q,y,1),b=A0(X,v,1)}else Wa(1);else{var _=nte(f)+4,E=t[_-4]|t[_-3]<<8,A=_+E;if(A>r){l&&Wa(0);break}o&&c(h+E),n.set(t.subarray(_,A),h),e.b=h+=E,e.p=f=A*8,e.f=u;continue}if(f>m){l&&Wa(0);break}}o&&c(h+131072);for(var z=(1<<y)-1,oe=(1<<v)-1,fe=f;;fe=f){var U=d[eM(t,f)&z],K=U>>4;if(f+=U&15,f>m){l&&Wa(0);break}if(U||Wa(2),K<256)n[h++]=K;else if(K==256){fe=f,d=null;break}else{var Me=K-254;if(K>264){var P=K-257,_e=UU[P];Me=Bl(t,f,(1<<_e)-1)+zU[P],f+=_e}var pe=b[eM(t,f)&oe],xe=pe>>4;pe||Wa(3),f+=pe&15;var X=Zee[xe];if(xe>3){var _e=FU[xe];X+=eM(t,f)&(1<<_e)-1,f+=_e}if(f>m){l&&Wa(0);break}o&&c(h+131072);var Oe=h+Me;if(h<X){var Ge=a-X,Ye=Math.min(X,Oe);for(Ge+h<0&&Wa(3);h<Ye;++h)n[h]=i[Ge+h]}for(;h<Oe;++h)n[h]=n[h-X]}}e.l=d,e.p=fe,e.b=h,e.f=u,d&&(u=1,e.m=y,e.d=b,e.n=v)}while(!u);return h!=n.length&&s?ite(n,0,h):n.subarray(0,h)},o4e=new lo(0),l4e=function(t,e){var n={};for(var i in t)n[i]=t[i];for(var i in e)n[i]=e[i];return n},UV=function(t,e,n){for(var i=t(),r=t.toString(),a=r.slice(r.indexOf("[")+1,r.lastIndexOf("]")).replace(/\s+/g,"").split(","),s=0;s<i.length;++s){var o=i[s],l=a[s];if(typeof o=="function"){e+=";"+l+"=";var c=o.toString();if(o.prototype)if(c.indexOf("[native code]")!=-1){var u=c.indexOf(" ",8)+1;e+=c.slice(u,c.indexOf("(",u))}else{e+=c;for(var f in o.prototype)e+=";"+l+".prototype."+f+"="+o.prototype[f].toString()}else e+=c}else n[l]=o}return e},SE=[],c4e=function(t){var e=[];for(var n in t)t[n].buffer&&e.push((t[n]=new t[n].constructor(t[n])).buffer);return e},u4e=function(t,e,n,i){if(!SE[n]){for(var r="",a={},s=t.length-1,o=0;o<s;++o)r=UV(t[o],r,a);SE[n]={c:UV(t[s],r,a),e:a}}var l=l4e({},SE[n].e);return r4e(SE[n].c+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+e.toString()+"}",n,l,c4e(l),i)},jU=function(){return[lo,pm,Kee,UU,FU,Yee,zU,Zee,ete,tte,aT,rte,A0,QE,Bl,eM,nte,ite,Wa,w2,lte,E2,BU]},f4e=function(){return[ate,ste]},h4e=function(){return[ote]},E2=function(t){return postMessage(t,[t.buffer])},BU=function(t){return t&&{out:t.size&&new lo(t.size),dictionary:t.dictionary}},HU=function(t,e,n,i,r,a){var s=u4e(n,i,r,function(o,l){s.terminate(),a(o,l)});return s.postMessage([t,e],e.consume?[t.buffer]:[]),function(){s.terminate()}},ate=function(t){(t[0]!=31||t[1]!=139||t[2]!=8)&&Wa(6,"invalid gzip data");var e=t[3],n=10;e&4&&(n+=(t[10]|t[11]<<8)+2);for(var i=(e>>3&1)+(e>>4&1);i>0;i-=!t[n++]);return n+(e&2)},ste=function(t){var e=t.length;return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0},ote=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Wa(6,"invalid zlib data"),(t[1]>>5&1)==+!e&&Wa(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function d4e(t,e,n){return n||(n=e,e={}),typeof n!="function"&&Wa(7),HU(t,e,[jU],function(i){return E2(lte(i.data[0],BU(i.data[1])))},1,n)}function lte(t,e){return w2(t,{i:2},e&&e.out,e&&e.dictionary)}function p4e(t,e,n){return n||(n=e,e={}),typeof n!="function"&&Wa(7),HU(t,e,[jU,f4e,function(){return[FV]}],function(i){return E2(FV(i.data[0],i.data[1]))},3,n)}function FV(t,e){var n=ate(t);return n+8>t.length&&Wa(6,"invalid gzip data"),w2(t.subarray(n,-8),{i:2},e&&e.out||new lo(ste(t)),e&&e.dictionary)}function m4e(t,e,n){return n||(n=e,e={}),typeof n!="function"&&Wa(7),HU(t,e,[jU,h4e,function(){return[zV]}],function(i){return E2(zV(i.data[0],BU(i.data[1])))},5,n)}function zV(t,e){return w2(t.subarray(ote(t,e&&e.dictionary),-4),{i:2},e&&e.out,e&&e.dictionary)}function g4e(t,e,n){return n||(n=e,e={}),typeof n!="function"&&Wa(7),t[0]==31&&t[1]==139&&t[2]==8?p4e(t,e,n):(t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31?d4e(t,e,n):m4e(t,e,n)}var b4e=typeof TextDecoder<"u"&&new TextDecoder,y4e=0;try{b4e.decode(o4e,{stream:!0}),y4e=1}catch{}async function v4e(t,e){const n=await fetch(t);if(!n.ok)throw new Error(`Failed to fetch the file: ${n.statusText}`);return new Promise(i=>{const r=parseInt(n.headers.get("Content-Length"));if(typeof DecompressionStream>"u")console.log("DecompressionStream is unavailable. Using fallback."),e({downloaded:.1*r,total:r}),n.arrayBuffer().then(a=>{e({downloaded:.8*r,total:r}),g4e(new Uint8Array(a),(s,o)=>{e({downloaded:1*r,total:r}),i(Q9e(o))})});else{let a=0;const s=new TransformStream({transform(o,l){a+=o.length,e({downloaded:a,total:r}),l.enqueue(o)}});i4e(n.body.pipeThrough(s).pipeThrough(new DecompressionStream("gzip"))).then(o=>i(o))}})}function x4e({fileUrl:t}){const e=I.useContext(xi),n=e.mutable.current,i=e.useGui(_=>_.theme.dark_mode),[r,a]=I.useState({downloaded:0,total:0}),[s,o]=I.useState("1x"),[l,c]=I.useState(!1),[u,f]=I.useState(null);function h(){const _=e.useSceneTree.getState();Object.keys(_).forEach(E=>{if(E==="")return;const A=_[E],w=A?.message;w!==void 0&&(w.type!=="FrameMessage"||w.props.show_axes)?e.sceneTreeActions.updateNodeAttributes(E,{visibility:!1,wxyz:[1,0,0,0],position:[0,0,0]}):A!==void 0&&e.sceneTreeActions.updateNodeAttributes(E,{wxyz:[1,0,0,0],position:[0,0,0]})})}const[d,b]=I.useState(0),y=ma();I.useEffect(()=>{v4e(t,a).then(_=>{console.log("File loaded! Saved with Viser version:",_.viserVersion),f(_)})},[]);const v=I.useRef({currentTime:0,currentIndex:0}),m=I.useCallback(()=>{if(u===null)return;const _=v.current;for(_.currentIndex==0&&h();_.currentIndex<u.messages.length&&u.messages[_.currentIndex][0]<=_.currentTime;_.currentIndex++){const E=u.messages[_.currentIndex][1];n.messageQueue.push(E)}_.currentTime>=u.durationSeconds&&(_.currentIndex=0,_.currentTime=u.messages[0][0]),b(_.currentTime)},[u]);I.useEffect(()=>{const _=parseFloat(s);if(u!==null&&!l){let E=Date.now();const A=setInterval(()=>{const w=Date.now();v.current.currentTime+=(w-E)/1e3*_,E=w,m(),v.current.currentIndex===u.messages.length&&u.durationSeconds===0&&clearInterval(A)},1e3/120);return()=>clearInterval(A)}},[m,u,l,s,n.messageQueue,b]),I.useEffect(()=>{function _(E){E.code==="Space"&&c(!l)}return window.addEventListener("keydown",_),()=>{window.removeEventListener("keydown",_)}},[l]);const x=I.useCallback(_=>{_<v.current.currentTime&&(h(),v.current.currentIndex=0),v.current.currentTime=_,b(_),c(!0),m()},[u]);return u===null?C.jsx("div",{style:{position:"fixed",zIndex:1,top:0,bottom:0,left:0,right:0,backgroundColor:i?y.colors.dark[9]:"#fff"},children:C.jsx(Zu,{value:r.downloaded/r.total*100,radius:0,transitionDuration:0})}):C.jsxs(xs,{radius:"xs",shadow:"0.1em 0 1em 0 rgba(0,0,0,0.1)",style:{position:"fixed",bottom:"1em",left:"50%",transform:"translateX(-50%)",width:"25em",maxWidth:"95%",zIndex:1,padding:"0.5em",display:u.durationSeconds===0?"none":"flex",alignItems:"center",justifyContent:"space-between",gap:"0.375em"},children:[C.jsx(_l,{size:"md",variant:"subtle",onClick:()=>c(!l),children:l?C.jsx(_Ae,{height:"1.125em",width:"1.125em"}):C.jsx(vAe,{height:"1.125em",width:"1.125em"})}),C.jsx(rg,{size:"xs",hideControls:!0,value:d.toFixed(1),step:.01,styles:{wrapper:{width:"3.1em"},input:{padding:"0.2em",fontFamily:y.fontFamilyMonospace,textAlign:"center"}},onChange:_=>x(typeof _=="number"?_:parseFloat(_))}),C.jsx(aC,{thumbSize:0,radius:"xs",step:1e-4,style:{flexGrow:1},min:0,max:u.durationSeconds,value:d,onChange:x,styles:{thumb:{display:"none"}}}),C.jsx(Tr,{zIndex:10,label:"Playback speed",withinPortal:!0,children:C.jsx(Dy,{size:"xs",value:s,onChange:_=>_===null?null:o(_),radius:"xs",data:["0.5x","1x","2x","4x","8x"],styles:{wrapper:{width:"3.25em"}},comboboxProps:{zIndex:5,width:"5.25em"}})})]})}var jV=function(t,e,n){if(n||arguments.length===2)for(var i=0,r=e.length,a;i<r;i++)(a||!(i in e))&&(a||(a=Array.prototype.slice.call(e,0,i)),a[i]=e[i]);return t.concat(a||Array.prototype.slice.call(e))},_4e=function(){function t(e,n,i){this.name=e,this.version=n,this.os=i,this.type="browser"}return t}(),S4e=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),w4e=function(){function t(e,n,i,r){this.name=e,this.version=n,this.os=i,this.bot=r,this.type="bot-device"}return t}(),E4e=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),M4e=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),A4e=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,T4e=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,BV=3,C4e=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",A4e]],HV=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function R4e(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new M4e:typeof navigator<"u"?D4e(navigator.userAgent):I4e()}function k4e(t){return t!==""&&C4e.reduce(function(e,n){var i=n[0],r=n[1];if(e)return e;var a=r.exec(t);return!!a&&[i,a]},!1)}function D4e(t){var e=k4e(t);if(!e)return null;var n=e[0],i=e[1];if(n==="searchbot")return new E4e;var r=i[1]&&i[1].split(".").join("_").split("_").slice(0,3);r?r.length<BV&&(r=jV(jV([],r,!0),O4e(BV-r.length),!0)):r=[];var a=r.join("."),s=N4e(t),o=T4e.exec(t);return o&&o[1]?new w4e(n,a,s,o[1]):new _4e(n,a,s)}function N4e(t){for(var e=0,n=HV.length;e<n;e++){var i=HV[e],r=i[0],a=i[1],s=a.exec(t);if(s)return r}return null}function I4e(){var t=typeof process<"u"&&process.version;return t?new S4e(process.version.slice(1)):null}function O4e(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}function L4e(){return I.useEffect(()=>{const t=R4e();if(t===null||t.version===null)console.log("Failed to detect browser"),ms.show({title:"Could not detect browser version",message:"Your browser version could not be detected. It may not be supported.",autoClose:!1,color:"red"});else{const e=parseFloat(t.version);console.log(`Detected ${t.name} version ${e}`),(t.name==="chrome"&&e<91||t.name==="edge"&&e<91||t.name==="firefox"&&e<89||t.name==="opera"&&e<77||t.name==="safari"&&e<16.4)&&ms.show({title:"Unsuppported browser",message:`Your browser (${t.name.slice(0,1).toUpperCase()+t.name.slice(1)}/${t.version}) is outdated, which may cause problems. Consider updating.`,autoClose:!1,color:"red"})}}),null}function VV({children:t,title:e,width:n,height:i,fill:r=!1}){return C.jsxs("div",{style:{width:r?"100vw":`${n}px`,height:r?"100vh":`${i}px`,borderRadius:"10px",overflow:"hidden",border:"1px solid rgba(0,0,0,0.2)",backgroundColor:"white",transform:"translateX(-50%) translateY(-50%)",top:"50%",left:"50%",position:"absolute"},children:[C.jsxs("div",{style:{height:"36px",backgroundColor:"#f6f6f6",borderBottom:"1px solid rgba(0,0,0,0.075)",display:"flex",alignItems:"center",paddingLeft:"12px",gap:"8px"},children:[C.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:"#ff5f57"}}),C.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:"#febc2e"}}),C.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:"#28c840"}}),C.jsx("div",{style:{position:"absolute",left:"50%",transform:"translateX(-50%)",color:"#000",opacity:.4,fontSize:"14px",fontFamily:"-apple-system, BlinkMacSystemFont, sans-serif",fontWeight:500},children:e})]}),C.jsx("div",{style:{height:"calc(100% - 36px)"},children:t})]})}const P4e="1.0.8",GV=[{login:"brentyi",html_url:"https://github.com/brentyi"},{login:"chungmin99",html_url:"https://github.com/chungmin99"},{login:"kerrj",html_url:"https://github.com/kerrj"},{login:"tancik",html_url:"https://github.com/tancik"},{login:"jonahbedouch",html_url:"https://github.com/jonahbedouch"},{login:"hangg7",html_url:"https://github.com/hangg7"},{login:"BrianSantoso",html_url:"https://github.com/BrianSantoso"},{login:"origamiman72",html_url:"https://github.com/origamiman72"},{login:"ginazhouhuiwu",html_url:"https://github.com/ginazhouhuiwu"},{login:"sea-bass",html_url:"https://github.com/sea-bass"},{login:"ethanweber",html_url:"https://github.com/ethanweber"},{login:"jkulhanek",html_url:"https://github.com/jkulhanek"},{login:"AdamRashid96",html_url:"https://github.com/AdamRashid96"},{login:"vye16",html_url:"https://github.com/vye16"},{login:"beckyfeng08",html_url:"https://github.com/beckyfeng08"},{login:"zerolover",html_url:"https://github.com/zerolover"},{login:"slecleach",html_url:"https://github.com/slecleach"},{login:"pritzza",html_url:"https://github.com/pritzza"},{login:"yzslab",html_url:"https://github.com/yzslab"},{login:"kikislater",html_url:"https://github.com/kikislater"},{login:"simonbethke",html_url:"https://github.com/simonbethke"},{login:"MosesEbere",html_url:"https://github.com/MosesEbere"},{login:"nlml",html_url:"https://github.com/nlml"},{login:"kdexd",html_url:"https://github.com/kdexd"},{login:"ojh6404",html_url:"https://github.com/ojh6404"},{login:"hongsukchoi",html_url:"https://github.com/hongsukchoi"},{login:"mcallisterdavid",html_url:"https://github.com/mcallisterdavid"},{login:"cvachha",html_url:"https://github.com/cvachha"},{login:"ArthurAllshire",html_url:"https://github.com/ArthurAllshire"},{login:"escontra",html_url:"https://github.com/escontra"},{login:"alberthli",html_url:"https://github.com/alberthli"},{login:"atonderski",html_url:"https://github.com/atonderski"}];function SI(t,e){const n=new yt;return n.x=2*((e[0]+.5)/t.mutable.current.canvas.clientWidth)-1,n.y=1-2*((e[1]+.5)/t.mutable.current.canvas.clientHeight),n.x<1&&n.x>-1&&n.y<1&&n.y>-1?n:null}function wI(t,e){const n=new yt;return n.x=(e[0]+.5)/t.mutable.current.canvas.clientWidth,n.y=(e[1]+.5)/t.mutable.current.canvas.clientHeight,n}const U4e=()=>{let t=window.location.href;return t=t.replace("http://","ws://"),t=t.replace("https://","wss://"),t=t.split("?")[0],t.endsWith("/")&&(t=t.slice(0,-1)),t},F4e=()=>ca(()=>null,1e3);function z4e(){const t=new URLSearchParams(window.location.search),e=t.get("dummyWindowDimensions"),n=t.get("dummyWindowTitle")??"localhost:8080",i=C.jsx("div",{style:{width:"100%",height:"100%",position:"relative",display:"flex",flexDirection:"column"},children:C.jsx(j4e,{})});if(!e)return i;if(e==="fill")return C.jsx(VV,{title:n,width:window.innerWidth,height:window.innerHeight,fill:!0,children:i});const[r,a]=e.split("x").map(Number);return isNaN(r)||isNaN(a)?i:C.jsx(VV,{title:n,width:r,height:a,children:i})}function j4e(){const t=new URLSearchParams(window.location.search).getAll(ZE),e=t.length>=1?t[0]:U4e(),n=new URLSearchParams(window.location.search),i=n.get("playbackPath"),r=n.get("darkMode")!==null,a=i===null?"websocket":"file_playback",s={},o=ke.useRef({sendMessage:i==null?h=>console.log(`Tried to send ${h.type} but websocket is not connected!`):()=>null,sendCamera:null,resetCameraView:null,canvas:null,canvas2d:null,scene:null,camera:null,backgroundMaterial:null,cameraControl:null,nodeRefFromName:s,messageQueue:[],getRenderRequestState:"ready",getRenderRequest:null,scenePointerInfo:{enabled:!1,dragStart:[0,0],dragEnd:[0,0],isDragging:!1},skinnedMeshState:{},hoveredElementsCount:0}),l=y9e(o.current.nodeRefFromName),c=v9e(),u=x9e(),f={messageSource:a,useSceneTree:l.store,sceneTreeActions:l.actions,useEnvironment:c,useGui:s9e(e),useDevSettings:u,mutable:o};return r&&(f.useGui.getState().theme.dark_mode=r),C.jsx(xi.Provider,{value:f,children:C.jsxs(B4e,{children:[a==="websocket"&&C.jsx(c9e,{}),a==="file_playback"&&C.jsx(x4e,{fileUrl:i})]})})}function B4e({children:t}){const e=ke.useContext(xi),n=e.useGui(u=>u.theme.dark_mode),i=e.useGui(u=>u.theme.colors),r=e.useGui(u=>u.theme.control_layout),a=e.useGui(u=>u.theme.show_logo),s=e.useDevSettings(u=>u.showStats),{messageSource:o}=e,l=I.useMemo(()=>({...Gee,...i===null?{}:{colors:{custom:i},primaryColor:"custom"}}),[i]),c=I.useMemo(()=>C.jsxs(C.Fragment,{children:[C.jsx(Y4e,{}),C.jsx(G4e,{children:C.jsx(C9e,{})})]}),[]);return C.jsx(C.Fragment,{children:C.jsxs(yq,{theme:l,defaultColorScheme:n?"dark":"light",colorSchemeManager:{get:u=>u,set:()=>null,subscribe:()=>null,unsubscribe:()=>null,clear:()=>null},children:[t,C.jsx(H4e,{darkMode:n}),C.jsx(V4e,{}),C.jsx(L4e,{}),C.jsx(m9e,{}),C.jsxs(et,{style:{width:"100%",height:"100%",display:"flex",position:"relative",flexDirection:"column"},children:[C.jsx(p9e,{}),C.jsxs(et,{style:{width:"100%",position:"relative",flexGrow:1,overflow:"hidden",display:"flex"},children:[C.jsxs(et,{style:u=>({backgroundColor:n?u.colors.dark[9]:"#fff",flexGrow:1,overflow:"hidden",height:"100%"}),children:[c,a&&o==="websocket"&&C.jsx(Z4e,{})]}),o==="websocket"&&C.jsx(AUe,{control_layout:r})]})]}),s&&C.jsx(Kwe,{className:"stats-panel"})]})})}function H4e(t){const e=ng();return I.useEffect(()=>{e.setColorScheme(t.darkMode?"dark":"light")},[t.darkMode]),null}function V4e(){return C.jsx(bh,{position:"top-left",limit:10,containerWidth:"20em",withinPortal:!1,styles:{root:{boxShadow:"0.1em 0 1em 0 rgba(0,0,0,0.1) !important",position:"absolute",top:"1em",left:"1em",pointerEvents:"none"},notification:{pointerEvents:"all"}}})}function G4e({children:t}){const e=ke.useContext(xi),n=YC(20).send,i=ma(),{ref:r,inView:a}=ase(),s=I.useMemo(()=>C.jsx(PEe,{}),[]),o=h=>{const{mutable:d}=e,b=d.current.scenePointerInfo;if(b.enabled===!1)return;const y=d.current.canvas.getBoundingClientRect();if(b.dragStart=[h.clientX-y.left,h.clientY-y.top],b.dragEnd=b.dragStart,SI(e,b.dragEnd)===null||b.isDragging)return;b.isDragging=!0,d.current.cameraControl.enabled=!1;const v=d.current.canvas2d.getContext("2d");v.clearRect(0,0,v.canvas.width,v.canvas.height)},l=h=>{const{mutable:d}=e,b=d.current.scenePointerInfo;if(b.enabled===!1||!b.isDragging)return;const y=d.current.canvas.getBoundingClientRect(),v=[h.clientX-y.left,h.clientY-y.top];if(SI(e,v)!==null&&(b.dragEnd=v,!(Math.abs(b.dragEnd[0]-b.dragStart[0])<=3&&Math.abs(b.dragEnd[1]-b.dragStart[1])<=3)&&b.enabled==="rect-select")){const m=d.current.canvas2d.getContext("2d");m.clearRect(0,0,m.canvas.width,m.canvas.height),m.beginPath(),m.fillStyle=i.primaryColor,m.strokeStyle="blue",m.globalAlpha=.2,m.fillRect(b.dragStart[0],b.dragStart[1],b.dragEnd[0]-b.dragStart[0],b.dragEnd[1]-b.dragStart[1]),m.globalAlpha=1,m.stroke()}},c=()=>{const{mutable:h}=e,d=h.current.scenePointerInfo;if(h.current.cameraControl.enabled=!0,d.enabled===!1||!d.isDragging)return;const b=h.current.canvas2d.getContext("2d");b.clearRect(0,0,b.canvas.width,b.canvas.height),d.enabled==="click"?W4e(e,d.dragEnd,n):d.enabled==="rect-select"&&q4e(e,d,n),d.isDragging=!1},u=e.useDevSettings(h=>h.fixedDpr),f=ke.useMemo(()=>C.jsxs(C.Fragment,{children:[C.jsx(J4e,{}),C.jsx($4e,{}),s,C.jsxs(nMe,{children:[C.jsx(K4e,{}),t,C.jsx(dee,{name:""})]}),C.jsx(X4e,{})]}),[t,s]);return C.jsx("div",{ref:r,style:{position:"relative",zIndex:0,width:"100%",height:"100%"},children:C.jsxs(pSe,{camera:{position:[-3,3,-3],near:.01,far:1e3},gl:{preserveDrawingBuffer:!0},style:{width:"100%",height:"100%"},ref:h=>e.mutable.current.canvas=h,onPointerDown:o,onPointerMove:l,onPointerUp:c,shadows:!0,dpr:u??void 0,children:[!a&&C.jsx(F4e,{}),f]})})}function W4e(t,e,n){const i=new T_,r=SI(t,e);if(r===null)return;i.setFromCamera(r,t.mutable.current.camera);const a=j$(t,i.ray),s=wI(t,e);n({type:"ScenePointerMessage",event_type:"click",ray_origin:[a.origin.x,a.origin.y,a.origin.z],ray_direction:[a.direction.x,a.direction.y,a.direction.z],screen_pos:[[s.x,s.y]]})}function q4e(t,e,n){const i=wI(t,e.dragStart),r=wI(t,e.dragEnd),a=Math.min(i.x,r.x),s=Math.max(i.x,r.x),o=Math.min(i.y,r.y),l=Math.max(i.y,r.y);n({type:"ScenePointerMessage",event_type:"rect-select",ray_origin:null,ray_direction:null,screen_pos:[[a,o],[s,l]]})}function X4e(){const t=ke.useContext(xi),e=t.useEnvironment(s=>s.enableDefaultLights),n=t.useEnvironment(s=>s.enableDefaultLightsShadows),i=t.useEnvironment(s=>s.environmentMap),r=t.useSceneTree(s=>s[""]?.wxyz??[1,0,0,0]),a=I.useMemo(()=>{if(i.hdri===null)return null;const s={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},o=new Hn(r[1],r[2],r[3],r[0]),l=o.clone().invert(),c=new li().setFromQuaternion(new Hn(i.background_wxyz[1],i.background_wxyz[2],i.background_wxyz[3],i.background_wxyz[0]).premultiply(o).multiply(l)),u=new li().setFromQuaternion(new Hn(i.environment_wxyz[1],i.environment_wxyz[2],i.environment_wxyz[3],i.environment_wxyz[0]).premultiply(o).multiply(l));return C.jsx(pEe,{files:`hdri/${s[i.hdri]}`,background:i.background,backgroundBlurriness:i.background_blurriness,backgroundIntensity:i.background_intensity,backgroundRotation:c,environmentIntensity:i.environment_intensity,environmentRotation:u})},[i,r]);return e?C.jsxs(C.Fragment,{children:[C.jsx(sI,{fade:!0,lightIntensity:3,position:[-.2,1,-.2],cascades:3,color:16777215,maxFar:20,mode:"practical",shadowBias:-1e-4,castShadow:n}),C.jsx(sI,{color:16777215,lightIntensity:.4,position:[0,-1,0],castShadow:!1}),a]}):a}function K4e(){const t=ke.useContext(xi),e=mi(i=>i.setDpr);return t.useDevSettings(i=>i.fixedDpr)!==null?null:C.jsx(gEe,{factor:1,step:.2,bounds:i=>{const r=Math.min(i*.75,85);return[Math.max(r*.5,38),r]},onChange:({factor:i,fps:r,refreshrate:a})=>{const s=window.devicePixelRatio*(.2+.8*i);console.log(`[Performance] Setting DPR to ${s}; FPS=${r}/${a}`),e(s)}})}function Y4e(){const t=ke.useContext(xi);return I.useEffect(()=>{const e=t.mutable.current.canvas2d,n=new ResizeObserver(i=>{const{width:r,height:a}=i[0].contentRect;e.width=r,e.height=a});return n.observe(e),()=>n.disconnect()},[]),C.jsx("canvas",{ref:e=>t.mutable.current.canvas2d=e,style:{position:"absolute",zIndex:1,width:"100%",height:"100%",pointerEvents:"none"}})}function J4e(){const t=I.useMemo(()=>({vert:`
    varying vec2 vUv;
    void main() {
      vUv = uv;
      gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
    }
    `,frag:`
    #include <packing>
    precision highp float;
    precision highp int;

    varying vec2 vUv;
    uniform sampler2D colorMap;
    uniform sampler2D depthMap;
    uniform float cameraNear;
    uniform float cameraFar;
    uniform bool enabled;
    uniform bool hasDepth;

    float readDepth(sampler2D depthMap, vec2 coord) {
      vec4 rgbPacked = texture(depthMap, coord);
      // Important: BGR format, because buffer was encoded using OpenCV.
      float depth = rgbPacked.b * 0.00255 + rgbPacked.g * 0.6528 + rgbPacked.r * 167.1168;
      return depth;
    }

    void main() {
      if (!enabled) {
        discard;
      }
      vec4 color = texture(colorMap, vUv);
      gl_FragColor = vec4(color.rgb, 1.0);

      float bufDepth;
      if(hasDepth){
        float depth = readDepth(depthMap, vUv);
        bufDepth = viewZToPerspectiveDepth(-depth, cameraNear, cameraFar);
      } else {
        bufDepth = 1.0;
      }
      gl_FragDepth = bufDepth;
    }
    `}),[]),e=I.useMemo(()=>new Za({fragmentShader:t.frag,vertexShader:t.vert,uniforms:{enabled:{value:!1},depthMap:{value:null},colorMap:{value:null},cameraNear:{value:null},cameraFar:{value:null},hasDepth:{value:!1}}}),[t]),{mutable:n}=ke.useContext(xi);n.current.backgroundMaterial=e;const i=ke.useRef(null);return ca(({camera:r})=>{if(!(r instanceof Xr)){console.error("Camera is not a perspective camera, cannot render background image.");return}const a=i.current,s=r.getWorldDirection(new Q);a.position.copy(r.position).addScaledVector(s,1),a.quaternion.copy(r.quaternion);const o=r.getFocalLength();a.scale.set(r.getFilmWidth()/o,r.getFilmHeight()/o,1),e.uniforms.cameraNear.value=r.near,e.uniforms.cameraFar.value=r.far}),C.jsx("mesh",{ref:i,material:e,children:C.jsx("planeGeometry",{attach:"geometry",args:[1,1]})})}function $4e(){const{mutable:t}=ke.useContext(xi);return t.current.scene=mi(e=>e.scene),t.current.camera=mi(e=>e.camera),null}function Z4e(){const[t,{open:e,close:n}]=uc(!1);return C.jsxs(C.Fragment,{children:[C.jsx(Tr,{label:`Viser ${P4e}`,children:C.jsx(et,{style:{position:"absolute",bottom:"1em",left:"1em",cursor:"pointer"},component:"a",onClick:e,title:"About Viser",children:C.jsx(g_,{src:"./logo.svg",style:{width:"2.5em",height:"auto"}})})}),C.jsxs(mo,{opened:t,onClose:n,withCloseButton:!1,size:"xl",style:{textAlign:"center"},trapFocus:!1,children:[C.jsx(et,{pt:"lg",pb:"xs",children:"Viser is a 3D visualization toolkit developed at UC Berkeley."}),C.jsxs(et,{pb:"lg",children:[C.jsx(wm,{href:"https://viser.studio/main",target:"_blank",style:{fontWeight:"600"},children:"Documentation"}),"",C.jsx(wm,{href:"https://github.com/nerfstudio-project/viser",target:"_blank",style:{fontWeight:"600"},children:"GitHub"})]}),C.jsx(ig,{}),C.jsxs(et,{style:{textAlign:"left",maxHeight:"120px",overflowY:"auto",lineHeight:"1",fontSize:"0.8rem",opacity:"0.75"},px:"md",pt:"sm",children:["Thanks to our contributors!"," ",GV.map((i,r)=>C.jsxs("span",{children:[C.jsx(wm,{href:i.html_url,target:"_blank",style:{textDecoration:"none",fontSize:"0.75rem"},children:i.login}),r<GV.length-1&&", "]},i.login))]})]})]})}e9e();Qae.createRoot(document.getElementById("root")).render(C.jsx(z4e,{}));
